var __BUNDLE_START_TIME__=this.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=this.process||{};process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(r){"use strict";r.__r=o,r.__d=function(r,i,n){if(null!=e[i])return;var o={dependencyMap:n,factory:r,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};e[i]=o},r.__c=n,r.__registerSegment=function(r,e){s[r]=e};var e=n(),t={},i={}.hasOwnProperty;function n(){return e=Object.create(null)}function o(r){var t=r,i=e[t];return i&&i.isInitialized?i.publicModule.exports:d(t,i)}function l(r){var i=r;if(e[i]&&e[i].importedDefault!==t)return e[i].importedDefault;var n=o(i),l=n&&n.__esModule?n.default:n;return e[i].importedDefault=l}function u(r){var n=r;if(e[n]&&e[n].importedAll!==t)return e[n].importedAll;var l,u=o(n);if(u&&u.__esModule)l=u;else{if(l={},u)for(var a in u)i.call(u,a)&&(l[a]=u[a]);l.default=u}return e[n].importedAll=l}o.importDefault=l,o.importAll=u;var a=!1;function d(e,t){if(!a&&r.ErrorUtils){var i;a=!0;try{i=v(e,t)}catch(e){r.ErrorUtils.reportFatalError(e)}return a=!1,i}return v(e,t)}var c=16,f=65535;function p(r){return{segmentId:r>>>c,localId:r&f}}o.unpackModuleId=p,o.packModuleId=function(r){return(r.segmentId<<c)+r.localId};var s=[];function v(t,i){if(!i&&s.length>0){var n=p(t),a=n.segmentId,d=n.localId,c=s[a];null!=c&&(c(d),i=e[t])}var f=r.nativeRequire;if(!i&&f){var v=p(t),h=v.segmentId;f(v.localId,h),i=e[t]}if(!i)throw Error('Requiring unknown module "'+t+'".');if(i.hasError)throw m(t,i.error);i.isInitialized=!0;var I=i,g=I.factory,y=I.dependencyMap;try{var _=i.publicModule;return _.id=t,g(r,o,l,u,_,_.exports,y),i.factory=void 0,i.dependencyMap=void 0,_.exports}catch(r){throw i.hasError=!0,i.error=r,i.isInitialized=!1,i.publicModule.exports=void 0,r}}function m(r,e){return Error('Requiring module "'+r+'", which threw an exception: '+e)}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return"[TOO BIG formatValueCalls "+n.formatValueCalls+" exceeded limit of 200]";var f=t(n,r);if(f)return f;var c=Object.keys(r),s=e(c);if(d(r)&&(c.indexOf('message')>=0||c.indexOf('description')>=0))return o(r);if(0===c.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,b,m='',j=!1,O=['{','}'];(h=r,Array.isArray(h)&&(j=!0,O=['[',']']),v(r))&&(m=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(m=' '+RegExp.prototype.toString.call(r)),y(r)&&(m=' '+Date.prototype.toUTCString.call(r)),d(r)&&(m=' '+o(r)),0!==c.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),b=j?i(n,r,u,s,c):c.map(function(e){return l(n,r,u,s,e,j)}),n.seen.pop(),a(b,m,O)):O[0]+m+O[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return c(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):f(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],a=0,u=e.length;a<u;++a)b(e,String(a))?i.push(l(n,e,r,t,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,r,t,o,!0))}),i}function l(n,e,t,o,i,l){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):c.set&&(u=n.stylize('[Setter]','special')),b(o,i)||(a='['+i+']'),u||(n.seen.indexOf(c.value)<0?(u=f(t)?r(n,c.value,null):r(n,c.value,t-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').substr(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,r){return n.reduce(function(n,e){return 0,e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function f(n){return null===n}function c(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function b(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t={trace:0,info:1,warn:2,error:3},o=[];o[t.trace]='debug',o[t.info]='log',o[t.warn]='warning',o[t.error]='error';var i=1;function l(r){return function(){var l;l=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var a=arguments[0],u=r;'string'==typeof a&&'Warning: '===a.slice(0,9)&&u>=t.error&&(u=t.warn),n.__inspectorLog&&n.__inspectorLog(o[u],l,[].slice.call(arguments),i),s.length&&(l=p('',l)),n.nativeLoggingHook(l,u)}}function a(n,e){return Array.apply(null,Array(e)).map(function(){return n})}var u="\u2502",f="\u2510",c="\u2518",s=[];function p(n,e){return s.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){n.console;n.console={error:l(t.error),info:l(t.info),log:l(t.info),warn:l(t.warn),trace:l(t.trace),debug:l(t.trace),table:function(e){if(!Array.isArray(e)){var o=e;for(var i in e=[],o)if(o.hasOwnProperty(i)){var l=o[i];l[r]=i,e.push(l)}}if(0!==e.length){var u=Object.keys(e[0]).sort(),f=[],c=[];u.forEach(function(n,r){c[r]=n.length;for(var t=0;t<e.length;t++){var o=(e[t][n]||'?').toString();f[t]=f[t]||[],f[t][r]=o,c[r]=Math.max(c[r],o.length)}});for(var s=y(c.map(function(n){return a('-',n).join('')}),'-'),p=[y(u),s],g=0;g<e.length;g++)p.push(y(f[g]));n.nativeLoggingHook('\n'+p.join('\n'),t.info)}else n.nativeLoggingHook('',t.info);function y(n,e){var r=n.map(function(n,e){return n+a(' ',c[e]-n.length).join('')});return e=e||' ',r.join(e+'|'+e)}},group:function(e){n.nativeLoggingHook(p(f,e),t.info),s.push(u)},groupEnd:function(){s.pop(),n.nativeLoggingHook(p(c),t.info)},groupCollapsed:function(e){n.nativeLoggingHook(p(c,e),t.info),s.push(u)},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,t.error)}},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){function g(){}var y=n.print||g;n.console={debug:y,error:y,info:y,log:y,trace:y,warn:y,assert:function(n,e){n||y('Assertion failed: '+e)},clear:g,dir:g,dirxml:g,group:g,groupCollapsed:g,groupEnd:g,profile:g,profileEnd:g,table:g},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,o,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var o=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,o)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window,(function(){'use strict';var e=Object.prototype.hasOwnProperty;'function'!=typeof Object.entries&&(Object.entries=function(n){if(null==n)throw new TypeError('Object.entries called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push([t,n[t]]);return o}),'function'!=typeof Object.values&&(Object.values=function(n){if(null==n)throw new TypeError('Object.values called on non-object');var o=[];for(var t in n)e.call(n,t)&&o.push(n[t]);return o})})();
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);r(d[1]);var t=r(d[2]),o=(n(r(d[3])),n(r(d[4]))),u=r(d[5]);t.AppRegistry.registerComponent(u.name,function(){return o.default})},0,[1,2,5,59,519,727]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return n&&n.__esModule?n:{default:n}}},1,[]);
__d(function(g,r,i,a,m,e,d){r(d[0]),r(d[1]),r(d[2]),r(d[3])},2,[3,4,473,518]);
__d(function(g,r,i,a,m,e,d){var _;void 0===(_=g||window||this).__filename&&(_.__filename='__filename')},3,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=t(r(d[2]));r(d[3]);var s=t(r(d[4]));function c(t,n){return t===n?t:(o=Object.getPrototypeOf(t))&&(o=c(n,o))||(o=Object.getPrototypeOf(n))&&(o=c(t,o))?o:void 0;var o}function l(t,n){var o=null;return t&&u(t,function(t){return 1===t.nodeType&&t.nodeName===n&&(o=t,!0)}),o}function u(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(u(t,n))return!0}while(t=t.nextSibling);return!1}!(function(t){var u=r(d[5]).DOMParser;if(t.DOMParser=u,void 0===t.addEventListener&&(t.addEventListener=function(){}),void 0===t.removeEventListener&&(t.removeEventListener=function(){}),void 0===t.document){var f=(new u).parseFromString('<html><head></head><body></body></html>','text/xml');void 0===f.addEventListener&&(f.addEventListener=function(){}),void 0===f.cookie&&(f.cookie=''),void 0===f.implementation.createHTMLDocument&&(f.implementation.createHTMLDocument=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'',n=(new u).parseFromString("<html>\n                            <head><title>"+t+"</title></head>\n                            <body></body>\n                        </html>",'text/xml');return Object.defineProperty(n,'body',{get:function(){return n.getElementsByTagName('body')[0]}}),n});var v=Object.getPrototypeOf(f.documentElement);v&&(void 0===v.querySelector&&(v.querySelector=function(t){return l(this,t)}),void 0===v.remove&&(v.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)}),void 0===v.compareDocumentPosition&&(v.compareDocumentPosition=function(t){return this.contains?(this!=t&&this.contains(t)&&16)+(this!=t&&t.contains(this)&&8)+(this.sourceIndex>=0&&t.sourceIndex>=0?(this.sourceIndex<t.sourceIndex&&4)+(this.sourceIndex>t.sourceIndex&&2):1)+0:0}),v.hasOwnProperty('innerHTML')||Object.defineProperty(v,'innerHTML',{get:function(){return this.childNodes.toString()},set:function(t){this.textContent='';for(var n,o=(new u).parseFromString("<div>"+t+"</div>",'text/xml').documentElement;n=o.firstChild;)this.appendChild(n)}}),v.hasOwnProperty('children')||Object.defineProperty(v,'children',{get:function(){for(var t=this.childNodes,n=[],o=0,s=t[o];s;)1===s.nodeType&&n.push(s),s=t[o+=1];return n}}));var h=c(Object.getPrototypeOf(f),v);if(h&&h!==Object.getPrototypeOf({})){var p=t.console;if(p){var y=r(d[6]).levels;Object.keys(y).forEach(function(t){var n=y[t],o=p[n];'function'==typeof o&&(p[n]=function(){for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];if(p.disableYellowBox&&'error'===n)p.warn.apply(p,s);else{for(var l=s.length,u=0;u<l;++u){var f=s[u];if(f&&'string'!=typeof f&&h.isPrototypeOf(f)){var v=f.toString;v&&(f=v.call(f))}s[u]=f}o.apply(this,s)}})})}}t.document=f}void 0===t.location&&(t.location={href:'',search:''});var O=t.navigator;if(O){var b=O.userAgent||'',x=r(d[7]),P=x.name,w=x.version,S=P||'react-native';w&&(S+="/"+w),-1===b.indexOf(S)&&(b=b?S+" "+b:S);var L="("+n.Platform.OS+" "+n.Platform.Version+")";-1===b.indexOf(L)&&(b=b?b+" "+L:L),O.userAgent=b}if(r(d[8]),r(d[9]),t.callstats=r(d[10]),t.XMLHttpRequest){var T=t.XMLHttpRequest.prototype;T&&!T.hasOwnProperty('responseXML')&&Object.defineProperty(T,'responseXML',{get:function(){var t=this.responseText;return t&&(new u).parseFromString(t,'text/xml')}})}'android'===n.Platform.OS&&(t.clearTimeout=o.default.clearTimeout.bind(o.default),t.clearInterval=o.default.clearInterval.bind(o.default),t.setInterval=o.default.setInterval.bind(o.default),t.setTimeout=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.setTimeout(t,n)}),void 0===t.localStorage&&(t.localStorage=new s.default('@jitsi-meet/')),void 0===t.sessionStorage&&(t.sessionStorage=new s.default)})(g||window||this)},4,[1,5,403,404,424,429,432,435,436,469,472]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var t=r(d[1]);m.exports={get AccessibilityInfo(){return r(d[2])},get ActivityIndicator(){return r(d[3])},get Button(){return r(d[4])},get CheckBox(){return t('checkBox-moved',"CheckBox has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/checkbox' instead of 'react-native'. See https://github.com/react-native-community/react-native-checkbox"),r(d[5])},get DatePickerIOS(){return t('DatePickerIOS-merged',"DatePickerIOS has been merged with DatePickerAndroid and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-community/datetimepicker"),r(d[6])},get DrawerLayoutAndroid(){return r(d[7])},get FlatList(){return r(d[8])},get Image(){return r(d[9])},get ImageBackground(){return r(d[10])},get InputAccessoryView(){return r(d[11])},get KeyboardAvoidingView(){return r(d[12])},get MaskedViewIOS(){return t('maskedviewios-moved',"MaskedViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/masked-view' instead of 'react-native'. See https://github.com/react-native-community/react-native-masked-view"),r(d[13])},get Modal(){return r(d[14])},get Picker(){return t('picker-moved',"Picker has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/picker' instead of 'react-native'. See https://github.com/react-native-community/react-native-picker"),r(d[15])},get PickerIOS(){return t('pickerios-moved',"PickerIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/picker' instead of 'react-native'. See https://github.com/react-native-community/react-native-picker"),r(d[16])},get Pressable(){return r(d[17]).default},get ProgressBarAndroid(){return t('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-community/progress-bar-android"),r(d[18])},get ProgressViewIOS(){return t('progress-view-ios-moved',"ProgressViewIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-view' instead of 'react-native'. See https://github.com/react-native-community/progress-view"),r(d[19])},get SafeAreaView(){return r(d[20])},get ScrollView(){return r(d[21])},get SectionList(){return r(d[22])},get SegmentedControlIOS(){return t('segmented-control-ios-moved',"SegmentedControlIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/segmented-control' instead of 'react-native'. See https://github.com/react-native-community/segmented-control"),r(d[23])},get Slider(){return t('slider-moved',"Slider has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/slider' instead of 'react-native'. See https://github.com/react-native-community/react-native-slider"),r(d[24])},get Switch(){return r(d[25])},get RefreshControl(){return r(d[26])},get StatusBar(){return r(d[27])},get Text(){return r(d[28])},get TextInput(){return r(d[29])},get Touchable(){return r(d[30])},get TouchableHighlight(){return r(d[31])},get TouchableNativeFeedback(){return r(d[32])},get TouchableOpacity(){return r(d[33])},get TouchableWithoutFeedback(){return r(d[34])},get View(){return r(d[35])},get VirtualizedList(){return r(d[36])},get VirtualizedSectionList(){return r(d[37])},get ActionSheetIOS(){return r(d[38])},get Alert(){return r(d[39])},get Animated(){return r(d[40])},get Appearance(){return r(d[41])},get AppRegistry(){return r(d[42])},get AppState(){return r(d[43])},get AsyncStorage(){return t('async-storage-moved',"AsyncStorage has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/async-storage' instead of 'react-native'. See https://github.com/react-native-community/async-storage"),r(d[44])},get BackHandler(){return r(d[45])},get Clipboard(){return t('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/clipboard' instead of 'react-native'. See https://github.com/react-native-community/clipboard"),r(d[46])},get DatePickerAndroid(){return t('DatePickerAndroid-merged',"DatePickerAndroid has been merged with DatePickerIOS and will be removed in a future release. It can now be installed and imported from '@react-native-community/datetimepicker' instead of 'react-native'. See https://github.com/react-native-community/datetimepicker"),r(d[47])},get DeviceInfo(){return r(d[48])},get DevSettings(){return r(d[49])},get Dimensions(){return r(d[50])},get Easing(){return r(d[51])},get findNodeHandle(){return r(d[52]).findNodeHandle},get I18nManager(){return r(d[53])},get ImagePickerIOS(){return t('imagePickerIOS-moved',"ImagePickerIOS has been extracted from react-native core and will be removed in a future release. Please upgrade to use either '@react-native-community/react-native-image-picker' or 'expo-image-picker'. If you cannot upgrade to a different library, please install the deprecated '@react-native-community/image-picker-ios' package. See https://github.com/react-native-community/react-native-image-picker-ios"),r(d[54])},get InteractionManager(){return r(d[55])},get Keyboard(){return r(d[56])},get LayoutAnimation(){return r(d[57])},get Linking(){return r(d[58])},get LogBox(){return r(d[59])},get NativeDialogManagerAndroid(){return r(d[60]).default},get NativeEventEmitter(){return r(d[61])},get Networking(){return r(d[62])},get PanResponder(){return r(d[63])},get PermissionsAndroid(){return r(d[64])},get PixelRatio(){return r(d[65])},get PushNotificationIOS(){return t('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-community/push-notification-ios"),r(d[66])},get Settings(){return r(d[67])},get Share(){return r(d[68])},get StatusBarIOS(){return t('StatusBarIOS-merged','StatusBarIOS has been merged with StatusBar and will be removed in a future release. Use StatusBar for mutating the status bar'),r(d[69])},get StyleSheet(){return r(d[70])},get Systrace(){return r(d[71])},get ToastAndroid(){return r(d[72])},get TurboModuleRegistry(){return r(d[73])},get TVEventHandler(){return r(d[74])},get UIManager(){return r(d[75])},get unstable_batchedUpdates(){return r(d[52]).unstable_batchedUpdates},get useColorScheme(){return r(d[76]).default},get useWindowDimensions(){return r(d[77]).default},get UTFSequence(){return r(d[78])},get Vibration(){return r(d[79])},get YellowBox(){return r(d[80])},get DeviceEventEmitter(){return r(d[81])},get NativeAppEventEmitter(){return r(d[82])},get NativeModules(){return r(d[83])},get Platform(){return r(d[84])},get processColor(){return r(d[85])},get PlatformColor(){return r(d[86]).PlatformColor},get DynamicColorIOS(){return r(d[87]).DynamicColorIOS},get ColorAndroid(){return r(d[88]).ColorAndroid},get requireNativeComponent(){return r(d[89])},get unstable_RootTagContext(){return r(d[90])},get unstable_enableLogBox(){return function(){return console.warn('LogBox is enabled by default so there is no need to call unstable_enableLogBox() anymore. This is a no op and will be removed in the next version.')}},get ColorPropType(){return r(d[91])},get EdgeInsetsPropType(){return r(d[92])},get PointPropType(){return r(d[93])},get ViewPropTypes(){return r(d[94])}}},5,[6,7,10,56,206,305,307,308,264,291,313,314,316,317,319,325,329,330,203,333,334,271,301,335,336,338,268,310,207,341,213,344,224,230,343,86,265,302,345,159,231,347,350,364,367,360,369,371,373,374,64,259,89,323,376,240,281,283,378,380,160,145,143,381,383,63,385,387,388,390,62,32,391,14,217,48,393,396,113,397,399,36,169,15,53,80,70,400,401,180,322,68,209,402,295]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o,t,f,s,u,c,l){if(!n){var v;if(void 0===o)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[t,f,s,u,c,l],h=0;(v=new Error(o.replace(/%s/g,function(){return p[h++]}))).name='Invariant Violation'}throw v.framesToPop=1,v}}},6,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={};m.exports=function(c,o){n[c]||(t(!1,o),n[c]=!0)}},7,[8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},8,[9]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},m.exports=n},9,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]),s=r(d[3]),o=new Map,c={isBoldTextEnabled:function(){return Promise.resolve(!1)},isGrayscaleEnabled:function(){return Promise.resolve(!1)},isInvertColorsEnabled:function(){return Promise.resolve(!1)},isReduceMotionEnabled:function(){return new Promise(function(t,s){n.default?n.default.isReduceMotionEnabled(t):s(!1)})},isReduceTransparencyEnabled:function(){return Promise.resolve(!1)},isScreenReaderEnabled:function(){return new Promise(function(t,s){n.default?n.default.isTouchExplorationEnabled(t):s(!1)})},get fetch(){return console.warn('AccessibilityInfo.fetch is deprecated, call AccessibilityInfo.isScreenReaderEnabled instead'),this.isScreenReaderEnabled},addEventListener:function(n,s){var c;'change'===n||'screenReaderChanged'===n?c=t.addListener("touchExplorationDidChange",function(n){s(n)}):'reduceMotionChanged'===n&&(c=t.addListener("reduceMotionDidChange",function(n){s(n)})),o.set(s,c)},removeEventListener:function(n,t){var s=o.get(t);s&&(s.remove(),o.delete(t))},setAccessibilityFocus:function(n){s.sendAccessibilityEvent(n,s.getConstants().AccessibilityEventTypes.typeViewFocused)},announceForAccessibility:function(t){n.default&&n.default.announceForAccessibility(t)}};m.exports=c},10,[1,11,36,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('AccessibilityInfo');e.default=u},11,[12,14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}m.exports=function(o){if(o&&o.__esModule)return o;if(null===o||"object"!==t(o)&&"function"!=typeof o)return{default:o};var u=n();if(u&&u.has(o))return u.get(o);var f={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p)){var l=c?Object.getOwnPropertyDescriptor(o,p):null;l&&(l.get||l.set)?Object.defineProperty(f,p,l):f[p]=o[p]}return f.default=o,u&&u.set(o,f),f}},12,[13]);
__d(function(g,r,i,a,m,e,d){function o(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?m.exports=o=function(o){return typeof o}:m.exports=o=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}m.exports=o},13,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=o,e.getEnforcing=function(n){var u=o(n);return(0,t.default)(null!=u,"TurboModuleRegistry.getEnforcing(...): '"+n+"' could not be found. Verify that a module by this name is registered in the native binary."),u};var t=n(r(d[1])),u=r(d[2]),l=g.__turboModuleProxy;function o(n){if(!g.RN$Bridgeless){var t=u[n];if(null!=t)return t}return null!=l?l(n):null}},14,[1,6,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);function l(o,l){if(!o)return null;var f=t(o,5),v=f[0],h=f[1],y=f[2],C=f[3],M=f[4];if(u(!v.startsWith('RCT')&&!v.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+v),!h&&!y)return{name:v};var b={};return y&&y.forEach(function(n,t){var o=C&&c(C,t),f=M&&c(M,t);u(!o||!f,'Cannot have a method that is both async and a sync hook');var v=o?'promise':f?'sync':'async';b[n]=s(l,t,v)}),n(b,h),null==b.getConstants?b.getConstants=function(){return h||Object.freeze({})}:console.warn("Unable to define method 'getConstants()' on NativeModule '"+v+"'. NativeModule '"+v+"' already has a constant or method called 'getConstants'. Please remove it."),{name:v,module:b}}function f(n,t){u(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var o=l(g.nativeRequireModuleConfig(n),t);return o&&o.module}function s(n,t,l){var f=null;return(f='promise'===l?function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=new Error;return new Promise(function(u,f){o.enqueueNativeCall(n,t,l,function(n){return u(n)},function(n){return f(v(n,s))})})}:function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];var v=s.length>0?s[s.length-1]:null,h=s.length>1?s[s.length-2]:null,y='function'==typeof v,C='function'==typeof h;C&&u(y,'Cannot have a non-function arg after a function arg.');var M=y?v:null,b=C?h:null,p=y+C;if(s=s.slice(0,s.length-p),'sync'===l)return o.callNativeSyncHook(n,t,s,b,M);o.enqueueNativeCall(n,t,s,b,M)}).type=l,f}function c(n,t){return-1!==n.indexOf(t)}function v(t,o){return n(o,t||{})}g.__fbGenNativeModule=l;var h={};if(g.nativeModuleProxy)h=g.nativeModuleProxy;else if(!g.nativeExtensions){var y=g.__fbBatchedBridgeConfig;u(y,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var C=r(d[4]);(y.remoteModuleConfig||[]).forEach(function(n,t){var o=l(n,t);o&&(o.module?h[o.name]=o.module:C(h,o.name,{get:function(){return f(o.name,t)}}))})}m.exports=h},15,[16,17,23,6,35]);
__d(function(g,r,i,a,m,e,d){function t(){return m.exports=t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(t[p]=o[p])}return t},t.apply(this,arguments)}m.exports=t},16,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);m.exports=function(c,f){return n(c)||t(c,f)||o(c,f)||u()}},17,[18,19,20,22]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(Array.isArray(n))return n}},18,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var o=[],l=!0,f=!1,u=void 0;try{for(var y,c=t[Symbol.iterator]();!(l=(y=c.next()).done)&&(o.push(y.value),!n||o.length!==n);l=!0);}catch(t){f=!0,u=t}finally{try{l||null==c.return||c.return()}finally{if(f)throw u}}return o}}},19,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){if(n){if("string"==typeof n)return t(n,o);var c=Object.prototype.toString.call(n).slice(8,-1);return"Object"===c&&n.constructor&&(c=n.constructor.name),"Map"===c||"Set"===c?Array.from(n):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?t(n,o):void 0}}},20,[21]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){(null==t||t>n.length)&&(t=n.length);for(var l=0,o=new Array(t);l<t;l++)o[l]=n[l];return o}},21,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},22,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},23,[24]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),u=r(d[2]),s=r(d[3]),n=r(d[4]),h=(r(d[5]),r(d[6])),o=r(d[7]).default,c=(r(d[8]),(function(){function c(){l(this,c),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._immediatesCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return u(c,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,u){var s=this;return this.__guard(function(){s.__callFunction(t,l,u)}),this.flushedQueue()}},{key:"callFunctionReturnResultAndFlushedQueue",value:function(t,l,u){}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var u=this;return this.__guard(function(){u.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callImmediates()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var u,s=l;this._lazyCallableModules[t]=function(){return s&&(u=s(),s=null),u}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,u,s,n){return this.processCallbacks(t,l,u,s,n),g.nativeCallSyncHook(t,l,u)}},{key:"processCallbacks",value:function(t,l,u,s,n){(s||n)&&(s&&u.push(this._callID<<1),n&&u.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,s)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,u,s,h){this.processCallbacks(t,l,u,s,h),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(u);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var c=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(c)}n.counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:u})}},{key:"createDebugLookup",value:function(t,l,u){}},{key:"setImmediatesCallback",value:function(t){this._immediatesCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){s.reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callImmediates",value:function(){n.beginEvent('JSTimers.callImmediates()'),null!=this._immediatesCallback&&this._immediatesCallback(),n.endEvent()}},{key:"__callFunction",value:function(t,l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?n.beginEvent(t+"."+l+"("+o(u)+")"):n.beginEvent(t+"."+l+"(...)"),this.__spy&&this.__spy({type:0,module:t,method:l,args:u});var s=this.getCallableModule(t);h(!!s,'Module %s is not a registered callable module (calling %s)',t,l),h(!!s[l],'Method %s does not exist on module %s',l,t),s[l].apply(s,u),n.endEvent()}},{key:"__invokeCallback",value:function(l,u){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var s=l>>>1,n=1&l?this._successCallbacks.get(s):this._failureCallbacks.get(s);n&&(this._successCallbacks.delete(s),this._failureCallbacks.delete(s),n.apply(void 0,t(u)))}}],[{key:"spy",value:function(t){c.prototype.__spy=!0===t?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+(t.module?t.module+'.':'')+t.method+"("+JSON.stringify(t.args)+")")}:!1===t?null:t}}]),c})());m.exports=c},24,[25,29,30,31,32,33,6,34,7]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);m.exports=function(c){return n(c)||t(c)||o(c)||u()}},25,[26,27,20,28]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);m.exports=function(t){if(Array.isArray(t))return n(t)}},26,[21]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}},27,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},28,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}},29,[]);
__d(function(g,r,i,a,m,e,d){function n(n,t){for(var o=0;o<t.length;o++){var u=t[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}m.exports=function(t,o,u){return o&&n(t.prototype,o),u&&n(t,u),t}},30,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},31,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=!1,t=0,c={installReactHook:function(){!0},setEnabled:function(t){n!==t&&(n=t)},isEnabled:function(){return n},beginEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceBeginSection(131072,t,c))},endEvent:function(){n&&g.nativeTraceEndSection(131072)},beginAsyncEvent:function(c){var o=t;return n&&(t++,c='function'==typeof c?c():c,g.nativeTraceBeginAsyncSection(131072,c,o)),o},endAsyncEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceEndAsyncSection(131072,t,c))},counterEvent:function(t,c){n&&(t='function'==typeof t?t():t,g.nativeTraceCounter&&g.nativeTraceCounter(131072,t,c))}};m.exports=c},32,[6]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},33,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createStringifySafeWithLimits=l,e.default=void 0;var n=t(r(d[1]));function o(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var f=0;return function(){return f>=t.length?{done:!0}:{done:!1,value:t[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function u(t,n){if(t){if("string"==typeof t)return f(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(t,n):void 0}}function f(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}function l(t){var u=t.maxDepth,f=void 0===u?Number.POSITIVE_INFINITY:u,l=t.maxStringLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,s=t.maxArrayLimit,y=void 0===s?Number.POSITIVE_INFINITY:s,h=t.maxObjectKeysLimit,v=void 0===h?Number.POSITIVE_INFINITY:h,b=[];function I(t,u){for(;b.length&&this!==b[0];)b.shift();if('string'==typeof u){return u.length>c+"...(truncated)...".length?u.substring(0,c)+"...(truncated)...":u}if('object'!=typeof u||null===u)return u;var l=u;if(Array.isArray(u))b.length>=f?l="[ ... array with "+u.length+" values ... ]":u.length>y&&(l=u.slice(0,y).concat(["... extra "+(u.length-y)+" values truncated ..."]));else{(0,n.default)('object'==typeof u,'This was already found earlier');var s=Object.keys(u);if(b.length>=f)l="{ ... object with "+s.length+" keys ... }";else if(s.length>v){l={};for(var h,I=o(s.slice(0,v));!(h=I()).done;){var p=h.value;l[p]=u[p]}l['...(truncated keys)...']=s.length-v}}return b.unshift(l),l}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var n=JSON.stringify(t,I);return void 0===n?'["'+typeof t+'" failed to stringify]':n}catch(n){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var c=l({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});e.default=c},34,[1,6]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},35,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),s=r(d[4]),u=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[6]),p=r(d[7]),h=(function(h){o(R,f);var v,y,b=(v=R,y=l(),function(){var t,n=u(v);if(y){var c=u(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return s(this,t)});function R(){var n;t(this,R);var c=new p;return(n=b.call(this,c)).sharedSubscriber=c,n}return n(R,[{key:"addListener",value:function(t,n,o){return c(u(R.prototype),"addListener",this).call(this,t,n,o)}},{key:"removeAllListeners",value:function(t){c(u(R.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){t.emitter!==this?t.emitter.removeSubscription(t):c(u(R.prototype),"removeSubscription",this).call(this,t)}}]),R})();m.exports=new h},36,[29,30,37,40,42,39,44,47]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function n(c,f,o){return"undefined"!=typeof Reflect&&Reflect.get?m.exports=n=Reflect.get:m.exports=n=function(n,c,f){var o=t(n,c);if(o){var u=Object.getOwnPropertyDescriptor(o,c);return u.get?u.get.call(f):u.value}},n(c,f,o||c)}m.exports=n},37,[38]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){for(;!Object.prototype.hasOwnProperty.call(n,o)&&null!==(n=t(n)););return n}},38,[39]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t(o)}m.exports=t},39,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),n&&t(o,n)}},40,[41]);
__d(function(g,r,i,a,m,e,d){function t(o,n){return m.exports=t=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},t(o,n)}m.exports=t},41,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);m.exports=function(o,c){return!c||"object"!==n(c)&&"function"!=typeof c?t(o):c}},42,[13,43]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}},43,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),o=r(d[4]),c=function(){return!0},b=(function(){function b(n){t(this,b),this._subscriber=n||new u}return n(b,[{key:"addListener",value:function(t,n,u){return this._subscriber.addSubscription(t,new s(this,this._subscriber,n,u))}},{key:"once",value:function(t,n,s){var u=this;return this.addListener(t,function(){u.removeCurrentListener();for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];n.apply(s,o)})}},{key:"removeAllListeners",value:function(t){this._subscriber.removeAllSubscriptions(t)}},{key:"removeCurrentListener",value:function(){o(!!this._currentSubscription,'Not in an emitting cycle; there is no current subscription'),this.removeSubscription(this._currentSubscription)}},{key:"removeSubscription",value:function(t){o(t.emitter===this,'Subscription does not belong to this emitter.'),this._subscriber.removeSubscription(t)}},{key:"listeners",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);return n?n.filter(c).map(function(t){return t.listener}):[]}},{key:"emit",value:function(t){var n=this._subscriber.getSubscriptionsForType(t);if(n){for(var s=0,u=n.length;s<u;s++){var o=n[s];o&&o.listener&&(this._currentSubscription=o,o.listener.apply(o.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}}},{key:"removeListener",value:function(t,n){var s=this._subscriber.getSubscriptionsForType(t);if(s)for(var u=0,o=s.length;u<o;u++){var c=s[u];c&&c.listener===n&&c.remove()}}}]),b})();m.exports=b},44,[29,30,45,47,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),u=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=r(d[5]),l=(function(l){c(y,s);var h,v,p=(h=y,v=f(),function(){var t,n=u(h);if(v){var c=u(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return o(this,t)});function y(n,c,o,u){var f;return t(this,y),(f=p.call(this,c)).emitter=n,f.listener=o,f.context=u,f}return n(y,[{key:"remove",value:function(){this.emitter.removeSubscription(this)}}]),y})();m.exports=l},45,[29,30,40,42,39,46]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=(function(){function n(s){t(this,n),this.subscriber=s}return s(n,[{key:"remove",value:function(){this.subscriber.removeSubscription(this)}}]),n})();m.exports=n},46,[29,30]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),n=r(d[2]),o=(function(){function o(){s(this,o),this._subscriptionsForType={},this._currentSubscription=null}return t(o,[{key:"addSubscription",value:function(s,t){n(t.subscriber===this,'The subscriber of the subscription is incorrectly set.'),this._subscriptionsForType[s]||(this._subscriptionsForType[s]=[]);var o=this._subscriptionsForType[s].length;return this._subscriptionsForType[s].push(t),t.eventType=s,t.key=o,t}},{key:"removeAllSubscriptions",value:function(s){void 0===s?this._subscriptionsForType={}:delete this._subscriptionsForType[s]}},{key:"removeSubscription",value:function(s){var t=s.eventType,n=s.key,o=this._subscriptionsForType[t];o&&delete o[n]}},{key:"getSubscriptionsForType",value:function(s){return this._subscriptionsForType[s]}}]),o})();m.exports=o},47,[29,30,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=!0===g.RN$Bridgeless?r(d[0]):r(d[1]);m.exports=s},48,[49,50]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getViewManagerConfig:function(n){return console.warn('Attempting to get config for view manager: '+n),'RCTVirtualText'===n?{}:null},getConstants:function(){return{}},getConstantsForViewManager:function(n){},getDefaultEventTypes:function(){return[]},playTouchSound:function(){},lazilyLoadView:function(n){},createView:function(n,t,o,u){},updateView:function(n,t,o){},focus:function(n){},blur:function(n){},findSubviewIn:function(n,t,o){},dispatchViewManagerCommand:function(n,t,o){},measure:function(n,t){},measureInWindow:function(n,t){},viewIsDescendantOf:function(n,t,o){},measureLayout:function(n,t,o,u){},measureLayoutRelativeToParent:function(n,t,o){},setJSResponder:function(n,t){},clearJSResponder:function(){},configureNextLayoutAnimation:function(n,t,o){},removeSubviewsFromContainerWithID:function(n){},replaceExistingNonRootView:function(n,t){},setChildren:function(n,t){},manageChildren:function(n,t,o,u,c,f){},setLayoutAnimationEnabledExperimental:function(n){},sendAccessibilityEvent:function(n,t){},showPopupMenu:function(n,t,o,u){},dismissPopupMenu:function(){}}},49,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2]));function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(t);n&&(f=f.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,f)}return o}function c(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?f(Object(c),!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var u=r(d[3]),s=(r(d[4]),r(d[5])),l=r(d[6]),w={},y=new Set,p={},v=!1;function O(){return v||(p=o.default.getConstants(),v=!0),p}var b=c(c({},o.default),{},{getConstants:function(){return O()},getViewManagerConfig:function(t){if(void 0===w[t]&&o.default.getConstantsForViewManager)try{w[t]=o.default.getConstantsForViewManager(t)}catch(n){w[t]=null}var n=w[t];if(n)return n;if(!g.nativeCallSyncHook)return n;if(o.default.lazilyLoadView&&!y.has(t)){var f=o.default.lazilyLoadView(t);y.add(t),f.viewConfig&&(O()[t]=f.viewConfig,C(t))}return w[t]}});function C(t){var n=O()[t];w[t]=n,n.Manager&&(l(n,'Constants',{get:function(){var t=u[n.Manager],o={};return t&&Object.keys(t).forEach(function(n){var f=t[n];'function'!=typeof f&&(o[n]=f)}),o}}),l(n,'Commands',{get:function(){var t=u[n.Manager],o={},f=0;return t&&Object.keys(t).forEach(function(n){'function'==typeof t[n]&&(o[n]=f++)}),o}}))}o.default.getViewManagerConfig=b.getViewManagerConfig,O().ViewManagerNames&&o.default.getConstants().ViewManagerNames.forEach(function(t){l(o.default,t,{get:function(){return o.default.getConstantsForViewManager(t)}})}),g.nativeCallSyncHook||Object.keys(O()).forEach(function(t){s.includes(t)||(w[t]||(w[t]=O()[t]),l(o.default,t,{get:function(){return console.warn("Accessing view manager configs directly off UIManager via UIManager['"+t+"'] is no longer supported. Use UIManager.getViewManagerConfig('"+t+"') instead."),b.getViewManagerConfig(t)}}))}),m.exports=b},50,[1,51,52,15,53,55,35]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,u){return t in n?Object.defineProperty(n,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[t]=u,n}},51,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('UIManager');e.default=n},52,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={__constants:null,OS:'android',get Version(){return this.constants.Version},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isTesting(){return!1},get isTV(){return'tv'===this.constants.uiMode},select:function(t){return'android'in t?t.android:'native'in t?t.native:t.default}};m.exports=n},53,[1,54]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('PlatformConstants');e.default=n},54,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dismissPopupMenu','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','playTouchSound','removeRootView','removeSubviewsFromContainerWithID','replaceExistingNonRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','showPopupMenu','updateView','viewIsDescendantOf','PopupMenu','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},55,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]);function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function c(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?s(Object(c),!0).forEach(function(o){n(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}r(d[3]);var l=r(d[4]),u=r(d[5]),y=r(d[6]),p=r(d[7]),f=l.forwardRef(function(n,s){var f,b,h=n.onLayout,j=n.style,w=n.size,v=o(n,["onLayout","style","size"]);switch(w){case'small':f=O.sizeSmall,b='small';break;case'large':f=O.sizeLarge,b='large';break;default:f={height:n.size,width:n.size}}var z=c(c({},v),{},{ref:s,style:f,size:b});return l.createElement(y,{onLayout:h,style:u.compose(O.container,j)},l.createElement(p,t({},z,{styleAttr:'Normal',indeterminate:!0})))});f.displayName='ActivityIndicator',f.defaultProps={animating:!0,color:null,hidesWhenStopped:!0,size:'small'};var O=u.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});m.exports=f},56,[16,51,57,53,59,62,86,203]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);m.exports=function(n,o){if(null==n)return{};var l,p,b=t(n,o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(p=0;p<c.length;p++)l=c[p],o.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(n,l)&&(b[l]=n[l])}return b}},57,[58]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){if(null==n)return{};var f,u,o={},c=Object.keys(n);for(u=0;u<c.length;u++)f=c[u],t.indexOf(f)>=0||(o[f]=n[f]);return o}},58,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},59,[60]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,u=n?Symbol.for("react.portal"):60106,f=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,p=n?Symbol.for("react.context"):60110,y=n?Symbol.for("react.forward_ref"):60112,v=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,_="function"==typeof Symbol&&Symbol.iterator;function S(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$={};function w(t,n,o){this.props=t,this.context=n,this.refs=$,this.updater=o||k}function C(){}function E(t,n,o){this.props=t,this.context=n,this.refs=$,this.updater=o||k}w.prototype.isReactComponent={},w.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(S(85));this.updater.enqueueSetState(this,t,n,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},C.prototype=w.prototype;var R=E.prototype=new C;R.constructor=E,t(R,w.prototype),R.isPureReactComponent=!0;var x={current:null},P=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function O(t,n,u){var f,c={},l=null,s=null;if(null!=n)for(f in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(l=""+n.key),n)P.call(n,f)&&!j.hasOwnProperty(f)&&(c[f]=n[f]);var p=arguments.length-2;if(1===p)c.children=u;else if(1<p){for(var y=Array(p),v=0;v<p;v++)y[v]=arguments[v+2];c.children=y}if(t&&t.defaultProps)for(f in p=t.defaultProps)void 0===c[f]&&(c[f]=p[f]);return{$$typeof:o,type:t,key:l,ref:s,props:c,_owner:x.current}}function A(t,n){return{$$typeof:o,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}function U(t){var n={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return n[t]})}var q=/\/+/g,F=[];function L(t,n,o,u){if(F.length){var f=F.pop();return f.result=t,f.keyPrefix=n,f.func=o,f.context=u,f.count=0,f}return{result:t,keyPrefix:n,func:o,context:u,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>F.length&&F.push(t)}function D(t,n,f,c){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var s=!1;if(null===t)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case u:s=!0}}if(s)return f(c,t,""===n?"."+B(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var p=0;p<t.length;p++){var y=n+B(l=t[p],p);s+=D(l,y,f,c)}else if(null===t||"object"!=typeof t?y=null:y="function"==typeof(y=_&&t[_]||t["@@iterator"])?y:null,"function"==typeof y)for(t=y.call(t),p=0;!(l=t.next()).done;)s+=D(l=l.value,y=n+B(l,p++),f,c);else if("object"===l)throw f=""+t,Error(S(31,"[object Object]"===f?"object with keys {"+Object.keys(t).join(", ")+"}":f,""));return s}function V(t,n,o){return null==t?0:D(t,"",n,o)}function B(t,n){return"object"==typeof t&&null!==t&&null!=t.key?U(t.key):n.toString(36)}function N(t,n){t.func.call(t.context,n,t.count++)}function T(t,n,o){var u=t.result,f=t.keyPrefix;t=t.func.call(t.context,n,t.count++),Array.isArray(t)?z(t,u,o,function(t){return t}):null!=t&&(I(t)&&(t=A(t,f+(!t.key||n&&n.key===t.key?"":(""+t.key).replace(q,"$&/")+"/")+o)),u.push(t))}function z(t,n,o,u,f){var c="";null!=o&&(c=(""+o).replace(q,"$&/")+"/"),V(t,T,n=L(n,c,u,f)),M(n)}var H={current:null};function W(){var t=H.current;if(null===t)throw Error(S(321));return t}var Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:function(t,n,o){if(null==t)return t;var u=[];return z(t,u,null,n,o),u},forEach:function(t,n,o){if(null==t)return t;V(t,N,n=L(null,null,n,o)),M(n)},count:function(t){return V(t,function(){return null},null)},toArray:function(t){var n=[];return z(t,n,null,function(t){return t}),n},only:function(t){if(!I(t))throw Error(S(143));return t}},e.Component=w,e.Fragment=f,e.Profiler=l,e.PureComponent=E,e.StrictMode=c,e.Suspense=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,e.cloneElement=function(n,u,f){if(null===n||void 0===n)throw Error(S(267,n));var c=t({},n.props),l=n.key,s=n.ref,p=n._owner;if(null!=u){if(void 0!==u.ref&&(s=u.ref,p=x.current),void 0!==u.key&&(l=""+u.key),n.type&&n.type.defaultProps)var y=n.type.defaultProps;for(v in u)P.call(u,v)&&!j.hasOwnProperty(v)&&(c[v]=void 0===u[v]&&void 0!==y?y[v]:u[v])}var v=arguments.length-2;if(1===v)c.children=f;else if(1<v){y=Array(v);for(var h=0;h<v;h++)y[h]=arguments[h+2];c.children=y}return{$$typeof:o,type:n.type,key:l,ref:s,props:c,_owner:p}},e.createContext=function(t,n){return void 0===n&&(n=null),(t={$$typeof:p,_calculateChangedBits:n,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=O,e.createFactory=function(t){var n=O.bind(null,t);return n.type=t,n},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:y,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:b,_ctor:t,_status:-1,_result:null}},e.memo=function(t,n){return{$$typeof:h,type:t,compare:void 0===n?null:n}},e.useCallback=function(t,n){return W().useCallback(t,n)},e.useContext=function(t,n){return W().useContext(t,n)},e.useDebugValue=function(){},e.useEffect=function(t,n){return W().useEffect(t,n)},e.useImperativeHandle=function(t,n,o){return W().useImperativeHandle(t,n,o)},e.useLayoutEffect=function(t,n){return W().useLayoutEffect(t,n)},e.useMemo=function(t,n){return W().useMemo(t,n)},e.useReducer=function(t,n,o){return W().useReducer(t,n,o)},e.useRef=function(t){return W().useRef(t)},e.useState=function(t){return W().useState(t)},e.version="16.13.1"},60,[61]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(t){if(null===t||void 0===t)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(t)}m.exports=(function(){try{if(!Object.assign)return!1;var n=new String('abc');if(n[5]='de','5'===Object.getOwnPropertyNames(n)[0])return!1;for(var o={},c=0;c<10;c++)o['_'+String.fromCharCode(c)]=c;if('0123456789'!==Object.getOwnPropertyNames(o).map(function(t){return o[t]}).join(''))return!1;var f={};return'abcdefghijklmnopqrst'.split('').forEach(function(t){f[t]=t}),'abcdefghijklmnopqrst'===Object.keys(t({},f)).join('')}catch(t){return!1}})()?Object.assign:function(t,u){for(var s,b,l=f(t),p=1;p<arguments.length;p++){for(var j in s=Object(arguments[p]))o.call(s,j)&&(l[j]=s[j]);if(n){b=n(s);for(var O=0;O<b.length;O++)c.call(s,b[O])&&(l[b[O]]=s[b[O]])}}return l}},61,[16]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function n(n){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?o(Object(l),!0).forEach(function(o){t(n,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var c=r(d[1]),l=r(d[2]),s=(r(d[3]),r(d[4])),u=c.roundToNearestPixel(.4);0===u&&(u=1/c.get());var b={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:u,absoluteFill:b,absoluteFillObject:b,compose:function(t,o){return null!=t&&null!=o?[t,o]:null!=t?t:o},flatten:s,setStyleAttributePreprocessor:function(t,o){var c;if(!0===l[t])c={};else{if('object'!=typeof l[t])return void console.error(t+" is not a valid style attribute");c=l[t]}l[t]=n(n({},c),{},{process:o})},create:function(t){return t}}},62,[51,63,66,84,85]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=(function(){function o(){t(this,o)}return n(o,null,[{key:"get",value:function(){return u.get('window').scale}},{key:"getFontScale",value:function(){return u.get('window').fontScale||o.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*o.get())}},{key:"roundToNearestPixel",value:function(t){var n=o.get();return Math.round(t*n)/n}},{key:"startDetecting",value:function(){}}]),o})();m.exports=o},63,[29,30,64]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),v=new l.default,h=!1,w=(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var s=t.screen,o=t.window,l=t.windowPhysicalPixels;l&&(o={width:l.width/l.scale,height:l.height/l.scale,scale:l.scale,fontScale:l.fontScale});var c=t.screenPhysicalPixels;c?s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale}:null==s&&(s=o),n={window:o,screen:s},h?v.emit('change',n):h=!0}},{key:"addEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to subscribe to unknown event: "%s"',n),v.addListener(n,t)}},{key:"removeEventListener",value:function(n,t){(0,f.default)('change'===n,'Trying to remove listener for unknown event: "%s"',n),v.removeListener(n,t)}}]),t})(),y=g.nativeExtensions&&g.nativeExtensions.DeviceInfo&&g.nativeExtensions.DeviceInfo.Dimensions;y||(c.default.addListener('didUpdateDimensions',function(n){w.set(n)}),y=u.default.getConstants().Dimensions),w.set(y),m.exports=w},64,[1,29,30,44,36,65,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1])).getEnforcing('DeviceInfo');e.default=f},65,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);t&&(c=c.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,c)}return n}function n(n){for(var c=1;c<arguments.length;c++){var l=null!=arguments[c]?arguments[c]:{};c%2?t(Object(l),!0).forEach(function(t){o(n,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(l,o))})}return n}for(var c=r(d[1]),l=r(d[2]),b=r(d[3]),s=r(d[4]),f=r(d[5]),p=r(d[6]),O={},u=0,y=Object.keys(n(n(n({},b),l),c));u<y.length;u++){O[y[u]]=!0}O.transform={process:f},O.shadowOffset={diff:p};var C={process:s};O.backgroundColor=C,O.borderBottomColor=C,O.borderColor=C,O.borderLeftColor=C,O.borderRightColor=C,O.borderTopColor=C,O.borderStartColor=C,O.borderEndColor=C,O.color=C,O.shadowColor=C,O.textDecorationColor=C,O.tintColor=C,O.textShadowColor=C,O.overlayColor=C,m.exports=O},66,[51,67,78,79,80,81,83]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function o(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);o&&(b=b.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,b)}return n}function n(n){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?o(Object(c),!0).forEach(function(o){t(n,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}var b=r(d[1]),c=r(d[2]),u=r(d[3]),s=r(d[4]),f=r(d[5]),p=n(n(n(n({},c),u),s),{},{resizeMode:f.oneOf(['center','contain','cover','repeat','stretch']),backfaceVisibility:f.oneOf(['visible','hidden']),backgroundColor:b,borderColor:b,borderWidth:f.number,borderRadius:f.number,overflow:f.oneOf(['visible','hidden']),tintColor:b,opacity:f.number,overlayColor:f.string,borderTopLeftRadius:f.number,borderTopRightRadius:f.number,borderBottomLeftRadius:f.number,borderBottomRightRadius:f.number});m.exports=p},67,[51,68,71,75,76,72]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),f=function(f,l,o,b,t,u){var s=l[o];return void 0===s||null===s?f?new Error('Required '+t+' `'+(u||o)+'` was not specified in `'+b+'`.'):void 0:'number'!=typeof s&&null===n(s)?new Error('Invalid '+t+' `'+(u||o)+'` supplied to `'+b+'`: '+s+"\nValid color formats are\n  - '#f0f' (#rgb)\n  - '#f0fc' (#rgba)\n  - '#ff00ff' (#rrggbb)\n  - '#ff00ff00' (#rrggbbaa)\n  - 'rgb(255, 255, 255)'\n  - 'rgba(255, 255, 255, 1.0)'\n  - 'hsl(360, 100%, 100%)'\n  - 'hsla(360, 100%, 100%, 1.0)'\n  - 'transparent'\n  - 'red'\n  - 0xff00ff00 (0xrrggbbaa)\n"):void 0},l=f.bind(null,!1);l.isRequired=f.bind(null,!0),m.exports=l},68,[69]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<.16666666666666666?l+6*(n-l)*o:o<.5?n:o<.6666666666666666?l+(n-l)*(.6666666666666666-o)*6:l}function n(n,o,t){var u=t<.5?t*(1+o):t+o-t*o,s=2*t-u,h=l(s,u,n+.3333333333333333),c=l(s,u,n),b=l(s,u,n-.3333333333333333);return Math.round(255*h)<<24|Math.round(255*c)<<16|Math.round(255*b)<<8}var o,t='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function s(){for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function h(l){var n=parseInt(l,10);return n<0?0:n>255?255:n}function c(l){return(parseFloat(l)%360+360)%360/360}function b(l){var n=parseFloat(l);return n<0?0:n>1?255:Math.round(255*n)}function p(l){var n=parseFloat(l);return n<0?0:n>100?1:n/100}var y={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};m.exports=function(l){var f,k=(void 0===o&&(o={rgb:new RegExp('rgb'+s(t,t,t)),rgba:new RegExp('rgba'+s(t,t,t,t)),hsl:new RegExp('hsl'+s(t,u,u)),hsla:new RegExp('hsla'+s(t,u,u,t)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),o);return'number'==typeof l?l>>>0===l&&l>=0&&l<=4294967295?l:null:'object'==typeof l&&null!=l&&null!=(0,r(d[0]).normalizeColorObject)(l)?l:'string'!=typeof l?null:(f=k.hex6.exec(l))?parseInt(f[1]+'ff',16)>>>0:y.hasOwnProperty(l)?y[l]:(f=k.rgb.exec(l))?(h(f[1])<<24|h(f[2])<<16|h(f[3])<<8|255)>>>0:(f=k.rgba.exec(l))?(h(f[1])<<24|h(f[2])<<16|h(f[3])<<8|b(f[4]))>>>0:(f=k.hex3.exec(l))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+'ff',16)>>>0:(f=k.hex8.exec(l))?parseInt(f[1],16)>>>0:(f=k.hex4.exec(l))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+f[4]+f[4],16)>>>0:(f=k.hsl.exec(l))?(255|n(c(f[1]),p(f[2]),p(f[3])))>>>0:(f=k.hsla.exec(l))?(n(c(f[1]),p(f[2]),p(f[3]))|b(f[4]))>>>0:null}},69,[70]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.ColorAndroidPrivate=e.PlatformColor=void 0;e.PlatformColor=function(){for(var o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return{resource_paths:t}};e.ColorAndroidPrivate=function(o){return{resource_paths:[o]}};e.normalizeColorObject=function(o){return'resource_paths'in o?o:null};e.processColorObject=function(o){return o}},70,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t={display:n.oneOf(['none','flex']),width:n.oneOfType([n.number,n.string]),height:n.oneOfType([n.number,n.string]),start:n.oneOfType([n.number,n.string]),end:n.oneOfType([n.number,n.string]),top:n.oneOfType([n.number,n.string]),left:n.oneOfType([n.number,n.string]),right:n.oneOfType([n.number,n.string]),bottom:n.oneOfType([n.number,n.string]),minWidth:n.oneOfType([n.number,n.string]),maxWidth:n.oneOfType([n.number,n.string]),minHeight:n.oneOfType([n.number,n.string]),maxHeight:n.oneOfType([n.number,n.string]),margin:n.oneOfType([n.number,n.string]),marginVertical:n.oneOfType([n.number,n.string]),marginHorizontal:n.oneOfType([n.number,n.string]),marginTop:n.oneOfType([n.number,n.string]),marginBottom:n.oneOfType([n.number,n.string]),marginLeft:n.oneOfType([n.number,n.string]),marginRight:n.oneOfType([n.number,n.string]),marginStart:n.oneOfType([n.number,n.string]),marginEnd:n.oneOfType([n.number,n.string]),padding:n.oneOfType([n.number,n.string]),paddingVertical:n.oneOfType([n.number,n.string]),paddingHorizontal:n.oneOfType([n.number,n.string]),paddingTop:n.oneOfType([n.number,n.string]),paddingBottom:n.oneOfType([n.number,n.string]),paddingLeft:n.oneOfType([n.number,n.string]),paddingRight:n.oneOfType([n.number,n.string]),paddingStart:n.oneOfType([n.number,n.string]),paddingEnd:n.oneOfType([n.number,n.string]),borderWidth:n.number,borderTopWidth:n.number,borderStartWidth:n.number,borderEndWidth:n.number,borderRightWidth:n.number,borderBottomWidth:n.number,borderLeftWidth:n.number,position:n.oneOf(['absolute','relative']),flexDirection:n.oneOf(['row','row-reverse','column','column-reverse']),flexWrap:n.oneOf(['wrap','nowrap','wrap-reverse']),justifyContent:n.oneOf(['flex-start','flex-end','center','space-between','space-around','space-evenly']),alignItems:n.oneOf(['flex-start','flex-end','center','stretch','baseline']),alignSelf:n.oneOf(['auto','flex-start','flex-end','center','stretch','baseline']),alignContent:n.oneOf(['flex-start','flex-end','center','stretch','space-between','space-around']),overflow:n.oneOf(['visible','hidden','scroll']),flex:n.number,flexGrow:n.number,flexShrink:n.number,flexBasis:n.oneOfType([n.number,n.string]),aspectRatio:n.number,zIndex:n.number,direction:n.oneOf(['inherit','ltr','rtl'])};m.exports=t},71,[72]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])()},72,[73]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(){}function o(){}o.resetWarningCache=t,m.exports=function(){function p(t,o,p,c,s,y){if(y!==n){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name='Invariant Violation',f}}function c(){return p}p.isRequired=p;var s={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:c,element:p,elementType:p,instanceOf:c,node:p,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:t};return s.PropTypes=s,s}},73,[74]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},74,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),h=r(d[1]),o={shadowColor:s,shadowOffset:h.shape({width:h.number,height:h.number}),shadowOpacity:h.number,shadowRadius:h.number};m.exports=o},75,[68,72]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n={transform:t.arrayOf(t.oneOfType([t.shape({perspective:t.number}),t.shape({rotate:t.string}),t.shape({rotateX:t.string}),t.shape({rotateY:t.string}),t.shape({rotateZ:t.string}),t.shape({scale:t.number}),t.shape({scaleX:t.number}),t.shape({scaleY:t.number}),t.shape({translateX:t.number}),t.shape({translateY:t.number}),t.shape({skewX:t.string}),t.shape({skewY:t.string})])),transformMatrix:function(t,s,n){if(t[s])return new Error("The transformMatrix style property is deprecated. Use `transform: [{ matrix: ... }]` instead.")},decomposedMatrix:function(t,s,n){if(t[s])return new Error("The decomposedMatrix style property is deprecated. Use `transform: [...]` instead.")},scaleX:s(t.number,'Use the transform prop instead.'),scaleY:s(t.number,'Use the transform prop instead.'),rotation:s(t.number,'Use the transform prop instead.'),translateX:s(t.number,'Use the transform prop instead.'),translateY:s(t.number,'Use the transform prop instead.')};m.exports=n},76,[72,77]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t,o){return function(c,s,u){g.RN$Bridgeless||n.getViewManagerConfig(u)||void 0===c[s]||console.warn("`"+s+"` supplied to `"+u+"` has been deprecated. "+o);for(var p=arguments.length,f=new Array(p>3?p-3:0),l=3;l<p;l++)f[l-3]=arguments[l];return t.apply(void 0,[c,s,u].concat(f))}}},77,[48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function o(o){for(var l=1;l<arguments.length;l++){var c=null!=arguments[l]?arguments[l]:{};l%2?n(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var l=r(d[1]),c=r(d[2]),u=r(d[3]),f=o(o({},c),{},{color:l,fontFamily:u.string,fontSize:u.number,fontStyle:u.oneOf(['normal','italic']),fontWeight:u.oneOf(['normal','bold','100','200','300','400','500','600','700','800','900']),fontVariant:u.arrayOf(u.oneOf(['small-caps','oldstyle-nums','lining-nums','tabular-nums','proportional-nums'])),textShadowOffset:u.shape({width:u.number,height:u.number}),textShadowRadius:u.number,textShadowColor:l,letterSpacing:u.number,lineHeight:u.number,textAlign:u.oneOf(['auto','left','right','center','justify']),textAlignVertical:u.oneOf(['auto','top','bottom','center']),includeFontPadding:u.bool,textDecorationLine:u.oneOf(['none','underline','line-through','underline line-through']),textDecorationStyle:u.oneOf(['solid','double','dotted','dashed']),textDecorationColor:l,textTransform:u.oneOf(['none','capitalize','uppercase','lowercase']),writingDirection:u.oneOf(['auto','ltr','rtl'])});m.exports=f},78,[51,68,79,72]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);function t(o,t){var b=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),b.push.apply(b,n)}return b}function b(b){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?t(Object(u),!0).forEach(function(t){o(b,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(o){Object.defineProperty(b,o,Object.getOwnPropertyDescriptor(u,o))})}return b}var n=r(d[1]),u=r(d[2]),c=r(d[3]),s=r(d[4]),p=r(d[5]),l=b(b(b(b({},u),c),s),{},{backfaceVisibility:p.oneOf(['visible','hidden']),backgroundColor:n,borderColor:n,borderTopColor:n,borderRightColor:n,borderBottomColor:n,borderLeftColor:n,borderStartColor:n,borderEndColor:n,borderRadius:p.number,borderTopLeftRadius:p.number,borderTopRightRadius:p.number,borderTopStartRadius:p.number,borderTopEndRadius:p.number,borderBottomLeftRadius:p.number,borderBottomRightRadius:p.number,borderBottomStartRadius:p.number,borderBottomEndRadius:p.number,borderStyle:p.oneOf(['solid','dotted','dashed']),borderWidth:p.number,borderTopWidth:p.number,borderRightWidth:p.number,borderBottomWidth:p.number,borderLeftWidth:p.number,opacity:p.number,elevation:p.number});m.exports=l},79,[51,68,71,75,76,72]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var n=r(d[1]);m.exports=function(t){if(void 0===t||null===t)return t;var o=n(t);if(null!==o&&void 0!==o){if('object'==typeof o){var u=(0,r(d[2]).processColorObject)(o);if(null!=u)return u}return'number'!=typeof o?null:(o=(o<<24|o>>>8)>>>0,o|=0)}}},80,[53,69,70]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),r(d[3]).default;m.exports=function(t){return t}},81,[82,53,6,34]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o={createIdentityMatrix:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},createCopy:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},createOrthographic:function(t,n,o,u,s,c){return[2/(n-t),0,0,0,0,2/(u-o),0,0,0,0,-2/(c-s),0,-(n+t)/(n-t),-(u+o)/(u-o),-(c+s)/(c-s),1]},createFrustum:function(t,n,o,u,s,c){var v=1/(n-t),f=1/(u-o),h=1/(s-c);return[s*v*2,0,0,0,0,s*f*2,0,0,(n+t)*v,(u+o)*f,(c+s)*h,-1,0,0,c*s*h*2,0]},createPerspective:function(t,n,o,u){var s=1/Math.tan(t/2),c=1/(o-u);return[s/n,0,0,0,0,s,0,0,0,0,(u+o)*c,-1,0,0,u*o*c*2,0]},createTranslate2d:function(t,n){var u=o.createIdentityMatrix();return o.reuseTranslate2dCommand(u,t,n),u},reuseTranslate2dCommand:function(t,n,o){t[12]=n,t[13]=o},reuseTranslate3dCommand:function(t,n,o,u){t[12]=n,t[13]=o,t[14]=u},createScale:function(t){var n=o.createIdentityMatrix();return o.reuseScaleCommand(n,t),n},reuseScaleCommand:function(t,n){t[0]=n,t[5]=n},reuseScale3dCommand:function(t,n,o,u){t[0]=n,t[5]=o,t[10]=u},reusePerspectiveCommand:function(t,n){t[11]=-1/n},reuseScaleXCommand:function(t,n){t[0]=n},reuseScaleYCommand:function(t,n){t[5]=n},reuseScaleZCommand:function(t,n){t[10]=n},reuseRotateXCommand:function(t,n){t[5]=Math.cos(n),t[6]=Math.sin(n),t[9]=-Math.sin(n),t[10]=Math.cos(n)},reuseRotateYCommand:function(t,n){t[0]=Math.cos(n),t[2]=-Math.sin(n),t[8]=Math.sin(n),t[10]=Math.cos(n)},reuseRotateZCommand:function(t,n){t[0]=Math.cos(n),t[1]=Math.sin(n),t[4]=-Math.sin(n),t[5]=Math.cos(n)},createRotateZ:function(t){var n=o.createIdentityMatrix();return o.reuseRotateZCommand(n,t),n},reuseSkewXCommand:function(t,n){t[4]=Math.tan(n)},reuseSkewYCommand:function(t,n){t[1]=Math.tan(n)},multiplyInto:function(t,n,o){var u=n[0],s=n[1],c=n[2],v=n[3],f=n[4],h=n[5],M=n[6],l=n[7],C=n[8],p=n[9],x=n[10],T=n[11],y=n[12],S=n[13],P=n[14],q=n[15],D=o[0],X=o[1],Y=o[2],I=o[3];t[0]=D*u+X*f+Y*C+I*y,t[1]=D*s+X*h+Y*p+I*S,t[2]=D*c+X*M+Y*x+I*P,t[3]=D*v+X*l+Y*T+I*q,D=o[4],X=o[5],Y=o[6],I=o[7],t[4]=D*u+X*f+Y*C+I*y,t[5]=D*s+X*h+Y*p+I*S,t[6]=D*c+X*M+Y*x+I*P,t[7]=D*v+X*l+Y*T+I*q,D=o[8],X=o[9],Y=o[10],I=o[11],t[8]=D*u+X*f+Y*C+I*y,t[9]=D*s+X*h+Y*p+I*S,t[10]=D*c+X*M+Y*x+I*P,t[11]=D*v+X*l+Y*T+I*q,D=o[12],X=o[13],Y=o[14],I=o[15],t[12]=D*u+X*f+Y*C+I*y,t[13]=D*s+X*h+Y*p+I*S,t[14]=D*c+X*M+Y*x+I*P,t[15]=D*v+X*l+Y*T+I*q},determinant:function(n){var o=t(n,16),u=o[0],s=o[1],c=o[2],v=o[3],f=o[4],h=o[5],M=o[6],l=o[7],C=o[8],p=o[9],x=o[10],T=o[11],y=o[12],S=o[13],P=o[14],q=o[15];return v*M*p*y-c*l*p*y-v*h*x*y+s*l*x*y+c*h*T*y-s*M*T*y-v*M*C*S+c*l*C*S+v*f*x*S-u*l*x*S-c*f*T*S+u*M*T*S+v*h*C*P-s*l*C*P-v*f*p*P+u*l*p*P+s*f*T*P-u*h*T*P-c*h*C*q+s*M*C*q+c*f*p*q-u*M*p*q-s*f*x*q+u*h*x*q},inverse:function(n){var u=o.determinant(n);if(!u)return n;var s=t(n,16),c=s[0],v=s[1],f=s[2],h=s[3],M=s[4],l=s[5],C=s[6],p=s[7],x=s[8],T=s[9],y=s[10],S=s[11],P=s[12],q=s[13],D=s[14],X=s[15];return[(C*S*q-p*y*q+p*T*D-l*S*D-C*T*X+l*y*X)/u,(h*y*q-f*S*q-h*T*D+v*S*D+f*T*X-v*y*X)/u,(f*p*q-h*C*q+h*l*D-v*p*D-f*l*X+v*C*X)/u,(h*C*T-f*p*T-h*l*y+v*p*y+f*l*S-v*C*S)/u,(p*y*P-C*S*P-p*x*D+M*S*D+C*x*X-M*y*X)/u,(f*S*P-h*y*P+h*x*D-c*S*D-f*x*X+c*y*X)/u,(h*C*P-f*p*P-h*M*D+c*p*D+f*M*X-c*C*X)/u,(f*p*x-h*C*x+h*M*y-c*p*y-f*M*S+c*C*S)/u,(l*S*P-p*T*P+p*x*q-M*S*q-l*x*X+M*T*X)/u,(h*T*P-v*S*P-h*x*q+c*S*q+v*x*X-c*T*X)/u,(v*p*P-h*l*P+h*M*q-c*p*q-v*M*X+c*l*X)/u,(h*l*x-v*p*x-h*M*T+c*p*T+v*M*S-c*l*S)/u,(C*T*P-l*y*P-C*x*q+M*y*q+l*x*D-M*T*D)/u,(v*y*P-f*T*P+f*x*q-c*y*q-v*x*D+c*T*D)/u,(f*l*P-v*C*P-f*M*q+c*C*q+v*M*D-c*l*D)/u,(v*C*x-f*l*x+f*M*T-c*C*T-v*M*y+c*l*y)/u]},transpose:function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},multiplyVectorByMatrix:function(n,o){var u=t(n,4),s=u[0],c=u[1],v=u[2],f=u[3];return[s*o[0]+c*o[4]+v*o[8]+f*o[12],s*o[1]+c*o[5]+v*o[9]+f*o[13],s*o[2]+c*o[6]+v*o[10]+f*o[14],s*o[3]+c*o[7]+v*o[11]+f*o[15]]},v3Length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},v3Normalize:function(t,n){var u=1/(n||o.v3Length(t));return[t[0]*u,t[1]*u,t[2]*u]},v3Dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},v3Combine:function(t,n,o,u){return[o*t[0]+u*n[0],o*t[1]+u*n[1],o*t[2]+u*n[2]]},v3Cross:function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},quaternionToDegreesXYZ:function(n,u,s){var c=t(n,4),v=c[0],f=c[1],h=c[2],M=c[3],l=v*v,C=f*f,p=h*h,x=v*f+h*M,T=M*M+l+C+p,y=180/Math.PI;return x>.49999*T?[0,2*Math.atan2(v,M)*y,90]:x<-.49999*T?[0,-2*Math.atan2(v,M)*y,-90]:[o.roundTo3Places(Math.atan2(2*v*M-2*f*h,1-2*l-2*p)*y),o.roundTo3Places(Math.atan2(2*f*M-2*v*h,1-2*C-2*p)*y),o.roundTo3Places(Math.asin(2*v*f+2*h*M)*y)]},roundTo3Places:function(t){var n=t.toString().split('e');return.001*Math.round(n[0]+'e'+(n[1]?+n[1]-3:3))},decomposeMatrix:function(t){n(16===t.length,'Matrix decomposition needs a list of 3d matrix values, received %s',t);var u=[],s=[],c=[],v=[],f=[];if(t[15]){for(var h=[],M=[],l=0;l<4;l++){h.push([]);for(var C=0;C<4;C++){var p=t[4*l+C]/t[15];h[l].push(p),M.push(3===C?0:p)}}if(M[15]=1,o.determinant(M)){if(0!==h[0][3]||0!==h[1][3]||0!==h[2][3]){var x=[h[0][3],h[1][3],h[2][3],h[3][3]],T=o.inverse(M),y=o.transpose(T);u=o.multiplyVectorByMatrix(x,y)}else u[0]=u[1]=u[2]=0,u[3]=1;for(var S=0;S<3;S++)f[S]=h[3][S];for(var P=[],q=0;q<3;q++)P[q]=[h[q][0],h[q][1],h[q][2]];c[0]=o.v3Length(P[0]),P[0]=o.v3Normalize(P[0],c[0]),v[0]=o.v3Dot(P[0],P[1]),P[1]=o.v3Combine(P[1],P[0],1,-v[0]),c[1]=o.v3Length(P[1]),P[1]=o.v3Normalize(P[1],c[1]),v[0]/=c[1],v[1]=o.v3Dot(P[0],P[2]),P[2]=o.v3Combine(P[2],P[0],1,-v[1]),v[2]=o.v3Dot(P[1],P[2]),P[2]=o.v3Combine(P[2],P[1],1,-v[2]),c[2]=o.v3Length(P[2]),P[2]=o.v3Normalize(P[2],c[2]),v[1]/=c[2],v[2]/=c[2];var D,X=o.v3Cross(P[1],P[2]);if(o.v3Dot(P[0],X)<0)for(var Y=0;Y<3;Y++)c[Y]*=-1,P[Y][0]*=-1,P[Y][1]*=-1,P[Y][2]*=-1;return s[0]=.5*Math.sqrt(Math.max(1+P[0][0]-P[1][1]-P[2][2],0)),s[1]=.5*Math.sqrt(Math.max(1-P[0][0]+P[1][1]-P[2][2],0)),s[2]=.5*Math.sqrt(Math.max(1-P[0][0]-P[1][1]+P[2][2],0)),s[3]=.5*Math.sqrt(Math.max(1+P[0][0]+P[1][1]+P[2][2],0)),P[2][1]>P[1][2]&&(s[0]=-s[0]),P[0][2]>P[2][0]&&(s[1]=-s[1]),P[1][0]>P[0][1]&&(s[2]=-s[2]),{rotationDegrees:D=s[0]<.001&&s[0]>=0&&s[1]<.001&&s[1]>=0?[0,0,o.roundTo3Places(180*Math.atan2(P[0][1],P[0][0])/Math.PI)]:o.quaternionToDegreesXYZ(s,h,P),perspective:u,quaternion:s,scale:c,skew:v,translation:f,rotate:D[2],rotateX:D[0],rotateY:D[1],scaleX:c[0],scaleY:c[1],translateX:f[0],translateY:f[1]}}}}};m.exports=o},82,[17,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){return(h=h||t)!==(n=n||t)&&(h.width!==n.width||h.height!==n.height)}},83,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=(r(d[2]),r(d[3]),r(d[4]),r(d[5]),(function(){function u(){t(this,u)}return n(u,null,[{key:"validateStyleProp",value:function(t,n,u){}},{key:"validateStyle",value:function(t,n){}},{key:"addValidStylePropTypes",value:function(t){}}]),u})());m.exports=u},84,[29,30,67,78,79,6]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},o=0,u=n.length;o<u;++o){var c=t(n[o]);if(c)for(var s in c)f[s]=c[s]}return f}}},85,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),f=t(r(d[1])),n=t(r(d[2])),u=r(d[3]),l=r(d[4]),c=u.forwardRef(function(t,c){return u.createElement(l.Provider,{value:!1},u.createElement(n.default,(0,f.default)({},t,{ref:c})))});c.displayName='View',m.exports=c},86,[1,16,87,59,202]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[2]));var _,o,u=s(r(d[3])),C=(r(d[4]),r(d[5])),v=r(d[6]),N=r(d[7]);g.RN$Bridgeless?(o=C,v('RCTView',C),_='RCTView'):_=N('RCTView');var l=o;e.__INTERNAL_VIEW_CONFIG=l;var n=(0,u.default)({supportedCommands:['hotspotUpdate','setPressed']});e.Commands=n;var I=_;e.default=I},87,[1,12,59,88,53,193,200,180]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);var t=function(t){var o={};return t.supportedCommands.forEach(function(t){o[t]=function(o){for(var u=arguments.length,f=new Array(u>1?u-1:0),c=1;c<u;c++)f[c-1]=arguments[c];(0,n.dispatchCommand)(o,t,f)}}),o};e.default=t},88,[89]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;t=r(d[0]),m.exports=t},89,[90]);
__d(function(e,t,n,r,i,l,a){"use strict";var o=t(a[0]);t(a[1]);var u=t(a[2]),s=t(a[3]),c=t(a[4]);function f(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function d(e,t,n){for(var r=[];e;)r.push(e),e=f(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function p(e,t,n,r,i,l,a,o,u){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(e){this.onError(e)}}var h=!1,m=null,g=!1,v=null,y={onError:function(e){h=!0,m=e}};function b(e,t,n,r,i,l,a,o,u){h=!1,m=null,p.apply(y,arguments)}function T(e,t,n,r,i,l,a,o,u){if(b.apply(this,arguments),h){if(!h)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=m;h=!1,m=null,g||(g=!0,v=s)}}var x=null,E=null,S=null;function w(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),T(r,t,void 0,e),e.currentTarget=null}function k(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=t?S(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t}function P(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function R(e,t){if(null==t)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function _(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function C(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=R(n._dispatchListeners,t),n._dispatchInstances=R(n._dispatchInstances,e))}function N(e){e&&e.dispatchConfig.phasedRegistrationNames&&d(e._targetInst,C,e)}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;d(t=t?f(t):null,C,e)}}function I(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var n=P(t,e.dispatchConfig.registrationName);n&&(e._dispatchListeners=R(e._dispatchListeners,n),e._dispatchInstances=R(e._dispatchInstances,t))}}}function M(){return!0}function A(){return!1}function U(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?M:A,this.isPropagationStopped=A,this}function D(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function F(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Q(e){e.eventPool=[],e.getPooled=D,e.release=F}o(U.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=M)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=M)},persist:function(){this.isPersistent=M},isPersistent:A,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=A,this._dispatchInstances=this._dispatchListeners=null}}),U.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},U.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Q(n),n},Q(U);var O=U.extend({touchHistory:function(){return null}});function j(e){return"topTouchStart"===e}function H(e){return"topTouchMove"===e}var W=["topTouchStart"],L=["topTouchMove"],B=["topTouchCancel","topTouchEnd"],V=[],Y={touchBank:V,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function q(e){return e.timeStamp||e.timestamp}function X(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function $(e){var t=X(e),n=V[t];n?(n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=q(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=q(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=q(e)):(n={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:q(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:q(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:q(e)},V[t]=n),Y.mostRecentTimeStamp=q(e)}function K(e){var t=V[X(e)];t&&(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=q(e),Y.mostRecentTimeStamp=q(e))}function G(e){var t=V[X(e)];t&&(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=q(e),Y.mostRecentTimeStamp=q(e))}var J={recordTouchTrack:function(e,t){if(H(e))t.changedTouches.forEach(K);else if(j(e))t.changedTouches.forEach($),Y.numberActiveTouches=t.touches.length,1===Y.numberActiveTouches&&(Y.indexOfSingleActiveTouch=t.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(t.changedTouches.forEach(G),Y.numberActiveTouches=t.touches.length,1===Y.numberActiveTouches))for(e=0;e<V.length;e++)if(null!=(t=V[e])&&t.touchActive){Y.indexOfSingleActiveTouch=e;break}},touchHistory:Y};function Z(e,t){if(null==t)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var ee=null,te=0;function ne(e,t){var n=ee;ee=e,null!==ie.GlobalResponderHandler&&ie.GlobalResponderHandler.onChange(n,e,t)}var re={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:W},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:L},responderStart:{registrationName:"onResponderStart",dependencies:W},responderMove:{registrationName:"onResponderMove",dependencies:L},responderEnd:{registrationName:"onResponderEnd",dependencies:B},responderRelease:{registrationName:"onResponderRelease",dependencies:B},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},ie={_getResponder:function(){return ee},eventTypes:re,extractEvents:function(e,t,n,r){if(j(e))te+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=te))return null;--te}if(J.recordTouchTrack(e,n),t&&("topScroll"===e&&!n.responderIgnoreScroll||0<te&&"topSelectionChange"===e||j(e)||H(e))){var i=j(e)?re.startShouldSetResponder:H(e)?re.moveShouldSetResponder:"topSelectionChange"===e?re.selectionChangeShouldSetResponder:re.scrollShouldSetResponder;if(ee)e:{for(var l=ee,a=0,o=l;o;o=f(o))a++;o=0;for(var u=t;u;u=f(u))o++;for(;0<a-o;)l=f(l),a--;for(;0<o-a;)t=f(t),o--;for(;a--;){if(l===t||l===t.alternate)break e;l=f(l),t=f(t)}l=null}else l=t;t=l===ee,(l=O.getPooled(i,l,n,r)).touchHistory=J.touchHistory,_(l,t?z:N);e:{if(i=l._dispatchListeners,t=l._dispatchInstances,Array.isArray(i)){for(a=0;a<i.length&&!l.isPropagationStopped();a++)if(i[a](l,t[a])){i=t[a];break e}}else if(i&&i(l,t)){i=t;break e}i=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),i&&i!==ee)if((l=O.getPooled(re.responderGrant,i,n,r)).touchHistory=J.touchHistory,_(l,I),t=!0===k(l),ee)if((a=O.getPooled(re.responderTerminationRequest,ee,n,r)).touchHistory=J.touchHistory,_(a,I),o=!a._dispatchListeners||k(a),a.isPersistent()||a.constructor.release(a),o){(a=O.getPooled(re.responderTerminate,ee,n,r)).touchHistory=J.touchHistory,_(a,I);var s=Z(s,[l,a]);ne(i,t)}else(i=O.getPooled(re.responderReject,i,n,r)).touchHistory=J.touchHistory,_(i,I),s=Z(s,i);else s=Z(s,l),ne(i,t);else s=null}else s=null;if(i=ee&&j(e),l=ee&&H(e),t=ee&&("topTouchEnd"===e||"topTouchCancel"===e),(i=i?re.responderStart:l?re.responderMove:t?re.responderEnd:null)&&((i=O.getPooled(i,ee,n,r)).touchHistory=J.touchHistory,_(i,I),s=Z(s,i)),i=ee&&"topTouchCancel"===e,e=ee&&!i&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=n.touches)&&0!==e.length)for(l=0;l<e.length;l++)if(null!==(t=e[l].target)&&void 0!==t&&0!==t){a=E(t);t:{for(t=ee;a;){if(t===a||t===a.alternate){t=!0;break t}a=f(a)}t=!1}if(t){e=!1;break e}}e=!0}return(e=i?re.responderTerminate:e?re.responderRelease:null)&&((n=O.getPooled(e,ee,n,r)).touchHistory=J.touchHistory,_(n,I),s=Z(s,n),ne(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ie.GlobalResponderHandler=e}}},le=null,ae={};function oe(){if(le)for(var e in ae){var t=ae[e],n=le.indexOf(e);if(!(-1<n))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[n]){if(!t.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[n]=t,n=t.eventTypes){var i=void 0,l=n[r],a=t,o=r;if(ce.hasOwnProperty(o))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+o+"`.");ce[o]=l;var u=l.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&ue(u[i],a);i=!0}else l.registrationName?(ue(l.registrationName,a),i=!0):i=!1;if(!i)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function ue(e,t){if(fe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");fe[e]=t}var se=[],ce={},fe={},de=u.ReactNativeViewConfigRegistry.customBubblingEventTypes,pe=u.ReactNativeViewConfigRegistry.customDirectEventTypes;if(le)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");le=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),oe();var he,me={ResponderEventPlugin:ie,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,t,n,r){if(null==t)return null;var i=de[e],l=pe[e];if(!i&&!l)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=U.getPooled(i||l,t,n,r),i)_(e,N);else{if(!l)return null;_(e,I)}return e}}},ge=!1;for(he in me)if(me.hasOwnProperty(he)){var ve=me[he];if(!ae.hasOwnProperty(he)||ae[he]!==ve){if(ae[he])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+he+"`.");ae[he]=ve,ge=!0}}ge&&oe();var ye=new Map,be=new Map;function Te(e){return ye.get(e)||null}function xe(e,t){return e(t)}var Ee=!1;function Se(e,t){if(Ee)return e(t);Ee=!0;try{return xe(e,t)}finally{Ee=!1}}var we=null;function ke(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)w(e,t[r],n[r]);else t&&w(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Pe={};function Re(e,t,n){var r=n||Pe,i=Te(e),l=null;null!=i&&(l=i.stateNode),Se(function(){for(var e=l,n=null,a=0;a<se.length;a++){var o=se[a];o&&(o=o.extractEvents(t,i,r,e,1))&&(n=R(n,o))}if(null!==(e=n)&&(we=R(we,e)),e=we,we=null,e){if(_(e,ke),we)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(g)throw e=v,g=!1,v=null,e}})}u.RCTEventEmitter.register({receiveEvent:function(e,t,n){Re(e,t,n)},receiveTouches:function(e,t,n){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],i=0;i<n.length;i++){var l=n[i];r.push(t[l]),t[l]=null}for(i=n=0;i<t.length;i++)null!==(l=t[i])&&(t[n++]=l);t.length=n}else for(r=[],i=0;i<n.length;i++)r.push(t[n[i]]);for(n=0;n<r.length;n++){(i=r[n]).changedTouches=r,i.touches=t,l=null;var a=i.target;null===a||void 0===a||1>a||(l=a),Re(l,e,i)}}}),x=function(e){return be.get(e._nativeTag)||null},E=Te,S=function(e){var t=(e=e.stateNode)._nativeTag;if(void 0===t&&(t=(e=e.canonical)._nativeTag),!t)throw Error("All native instances should have a tag.");return e},ie.injection.injectGlobalResponderHandler({onChange:function(e,t,n){null!==t?u.UIManager.setJSResponder(t.stateNode._nativeTag,n):u.UIManager.clearJSResponder()}});var _e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_e.hasOwnProperty("ReactCurrentDispatcher")||(_e.ReactCurrentDispatcher={current:null}),_e.hasOwnProperty("ReactCurrentBatchConfig")||(_e.ReactCurrentBatchConfig={suspense:null});var Ce="function"==typeof Symbol&&Symbol.for,Ne=Ce?Symbol.for("react.element"):60103,ze=Ce?Symbol.for("react.portal"):60106,Ie=Ce?Symbol.for("react.fragment"):60107,Me=Ce?Symbol.for("react.strict_mode"):60108,Ae=Ce?Symbol.for("react.profiler"):60114,Ue=Ce?Symbol.for("react.provider"):60109,De=Ce?Symbol.for("react.context"):60110,Fe=Ce?Symbol.for("react.concurrent_mode"):60111,Qe=Ce?Symbol.for("react.forward_ref"):60112,Oe=Ce?Symbol.for("react.suspense"):60113,je=Ce?Symbol.for("react.suspense_list"):60120,He=Ce?Symbol.for("react.memo"):60115,We=Ce?Symbol.for("react.lazy"):60116,Le=Ce?Symbol.for("react.block"):60121,Be="function"==typeof Symbol&&Symbol.iterator;function Ve(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Be&&e[Be]||e["@@iterator"])?e:null}function Ye(e){if(-1===e._status){var t=e._result;t||(t=e._ctor),t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ie:return"Fragment";case ze:return"Portal";case Ae:return"Profiler";case Me:return"StrictMode";case Oe:return"Suspense";case je:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case De:return(e.displayName||"Context")+".Consumer";case Ue:return(e._context.displayName||"Context")+".Provider";case Qe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case He:return qe(e.type);case Le:return qe(e.render);case We:if(e=1===e._status?e._result:null)return qe(e)}return null}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(Xe(e)!==e)throw Error("Unable to find node on an unmounted component.")}function Ke(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return $e(i),e;if(l===r)return $e(i),t;l=l.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}function Ge(e){if(!(e=Ke(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var Je={},Ze=null,et=0,tt={unsafelyIgnoreFunctions:!0};function nt(e,t){return"object"!=typeof t||null===t||u.deepDiffer(e,t,tt)}function rt(e,t,n){if(Array.isArray(t))for(var r=t.length;r--&&0<et;)rt(e,t[r],n);else if(t&&0<et)for(r in Ze)if(Ze[r]){var i=t[r];if(void 0!==i){var l=n[r];l&&("function"==typeof i&&(i=!0),void 0===i&&(i=null),"object"!=typeof l?e[r]=i:"function"!=typeof l.diff&&"function"!=typeof l.process||(i="function"==typeof l.process?l.process(i):i,e[r]=i),Ze[r]=!1,et--)}}}function it(e,t,n,r){if(!e&&t===n)return e;if(!t||!n)return n?lt(e,n,r):t?at(e,t,r):e;if(!Array.isArray(t)&&!Array.isArray(n))return ot(e,t,n,r);if(Array.isArray(t)&&Array.isArray(n)){var i,l=t.length<n.length?t.length:n.length;for(i=0;i<l;i++)e=it(e,t[i],n[i],r);for(;i<t.length;i++)e=at(e,t[i],r);for(;i<n.length;i++)e=lt(e,n[i],r);return e}return Array.isArray(t)?ot(e,u.flattenStyle(t),n,r):ot(e,t,u.flattenStyle(n),r)}function lt(e,t,n){if(!t)return e;if(!Array.isArray(t))return ot(e,Je,t,n);for(var r=0;r<t.length;r++)e=lt(e,t[r],n);return e}function at(e,t,n){if(!t)return e;if(!Array.isArray(t))return ot(e,t,Je,n);for(var r=0;r<t.length;r++)e=at(e,t[r],n);return e}function ot(e,t,n,r){var i,l;for(l in n)if(i=r[l]){var a=t[l],o=n[l];"function"==typeof o&&(o=!0,"function"==typeof a&&(a=!0)),void 0===o&&(o=null,void 0===a&&(a=null)),Ze&&(Ze[l]=!1),e&&void 0!==e[l]?"object"!=typeof i?e[l]=o:"function"!=typeof i.diff&&"function"!=typeof i.process||(i="function"==typeof i.process?i.process(o):o,e[l]=i):a!==o&&("object"!=typeof i?nt(a,o)&&((e||(e={}))[l]=o):"function"==typeof i.diff||"function"==typeof i.process?(void 0===a||("function"==typeof i.diff?i.diff(a,o):nt(a,o)))&&(i="function"==typeof i.process?i.process(o):o,(e||(e={}))[l]=i):(Ze=null,et=0,e=it(e,a,o,i),0<et&&e&&(rt(e,o,i),Ze=null)))}for(var u in t)void 0===n[u]&&(!(i=r[u])||e&&void 0!==e[u]||void 0!==(a=t[u])&&("object"!=typeof i||"function"==typeof i.diff||"function"==typeof i.process?((e||(e={}))[u]=null,Ze||(Ze={}),Ze[u]||(Ze[u]=!0,et++)):e=at(e,a,i)));return e}function ut(e,t){return function(){if(t&&("boolean"!=typeof e.__isMounted||e.__isMounted))return t.apply(e,arguments)}}var st=(function(){function e(e,t){this._nativeTag=e,this._children=[],this.viewConfig=t}var t=e.prototype;return t.blur=function(){u.TextInputState.blurTextInput(this)},t.focus=function(){u.TextInputState.focusTextInput(this)},t.measure=function(e){u.UIManager.measure(this._nativeTag,ut(this,e))},t.measureInWindow=function(e){u.UIManager.measureInWindow(this._nativeTag,ut(this,e))},t.measureLayout=function(e,t,n){if("number"==typeof e)var r=e;else e._nativeTag&&(r=e._nativeTag);null!=r&&u.UIManager.measureLayout(this._nativeTag,r,ut(this,n),ut(this,t))},t.setNativeProps=function(e){null!=(e=ot(null,Je,e,this.viewConfig.validAttributes))&&u.UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})();function ct(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var ft=u.ReactNativeViewConfigRegistry.get,dt={},pt=3;function ht(){var e=pt;return 1==e%10&&(e+=2),pt=e+2,e}function mt(e){if("number"==typeof e)ye.delete(e),be.delete(e);else{var t=e._nativeTag;ye.delete(t),be.delete(t),e._children.forEach(mt)}}function gt(e){if(0===e._children.length)return!1;var t=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return u.UIManager.setChildren(e._nativeTag,t),!1}var vt=setTimeout,yt=clearTimeout,bt=[],Tt=-1;function xt(e){0>Tt||(e.current=bt[Tt],bt[Tt]=null,Tt--)}function Et(e,t){bt[++Tt]=e.current,e.current=t}var St={},wt={current:St},kt={current:!1},Pt=St;function Rt(e,t){var n=e.type.contextTypes;if(!n)return St;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in n)l[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function _t(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ct(){xt(kt),xt(wt)}function Nt(e,t,n){if(wt.current!==St)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Et(wt,t),Et(kt,n)}function zt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error((qe(t)||"Unknown")+'.getChildContext(): key "'+i+'" is not defined in childContextTypes.');return o({},n,{},r)}function It(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||St,Pt=wt.current,Et(wt,e),Et(kt,kt.current),!0}function Mt(e,t,n){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");n?(e=zt(e,t,Pt),r.__reactInternalMemoizedMergedChildContext=e,xt(kt),xt(wt),Et(wt,e)):xt(kt),Et(kt,n)}var At=c.unstable_runWithPriority,Ut=c.unstable_scheduleCallback,Dt=c.unstable_cancelCallback,Ft=c.unstable_requestPaint,Qt=c.unstable_now,Ot=c.unstable_getCurrentPriorityLevel,jt=c.unstable_ImmediatePriority,Ht=c.unstable_UserBlockingPriority,Wt=c.unstable_NormalPriority,Lt=c.unstable_LowPriority,Bt=c.unstable_IdlePriority,Vt={},Yt=c.unstable_shouldYield,qt=void 0!==Ft?Ft:function(){},Xt=null,$t=null,Kt=!1,Gt=Qt(),Jt=1e4>Gt?Qt:function(){return Qt()-Gt};function Zt(){switch(Ot()){case jt:return 99;case Ht:return 98;case Wt:return 97;case Lt:return 96;case Bt:return 95;default:throw Error("Unknown priority level.")}}function en(e){switch(e){case 99:return jt;case 98:return Ht;case 97:return Wt;case 96:return Lt;case 95:return Bt;default:throw Error("Unknown priority level.")}}function tn(e,t){return e=en(e),At(e,t)}function nn(e,t,n){return e=en(e),Ut(e,t,n)}function rn(e){return null===Xt?(Xt=[e],$t=Ut(jt,an)):Xt.push(e),Vt}function ln(){if(null!==$t){var e=$t;$t=null,Dt(e)}an()}function an(){if(!Kt&&null!==Xt){Kt=!0;var e=0;try{var t=Xt;tn(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Xt=null}catch(t){throw null!==Xt&&(Xt=Xt.slice(e+1)),Ut(jt,ln),t}finally{Kt=!1}}}var on="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},un=Object.prototype.hasOwnProperty;function sn(e,t){if(on(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!un.call(t,n[r])||!on(e[n[r]],t[n[r]]))return!1;return!0}var cn=/^(.*)[\\\/]/;function fn(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,l=qe(e.type);n=null,r&&(n=qe(r.type)),r=l,l="",i?l=" (at "+i.fileName.replace(cn,"")+":"+i.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+l}t+=n,e=e.return}while(e);return t}function dn(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var pn={current:null},hn=null,mn=null,gn=null;function vn(){gn=mn=hn=null}function yn(e){var t=pn.current;xt(pn),e.type._context._currentValue=t}function bn(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Tn(e,t){hn=e,gn=mn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Or=!0),e.firstContext=null)}function xn(e,t){if(gn!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(gn=e,t=1073741823),t={context:e,observedBits:t,next:null},null===mn){if(null===hn)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");mn=t,hn.dependencies={expirationTime:0,firstContext:t,responders:null}}else mn=mn.next=t;return e._currentValue}var En=!1;function Sn(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function wn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function kn(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Pn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Rn(e,t){var n=e.alternate;null!==n&&wn(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function _n(e,t,n,r){var i=e.updateQueue;En=!1;var l=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==l){var u=l.next;l.next=a.next,a.next=u}l=a,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==l){u=l.next;var s=i.baseState,c=0,f=null,d=null,p=null;if(null!==u)for(var h=u;;){if((a=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=m,f=s):p=p.next=m,a>c&&(c=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),wl(a,h.suspenseConfig);e:{var g=e,v=h;switch(a=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){s=g.call(m,s,a);break e}s=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"==typeof(g=v.payload)?g.call(m,s,a):g)||void 0===a)break e;s=o({},s,a);break e;case 2:En=!0}}null!==h.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[h]:a.push(h))}if(null===(h=h.next)||h===u){if(null===(a=i.shared.pending))break;h=l.next=a.next,a.next=u,i.baseQueue=l=a,i.shared.pending=null}}null===p?f=s:p.next=d,i.baseState=f,i.baseQueue=p,kl(c),e.expirationTime=c,e.memoizedState=s}}function Cn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,"function"!=typeof i)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+i);i.call(n)}}}var Nn=_e.ReactCurrentBatchConfig,zn=(new s.Component).refs;function In(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=pl(),i=Nn.suspense;(i=kn(r=hl(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Pn(e,i),ml(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=pl(),i=Nn.suspense;(i=kn(r=hl(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Pn(e,i),ml(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=pl(),r=Nn.suspense;(r=kn(n=hl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Pn(e,r),ml(e,n)}};function An(e,t,n,r,i,l,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,a):!t.prototype||!t.prototype.isPureReactComponent||(!sn(n,r)||!sn(i,l))}function Un(e,t,n){var r=!1,i=St,l=t.contextType;return"object"==typeof l&&null!==l?l=xn(l):(i=_t(t)?Pt:wt.current,l=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rt(e,i):St),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function Dn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Fn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zn,Sn(e);var l=t.contextType;"object"==typeof l&&null!==l?i.context=xn(l):(l=_t(t)?Pt:wt.current,i.context=Rt(e,l)),_n(e,n,i,r),i.state=e.memoizedState,"function"==typeof(l=t.getDerivedStateFromProps)&&(In(e,t,l,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),_n(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Qn=Array.isArray;function On(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://fb.me/react-strict-mode-string-ref");var r=n.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===zn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.")}return e}function jn(e,t){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+").")}function Hn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=On(e,t,n),r.return=e,r):((r=Xl(n.type,n.key,n.props,null,e.mode,r)).ref=On(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,l){return null===t||7!==t.tag?((t=$l(n,e.mode,r,l)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ne:return(n=Xl(t.type,t.key,t.props,null,e.mode,n)).ref=On(e,null,t),n.return=e,n;case ze:return(t=Gl(t,e.mode,n)).return=e,t}if(Qn(t)||Ve(t))return(t=$l(t,e.mode,n,null)).return=e,t;jn(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ne:return n.key===i?n.type===Ie?c(e,t,n.props.children,r,i):u(e,t,n,r):null;case ze:return n.key===i?s(e,t,n,r):null}if(Qn(n)||Ve(n))return null!==i?null:c(e,t,n,r,null);jn(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ne:return e=e.get(null===r.key?n:r.key)||null,r.type===Ie?c(t,e,r.props.children,i,r.key):u(t,e,r,i);case ze:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Qn(r)||Ve(r))return c(t,e=e.get(n)||null,r,i,null);jn(t,r)}return null}function h(i,a,o,u){for(var s=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,o[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=l(v,a,m),null===c?s=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),s;if(null===h){for(;m<o.length;m++)null!==(h=f(i,o[m],u))&&(a=l(h,a,m),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=l(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),s}function m(i,a,o,u){var s=Ve(o);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(o=s.call(o)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=a,m=a=0,g=null,v=o.next();null!==h&&!v.done;m++,v=o.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,v.value,u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=l(y,a,m),null===c?s=y:c.sibling=y,c=y,h=g}if(v.done)return n(i,h),s;if(null===h){for(;!v.done;m++,v=o.next())null!==(v=f(i,v.value,u))&&(a=l(v,a,m),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(i,h);!v.done;m++,v=o.next())null!==(v=p(h,i,m,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=l(v,a,m),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return t(i,e)}),s}return function(e,r,l,o){var u="object"==typeof l&&null!==l&&l.type===Ie&&null===l.key;u&&(l=l.props.children);var s="object"==typeof l&&null!==l;if(s)switch(l.$$typeof){case Ne:e:{for(s=l.key,u=r;null!==u;){if(u.key===s){switch(u.tag){case 7:if(l.type===Ie){n(e,u.sibling),(r=i(u,l.props.children)).return=e,e=r;break e}break;default:if(u.elementType===l.type){n(e,u.sibling),(r=i(u,l.props)).ref=On(e,u,l),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}l.type===Ie?((r=$l(l.props.children,e.mode,o,l.key)).return=e,e=r):((o=Xl(l.type,l.key,l.props,null,e.mode,o)).ref=On(e,r,l),o.return=e,e=o)}return a(e);case ze:e:{for(u=l.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){n(e,r.sibling),(r=i(r,l.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(l,e.mode,o)).return=e,e=r}return a(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,l)).return=e,e=r):(n(e,r),(r=Kl(l,e.mode,o)).return=e,e=r),a(e);if(Qn(l))return h(e,r,l,o);if(Ve(l))return m(e,r,l,o);if(s&&jn(e,l),void 0===l&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error((e.displayName||e.name||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return n(e,r)}}var Wn=Hn(!0),Ln=Hn(!1),Bn={},Vn={current:Bn},Yn={current:Bn},qn={current:Bn};function Xn(e){if(e===Bn)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function $n(e,t){Et(qn,t),Et(Yn,e),Et(Vn,Bn),xt(Vn),Et(Vn,{isInAParentText:!1})}function Kn(){xt(Vn),xt(Yn),xt(qn)}function Gn(e){Xn(qn.current);var t=Xn(Vn.current),n=e.type;n="AndroidTextInput"===n||"RCTMultilineTextInputView"===n||"RCTSinglelineTextInputView"===n||"RCTText"===n||"RCTVirtualText"===n,t!==(n=t.isInAParentText!==n?{isInAParentText:n}:t)&&(Et(Yn,e),Et(Vn,n))}function Jn(e){Yn.current===e&&(xt(Vn),xt(Yn))}var Zn={current:0};function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===n.dehydrated||ct()||ct()))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function tr(e,t){return{responder:e,props:t}}var nr=_e.ReactCurrentDispatcher,rr=_e.ReactCurrentBatchConfig,ir=0,lr=null,ar=null,or=null,ur=!1;function sr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.")}function cr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function fr(e,t,n,r,i,l){if(ir=l,lr=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,nr.current=null===e||null===e.memoizedState?Ur:Dr,e=n(r,i),t.expirationTime===ir){l=0;do{if(t.expirationTime=0,!(25>l))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");l+=1,or=ar=null,t.updateQueue=null,nr.current=Fr,e=n(r,i)}while(t.expirationTime===ir)}if(nr.current=Ar,t=null!==ar&&null!==ar.next,ir=0,or=ar=lr=null,ur=!1,t)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===or?lr.memoizedState=or=e:or=or.next=e,or}function pr(){if(null===ar){var e=lr.alternate;e=null!==e?e.memoizedState:null}else e=ar.next;var t=null===or?lr.memoizedState:or.next;if(null!==t)or=t,ar=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(ar=e).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},null===or?lr.memoizedState=or=e:or=or.next=e}return or}function hr(e,t){return"function"==typeof t?t(e):t}function mr(e){var t=pr(),n=t.queue;if(null===n)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,l=n.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var o=a=l=null,u=i;do{var s=u.expirationTime;if(s<ir){var c={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===o?(a=o=c,l=r):o=o.next=c,s>lr.expirationTime&&(lr.expirationTime=s,kl(s))}else null!==o&&(o=o.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),wl(s,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===o?l=r:o.next=a,on(r,t.memoizedState)||(Or=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=o,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=pr(),n=t.queue;if(null===n)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{l=e(l,a.action),a=a.next}while(a!==i);on(l,t.memoizedState)||(Or=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function vr(e){var t=dr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e}).dispatch=Ir.bind(null,lr,e),[t.memoizedState,e]}function yr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lr.updateQueue)?(t={lastEffect:null},lr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function br(){return pr().memoizedState}function Tr(e,t,n,r){var i=dr();lr.effectTag|=e,i.memoizedState=yr(1|t,n,void 0,void 0===r?null:r)}function xr(e,t,n,r){var i=pr();r=void 0===r?null:r;var l=void 0;if(null!==ar){var a=ar.memoizedState;if(l=a.destroy,null!==r&&cr(r,a.deps))return void yr(t,n,l,r)}lr.effectTag|=e,i.memoizedState=yr(1|t,n,l,r)}function Er(e,t){return Tr(516,4,e,t)}function Sr(e,t){return xr(516,4,e,t)}function wr(e,t){return xr(4,2,e,t)}function kr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xr(4,2,kr.bind(null,t,e),n)}function Rr(){}function _r(e,t){return dr().memoizedState=[e,void 0===t?null:t],e}function Cr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&cr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zr(e,t,n){var r=Zt();tn(98>r?98:r,function(){e(!0)}),tn(97<r?97:r,function(){var r=rr.suspense;rr.suspense=void 0===t?null:t;try{e(!1),n()}finally{rr.suspense=r}})}function Ir(e,t,n){var r=pl(),i=Nn.suspense;i={expirationTime:r=hl(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var l=t.pending;if(null===l?i.next=i:(i.next=l.next,l.next=i),t.pending=i,l=e.alternate,e===lr||null!==l&&l===lr)ur=!0,i.expirationTime=ir,lr.expirationTime=ir;else{if(0===e.expirationTime&&(null===l||0===l.expirationTime)&&null!==(l=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=l(a,n);if(i.eagerReducer=l,i.eagerState=o,on(o,a))return}catch(e){}ml(e,r)}}function Mr(){}var Ar={readContext:xn,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useResponder:sr,useDeferredValue:sr,useTransition:sr,useEvent:sr},Ur={readContext:xn,useCallback:_r,useContext:xn,useEffect:Er,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tr(4,2,kr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tr(4,2,e,t)},useMemo:function(e,t){var n=dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ir.bind(null,lr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},dr().memoizedState=e},useState:vr,useDebugValue:Rr,useResponder:tr,useDeferredValue:function(e,t){var n=vr(e),r=n[0],i=n[1];return Er(function(){var n=rr.suspense;rr.suspense=void 0===t?null:t;try{i(e)}finally{rr.suspense=n}},[e,t]),r},useTransition:function(e){var t=vr(!1),n=t[0];return t=t[1],[_r(zr.bind(null,t,e),[t,e]),n]},useEvent:function(){}},Dr={readContext:xn,useCallback:Cr,useContext:xn,useEffect:Sr,useImperativeHandle:Pr,useLayoutEffect:wr,useMemo:Nr,useReducer:mr,useRef:br,useState:function(){return mr(hr)},useDebugValue:Rr,useResponder:tr,useDeferredValue:function(e,t){var n=mr(hr),r=n[0],i=n[1];return Sr(function(){var n=rr.suspense;rr.suspense=void 0===t?null:t;try{i(e)}finally{rr.suspense=n}},[e,t]),r},useTransition:function(e){var t=mr(hr),n=t[0];return t=t[1],[Cr(zr.bind(null,t,e),[t,e]),n]},useEvent:Mr},Fr={readContext:xn,useCallback:Cr,useContext:xn,useEffect:Sr,useImperativeHandle:Pr,useLayoutEffect:wr,useMemo:Nr,useReducer:gr,useRef:br,useState:function(){return gr(hr)},useDebugValue:Rr,useResponder:tr,useDeferredValue:function(e,t){var n=gr(hr),r=n[0],i=n[1];return Sr(function(){var n=rr.suspense;rr.suspense=void 0===t?null:t;try{i(e)}finally{rr.suspense=n}},[e,t]),r},useTransition:function(e){var t=gr(hr),n=t[0];return t=t[1],[Cr(zr.bind(null,t,e),[t,e]),n]},useEvent:Mr},Qr=_e.ReactCurrentOwner,Or=!1;function jr(e,t,n,r){t.child=null===e?Ln(t,null,n,r):Wn(t,e.child,n,r)}function Hr(e,t,n,r,i){n=n.render;var l=t.ref;return Tn(t,i),r=fr(e,t,n,r,l,i),null===e||Or?(t.effectTag|=1,jr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ii(e,t,i))}function Wr(e,t,n,r,i,l){if(null===e){var a=n.type;return"function"!=typeof a||Vl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xl(n.type,null,r,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Lr(e,t,a,r,i,l))}return a=e.child,i<l&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:sn)(i,r)&&e.ref===t.ref)?ii(e,t,l):(t.effectTag|=1,(e=ql(a,r)).ref=t.ref,e.return=t,t.child=e)}function Lr(e,t,n,r,i,l){return null!==e&&sn(e.memoizedProps,r)&&e.ref===t.ref&&(Or=!1,i<l)?(t.expirationTime=e.expirationTime,ii(e,t,l)):Vr(e,t,n,r,l)}function Br(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vr(e,t,n,r,i){var l=_t(n)?Pt:wt.current;return l=Rt(t,l),Tn(t,i),n=fr(e,t,n,r,l,i),null===e||Or?(t.effectTag|=1,jr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ii(e,t,i))}function Yr(e,t,n,r,i){if(_t(n)){var l=!0;It(t)}else l=!1;if(Tn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Un(t,n,r),Fn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,s=n.contextType;"object"==typeof s&&null!==s?s=xn(s):s=Rt(t,s=_t(n)?Pt:wt.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==s)&&Dn(t,a,r,s),En=!1;var d=t.memoizedState;a.state=d,_n(t,r,a,i),u=t.memoizedState,o!==r||d!==u||kt.current||En?("function"==typeof c&&(In(t,n,c,r),u=t.memoizedState),(o=En||An(t,n,o,r,d,u,s))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=o):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,wn(e,t),o=t.memoizedProps,a.props=t.type===t.elementType?o:dn(t.type,o),u=a.context,"object"==typeof(s=n.contextType)&&null!==s?s=xn(s):s=Rt(t,s=_t(n)?Pt:wt.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==s)&&Dn(t,a,r,s),En=!1,u=t.memoizedState,a.state=u,_n(t,r,a,i),d=t.memoizedState,o!==r||u!==d||kt.current||En?("function"==typeof c&&(In(t,n,c,r),d=t.memoizedState),(c=En||An(t,n,o,r,u,d,s))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,s)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=s,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return qr(e,t,n,r,l,i)}function qr(e,t,n,r,i,l){Br(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Mt(t,n,!1),ii(e,t,l);r=t.stateNode,Qr.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Wn(t,e.child,null,l),t.child=Wn(t,null,o,l)):jr(e,t,o,l),t.memoizedState=r.state,i&&Mt(t,n,!0),t.child}function Xr(e){var t=e.stateNode;t.pendingContext?Nt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nt(0,t.context,!1),$n(e,t.containerInfo)}var $r,Kr,Gr,Jr,Zr={dehydrated:null,retryTime:0};function ei(e,t,n){var r,i=t.mode,l=t.pendingProps,a=Zn.current,o=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),Et(Zn,1&a),null===e){if(o){if(o=l.fallback,(l=$l(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=$l(o,i,n,null)).return=t,l.sibling=n,t.memoizedState=Zr,t.child=l,n}return i=l.children,t.memoizedState=null,t.child=Ln(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,o){if(l=l.fallback,(n=ql(e,e.pendingProps)).return=t,0==(2&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=o;null!==o;)o.return=n,o=o.sibling;return(i=ql(i,l)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Zr,t.child=n,i}return n=Wn(t,e.child,l.children,n),t.memoizedState=null,t.child=n}if(e=e.child,o){if(o=l.fallback,(l=$l(null,i,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=$l(o,i,n,null)).return=t,l.sibling=n,n.effectTag|=2,l.childExpirationTime=0,t.memoizedState=Zr,t.child=l,n}return t.memoizedState=null,t.child=Wn(t,e,l.children,n)}function ti(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),bn(e.return,t)}function ni(e,t,n,r,i,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=l)}function ri(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(jr(e,t,r.children,n),0!=(2&(r=Zn.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ti(e,n);else if(19===e.tag)ti(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Et(Zn,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ni(t,!1,i,n,l,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===er(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ni(t,!0,n,null,l,t.lastEffect);break;case"together":ni(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ii(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&kl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function li(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ai(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _t(t.type)&&Ct(),null;case 3:return Kn(),xt(kt),xt(wt),(e=t.stateNode).pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),Kr(t),null;case 5:Jn(t);var i=Xn(qn.current);if(n=t.type,null!==e&&null!=t.stateNode)Gr(e,t,n,r,i),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}Xn(Vn.current),e=ht(),n=ft(n);var l=ot(null,Je,r,n.validAttributes);u.UIManager.createView(e,n.uiViewClassName,i,l),i=new st(e,n,t),ye.set(e,t),be.set(e,r),$r(i,t,!1,!1),t.stateNode=i,gt(i)&&(t.effectTag|=4),null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Jr(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=Xn(qn.current),!Xn(Vn.current).isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");i=ht(),u.UIManager.createView(i,"RCTRawText",e,{text:r}),ye.set(i,t),t.stateNode=i}return null;case 13:return xt(Zn),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(r=null!==r,i=!1,null!==e&&(i=null!==(n=e.memoizedState),r||null===n||null!==(n=e.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=n,n.nextEffect=l):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Zn.current)?qi===Fi&&(qi=ji):(qi!==Fi&&qi!==ji||(qi=Hi),0!==Ji&&null!==Bi&&(ea(Bi,Yi),ta(Bi,Ji)))),(r||i)&&(t.effectTag|=4),null);case 4:return Kn(),Kr(t),null;case 10:return yn(t),null;case 17:return _t(t.type)&&Ct(),null;case 19:if(xt(Zn),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(l=r.rendering)){if(i)li(r,!1);else if(qi!==Fi||null!==e&&0!=(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.effectTag|=64,li(r,!1),null!==(e=l.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(l=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=l.childExpirationTime,i.expirationTime=l.expirationTime,i.child=l.child,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,n=l.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return Et(Zn,1&Zn.current|2),t.child}e=e.sibling}}else{if(!i)if(null!==(e=er(l))){if(t.effectTag|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),li(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Jt()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,li(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=r.last)?e.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Jt()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Jt(),e.sibling=null,t=Zn.current,Et(Zn,i?1&t|2:1&t),e):null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function oi(e){switch(e.tag){case 1:_t(e.type)&&Ct();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Kn(),xt(kt),xt(wt),0!=(64&(t=e.effectTag)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.effectTag=-4097&t|64,e;case 5:return Jn(e),null;case 13:return xt(Zn),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return xt(Zn),null;case 4:return Kn(),null;case 10:return yn(e),null;default:return null}}function ui(e,t){return{value:e,source:t,stack:fn(t)}}if($r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e._children.push(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Kr=function(){},Gr=function(e,t,n,r){e.memoizedProps!==r&&(Xn(Vn.current),t.updateQueue=dt)&&(t.effectTag|=4)},Jr=function(e,t,n,r){n!==r&&(t.effectTag|=4)},"function"!=typeof u.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");var si="function"==typeof WeakSet?WeakSet:Set;function ci(e,t){var n,r=t.source,i=t.stack;null===i&&null!==r&&(i=fn(r)),t={componentName:null!==r?qe(r.type):null,componentStack:null!==i?i:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1},null!==e&&1===e.tag&&(t.errorBoundary=e.stateNode,t.errorBoundaryName=qe(e.type),t.errorBoundaryFound=!0,t.willRetry=!0);try{n=t,!1!==u.ReactFiberErrorDialog.showErrorDialog(n)&&console.error(n.error)}catch(e){setTimeout(function(){throw e})}}function fi(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ql(e,t)}}function di(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ql(e,t)}else t.current=null}function pi(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:dn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function hi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function mi(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gi(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void mi(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:dn(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Cn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Cn(n,t,e)}return;case 5:case 6:case 4:case 12:case 13:return;case 19:case 17:case 20:case 21:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function vi(e,t,n){switch("function"==typeof Wl&&Wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;tn(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Ql(i,e)}}e=e.next}while(e!==r)})}break;case 1:di(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&fi(t,n);break;case 5:di(t);break;case 4:Si(e,t,n)}}function yi(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&yi(t)}function bi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ti(e){e:{for(var t=e.return;null!==t;){if(bi(t)){var n=t;break e}t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}16&n.effectTag&&(n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?xi(e,n,t):Ei(e,n,t)}function xi(e,t,n){var r=e.tag,i=5===r||6===r;if(i)if(e=i?e.stateNode:e.stateNode.instance,t){if("number"==typeof n)throw Error("Container does not support insertBefore operation")}else u.UIManager.setChildren(n,["number"==typeof e?e:e._nativeTag]);else if(4!==r&&null!==(e=e.child))for(xi(e,t,n),e=e.sibling;null!==e;)xi(e,t,n),e=e.sibling}function Ei(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?0<=(i=(r=n._children).indexOf(e))?(r.splice(i,1),t=r.indexOf(t),r.splice(t,0,e),u.UIManager.manageChildren(n._nativeTag,[i],[t],[],[],[])):(t=r.indexOf(t),r.splice(t,0,e),u.UIManager.manageChildren(n._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[t],[])):(t="number"==typeof e?e:e._nativeTag,0<=(i=(r=n._children).indexOf(e))?(r.splice(i,1),r.push(e),u.UIManager.manageChildren(n._nativeTag,[i],[r.length-1],[],[],[])):(r.push(e),u.UIManager.manageChildren(n._nativeTag,[],[],[t],[r.length-1],[])));else if(4!==r&&null!==(e=e.child))for(Ei(e,t,n),e=e.sibling;null!==e;)Ei(e,t,n),e=e.sibling}function Si(e,t,n){for(var r,i,l=t,a=!1;;){if(!a){a=l.return;e:for(;;){if(null===a)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===l.tag||6===l.tag){e:for(var o=e,s=l,c=n,f=s;;)if(vi(o,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===s)break e;for(;null===f.sibling;){if(null===f.return||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(o=r,mt(l.stateNode),u.UIManager.manageChildren(o,[],[],[],[],[0])):(o=r,mt(c=l.stateNode),c=(s=o._children).indexOf(c),s.splice(c,1),u.UIManager.manageChildren(o._nativeTag,[],[],[],[],[c]))}else if(4===l.tag){if(null!==l.child){r=l.stateNode.containerInfo,i=!0,l.child.return=l,l=l.child;continue}}else if(vi(e,l,n),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(a=!1)}l.sibling.return=l.return,l=l.sibling}}function wi(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void hi(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.updateQueue;t.updateQueue=null,null!==i&&(t=n.viewConfig,be.set(n._nativeTag,r),null!=(r=ot(null,e,r,t.validAttributes))&&u.UIManager.updateView(n._nativeTag,t.uiViewClassName,r))}return;case 6:if(null===t.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");return void u.UIManager.updateView(t.stateNode,"RCTRawText",{text:t.memoizedProps});case 3:case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,el=Jt()),null!==n)e:for(e=n;;){if(5===e.tag)if(i=e.stateNode,r){var l=i.viewConfig,a=ot(null,Je,{style:{display:"none"}},l.validAttributes);u.UIManager.updateView(i._nativeTag,l.uiViewClassName,a)}else{i=e.stateNode,a=e.memoizedProps,l=i.viewConfig,a=ot(null,o({},a,{style:[a.style,{display:"none"}]}),a,l.validAttributes),u.UIManager.updateView(i._nativeTag,l.uiViewClassName,a)}else{if(6===e.tag)throw Error("Not yet implemented.");if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ki(t);case 19:return void ki(t);case 17:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ki(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new si),t.forEach(function(t){var r=jl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Pi="function"==typeof WeakMap?WeakMap:Map;function Ri(e,t,n){(n=kn(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rl||(rl=!0,il=r),ci(e,t)},n}function _i(e,t,n){(n=kn(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ci(e,t),r(i)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ll?ll=new Set([this]):ll.add(this),ci(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ci,Ni=Math.ceil,zi=_e.ReactCurrentDispatcher,Ii=_e.ReactCurrentOwner,Mi=0,Ai=8,Ui=16,Di=32,Fi=0,Qi=1,Oi=2,ji=3,Hi=4,Wi=5,Li=Mi,Bi=null,Vi=null,Yi=0,qi=Fi,Xi=null,$i=1073741823,Ki=1073741823,Gi=null,Ji=0,Zi=!1,el=0,tl=500,nl=null,rl=!1,il=null,ll=null,al=!1,ol=null,ul=90,sl=null,cl=0,fl=null,dl=0;function pl(){return(48&Li)!==Mi?1073741821-(Jt()/10|0):0!==dl?dl:dl=1073741821-(Jt()/10|0)}function hl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Zt();if(0==(4&t))return 99===r?1073741823:1073741822;if((Li&Ui)!==Mi)return Yi;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw Error("Expected a valid priority level")}return null!==Bi&&e===Yi&&--e,e}function ml(e,t){if(50<cl)throw cl=0,fl=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(null!==(e=gl(e,t))){var n=Zt();1073741823===t?(Li&Ai)!==Mi&&(48&Li)===Mi?Tl(e):(yl(e),Li===Mi&&ln()):yl(e),(4&Li)===Mi||98!==n&&99!==n||(null===sl?sl=new Map([[e,t]]):(void 0===(n=sl.get(e))||n>t)&&sl.set(e,t))}}function gl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Bi===i&&(kl(t),qi===Hi&&ea(i,Yi)),ta(i,t)),i}function vl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Zl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function yl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=rn(Tl.bind(null,e));else{var t=vl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=pl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Vt&&Dt(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?rn(Tl.bind(null,e)):nn(r,bl.bind(null,e),{timeout:10*(1073741821-t)-Jt()}),e.callbackNode=t}}}function bl(e,t){if(dl=0,t){t=pl();var n=e.lastExpiredTime;return(0===n||n>t)&&(e.lastExpiredTime=t),yl(e),null}if(0===(n=vl(e)))return null;if(t=e.callbackNode,(48&Li)!==Mi)throw Error("Should not already be working.");Ul();var r=n,i=Li;Li|=Ui;var l=Sl();for(e===Bi&&r===Yi||xl(e,r);;)try{_l();break}catch(t){El(e,t)}if(vn(),zi.current=l,Li=i,null!==Vi?i=Fi:(Bi=null,i=qi),i!==Fi){if(i===Oi&&(i=Pl(e,n=2<n?2:n)),i===Qi)throw t=Xi,xl(e,n),ea(e,n),yl(e),t;switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i){case Fi:case Qi:throw Error("Root did not complete. This is a bug in React.");case Oi:Il(e);break;case ji:if(ea(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=zl(r)),1073741823===$i&&10<(r=el+tl-Jt())){if(Zi&&(0===(l=e.lastPingedTime)||l>=n)){e.lastPingedTime=n,xl(e,n);break}if(0!==(l=vl(e))&&l!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=vt(Il.bind(null,e),r);break}Il(e);break;case Hi:if(ea(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=zl(r)),Zi&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,xl(e,n);break}if(0!==(r=vl(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Ki?r=10*(1073741821-Ki)-Jt():1073741823===$i?r=0:(r=10*(1073741821-$i)-5e3,n=10*(1073741821-n)-(i=Jt()),0>(r=i-r)&&(r=0),n<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ni(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=vt(Il.bind(null,e),r);break}Il(e);break;case Wi:if(1073741823!==$i&&null!==Gi){l=$i;var a=Gi;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(l=Jt()-(10*(1073741821-l)-(0|a.timeoutMs||5e3)))<=i?0:i+r-l),10<r){ea(e,n),e.timeoutHandle=vt(Il.bind(null,e),r);break}}Il(e);break;default:throw Error("Unknown root exit status.")}}return yl(e),e.callbackNode===t?bl.bind(null,e):null}function Tl(e){if((48&Li)!==Mi)throw Error("Should not already be working.");Ul();var t=e.lastExpiredTime,n=Pl(e,t=0!==t?e===Bi&&Yi>=t?Yi:t:1073741823);if(0!==e.tag&&n===Oi&&(n=Pl(e,t=2<t?2:t)),n===Qi)throw n=Xi,xl(e,t),ea(e,t),yl(e),n;return e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Il(e),yl(e),null}function xl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,yt(n)),null!==Vi)for(n=Vi.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ct();break;case 3:Kn(),xt(kt),xt(wt);break;case 5:Jn(r);break;case 4:Kn();break;case 13:case 19:xt(Zn);break;case 10:yn(r)}n=n.return}Bi=e,Vi=ql(e.current,null),Yi=t,qi=Fi,Xi=null,Ki=$i=1073741823,Gi=null,Ji=0,Zi=!1}function El(e,t){for(;;){try{if(vn(),nr.current=Ar,ur)for(var n=lr.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(ir=0,or=ar=lr=null,ur=!1,null===Vi||null===Vi.return)return qi=Qi,Xi=t,Vi=null;e:{var i=e,l=Vi.return,a=Vi,o=t;if(t=Yi,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var u=o;if(0==(2&a.mode)){var s=a.alternate;s?(a.updateQueue=s.updateQueue,a.memoizedState=s.memoizedState,a.expirationTime=s.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Zn.current),f=l;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=kn(1073741823,null);v.tag=2,Pn(a,v)}a.expirationTime=1073741823;break e}o=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Pi,o=new Set,y.set(u,o)):void 0===(o=y.get(u))&&(o=new Set,y.set(u,o)),!o.has(a)){o.add(a);var b=Ol.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);o=Error((qe(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+fn(a))}qi!==Wi&&(qi=Oi),o=ui(o,a),f=l;do{switch(f.tag){case 3:u=o,f.effectTag|=4096,f.expirationTime=t,Rn(f,Ri(f,u,t));break e;case 1:u=o;var T=f.type,x=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof T.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===ll||!ll.has(x)))){f.effectTag|=4096,f.expirationTime=t,Rn(f,_i(f,u,t));break e}}f=f.return}while(null!==f)}Vi=Nl(Vi)}catch(e){t=e;continue}break}}function Sl(){var e=zi.current;return zi.current=Ar,null===e?Ar:e}function wl(e,t){e<$i&&2<e&&($i=e),null!==t&&e<Ki&&2<e&&(Ki=e,Gi=t)}function kl(e){e>Ji&&(Ji=e)}function Pl(e,t){var n=Li;Li|=Ui;var r=Sl();for(e===Bi&&t===Yi||xl(e,t);;)try{Rl();break}catch(t){El(e,t)}if(vn(),Li=n,zi.current=r,null!==Vi)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Bi=null,qi}function Rl(){for(;null!==Vi;)Vi=Cl(Vi)}function _l(){for(;null!==Vi&&!Yt();)Vi=Cl(Vi)}function Cl(e){var t=Ci(e.alternate,e,Yi);return e.memoizedProps=e.pendingProps,null===t&&(t=Nl(e)),Ii.current=null,t}function Nl(e){Vi=e;do{var t=Vi.alternate;if(e=Vi.return,0==(2048&Vi.effectTag)){if(t=ai(t,Vi,Yi),1===Yi||1!==Vi.childExpirationTime){for(var n=0,r=Vi.child;null!==r;){var i=r.expirationTime,l=r.childExpirationTime;i>n&&(n=i),l>n&&(n=l),r=r.sibling}Vi.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Vi.firstEffect),null!==Vi.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Vi.firstEffect),e.lastEffect=Vi.lastEffect),1<Vi.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Vi:e.firstEffect=Vi,e.lastEffect=Vi))}else{if(null!==(t=oi(Vi)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Vi.sibling))return t;Vi=e}while(null!==Vi);return qi===Fi&&(qi=Wi),null}function zl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Il(e){var t=Zt();return tn(99,Ml.bind(null,e,t)),null}function Ml(e,t){do{Ul()}while(null!==ol);if((48&Li)!==Mi)throw Error("Should not already be working.");var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=zl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Bi&&(Vi=Bi=null,Yi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var l=Li;Li|=Di,Ii.current=null,nl=i;do{try{Al()}catch(e){if(null===nl)throw Error("Should be working on an effect.");Ql(nl,e),nl=nl.nextEffect}}while(null!==nl);nl=i;do{try{for(var a=e,o=t;null!==nl;){var u=nl.effectTag;if(128&u){var s=nl.alternate;if(null!==s){var c=s.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}switch(1038&u){case 2:Ti(nl),nl.effectTag&=-3;break;case 6:Ti(nl),nl.effectTag&=-3,wi(nl.alternate,nl);break;case 1024:nl.effectTag&=-1025;break;case 1028:nl.effectTag&=-1025,wi(nl.alternate,nl);break;case 4:wi(nl.alternate,nl);break;case 8:var f=nl;Si(a,f,o),yi(f)}nl=nl.nextEffect}}catch(e){if(null===nl)throw Error("Should be working on an effect.");Ql(nl,e),nl=nl.nextEffect}}while(null!==nl);e.current=n,nl=i;do{try{for(u=e;null!==nl;){var d=nl.effectTag;if(36&d&&gi(u,nl.alternate,nl),128&d){s=void 0;var p=nl.ref;if(null!==p){var h=nl.stateNode;switch(nl.tag){case 5:s=h;break;default:s=h}"function"==typeof p?p(s):p.current=s}}nl=nl.nextEffect}}catch(e){if(null===nl)throw Error("Should be working on an effect.");Ql(nl,e),nl=nl.nextEffect}}while(null!==nl);nl=null,qt(),Li=l}else e.current=n;if(al)al=!1,ol=e,ul=t;else for(nl=i;null!==nl;)t=nl.nextEffect,nl.nextEffect=null,nl=t;if(0===(t=e.firstPendingTime)&&(ll=null),1073741823===t?e===fl?cl++:(cl=0,fl=e):cl=0,"function"==typeof Hl&&Hl(n.stateNode,r),yl(e),rl)throw rl=!1,e=il,il=null,e;return(Li&Ai)!==Mi?null:(ln(),null)}function Al(){for(;null!==nl;){var e=nl.effectTag;0!=(256&e)&&pi(nl.alternate,nl),0==(512&e)||al||(al=!0,nn(97,function(){return Ul(),null})),nl=nl.nextEffect}}function Ul(){if(90!==ul){var e=97<ul?97:ul;return ul=90,tn(e,Dl)}}function Dl(){if(null===ol)return!1;var e=ol;if(ol=null,(48&Li)!==Mi)throw Error("Cannot flush passive effects while already rendering.");var t=Li;for(Li|=Di,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:hi(5,n),mi(5,n)}}catch(t){if(null===e)throw Error("Should be working on an effect.");Ql(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Li=t,ln(),!0}function Fl(e,t,n){Pn(e,t=Ri(e,t=ui(n,t),1073741823)),null!==(e=gl(e,1073741823))&&yl(e)}function Ql(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ll||!ll.has(r))){Pn(n,e=_i(n,e=ui(t,e),1073741823)),null!==(n=gl(n,1073741823))&&yl(n);break}}n=n.return}}function Ol(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Bi===e&&Yi===n?qi===Hi||qi===ji&&1073741823===$i&&Jt()-el<tl?xl(e,Yi):Zi=!0:Zl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,yl(e)))}function jl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=hl(t=pl(),e,null)),null!==(e=gl(e,t))&&yl(e)}Ci=function(e,t,n){var r=t.expirationTime;if(null!==e)if(e.memoizedProps!==t.pendingProps||kt.current)Or=!0;else{if(r<n){switch(Or=!1,t.tag){case 3:Xr(t);break;case 5:Gn(t);break;case 1:_t(t.type)&&It(t);break;case 4:$n(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Et(pn,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ei(e,t,n):(Et(Zn,1&Zn.current),null!==(t=ii(e,t,n))?t.sibling:null);Et(Zn,1&Zn.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ri(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Et(Zn,Zn.current),!r)return null}return ii(e,t,n)}Or=!1}else Or=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Rt(t,wt.current),Tn(t,n),i=fr(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)){var l=!0;It(t)}else l=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Sn(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&In(t,r,a,e),i.updater=Mn,t.stateNode=i,i._reactInternalFiber=t,Fn(t,r,e,n),t=qr(null,t,r,!0,l,n)}else t.tag=0,jr(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,Ye(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,l=t.tag=Yl(i),e=dn(i,e),l){case 0:t=Vr(null,t,i,e,n);break e;case 1:t=Yr(null,t,i,e,n);break e;case 11:t=Hr(null,t,i,e,n);break e;case 14:t=Wr(null,t,i,dn(i.type,e),r,n);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function.")}return t;case 0:return r=t.type,i=t.pendingProps,Vr(e,t,r,i=t.elementType===r?i:dn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Yr(e,t,r,i=t.elementType===r?i:dn(r,i),n);case 3:if(Xr(t),r=t.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,wn(e,t),_n(t,r,null,n),(r=t.memoizedState.element)===i?t=ii(e,t,n):(jr(e,t,r,n),t=t.child),t;case 5:return Gn(t),r=t.pendingProps.children,Br(e,t),jr(e,t,r,n),t=t.child;case 6:return null;case 13:return ei(e,t,n);case 4:return $n(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wn(t,null,r,n):jr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Hr(e,t,r,i=t.elementType===r?i:dn(r,i),n);case 7:return jr(e,t,t.pendingProps,n),t.child;case 8:case 12:return jr(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value;var o=t.type._context;if(Et(pn,o._currentValue),o._currentValue=l,null!==a)if(o=a.value,0===(l=on(o,l)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,l):1073741823))){if(a.children===i.children&&!kt.current){t=ii(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var s=u.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&l)){1===o.tag&&((s=kn(n,null)).tag=2,Pn(o,s)),o.expirationTime<n&&(o.expirationTime=n),null!==(s=o.alternate)&&s.expirationTime<n&&(s.expirationTime=n),bn(o.return,n),u.expirationTime<n&&(u.expirationTime=n);break}s=s.next}}else a=10===o.tag&&o.type===t.type?null:o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}jr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(l=t.pendingProps).children,Tn(t,n),r=r(i=xn(i,l.unstable_observedBits)),t.effectTag|=1,jr(e,t,r,n),t.child;case 14:return l=dn(i=t.type,t.pendingProps),Wr(e,t,i,l=dn(i.type,l),r,n);case 15:return Lr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_t(r)?(e=!0,It(t)):e=!1,Tn(t,n),Un(t,r,i),Fn(t,r,i,n),qr(null,t,r,!0,e,n);case 19:return ri(e,t,n)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")};var Hl=null,Wl=null;function Ll(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Hl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yl(e){if("function"==typeof e)return Vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Qe)return 11;if(e===He)return 14}return 2}function ql(e,t){var n=e.alternate;return null===n?((n=new Bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xl(e,t,n,r,i,l){var a=2;if(r=e,"function"==typeof e)Vl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ie:return $l(n.children,i,l,t);case Fe:a=8,i|=7;break;case Me:a=8,i|=1;break;case Ae:return(e=new Bl(12,n,t,8|i)).elementType=Ae,e.type=Ae,e.expirationTime=l,e;case Oe:return(e=new Bl(13,n,t,i)).type=Oe,e.elementType=Oe,e.expirationTime=l,e;case je:return(e=new Bl(19,n,t,i)).elementType=je,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ue:a=10;break e;case De:a=9;break e;case Qe:a=11;break e;case He:a=14;break e;case We:a=16,r=null;break e;case Le:a=22;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(t=new Bl(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=l,t}function $l(e,t,n,r){return(e=new Bl(7,e,r,t)).expirationTime=n,e}function Kl(e,t,n){return(e=new Bl(6,e,null,t)).expirationTime=n,e}function Gl(e,t,n){return(t=new Bl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Zl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function ea(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function ta(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function na(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=Ge(t))?null:e.stateNode}function ra(e,t,n,r){var i=t.current,l=pl(),a=Nn.suspense;l=hl(l,i,a);e:if(n){n=n._reactInternalFiber;t:{if(Xe(n)!==n||1!==n.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(_t(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===n.tag){var u=n.type;if(_t(u)){n=zt(n,u,o);break e}}n=o}else n=St;return null===t.context?t.context=n:t.pendingContext=n,(t=kn(l,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Pn(i,t),ml(i,l),l}function ia(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function la(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=na(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}function aa(e){var t=sa.get(e);t&&ra(null,t,null,function(){sa.delete(e)})}xe=function(e,t){var n=Li;Li|=1;try{return e(t)}finally{(Li=n)===Mi&&ln()}};var oa,ua,sa=new Map;oa={findFiberByHostInstance:Te,bundleType:0,version:"16.13.0",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,la)}},ua=oa.findFiberByHostInstance,Ll({bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ua?ua(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}),l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={computeComponentStackForErrorReporting:function(e){return(e=Te(e))?fn(e):""}},l.createPortal=function(e,t){return ia(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},l.dispatchCommand=function(e,t,n){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,t,n):u.UIManager.dispatchViewManagerCommand(e._nativeTag,t,n))},l.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=na(e))?e:e.canonical?e.canonical:e},l.findNodeHandle=la,l.render=function(e,t,n){var r=sa.get(t);if(!r){r=new Jl(t,0,!1);var i=new Bl(3,null,null,0);r.current=i,i.stateNode=r,Sn(i),sa.set(t,r)}ra(e,r,null,n);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode;break e;default:e=e.child.stateNode}else e=null;return e},l.unmountComponentAtNode=aa,l.unmountComponentAtNodeAndRemoveContainer=function(e){aa(e),u.UIManager.removeRootView(e)},l.unstable_batchedUpdates=Se},90,[16,91,175,59,198]);
__d(function(g,r,i,a,m,e,d){r(d[0])},91,[92]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]);var n=r(d[12]);n.markPoint('initializeCore_start',n.currentTimestamp()-(Date.now()-t)),n.markPoint('initializeCore_end')},92,[93,94,95,96,119,126,127,133,158,162,163,173,140]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.GLOBAL&&(g.GLOBAL=g),void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},93,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.performance||(g.performance={}),'function'!=typeof g.performance.now&&(g.performance.now=function(){return(g.nativePerformanceNow||Date.now)()})},94,[]);
__d(function(g,r,i,a,m,e,d){'use strict';if(g.__RCTProfileIsProfiling){var t=r(d[0]);t.installReactHook(),t.setEnabled(!0)}},95,[32]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]);if(o.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(t,n){try{o.handleException(t,n)}catch(o){throw console.log('Failed to print error: ',o.message),t}})}},96,[97,31]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(r(d[2])),c=n(r(d[3])),s=n(r(d[4])),l=n(r(d[5])),u=n(r(d[6])),f=n(r(d[7])),p=t(r(d[8]));function y(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function E(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?y(Object(c),!0).forEach(function(n){(0,o.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var O,b=(function(t){(0,s.default)(p,t);var n,o,f=(n=p,o=v(),function(){var t,c=(0,u.default)(n);if(o){var s=(0,u.default)(this).constructor;t=Reflect.construct(c,arguments,s)}else t=c.apply(this,arguments);return(0,l.default)(this,t)});function p(){var t;(0,c.default)(this,p);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=f.call.apply(f,[this].concat(o))).name='',t}return p})((0,f.default)(Error)),h=!1;function j(t){if(O&&!h){h=!0;try{return O(t)}catch(t){}finally{h=!1}}return t}var x=0;function k(t,n,o){var c=r(d[9]).default;if(c){var s=r(d[10])(t),l=++x,u=t.message||'',f=u;null!=t.componentStack&&(f+="\n\nThis error is located at:"+t.componentStack);var y=null==t.name||''===t.name?'':t.name+": ";f.startsWith(y)||(f=y+f),f=null==t.jsEngine?f:f+", js engine: "+t.jsEngine;var v=!0!==t.forceRedbox,O=j({message:f,originalMessage:f===u?null:u,name:null==t.name||''===t.name?null:t.name,componentStack:'string'==typeof t.componentStack?t.componentStack:null,stack:s,id:l,isFatal:n,extraData:{jsEngine:t.jsEngine,rawStack:t.stack,suppressRedBox:v}});o&&console.error(O.message),v&&p.addException(E(E({},O),{},{isComponentError:!!t.isComponentError})),c.reportException(O)}else o&&console.error(t)}var w=!1;function S(){if(console._errorOriginal.apply(console,arguments),console.reportErrorsAsExceptions&&!w)if(arguments[0]&&arguments[0].stack)k(arguments[0],!1,!1);else{var t=r(d[11]).default,n=Array.prototype.map.call(arguments,function(n){return'string'==typeof n?n:t(n)}).join(' ');if('Warning: '===n.slice(0,9))return;var o=new b(n);o.name='console.error',k(o,!1,!1)}}m.exports={handleException:function(t,n){var o;o=t instanceof Error?t:new b(t);try{w=!0,k(o,n,!0)}finally{w=!1}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=S,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:b,unstable_setExceptionDecorator:function(t){O=t}}},97,[12,1,51,29,40,42,39,98,102,118,114,34]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]);function c(f){var p="function"==typeof Map?new Map:void 0;return m.exports=c=function(c){if(null===c||!o(c))return c;if("function"!=typeof c)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(c))return p.get(c);p.set(c,f)}function f(){return u(c,arguments,t(this).constructor)}return f.prototype=Object.create(c.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n(f,c)},c(f)}m.exports=c},98,[39,41,99,100]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")}},99,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);function p(o,u,l){return t()?m.exports=p=Reflect.construct:m.exports=p=function(t,p,o){var u=[null];u.push.apply(u,p);var l=new(Function.bind.apply(t,u));return o&&n(l,o.prototype),l},p.apply(null,arguments)}m.exports=p},100,[41,101]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}},101,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.reportLogBoxError=M,e.isLogBoxErrorMessage=function(t){return'string'==typeof t&&t.includes(z)},e.isMessageIgnored=N,e.addLog=function(t){var n=new Error;setImmediate(function(){try{var o=(0,p.default)(n);P(new v.default({level:t.level,message:t.message,isComponentError:!1,stack:o,category:t.category,componentStack:t.componentStack}))}catch(t){M(t)}})},e.addException=function(t){setImmediate(function(){try{P(new v.default((0,y.parseLogBoxException)(t)))}catch(t){M(t)}})},e.symbolicateLogNow=function(t){t.symbolicate(function(){B()})},e.retrySymbolicateLogNow=function(t){t.retrySymbolicate(function(){B()})},e.symbolicateLogLazy=function(t){t.symbolicate()},e.clear=function(){I.size>0&&(I=new Set,j(-1))},e.setSelectedLog=j,e.clearWarnings=function(){var t=Array.from(I).filter(function(t){return'warn'!==t.level});t.length!==I.size&&(I=new Set(t),j(-1),B())},e.clearErrors=function(){var t=Array.from(I).filter(function(t){return'error'!==t.level&&'fatal'!==t.level});t.length!==I.size&&(I=new Set(t),j(-1))},e.dismiss=F,e.setWarningFilter=function(t){R=t},e.setAppInfo=function(t){L=t},e.getAppInfo=function(){return null!=L?L():null},e.checkWarningFilter=function(t){return R(t)},e.addIgnorePatterns=function(t){var n=t.filter(function(t){if(t instanceof RegExp){for(var n,o=S(A.entries());!(n=o()).done;){var u=n.value;if(u instanceof RegExp&&u.toString()===t.toString())return!1}return!0}return!A.has(t)});if(0===n.length)return;for(var o,u=S(n);!(o=u()).done;){var l=o.value;A.add(l),I=new Set(Array.from(I).filter(function(t){return!N(t.message.content)}))}B()},e.setDisabled=function(t){if(t===k)return;k=t,B()},e.isDisabled=function(){return k},e.observe=T,e.withSubscription=function(t){return(function(n){(0,l.default)(h,n);var v,y,p=(v=h,y=b(),function(){var t,n=(0,c.default)(v);if(y){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function h(){var t;(0,o.default)(this,h);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return(t=p.call.apply(p,[this].concat(u))).state={logs:new Set,isDisabled:!1,hasError:!1,selectedLogIndex:-1},t._handleDismiss=function(){var n=t.state,o=n.selectedLogIndex,u=n.logs,l=Array.from(u);null!=o&&(l.length-1<=0?j(-1):o>=l.length-1&&j(o-1),F(l[o]))},t._handleMinimize=function(){j(-1)},t._handleSetSelectedLog=function(t){j(t)},t}return(0,u.default)(h,[{key:"componentDidCatch",value:function(t,n){M(t,n.componentStack)}},{key:"render",value:function(){return this.state.hasError?null:f.createElement(t,{logs:Array.from(this.state.logs),isDisabled:this.state.isDisabled,selectedLogIndex:this.state.selectedLogIndex})}},{key:"componentDidMount",value:function(){var t=this;this._subscription=T(function(n){t.setState(n)})}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.unsubscribe()}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),h})(f.Component)};var o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),s=n(r(d[5])),c=n(r(d[6])),f=t(r(d[7])),v=n(r(d[8])),y=r(d[9]),p=n(r(d[10])),h=n(r(d[11]));function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function S(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=w(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function w(t,n){if(t){if("string"==typeof t)return E(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(t,n):void 0}}function E(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var x=new Set,A=new Set,L=null,I=new Set,D=null,k=!1,_=-1,R=function(t){return{finalFormat:t,forceDialogImmediately:!1,suppressDialog_LEGACY:!0,suppressCompletely:!1,monitorEvent:'unknown',monitorListVersion:0,monitorSampleRate:1}},z='An error was thrown when attempting to render log messages via LogBox.';function C(){return{logs:I,isDisabled:k,selectedLogIndex:_}}function M(t,n){var o=r(d[12]);t.forceRedbox=!0,t.message="An error was thrown when attempting to render log messages via LogBox.\n\n"+t.message,null!=n&&(t.componentStack=n),o.handleException(t,!0)}function N(t){for(var n,o=S(A);!(n=o()).done;){var u=n.value;if(u instanceof RegExp&&u.test(t)||'string'==typeof u&&t.includes(u))return!0}return!1}function B(){null==D&&(D=setImmediate(function(){D=null;var t=C();x.forEach(function(n){return(0,n.observer)(t)})}))}function P(t){if(!N(t.message.content)){var n=Array.from(I).pop();if(n&&n.category===t.category)return n.incrementCount(),void B();if('fatal'===t.level){var o=function(){I.add(t),_<=0?j(I.size-1):B(),o=null},u=setTimeout(function(){o&&o()},1e3);t.symbolicate(function(t){o&&'PENDING'!==t?(o(),clearTimeout(u)):'PENDING'!==t&&B()})}else'syntax'===t.level?(I.add(t),j(I.size-1)):(I.add(t),B())}}function j(t){for(var n=_,o=t,u=Array.from(I),l=u.length-1;l>=0;){if('syntax'===u[l].level){o=l;break}l-=1}_=o,B(),h.default&&setTimeout(function(){n<0&&o>=0?h.default.show():n>=0&&o<0&&h.default.hide()},0)}function F(t){I.has(t)&&(I.delete(t),B())}function T(t){var n={observer:t};return x.add(n),t(C()),{unsubscribe:function(){x.delete(n)}}}},102,[12,1,29,30,40,42,39,59,103,112,114,117,97]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=s(r(d[2])),u=s(r(d[3])),n=t(r(d[4])),c=(function(){function t(s){(0,l.default)(this,t),this.symbolicated={error:null,stack:null,status:'NONE'},this.level=s.level,this.type=s.type,this.message=s.message,this.stack=s.stack,this.category=s.category,this.componentStack=s.componentStack,this.codeFrame=s.codeFrame,this.isComponentError=s.isComponentError,this.count=1}return(0,u.default)(t,[{key:"incrementCount",value:function(){this.count+=1}},{key:"getAvailableStack",value:function(){return'COMPLETE'===this.symbolicated.status?this.symbolicated.stack:this.stack}},{key:"retrySymbolicate",value:function(t){'COMPLETE'!==this.symbolicated.status&&(n.deleteStack(this.stack),this.handleSymbolicate(t))}},{key:"symbolicate",value:function(t){'NONE'===this.symbolicated.status&&this.handleSymbolicate(t)}},{key:"handleSymbolicate",value:function(t){var s=this;'PENDING'!==this.symbolicated.status&&(this.updateStatus(null,null,null,t),n.symbolicate(this.stack).then(function(l){s.updateStatus(null,null==l?void 0:l.stack,null==l?void 0:l.codeFrame,t)},function(l){s.updateStatus(l,null,null,t)}))}},{key:"updateStatus",value:function(t,s,l,u){var n=this.symbolicated.status;null!=t?this.symbolicated={error:t,stack:null,status:'FAILED'}:null!=s?(l&&(this.codeFrame=l),this.symbolicated={error:null,stack:s,status:'COMPLETE'}):this.symbolicated={error:null,stack:null,status:'PENDING'},u&&n!==this.symbolicated.status&&u(this.symbolicated.status)}}]),t})();e.default=c},103,[12,1,29,30,104]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deleteStack=function(t){u.delete(t)},e.symbolicate=function(t){var o=u.get(t);null==o&&(o=(0,n.default)(t).then(f),u.set(t,o));return o};var n=t(r(d[1]));function o(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=l(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function l(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=t[o];return l}var u=new Map,f=function(t){var n=t.stack,l=t.codeFrame;if(!Array.isArray(n))throw new Error('Expected stack to be an array.');for(var c,u=[],f=o(n);!(c=f()).done;){var s=c.value,y=!1;if('collapse'in s){if('boolean'!=typeof s.collapse)throw new Error('Expected stack frame `collapse` to be a boolean.');y=s.collapse}u.push({column:s.column,file:s.file,lineNumber:s.lineNumber,methodName:s.methodName,collapse:y})}return{stack:u,codeFrame:l}}},104,[1,105]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3]));function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function u(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(n){(0,o.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var f,l=r(d[4]);m.exports=function(t){var o,s,p,b,O,y;return n.default.async(function(j){for(;;)switch(j.prev=j.next){case 0:if(f||(f=g.fetch||r(d[5]).fetch),(o=l()).bundleLoadedFromServer){j.next=4;break}throw new Error('Bundle was not loaded from the packager');case 4:return s=t,p=c.default.getConstants(),(b=p.scriptURL)&&(O=!1,s=t.map(function(t){return null==t.file?t:O||(n=t.file,/^http/.test(n)||!/[\\/]/.test(n))?(O=!0,t):u(u({},t),{},{file:b});var n})),j.next=9,n.default.awrap(f(o.url+'symbolicate',{method:'POST',body:JSON.stringify({stack:s})}));case 9:return y=j.sent,j.next=12,n.default.awrap(y.json());case 12:return j.abrupt("return",j.sent);case 13:case"end":return j.stop()}},null,null,null,Promise)}},105,[1,106,51,108,109,110]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},106,[107]);
__d(function(g,r,i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,c=o.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function s(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,o){return t[n]=o}}function p(t,n,o,c){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new R(c||[]);return h._invoke=S(t,o,f),h}function y(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var v="suspendedStart",w="suspendedYield",L="executing",x="completed",b={};function E(){}function _(){}function j(){}var O={};O[h]=function(){return this};var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==o&&c.call(G,h)&&(O=G);var N=j.prototype=E.prototype=Object.create(O);function F(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function P(t,n){function o(u,h,f,l){var s=y(t[u],t,h);if("throw"!==s.type){var p=s.arg,v=p.value;return v&&"object"==typeof v&&c.call(v,"__await")?n.resolve(v.__await).then(function(t){o("next",t,f,l)},function(t){o("throw",t,f,l)}):n.resolve(v).then(function(t){p.value=t,f(p)},function(t){return o("throw",t,f,l)})}l(s.arg)}var u;this._invoke=function(t,c){function h(){return new n(function(n,u){o(t,c,n,u)})}return u=u?u.then(h,h):h()}}function S(t,n,o){var c=v;return function(u,h){if(c===L)throw new Error("Generator is already running");if(c===x){if("throw"===u)throw h;return q()}for(o.method=u,o.arg=h;;){var f=o.delegate;if(f){var l=T(f,o);if(l){if(l===b)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(c===v)throw c=x,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c=L;var s=y(t,n,o);if("normal"===s.type){if(c=o.done?x:w,s.arg===b)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(c=x,o.method="throw",o.arg=s.arg)}}}function T(t,o){var c=t.iterator[o.method];if(c===n){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=n,T(t,o),"throw"===o.method))return b;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var u=y(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,b;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,b):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,b)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function A(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function Y(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,f=function o(){for(;++u<t.length;)if(c.call(t,u))return o.value=t[u],o.done=!1,o;return o.value=n,o.done=!0,o};return f.next=f}}return{next:q}}function q(){return{value:n,done:!0}}return _.prototype=N.constructor=j,j.constructor=_,_.displayName=s(j,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,l,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},F(P.prototype),P.prototype[f]=function(){return this},t.AsyncIterator=P,t.async=function(o,c,u,h,f){f===n&&(f=Promise);var l=new P(p(o,c,u,h),f);return t.isGeneratorFunction(c)?l:l.next().then(function(t){return t.done?t.value:l.next()})},F(N),s(N,l,"Generator"),N[h]=function(){return this},N.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var o in t)n.push(o);return n.reverse(),function o(){for(;n.length;){var c=n.pop();if(c in t)return o.value=c,o.done=!1,o}return o.done=!0,o}},t.values=Y,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!t)for(var o in this)"t"===o.charAt(0)&&c.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function u(c,u){return l.type="throw",l.arg=t,o.next=c,u&&(o.method="next",o.arg=n),!!u}for(var h=this.tryEntries.length-1;h>=0;--h){var f=this.tryEntries[h],l=f.completion;if("root"===f.tryLoc)return u("end");if(f.tryLoc<=this.prev){var s=c.call(f,"catchLoc"),p=c.call(f,"finallyLoc");if(s&&p){if(this.prev<f.catchLoc)return u(f.catchLoc,!0);if(this.prev<f.finallyLoc)return u(f.finallyLoc)}else if(s){if(this.prev<f.catchLoc)return u(f.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return u(f.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&c.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var h=u;break}}h&&("break"===t||"continue"===t)&&h.tryLoc<=n&&n<=h.finallyLoc&&(h=null);var f=h?h.completion:{};return f.type=t,f.arg=n,h?(this.method="next",this.next=h.finallyLoc,b):this.complete(f)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),A(o),b}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var c=o.completion;if("throw"===c.type){var u=c.arg;A(o)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,c){return this.delegate={iterator:Y(t),resultName:o,nextLoc:c},"next"===this.method&&(this.arg=n),b}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},107,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('SourceCode');e.default=o},108,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0])(r(d[1])),l='http://localhost:8081/';m.exports=function(){if(void 0===t){var o=n.default.getConstants().scriptURL.match(/^https?:\/\/.*?\//);t=o?o[0]:null}return{url:t||l,bundleLoadedFromServer:null!==t}}},109,[1,108]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},110,[111]);
__d(function(g,r,i,a,m,e,d){var t,o;t=this,o=function(t){'use strict';var o='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==o&&o,n={searchParams:'URLSearchParams'in o,iterable:'Symbol'in o&&'iterator'in Symbol,blob:'FileReader'in o&&'Blob'in o&&(function(){try{return new Blob,!0}catch(t){return!1}})(),formData:'FormData'in o,arrayBuffer:'ArrayBuffer'in o};if(n.arrayBuffer)var s=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],h=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name');return t.toLowerCase()}function u(t){return'string'!=typeof t&&(t=String(t)),t}function c(t){var o={next:function(){var o=t.shift();return{done:void 0===o,value:o}}};return n.iterable&&(o[Symbol.iterator]=function(){return o}),o}function y(t){this.map={},t instanceof y?t.forEach(function(t,o){this.append(o,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(o){this.append(o,t[o])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError('Already read'));t.bodyUsed=!0}function p(t){return new Promise(function(o,n){t.onload=function(){o(t.result)},t.onerror=function(){n(t.error)}})}function b(t){var o=new FileReader,n=p(o);return o.readAsArrayBuffer(t),n}function w(t){for(var o=new Uint8Array(t),n=new Array(o.length),s=0;s<o.length;s++)n[s]=String.fromCharCode(o[s]);return n.join('')}function v(t){if(t.slice)return t.slice(0);var o=new Uint8Array(t.byteLength);return o.set(new Uint8Array(t)),o.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var o;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&((o=t)&&DataView.prototype.isPrototypeOf(o))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText='',this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},n.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=l(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(b)}),this.text=function(){var t,o,n,s=l(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,o=new FileReader,n=p(o),o.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(t,o){t=f(t),o=u(o);var n=this.map[t];this.map[t]=n?n+', '+o:o},y.prototype.delete=function(t){delete this.map[f(t)]},y.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},y.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},y.prototype.set=function(t,o){this.map[f(t)]=u(o)},y.prototype.forEach=function(t,o){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(o,this.map[n],n,this)},y.prototype.keys=function(){var t=[];return this.forEach(function(o,n){t.push(n)}),c(t)},y.prototype.values=function(){var t=[];return this.forEach(function(o){t.push(o)}),c(t)},y.prototype.entries=function(){var t=[];return this.forEach(function(o,n){t.push([n,o])}),c(t)},n.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);var E=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];function T(t,o){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,s,h=(o=o||{}).body;if(t instanceof T){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new y(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,h||null==t._bodyInit||(h=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new y(o.headers)),this.method=(n=o.method||this.method||'GET',s=n.toUpperCase(),E.indexOf(s)>-1?s:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&h)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(h),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==o.cache&&'no-cache'!==o.cache)){var f=/([?&])_=[^&]*/;if(f.test(this.url))this.url=this.url.replace(f,'$1_='+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}}function A(t){var o=new FormData;return t.trim().split('&').forEach(function(t){if(t){var n=t.split('='),s=n.shift().replace(/\+/g,' '),h=n.join('=').replace(/\+/g,' ');o.append(decodeURIComponent(s),decodeURIComponent(h))}}),o}function B(t,o){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');o||(o={}),this.type='default',this.status=void 0===o.status?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText='statusText'in o?o.statusText:'',this.headers=new y(o.headers),this.url=o.url||'',this._initBody(t)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},_.call(T.prototype),_.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},B.error=function(){var t=new B(null,{status:0,statusText:''});return t.type='error',t};var x=[301,302,303,307,308];B.redirect=function(t,o){if(-1===x.indexOf(o))throw new RangeError('Invalid status code');return new B(null,{status:o,headers:{location:t}})},t.DOMException=o.DOMException;try{new t.DOMException}catch(o){t.DOMException=function(t,o){this.message=t,this.name=o;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(s,h){return new Promise(function(f,c){var l=new T(s,h);if(l.signal&&l.signal.aborted)return c(new t.DOMException('Aborted','AbortError'));var p=new XMLHttpRequest;function b(){p.abort()}p.onload=function(){var t,o,n={status:p.status,statusText:p.statusText,headers:(t=p.getAllResponseHeaders()||'',o=new y,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var n=t.split(':'),s=n.shift().trim();if(s){var h=n.join(':').trim();o.append(s,h)}}),o)};n.url='responseURL'in p?p.responseURL:n.headers.get('X-Request-URL');var s='response'in p?p.response:p.responseText;setTimeout(function(){f(new B(s,n))},0)},p.onerror=function(){setTimeout(function(){c(new TypeError('Network request failed'))},0)},p.ontimeout=function(){setTimeout(function(){c(new TypeError('Network request failed'))},0)},p.onabort=function(){setTimeout(function(){c(new t.DOMException('Aborted','AbortError'))},0)},p.open(l.method,(function(t){try{return''===t&&o.location.href?o.location.href:t}catch(o){return t}})(l.url),!0),'include'===l.credentials?p.withCredentials=!0:'omit'===l.credentials&&(p.withCredentials=!1),'responseType'in p&&(n.blob?p.responseType='blob':n.arrayBuffer&&l.headers.get('Content-Type')&&-1!==l.headers.get('Content-Type').indexOf('application/octet-stream')&&(p.responseType='arraybuffer')),!h||'object'!=typeof h.headers||h.headers instanceof y?l.headers.forEach(function(t,o){p.setRequestHeader(o,t)}):Object.getOwnPropertyNames(h.headers).forEach(function(t){p.setRequestHeader(t,u(h.headers[t]))}),l.signal&&(l.signal.addEventListener('abort',b),p.onreadystatechange=function(){4===p.readyState&&l.signal.removeEventListener('abort',b)}),p.send(void 0===l._bodyInit?null:l._bodyInit)})}O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=y,o.Request=T,o.Response=B),t.Headers=y,t.Request=T,t.Response=B,t.fetch=O,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof e&&void 0!==m?o(e):'function'==typeof define&&define.amd?define(['exports'],o):o(t.WHATWGFetch={})},111,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.parseInterpolation=B,e.parseComponentStack=h,e.parseLogBoxException=function(t){var u=null!=t.originalMessage?t.originalMessage:'Unknown',o=u.match(C);if(o){var F=o.slice(1),s=(0,n.default)(F,5),D=s[0],l=s[1],f=s[2],p=s[3],E=s[4];return{level:'fatal',type:'Metro Error',stack:[],isComponentError:!1,componentStack:[],codeFrame:{fileName:l,location:{row:parseInt(f,10),column:parseInt(p,10)},content:E},message:{content:D,substitutions:[]},category:l+"-"+f+"-"+p}}var k=u.match(y);if(k){var x=k.slice(1),O=(0,n.default)(x,5),S=O[0],j=O[1],w=O[2],A=O[3],I=O[4];return{level:'syntax',stack:[],isComponentError:!1,componentStack:[],codeFrame:{fileName:S,location:{row:parseInt(w,10),column:parseInt(A,10)},content:I},message:{content:j,substitutions:[]},category:S+"-"+w+"-"+A}}var P=u.match(v);if(P){var M=P.slice(1),N=(0,n.default)(M,3),T=N[0],_=N[1],L=N[2];return{level:'syntax',stack:[],isComponentError:!1,componentStack:[],codeFrame:{fileName:T,location:null,content:L},message:{content:_,substitutions:[]},category:T+"-1-1"}}if(u.match(/^TransformError /))return{level:'syntax',stack:t.stack,isComponentError:t.isComponentError,componentStack:[],message:{content:u,substitutions:[]},category:u};var U=t.componentStack;if(t.isFatal||t.isComponentError)return c({level:'fatal',stack:t.stack,isComponentError:t.isComponentError,componentStack:null!=U?h(U):[]},B([u]));if(null!=U)return c({level:'error',stack:t.stack,isComponentError:t.isComponentError,componentStack:h(U)},B([u]));return c({level:'error',stack:t.stack,isComponentError:t.isComponentError},b([u]))},e.parseLogBoxLog=b;var u=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),F=t(r(d[4])),s=t(r(d[5]));function D(t,u){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);u&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,o)}return n}function c(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?D(Object(o),!0).forEach(function(n){(0,u.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}function l(t,u){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||u&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function f(t,u){if(t){if("string"==typeof t)return p(t,u);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,u):void 0}}function p(t,u){(null==u||u>t.length)&&(u=t.length);for(var n=0,o=new Array(u);n<u;n++)o[n]=t[n];return o}var y=/^(?:TransformError )?(?:SyntaxError: |ReferenceError: )(.*): (.*) \((\d+):(\d+)\)\n\n([\s\S]+)/,v=/^(?:TransformError )?(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*):? (?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)(\/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*): ((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?)\n([ >]{2}[\t-\r 0-9\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+ \|(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+|\x1B(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)/,C=/^(?:InternalError Metro has encountered an error:) ((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*): ((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*) \(([0-9]+):([0-9]+)\)\n\n((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)/,E=F.default.BOM+'%s';function B(t){var u=[],n=[],F=[],D=(0,o.default)(t);if('string'==typeof D[0]){for(var c,f=String(D.shift()).split('%s'),p=f.length-1,y=D.splice(0,p),v='',C='',B=0,h=l(f);!(c=h()).done;){var b=c.value;if(v+=b,C+=b,B<p){if(B<y.length){var k='string'==typeof y[B]?y[B]:(0,s.default)(y[B]);F.push({length:k.length,offset:C.length}),v+=E,C+=k}else F.push({length:2,offset:C.length}),v+='%s',C+='%s';B++}}u.push(v),n.push(C)}var x=D.map(function(t){return'string'==typeof t?t:(0,s.default)(t)});return u.push.apply(u,(0,o.default)(x)),n.push.apply(n,(0,o.default)(x)),{category:u.join(' '),message:{content:n.join(' '),substitutions:F}}}function h(t){return t.split(/\n {4}in /g).map(function(t){if(!t)return null;var u=t.match(/(.*) \(at (.*\.js):([\d]+)\)/);if(!u)return null;var o=u.slice(1),F=(0,n.default)(o,3),s=F[0],D=F[1],c=F[2];return{content:s,fileName:D,location:{column:-1,row:parseInt(c,10)}}}).filter(Boolean)}function b(t){var u=t[0],n=[],o=[];if('string'==typeof u&&'%s'===u.slice(-2)&&t.length>0){var F=t[t.length-1];'string'==typeof F&&/\s{4}in/.test(F)&&((n=t.slice(0,-1))[0]=u.slice(0,-2),o=h(F))}if(0===o.length)for(var s,D=l(t);!(s=D()).done;){var f=s.value;if('string'==typeof f&&/\n {4}in /.exec(f)){var p=f.indexOf('\n    in ');p>0&&n.push(f.slice(0,p)),o=h(f)}else n.push(f)}return c(c({},B(n)),{},{componentStack:o})}},112,[1,51,17,25,113,34]);
__d(function(g,r,i,a,m,e,d){'use strict';var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});m.exports=A},113,[33]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function o(o){for(var c=1;c<arguments.length;c++){var u=null!=arguments[c]?arguments[c]:{};c%2?n(Object(u),!0).forEach(function(n){t(o,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):n(Object(u)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(u,t))})}return o}function c(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function u(t,n){if(t){if("string"==typeof t)return l(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(t,n):void 0}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}var s=r(d[1]);function f(t){for(var n,o=[],u=c(t.entries);!(n=u()).done;){var l=n.value;if('FRAME'===l.type){var s=l.location,f=l.functionName;'NATIVE'!==s.type&&o.push({methodName:f,file:s.sourceUrl,lineNumber:s.line1Based,column:'SOURCE'===s.type?s.column1Based-1:s.virtualOffset0Based})}}return o}m.exports=function(t){if(!t||!t.stack)return[];var n=r(d[2]);return Array.isArray(t.stack)?t.stack:g.HermesInternal?f(s(t.stack)):n.parse(t.stack).map(function(t){return o(o({},t),{},{column:null!=t.column?t.column-1:null})})}},114,[51,115,116]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.+?):(\d+):(\d+)\))$/,n=/^ {4}... skipping (\d+) frames$/;function s(s){var u=s.match(t);if(u)return{type:'FRAME',functionName:u[1],location:'native'===u[2]?{type:'NATIVE'}:'address at '===u[3]?{type:'BYTECODE',sourceUrl:u[4],line1Based:Number.parseInt(u[5],10),virtualOffset0Based:Number.parseInt(u[6],10)}:{type:'SOURCE',sourceUrl:u[4],line1Based:Number.parseInt(u[5],10),column1Based:Number.parseInt(u[6],10)}};var p=s.match(n);return p?{type:'SKIPPED',count:Number.parseInt(p[1],10)}:void 0}m.exports=function(t){for(var n=t.split(/\n/),u=[],p=-1,o=0;o<n.length;++o){var c=n[o];if(c){var f=s(c);f?u.push(f):(p=o,u=[])}}return{message:n.slice(0,p+1).join('\n'),entries:u}}},115,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var o=l.exec(t);if(!o)return null;var c=o[2]&&0===o[2].indexOf('native'),s=o[2]&&0===o[2].indexOf('eval'),v=u.exec(o[2]);return s&&null!=v&&(o[2]=v[1],o[3]=v[2],o[4]=v[3]),{file:c?null:o[2],methodName:o[1]||n,arguments:c?[o[2]]:[],lineNumber:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}var o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function c(l){var u=o.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,o=v.exec(u[3]);return t&&null!=o&&(u[3]=o[1],u[4]=o[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||c(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},116,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('LogBox');e.default=o},117,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=(r(d[2]),o.getEnforcing('ExceptionsManager')),p={reportFatalException:function(t,o,p){n.reportFatalException(t,o,p)},reportSoftException:function(t,o,p){n.reportSoftException(t,o,p)},updateExceptionMessage:function(t,o,p){n.updateExceptionMessage(t,o,p)},dismissRedbox:function(){n.dismissRedbox&&n.dismissRedbox()},reportException:function(t){n.reportException?n.reportException(t):t.isFatal?p.reportFatalException(t.message,t.stack,t.id):p.reportSoftException(t.message,t.stack,t.id)}},s=p;e.default=s},118,[12,14,53]);
__d(function(g,r,i,a,m,e,d){'use strict';(0,r(d[0]).polyfillGlobal)('Promise',function(){return r(d[1])})},119,[120,121]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);function o(o,t,n){var c=Object.getOwnPropertyDescriptor(o,t),b=c||{},f=b.enumerable,u=b.writable,p=b.configurable;!c||p?l(o,t,{get:n,enumerable:!1!==f,writable:!1!==u}):console.error('Failed to set polyfill. '+t+' is not configurable.')}m.exports={polyfillObjectProperty:o,polyfillGlobal:function(l,t){o(g,l,t)}}},120,[35]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);r(d[1]),r(d[2]),m.exports=t},121,[122,124,125]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n;var t=y(!0),o=y(!1),f=y(null),u=y(void 0),c=y(0),l=y('');function y(t){var o=new n(n._0);return o._V=1,o._W=t,o}n.resolve=function(p){if(p instanceof n)return p;if(null===p)return f;if(void 0===p)return u;if(!0===p)return t;if(!1===p)return o;if(0===p)return c;if(''===p)return l;if('object'==typeof p||'function'==typeof p)try{var h=p.then;if('function'==typeof h)return new n(h.bind(p))}catch(t){return new n(function(n,o){o(t)})}return y(p)};var p=function(n){return'function'==typeof Array.from?(p=Array.from,Array.from(n)):(p=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};n.all=function(t){var o=p(t);return new n(function(t,f){if(0===o.length)return t([]);var u=o.length;function c(l,y){if(y&&('object'==typeof y||'function'==typeof y)){if(y instanceof n&&y.then===n.prototype.then){for(;3===y._V;)y=y._W;return 1===y._V?c(l,y._W):(2===y._V&&f(y._W),void y.then(function(n){c(l,n)},f))}var p=y.then;if('function'==typeof p)return void new n(p.bind(y)).then(function(n){c(l,n)},f)}o[l]=y,0==--u&&t(o)}for(var l=0;l<o.length;l++)c(l,o[l])})},n.reject=function(t){return new n(function(n,o){o(t)})},n.race=function(t){return new n(function(o,f){p(t).forEach(function(t){n.resolve(t).then(o,f)})})},n.prototype.catch=function(n){return this.then(null,n)}},122,[123]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(){}var t=null,o={};function u(n){try{return n.then}catch(n){return t=n,o}}function f(n,u){try{return n(u)}catch(n){return t=n,o}}function c(n,u,f){try{n(u,f)}catch(n){return t=n,o}}function _(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._U=0,this._V=0,this._W=null,this._X=null,t!==n&&X(t,this)}function s(t,o,u){return new t.constructor(function(f,c){var s=new _(n);s.then(f,c),l(t,new w(o,u,s))})}function l(n,t){for(;3===n._V;)n=n._W;if(_._Y&&_._Y(n),0===n._V)return 0===n._U?(n._U=1,void(n._X=t)):1===n._U?(n._U=2,void(n._X=[n._X,t])):void n._X.push(t);h(n,t)}function h(n,u){setImmediate(function(){var c=1===n._V?u.onFulfilled:u.onRejected;if(null!==c){var _=f(c,n._W);_===o?v(u.promise,t):p(u.promise,_)}else 1===n._V?p(u.promise,n._W):v(u.promise,n._W)})}function p(n,f){if(f===n)return v(n,new TypeError('A promise cannot be resolved with itself.'));if(f&&('object'==typeof f||'function'==typeof f)){var c=u(f);if(c===o)return v(n,t);if(c===n.then&&f instanceof _)return n._V=3,n._W=f,void y(n);if('function'==typeof c)return void X(c.bind(f),n)}n._V=1,n._W=f,y(n)}function v(n,t){n._V=2,n._W=t,_._Z&&_._Z(n,t),y(n)}function y(n){if(1===n._U&&(l(n,n._X),n._X=null),2===n._U){for(var t=0;t<n._X.length;t++)l(n,n._X[t]);n._X=null}}function w(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function X(n,u){var f=!1,_=c(n,function(n){f||(f=!0,p(u,n))},function(n){f||(f=!0,v(u,n))});f||_!==o||(f=!0,v(u,t))}m.exports=_,_._Y=null,_._Z=null,_._0=n,_.prototype.then=function(t,o){if(this.constructor!==_)return s(this,t,o);var u=new _(n);return l(this,new w(t,o,u)),u}},123,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t,t.prototype.done=function(t,n){(arguments.length?this.then.apply(this,arguments):this).then(null,function(t){setTimeout(function(){throw t},0)})}},124,[123]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=n,n.prototype.finally=function(t){return this.then(function(o){return n.resolve(t()).then(function(){return o})},function(o){return n.resolve(t()).then(function(){throw o})})}},125,[123]);
__d(function(g,r,i,a,m,e,d){'use strict';(0,r(d[0]).polyfillGlobal)('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[1])})},126,[120,107]);
__d(function(g,r,i,a,m,e,d){'use strict';if(!g.RN$Bridgeless){var l=r(d[0]).polyfillGlobal,t=function(t){l(t,function(){return r(d[1])[t]})};t('setTimeout'),t('setInterval'),t('setImmediate'),t('clearTimeout'),t('clearInterval'),t('clearImmediate'),t('requestAnimationFrame'),t('cancelAnimationFrame'),t('requestIdleCallback'),t('cancelIdleCallback')}},127,[120,128]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=r(d[2]),l=(r(d[3]),r(d[4]),r(d[5])),u=null;function o(){return u||(u=r(d[6])),u()}var c=16.666666666666668,f=[],s=[],v=[],h=[],I=[],T={},b=1,p=null,w=!1;function k(){var t=v.indexOf(null);return-1===t&&(t=v.length),t}function x(t,n){var l=b++,u=k();return v[u]=l,f[u]=t,s[u]=n,l}function y(t,n,l){r(d[7])(t<=b,'Tried to call timer with ID %s but no such timer exists.',t);var u=v.indexOf(t);if(-1!==u){var h=s[u],I=f[u];if(I&&h){'setInterval'!==h&&q(u);try{'setTimeout'===h||'setInterval'===h||'setImmediate'===h?I():'requestAnimationFrame'===h?I(o()):'requestIdleCallback'===h?I({timeRemaining:function(){return Math.max(0,c-(o()-n))},didTimeout:!!l}):console.error('Tried to call a callback with invalid type: '+h)}catch(t){p?p.push(t):p=[t]}}else console.error('No callback found for timerID '+t)}}function C(){if(0===h.length)return!1;var t=h;h=[];for(var n=0;n<t.length;++n)y(t[n],0);return h.length>0}function q(t){v[t]=null,f[t]=null,s[t]=null}function A(t){if(null!=t){var n=v.indexOf(t);if(-1!==n){var l=s[n];q(n),'setImmediate'!==l&&'requestIdleCallback'!==l&&N(t)}}}var D,O={setTimeout:function(t,n){for(var l=arguments.length,u=new Array(l>2?l-2:0),o=2;o<l;o++)u[o-2]=arguments[o];var c=x(function(){return t.apply(void 0,u)},'setTimeout');return F(c,n||0,Date.now(),!1),c},setInterval:function(t,n){for(var l=arguments.length,u=new Array(l>2?l-2:0),o=2;o<l;o++)u[o-2]=arguments[o];var c=x(function(){return t.apply(void 0,u)},'setInterval');return F(c,n||0,Date.now(),!0),c},setImmediate:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];var o=x(function(){return t.apply(void 0,l)},'setImmediate');return h.push(o),o},requestAnimationFrame:function(t){var n=x(t,'requestAnimationFrame');return F(n,1,Date.now(),!1),n},requestIdleCallback:function(t,n){0===I.length&&E(!0);var l=n&&n.timeout,u=x(null!=l?function(n){var l=T[u];return l&&(O.clearTimeout(l),delete T[u]),t(n)}:t,'requestIdleCallback');if(I.push(u),null!=l){var c=O.setTimeout(function(){var t=I.indexOf(u);t>-1&&(I.splice(t,1),y(u,o(),!0)),delete T[u],0===I.length&&E(!1)},l);T[u]=c}return u},cancelIdleCallback:function(t){A(t);var n=I.indexOf(t);-1!==n&&I.splice(n,1);var l=T[t];l&&(O.clearTimeout(l),delete T[t]),0===I.length&&E(!1)},clearTimeout:function(t){A(t)},clearInterval:function(t){A(t)},clearImmediate:function(t){A(t);var n=h.indexOf(t);-1!==n&&h.splice(n,1)},cancelAnimationFrame:function(t){A(t)},callTimers:function(t){l(0!==t.length,'Cannot call `callTimers` with an empty list of IDs.'),p=null;for(var n=0;n<t.length;n++)y(t[n],0);if(p){var u=p.length;if(u>1)for(var o=1;o<u;o++)O.setTimeout(function(t){throw t}.bind(null,p[o]),0);throw p[0]}},callIdleCallbacks:function(t){if(!(c-(o()-t)<1)){if(p=null,I.length>0){var n=I;I=[];for(var l=0;l<n.length;++l)y(n[l],t)}0===I.length&&E(!1),p&&p.forEach(function(t){return O.setTimeout(function(){throw t},0)})}},callImmediates:function(){for(p=null;C(););p&&p.forEach(function(t){return O.setTimeout(function(){throw t},0)})},emitTimeDriftWarning:function(t){w||(w=!0,console.warn(t))}};function F(n,u,o,c){l(t.default,'NativeTiming is available'),t.default.createTimer(n,u,o,c)}function N(n){l(t.default,'NativeTiming is available'),t.default.deleteTimer(n)}function E(n){l(t.default,'NativeTiming is available'),t.default.setSendIdleEvents(n)}t.default?D=O:(console.warn("Timing native module is not available, can't set timers."),D={callImmediates:O.callImmediates,setImmediate:O.setImmediate}),n.setImmediatesCallback(O.callImmediates),m.exports=D},128,[1,129,23,53,32,6,130,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('Timing');e.default=u},129,[12,14]);
__d(function(g,r,i,a,m,e,d){"use strict";var n,t=r(d[0]);n=t.now?function(){return t.now()}:function(){return Date.now()},m.exports=n},130,[131]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;r(d[0]).canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),m.exports=n||{}},131,[132]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=!('undefined'==typeof window||!window.document||!window.document.createElement),t={canUseDOM:n,canUseWorkers:'undefined'!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};m.exports=t},132,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]).polyfillGlobal;n('XMLHttpRequest',function(){return r(d[1])}),n('FormData',function(){return r(d[2])}),n('fetch',function(){return r(d[3]).fetch}),n('Headers',function(){return r(d[3]).Headers}),n('Request',function(){return r(d[3]).Request}),n('Response',function(){return r(d[3]).Response}),n('WebSocket',function(){return r(d[4])}),n('Blob',function(){return r(d[5])}),n('File',function(){return r(d[6])}),n('FileReader',function(){return r(d[7])}),n('URL',function(){return r(d[8]).URL}),n('URLSearchParams',function(){return r(d[8]).URLSearchParams}),n('AbortController',function(){return r(d[9]).AbortController}),n('AbortSignal',function(){return r(d[9]).AbortSignal})},133,[120,134,149,110,150,137,153,154,156,157]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),h=r(d[4]),p=r(d[5]),u=r(d[6]);function c(t){var s=_();return function(){var n,o=u(t);if(s){var h=u(this).constructor;n=Reflect.construct(o,arguments,h)}else n=o.apply(this,arguments);return p(this,n)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l=r(d[7]),y=r(d[8]),f=r(d[9]),v=r(d[10]),R=r(d[11]),E=r(d[12]),b=r(d[13]);l.isAvailable&&l.addNetworkingHandler();var k=0,N=1,w=2,S=3,D=4,T={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},q=['abort','error','load','loadstart','progress','timeout','loadend'],O=q.concat('readystatechange'),I=(function(t){h(n,t);var s=c(n);function n(){return o(this,n),s.apply(this,arguments)}return n})(y.apply(void 0,q)),L=(function(p){h(y,p);var _=c(y);function y(){var t;return o(this,y),(t=_.call(this)).UNSENT=k,t.OPENED=N,t.HEADERS_RECEIVED=w,t.LOADING=S,t.DONE=D,t.readyState=k,t.status=0,t.timeout=0,t.withCredentials=!0,t.upload=new I,t._aborted=!1,t._hasError=!1,t._method=null,t._perfKey=null,t._response='',t._url=null,t._timedOut=!1,t._trackingName='unknown',t._incrementalEvents=!1,t._reset(),t}return n(y,null,[{key:"setInterceptor",value:function(t){y._interceptor=t}}]),n(y,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"__didCreateRequest",value:function(t){this._requestId=t,y._interceptor&&y._interceptor.requestSent(t,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(t,s,n){t===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:s,total:n})}},{key:"__didReceiveResponse",value:function(t,s,n,o){t===this._requestId&&(null!=this._perfKey&&f.stopTimespan(this._perfKey),this.status=s,this.setResponseHeaders(n),this.setReadyState(this.HEADERS_RECEIVED),o||''===o?this.responseURL=o:delete this.responseURL,y._interceptor&&y._interceptor.responseReceived(t,o||this._url||'',s,n||{}))}},{key:"__didReceiveData",value:function(t,s){t===this._requestId&&(this._response=s,this._cachedResponse=void 0,this.setReadyState(this.LOADING),y._interceptor&&y._interceptor.dataReceived(t,s))}},{key:"__didReceiveIncrementalData",value:function(t,s,n,o){t===this._requestId&&(this._response?this._response+=s:this._response=s,y._interceptor&&y._interceptor.dataReceived(t,s),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(t,n,o))}},{key:"__didReceiveDataProgress",value:function(t,s,n){t===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:n>=0,loaded:s,total:n})}},{key:"__didCompleteResponse",value:function(t,s,n){t===this._requestId&&(s&&(''!==this._responseType&&'text'!==this._responseType||(this._response=s),this._hasError=!0,n&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),s?y._interceptor&&y._interceptor.loadingFailed(t,s):y._interceptor&&y._interceptor.loadingFinished(t,this._response.length))}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(t){t&&t.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var t=this.responseHeaders||{};return Object.keys(t).map(function(s){return s+': '+t[s]}).join('\r\n')}},{key:"getResponseHeader",value:function(t){var s=this._lowerCaseResponseHeaders[t.toLowerCase()];return void 0!==s?s:null}},{key:"setRequestHeader",value:function(t,s){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[t.toLowerCase()]=String(s)}},{key:"setTrackingName",value:function(t){return this._trackingName=t,this}},{key:"open",value:function(t,s,n){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==n&&!n)throw new Error('Synchronous http requests are not supported');if(!s)throw new Error('Cannot load an empty url');this._method=t.toUpperCase(),this._url=s,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(s){var n=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var o=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(v.addListener('didSendNetworkData',function(s){return n.__didUploadProgress.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkResponse',function(s){return n.__didReceiveResponse.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkData',function(s){return n.__didReceiveData.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkIncrementalData',function(s){return n.__didReceiveIncrementalData.apply(n,t(s))})),this._subscriptions.push(v.addListener('didReceiveNetworkDataProgress',function(s){return n.__didReceiveDataProgress.apply(n,t(s))})),this._subscriptions.push(v.addListener('didCompleteNetworkResponse',function(s){return n.__didCompleteResponse.apply(n,t(s))}));var h='text';'arraybuffer'===this._responseType&&(h='base64'),'blob'===this._responseType&&(h='blob');var p;p='unknown'!==n._trackingName?n._trackingName:n._url,n._perfKey='network_XMLHttpRequest_'+String(p),f.startTimespan(n._perfKey),E(n._method,'XMLHttpRequest method needs to be defined (%s).',p),E(n._url,'XMLHttpRequest URL needs to be defined (%s).',p),v.sendRequest(n._method,n._trackingName,n._url,n._headers,s,h,o,n.timeout,n.__didCreateRequest.bind(n),n.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&v.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(t){this.responseHeaders=t||null;var s=t||{};this._lowerCaseResponseHeaders=Object.keys(s).reduce(function(t,n){return t[n.toLowerCase()]=s[n],t},{})}},{key:"setReadyState",value:function(t){this.readyState=t,this.dispatchEvent({type:'readystatechange'}),t===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(t,n){'readystatechange'!==t&&'progress'!==t||(this._incrementalEvents=!0),s(u(y.prototype),"addEventListener",this).call(this,t,n)}},{key:"responseType",get:function(){return this._responseType},set:function(t){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");T.hasOwnProperty(t)?(E(T[t]||'document'===t,"The provided value '"+t+"' is unsupported in this environment."),'blob'===t&&E(l.isAvailable,'Native module BlobModule is required for blob support'),this._responseType=t):b(!1,"The provided value '"+t+"' is not a valid 'responseType'.")}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error("The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '"+this._responseType+"'.");return this.readyState<S?'':this._response}},{key:"response",get:function(){var t=this.responseType;if(''===t||'text'===t)return this.readyState<S||this._hasError?'':this._response;if(this.readyState!==D)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(t){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=R.toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=l.createFromOptions(this._response);else{if(''!==this._response)throw new Error("Invalid response for blob: "+this._response);this._cachedResponse=l.createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(t){this._cachedResponse=null}break;default:this._cachedResponse=null}return this._cachedResponse}}]),y})(y.apply(void 0,t(O)));L.UNSENT=k,L.OPENED=N,L.HEADERS_RECEIVED=w,L.LOADING=S,L.DONE=D,L._interceptor=null,m.exports=L},134,[25,37,30,29,40,42,39,135,139,140,143,148,6,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6]));function b(t,l){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);l&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),o.push.apply(o,n)}return o}function s(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?b(Object(n),!0).forEach(function(o){(0,l.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}var v=r(d[7]),x=r(d[8]);var y=(function(){function t(){(0,n.default)(this,t)}return(0,u.default)(t,null,[{key:"createFromParts",value:function(l,o){(0,c.default)(f.default,'NativeBlobModule is available.');var n='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),u=l.map(function(t){if(t instanceof ArrayBuffer||g.ArrayBufferView&&t instanceof g.ArrayBufferView)throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof v?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),b=u.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return f.default.createFromParts(u,n),t.createFromOptions({blobId:n,offset:0,size:b,type:o?o.type:'',lastModified:o?o.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return x.register(t.blobId),(0,o.default)(Object.create(v.prototype),{data:null==t.__collector?s(s({},t),{},{__collector:(l=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(l))}):t});var l}},{key:"release",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),x.unregister(t),x.has(t)||f.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,c.default)(f.default,'NativeBlobModule is available.'),f.default.sendOverSocket(t.data,l)}}]),t})();y.isAvailable=!!f.default,m.exports=y},135,[1,51,16,29,30,136,6,137,138]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('BlobModule');e.default=u},136,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=(function(){function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;t(this,s);var u=r(d[2]);this.data=u.createFromParts(n,o).data}return n(s,[{key:"slice",value:function(t,n){var s=r(d[2]),o=this.data,u=o.offset,l=o.size;return'number'==typeof t&&(t>l&&(t=l),u+=t,l-=t,'number'==typeof n&&(n<0&&(n=this.size+n),l=n-t)),s.createFromOptions({blobId:this.data.blobId,offset:u,size:l})}},{key:"close",value:function(){r(d[2]).release(this.data.blobId),this.data=null}},{key:"data",set:function(t){this._data=t},get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}]),s})();m.exports=s},137,[29,30,135]);
__d(function(g,r,i,a,m,e,d){var n={};m.exports={register:function(t){n[t]?n[t]++:n[t]=1},unregister:function(t){n[t]&&(n[t]--,n[t]<=0&&delete n[t])},has:function(t){return n[t]&&n[t]>0}}},138,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function l(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function u(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var l=Object.keys(o),u=0;u<l.length;++u){var p=l[u];p in this||Object.defineProperty(this,p,s(p))}}function s(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function p(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function c(t,n){var o=Object.keys(n);if(0===o.length)return t;function l(n,o){t.call(this,n,o)}l.prototype=Object.create(t.prototype,{constructor:{value:l,configurable:!0,writable:!0}});for(var u=0;u<o.length;++u){var c=o[u];if(!(c in t.prototype)){var f="function"==typeof Object.getOwnPropertyDescriptor(n,c).value;Object.defineProperty(l.prototype,c,f?p(c):s(c))}}return l}function f(t){if(null==t||t===Object.prototype)return u;var o=n.get(t);return null==o&&(o=c(f(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function v(t,n){return new(f(Object.getPrototypeOf(n)))(t,n)}function y(t){return o(t).immediateStopped}function b(t,n){o(t).eventPhase=n}function h(t,n){o(t).currentTarget=n}function w(t,n){o(t).passiveListener=n}u.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){l(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||l(o(this))},initEvent:function(){}},Object.defineProperty(u.prototype,"constructor",{value:u,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(u.prototype,window.Event.prototype),n.set(window.Event.prototype,u));var T=new WeakMap,P=3;function x(t){return null!==t&&"object"==typeof t}function E(t){var n=T.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function O(t){return{get:function(){for(var n=E(this).get(t);null!=n;){if(n.listenerType===P)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||x(n)||(n=null);for(var o=E(this),l=null,u=o.get(t);null!=u;)u.listenerType===P?null!==l?l.next=u.next:null!==u.next?o.set(t,u.next):o.delete(t):l=u,u=u.next;if(null!==n){var s={listener:n,listenerType:P,passive:!1,once:!1,next:null};null===l?o.set(t,s):l.next=s}},configurable:!0,enumerable:!0}}function j(t,n){Object.defineProperty(t,"on"+n,O(n))}function B(t){function n(){A.call(this)}n.prototype=Object.create(A.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)j(n.prototype,t[o]);return n}function A(){if(!(this instanceof A)){if(1===arguments.length&&Array.isArray(arguments[0]))return B(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return B(t)}throw new TypeError("Cannot call a class as a function")}T.set(this,new Map)}A.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!x(n))throw new TypeError("'listener' should be a function or an object.");var l=E(this),u=x(o),s=(u?Boolean(o.capture):Boolean(o))?1:2,p={listener:n,listenerType:s,passive:u&&Boolean(o.passive),once:u&&Boolean(o.once),next:null},c=l.get(t);if(void 0!==c){for(var f=null;null!=c;){if(c.listener===n&&c.listenerType===s)return;f=c,c=c.next}f.next=p}else l.set(t,p)}},removeEventListener:function(t,n,o){if(null!=n)for(var l=E(this),u=(x(o)?Boolean(o.capture):Boolean(o))?1:2,s=null,p=l.get(t);null!=p;){if(p.listener===n&&p.listenerType===u)return void(null!==s?s.next=p.next:null!==p.next?l.set(t,p.next):l.delete(t));s=p,p=p.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=E(this),o=t.type,l=n.get(o);if(null==l)return!0;for(var u=v(this,t),s=null;null!=l;){if(l.once?null!==s?s.next=l.next:null!==l.next?n.set(o,l.next):n.delete(o):s=l,w(u,l.passive?l.listener:null),"function"==typeof l.listener)try{l.listener.call(this,u)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else l.listenerType!==P&&"function"==typeof l.listener.handleEvent&&l.listener.handleEvent(u);if(y(u))break;l=l.next}return w(u,null),b(u,0),h(u,null),!u.defaultPrevented}},Object.defineProperty(A.prototype,"constructor",{value:A,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(A.prototype,window.EventTarget.prototype),e.defineEventAttribute=j,e.EventTarget=A,e.default=A,m.exports=A,m.exports.EventTarget=m.exports.default=A,m.exports.defineEventAttribute=j},139,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])();m.exports=t},140,[141]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=(r(d[1]),g.nativeQPLTimestamp||g.nativePerformanceNow||r(d[2])),n={};m.exports=function(){return{_timespans:{},_extras:{},_points:{},addTimespan:function(t,s,n){this._timespans[t]||(this._timespans[t]={description:n,totalTime:s})},startTimespan:function(o,p){this._timespans[o]||(this._timespans[o]={description:p,startTime:s()},n[o]=t.beginAsyncEvent(o))},stopTimespan:function(o,p){var u=this._timespans[o];u&&u.startTime&&(!u.endTime||null!=p&&p.update)&&(u.endTime=s(),u.totalTime=u.endTime-(u.startTime||0),null!=n[o]&&(t.endAsyncEvent(o,n[o]),delete n[o]))},clear:function(){this._timespans={},this._extras={},this._points={}},clearCompleted:function(){for(var t in this._timespans)this._timespans[t].totalTime&&delete this._timespans[t];this._extras={},this._points={}},clearExceptTimespans:function(t){this._timespans=Object.keys(this._timespans).reduce(function(s,n){return-1!==t.indexOf(n)&&(s[n]=this._timespans[n]),s},{}),this._extras={},this._points={}},currentTimestamp:function(){return s()},getTimespans:function(){return this._timespans},hasTimespan:function(t){return!!this._timespans[t]},logTimespans:function(){},addTimespans:function(t,s){for(var n=0,o=t.length;n<o;n+=2){var p=s[n/2];this.addTimespan(p,t[n+1]-t[n],p)}},setExtra:function(t,s){this._extras[t]||(this._extras[t]=s)},getExtras:function(){return this._extras},removeExtra:function(t){var s=this._extras[t];return delete this._extras[t],s},logExtras:function(){},markPoint:function(t,n){this._points[t]||(this._points[t]=null!=n?n:s())},getPoints:function(){return this._points},logPoints:function(){},logEverything:function(){this.logTimespans(),this.logExtras(),this.logPoints()}}}},141,[32,142,130]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},142,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),c=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),s=t(r(d[6])),l=t(r(d[7]));function p(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,c)}return u}function y(t){for(var u=1;u<arguments.length;u++){var c=null!=arguments[u]?arguments[u]:{};u%2?p(Object(c),!0).forEach(function(u){(0,n.default)(t,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var O=r(d[8]),b=r(d[9]);function h(t){var n=[];for(var u in t)n.push([u,t[u]]);return n}var j=1;var D=(function(t){(0,o.default)(D,t);var n,p,O=(n=D,p=v(),function(){var t,u=(0,s.default)(n);if(p){var c=(0,s.default)(this).constructor;t=Reflect.construct(u,arguments,c)}else t=u.apply(this,arguments);return(0,f.default)(this,t)});function D(){return(0,u.default)(this,D),O.call(this,l.default)}return(0,c.default)(D,[{key:"sendRequest",value:function(t,n,u,c,o,f,s,p,v,O){var D=b(o);D&&D.formData&&(D.formData=D.formData.map(function(t){return y(y({},t),{},{headers:h(t.headers)})}));var P=j++;l.default.sendRequest(t,u,P,h(c),y(y({},D),{},{trackingName:n}),f,s,p,O),v(P)}},{key:"abortRequest",value:function(t){l.default.abortRequest(t)}},{key:"clearCookies",value:function(t){l.default.clearCookies(t)}}]),D})(O);m.exports=new D},143,[1,51,29,30,40,42,39,144,145,146]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('Networking');e.default=n},144,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),l=r(d[5]);function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[6]),h=(r(d[7]),r(d[8])),v=r(d[9]),p=(function(p){o(M,f);var y,_,L=(y=M,_=c(),function(){var t,n=l(y);if(_){var s=l(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function M(n){return t(this,M),L.call(this,h.sharedSubscriber)}return n(M,[{key:"addListener",value:function(t,n,o){return null!=this._nativeModule&&this._nativeModule.addListener(t),s(l(M.prototype),"addListener",this).call(this,t,n,o)}},{key:"removeAllListeners",value:function(t){v(t,'eventType argument is required.');var n=this.listeners(t).length;null!=this._nativeModule&&this._nativeModule.removeListeners(n),s(l(M.prototype),"removeAllListeners",this).call(this,t)}},{key:"removeSubscription",value:function(t){null!=this._nativeModule&&this._nativeModule.removeListeners(1),s(l(M.prototype),"removeSubscription",this).call(this,t)}}]),M})();m.exports=p},145,[29,30,37,40,42,39,44,53,36,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),f=r(d[2]);m.exports=function(s){return'string'==typeof s?{string:s}:s instanceof n?{blob:s.data}:s instanceof f?{formData:s.getParts()}:s instanceof ArrayBuffer||ArrayBuffer.isView(s)?{base64:t(s)}:s}},146,[147,137,149]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),f instanceof Uint8Array)return t.fromByteArray(f);if(!ArrayBuffer.isView(f))throw new Error('data must be ArrayBuffer or typed array');var n=f,y=n.buffer,o=n.byteOffset,u=n.byteLength;return t.fromByteArray(new Uint8Array(y,o,u))}},147,[148]);
__d(function(g,r,i,a,m,e,d){'use strict';e.byteLength=function(t){var n=f(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=f(t),C=c[0],y=c[1],s=new o(A(t,C,y)),v=0,l=y>0?C-4:C;for(u=0;u<l;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],s[v++]=h>>16&255,s[v++]=h>>8&255,s[v++]=255&h;2===y&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,s[v++]=255&h);1===y&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,s[v++]=h>>8&255,s[v++]=255&h);return s},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],f=0,A=h-u;f<A;f+=16383)c.push(C(n,f,f+16383>A?A:f+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function f(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function A(t,n,o){return 3*(n+o)/4-o}function C(n,o,h){for(var u,c,f=[],A=o;A<h;A+=3)u=(n[A]<<16&16711680)+(n[A+1]<<8&65280)+(255&n[A+2]),f.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return f.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},148,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]);function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function p(n){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?s(Object(c),!0).forEach(function(o){t(n,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}var f=(function(){function t(){o(this,t),this._parts=[]}return c(t,[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getParts",value:function(){return this._parts.map(function(t){var o=n(t,2),c=o[0],s=o[1],f={'content-disposition':'form-data; name="'+c+'"'};return'object'==typeof s&&s?('string'==typeof s.name&&(f['content-disposition']+='; filename="'+s.name+'"'),'string'==typeof s.type&&(f['content-type']=s.type),p(p({},s),{},{headers:f,fieldName:c})):{string:String(s),headers:f,fieldName:c}})}}]),t})();m.exports=f},149,[51,17,29,30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7]));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=r(d[8]),b=r(d[9]),p=r(d[10]),v=r(d[11]),_=r(d[12]),E=r(d[13]),k=r(d[14]),S=r(d[15]),I=0,N=1,w=2,O=3,C=0,L=(function(t){(0,c.default)(A,t);var p,L,T=(p=A,L=h(),function(){var t,s=(0,l.default)(p);if(L){var n=(0,l.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function A(t,o,c){var u;(0,n.default)(this,A),(u=T.call(this)).CONNECTING=I,u.OPEN=N,u.CLOSING=w,u.CLOSED=O,u.readyState=I,'string'==typeof o&&(o=[o]);var l=c||{},h=l.headers,y=void 0===h?{}:h,b=(0,s.default)(l,["headers"]);return b&&'string'==typeof b.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),y.origin=b.origin,delete b.origin),Object.keys(b).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(b).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(o)||(o=null),u._eventEmitter=new v(f.default),u._socketId=C++,u._registerEvents(),f.default.connect(t,o,{headers:y},u._socketId),u}return(0,o.default)(A,[{key:"close",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:"send",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof y)return S(b.isAvailable,'Native module BlobModule is required for blob support'),void b.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');f.default.sendBinary(k(t),this._socketId)}else f.default.send(t,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');f.default.ping(this._socketId)}},{key:"_close",value:function(t,s){var n='number'==typeof t?t:1e3,o='string'==typeof s?s:'';f.default.close(n,o,this._socketId),b.isAvailable&&'blob'===this._binaryType&&b.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var n=s.data;switch(s.type){case'binary':n=E.toByteArray(s.data).buffer;break;case'blob':n=b.createFromOptions(s.data)}t.dispatchEvent(new _('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.protocol=s.protocol,t.dispatchEvent(new _('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new _('error',{message:s.message})),t.dispatchEvent(new _('close',{message:s.message})),t._unregisterEvents(),t.close())})]}},{key:"binaryType",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==t||(S(b.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?b.addWebSocketHandler(this._socketId):b.removeWebSocketHandler(this._socketId)),this._binaryType=t}}]),A})(p.apply(void 0,['close','error','message','open']));L.CONNECTING=I,L.OPEN=N,L.CLOSING=w,L.CLOSED=O,m.exports=L},150,[1,57,29,30,40,42,39,151,137,135,139,145,152,148,147,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('WebSocketModule');e.default=o},151,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]);m.exports=function n(o,c){s(this,n),this.type=o.toString(),t(this,c)}},152,[16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]),s=r(d[4]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[5]),l=r(d[6]),h=(function(h){u(R,f);var p,y,v=(p=R,y=o(),function(){var t,n=s(p);if(y){var u=s(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return c(this,t)});function R(n,u,c){var s;return t(this,R),l(null!=n&&null!=u,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),(s=v.call(this,n,c)).data.name=u,s}return n(R,[{key:"name",get:function(){return l(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}]),R})();m.exports=h},153,[29,30,40,42,39,137,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6]));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[7]);var h=0,y=1,_=2,p=(function(t){(0,o.default)(R,t);var p,v,b=(p=R,v=f(),function(){var t,n=(0,c.default)(p);if(v){var s=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function R(){var t;return(0,n.default)(this,R),(t=b.call(this)).EMPTY=h,t.LOADING=y,t.DONE=_,t._aborted=!1,t._subscriptions=[],t._reset(),t}return(0,s.default)(R,[{key:"_reset",value:function(){this._readyState=h,this._error=null,this._result=null}},{key:"_clearSubscriptions",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),t===_&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(){throw new Error('FileReader.readAsArrayBuffer is not implemented')}},{key:"readAsDataURL",value:function(t){var n=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsDataURL(t.data).then(function(t){n._aborted||(n._result=t,n._setReadyState(_))},function(t){n._aborted||(n._error=t,n._setReadyState(_))})}},{key:"readAsText",value:function(t){var n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsText(t.data,s).then(function(t){n._aborted||(n._result=t,n._setReadyState(_))},function(t){n._aborted||(n._error=t,n._setReadyState(_))})}},{key:"abort",value:function(){this._aborted=!0,this._readyState!==h&&this._readyState!==_&&(this._reset(),this._setReadyState(_)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}]),R})(r(d[8]).apply(void 0,['abort','error','load','loadstart','loadend','progress']));p.EMPTY=h,p.LOADING=y,p.DONE=_,m.exports=p},154,[1,29,30,40,42,39,155,137,139]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('FileReaderModule');e.default=u},155,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.URLSearchParams=void 0;var n,o=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),f=(r(d[4]),null);if(s.default&&'string'==typeof s.default.getConstants().BLOB_URI_SCHEME){var h=s.default.getConstants();f=h.BLOB_URI_SCHEME+':','string'==typeof h.BLOB_URI_HOST&&(f+="//"+h.BLOB_URI_HOST+"/")}n=Symbol.iterator;var l=(function(){function t(n){var u=this;(0,o.default)(this,t),this._searchParams=[],'object'==typeof n&&Object.keys(n).forEach(function(t){return u.append(t,n[t])})}return(0,u.default)(t,[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('not implemented')}},{key:"get",value:function(t){throw new Error('not implemented')}},{key:"getAll",value:function(t){throw new Error('not implemented')}},{key:"has",value:function(t){throw new Error('not implemented')}},{key:"set",value:function(t,n){throw new Error('not implemented')}},{key:"sort",value:function(){throw new Error('not implemented')}},{key:n,value:function(){return this._searchParams[Symbol.iterator]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,u){return n+o.join('=')+(u===t?'':'&')},'')}}]),t})();function c(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)}e.URLSearchParams=l;var w=(function(){function t(n,u){(0,o.default)(this,t),this._searchParamsInstance=null;var s=null;if(!u||c(n))this._url=n,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof u){if(!c(s=u))throw new TypeError("Invalid base URL: "+s)}else'object'==typeof u&&(s=u.toString());s.endsWith('/')&&(s=s.slice(0,s.length-1)),n.startsWith('/')||(n="/"+n),s.endsWith(n)&&(n=''),this._url=""+s+n}}return(0,u.default)(t,null,[{key:"createObjectURL",value:function(t){if(null===f)throw new Error('Cannot create URL for blob!');return""+f+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size}},{key:"revokeObjectURL",value:function(t){}}]),(0,u.default)(t,[{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._url.indexOf('?')>-1?'&':'?';return this._url+t+this._searchParamsInstance.toString()}},{key:"hash",get:function(){throw new Error('not implemented')}},{key:"host",get:function(){throw new Error('not implemented')}},{key:"hostname",get:function(){throw new Error('not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('not implemented')}},{key:"password",get:function(){throw new Error('not implemented')}},{key:"pathname",get:function(){throw new Error('not implemented')}},{key:"port",get:function(){throw new Error('not implemented')}},{key:"protocol",get:function(){throw new Error('not implemented')}},{key:"search",get:function(){throw new Error('not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new l),this._searchParamsInstance}},{key:"username",get:function(){throw new Error('not implemented')}}]),t})();e.URL=w},156,[1,29,30,136,137]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),l=r(d[3]),c=r(d[4]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}Object.defineProperty(e,'__esModule',{value:!0});var f=r(d[5]),b=(function(f){n(h,f);var b,s,y=(b=h,s=u(),function(){var t,o=c(b);if(s){var n=c(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return l(this,t)});function h(){throw t(this,h),y.call(this),new TypeError("AbortSignal cannot be constructed directly")}return o(h,[{key:"aborted",get:function(){var t=p.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}]),h})(f.EventTarget);f.defineEventAttribute(b.prototype,"abort");var p=new WeakMap;Object.defineProperties(b.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(b.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var s=(function(){function n(){var o;t(this,n),y.set(this,(o=Object.create(b.prototype),f.EventTarget.call(o),p.set(o,!1),o))}return o(n,[{key:"abort",value:function(){var t;t=h(this),!1===p.get(t)&&(p.set(t,!0),t.dispatchEvent({type:"abort"}))}},{key:"signal",get:function(){return h(this)}}]),n})(),y=new WeakMap;function h(t){var o=y.get(t);if(null==o)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return o}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),e.AbortController=s,e.AbortSignal=b,e.default=s,m.exports=s,m.exports.AbortController=m.exports.default=s,m.exports.AbortSignal=b},157,[29,30,40,42,39,139]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},158,[159]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),c=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,u,c){if('ios'===s.default.OS)t.prompt(n,o,u,'default');else if('android'===s.default.OS){if(!l.default)return;var f=l.default.getConstants(),v={title:n||'',message:o||'',cancelable:!1};c&&c.cancelable&&(v.cancelable=c.cancelable);var p=u?u.slice(0,3):[{text:"OK"}],b=p.pop(),y=p.pop(),h=p.pop();h&&(v.buttonNeutral=h.text||''),y&&(v.buttonNegative=y.text||''),b&&(v.buttonPositive=b.text||"OK");l.default.showAlert(v,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?y.onPress&&y.onPress():n===f.buttonPositive&&b.onPress&&b.onPress():t===f.dismissed&&c&&c.onDismiss&&c.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;if('ios'===s.default.OS){var v,p,b=[],y=[];'function'==typeof o?b=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(b[n]=t.onPress,'cancel'===t.style?v=String(n):'destructive'===t.style&&(p=String(n)),t.text||n<(o||[]).length-1){var s={};s[n]=t.text||'',y.push(s)}}),u.default.alertWithArgs({title:t||'',message:n||void 0,buttons:y,type:l||void 0,defaultValue:c,cancelButtonKey:v,destructiveButtonKey:p,keyboardType:f},function(t,n){var o=b[t];o&&o(n)})}}}]),t})();m.exports=c},159,[1,29,30,53,160,161]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('DialogManagerAndroid');e.default=o},160,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));function n(){}m.exports={alertWithArgs:function(u,f){t.default&&t.default.showAlert(u,n,f||n)}}},161,[1,160]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).polyfillObjectProperty,o=g.navigator;void 0===o&&(g.navigator=o={}),t(o,'product',function(){return'ReactNative'})},162,[120]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;if(g.RN$Bridgeless&&g.RN$registerCallableModule)n=g.RN$registerCallableModule;else{var t=r(d[0]);n=function(n,u){return t.registerLazyCallableModule(n,u)}}n('Systrace',function(){return r(d[1])}),n('JSTimers',function(){return r(d[2])}),n('HeapCapture',function(){return r(d[3])}),n('SamplingProfiler',function(){return r(d[4])}),n('RCTLog',function(){return r(d[5])}),n('RCTDeviceEventEmitter',function(){return r(d[6])}),n('RCTNativeAppEventEmitter',function(){return r(d[7])}),n('GlobalPerformanceLogger',function(){return r(d[8])}),n('JSDevSupportModule',function(){return r(d[9])}),n('HMRClient',function(){return r(d[10])})},163,[23,32,128,164,166,168,36,169,140,170,172]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),p={captureHeap:function(p){var u=null;try{g.nativeCaptureHeap(p),console.log('HeapCapture.captureHeap succeeded: '+p)}catch(t){console.log('HeapCapture.captureHeap error: '+t.toString()),u=t.toString()}t.default&&t.default.captureComplete(p,u)}};m.exports=p},164,[1,165]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('JSCHeapCapture');e.default=u},165,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={poke:function(o){var l=null,n=null;try{null===(n=g.pokeSamplingProfiler())?console.log('The JSC Sampling Profiler has started'):console.log('The JSC Sampling Profiler has stopped')}catch(o){console.log('Error occurred when restarting Sampling Profiler: '+o.toString()),l=o.toString()}var t=r(d[0]).default;t&&t.operationComplete(o,n,l)}};m.exports=o},166,[167]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])).get('JSCSamplingProfiler');e.default=l},167,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},l=null,t={logIfNoNativeHook:function(o){for(var n=arguments.length,f=new Array(n>1?n-1:0),c=1;c<n;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?t.logToConsole.apply(t,[o].concat(f)):l&&'warn'===o&&l.apply(void 0,f)},logToConsole:function(l){var t,f=n[l];o(f,'Level "'+l+'" not one of '+Object.keys(n).toString());for(var c=arguments.length,v=new Array(c>1?c-1:0),s=1;s<c;s++)v[s-1]=arguments[s];(t=console)[f].apply(t,v)},setWarningHandler:function(o){l=o}};m.exports=t},168,[6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},169,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),_=r(d[2]),o={getJSHierarchy:function(o){if(t.default){var n=t.default.getConstants();try{var E=(0,_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.computeComponentStackForErrorReporting)(o);E?t.default.onSuccess(E):t.default.onFailure(n.ERROR_CODE_VIEW_NOT_FOUND,"Component stack doesn't exist for tag "+o)}catch(_){t.default.onFailure(n.ERROR_CODE_EXCEPTION,_.message)}}}};m.exports=o},170,[1,171,89]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('JSDevSupport');e.default=u},171,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},172,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(t,n,c){r(d[0]).default.fetchSegment(t,n,function(t){if(t){var n=new Error(t.message);n.code=t.code,c(n)}c(null)})},g.__getSegment=function(t,n,c){var f=r(d[0]).default;if(!f.getSegment)throw new Error('SegmentFetcher.getSegment must be defined');f.getSegment(t,n,function(t,n){if(t){var f=new Error(t.message);f.code=t.code,c(f)}c(null,n)})}},173,[174]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('SegmentFetcher');e.default=n},174,[12,14]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10])}}},175,[23,97,53,176,177,178,48,196,33,85,197]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={register:function(n){t.registerCallableModule('RCTEventEmitter',n)}};m.exports=n},176,[23]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n={},o={};e.customBubblingEventTypes=n,e.customDirectEventTypes=o;var s=new Map,u=new Map;function l(t){var s=t.bubblingEventTypes,u=t.directEventTypes;if(null!=s)for(var l in s)null==n[l]&&(n[l]=s[l]);if(null!=u)for(var c in u)null==o[c]&&(o[c]=u[c])}e.register=function(n,o){return t(!s.has(n),'Tried to register two views with the same name %s',n),t('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',n,null===o?'null':typeof o),s.set(n,o),n},e.get=function(n){var o;if(u.has(n))o=u.get(n);else{var c=s.get(n);'function'!=typeof c&&t(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',n,null===c?'null':typeof c,'string'==typeof n[0]&&/[a-z]/.test(n[0])?' Make sure to start component names with a capital letter.':''),l(o=c()),u.set(n,o),s.set(n,null)}return t(o,'View config not found for name %s',n),o}},177,[6]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),u=(r(d[1]),r(d[2]),r(d[3]),r(d[4]).findNodeHandle),t=null,o=new Set;function l(n){t!==n&&null!=n&&(t=n)}function f(n){t===n&&null!=n&&(t=null)}m.exports={currentlyFocusedInput:function(){return t},focusInput:l,blurInput:f,currentlyFocusedField:function(){return u(t)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){'number'!=typeof u&&t!==u&&null!=u&&(l(u),n.Commands.focus(u))},blurTextInput:function(u){'number'!=typeof u&&t===u&&null!=u&&(f(u),n.Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&o.add(n)},unregisterInput:function(n){'number'!=typeof n&&o.delete(n)},isTextInput:function(n){return'number'!=typeof n&&o.has(n)}}},178,[179,194,59,53,89]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var u,o=n(r(d[2])),s=n(r(d[3])),l=(t(r(d[4])),n(r(d[5]))),f=r(d[6]),c=(0,s.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=c,g.RN$Bridgeless?(f.register('AndroidTextInput',function(){return l.default}),u='AndroidTextInput'):u=(0,o.default)('AndroidTextInput');var p=u;e.default=p},179,[12,1,180,88,59,191,177]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(u){return n(u,function(){return t(u)})}},180,[181,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).ReactNativeViewConfigRegistry.register;m.exports=function(n,s){return t(n,s)}},181,[175]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function s(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?o(Object(c),!0).forEach(function(o){n(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var c=r(d[2]),u=r(d[3]),l=r(d[4]),p=r(d[5]),b=r(d[6]),v=r(d[7]),f=r(d[8]),y=r(d[9]),O=r(d[10]),C=r(d[11]),E=r(d[12]);var w=!1;function T(t){var n=u.getConstants();n.ViewManagerNames||n.LazyViewManagersEnabled?t=P(t,u.getDefaultEventTypes()):(t.bubblingEventTypes=P(t.bubblingEventTypes,n.genericBubblingEventTypes),t.directEventTypes=P(t.directEventTypes,n.genericDirectEventTypes))}function P(t,n){if(!n)return t;if(!t)return n;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];if(t.hasOwnProperty(o)){var c=t[o];'object'==typeof s&&'object'==typeof c&&(s=P(c,s))}t[o]=s}return t}function j(t){switch(t){case'CATransform3D':return b;case'CGPoint':return v;case'CGSize':return C;case'UIEdgeInsets':return l}return null}function h(t){switch(t){case'CGColor':case'UIColor':return f;case'CGColorArray':case'UIColorArray':return y;case'CGImage':case'UIImage':case'RCTImageSource':return O;case'Color':return f;case'ColorArray':return y}return null}m.exports=function(n){var o=u.getViewManagerConfig(n);p(null!=o&&null!=o.NativeProps,'requireNativeComponent: "%s" was not found in the UIManager.',n);for(var l=o.baseModuleName,b=o.bubblingEventTypes,v=o.directEventTypes,f=o.NativeProps;l;){var y=u.getViewManagerConfig(l);y?(b=s(s({},y.bubblingEventTypes),b),v=s(s({},y.directEventTypes),v),f=s(s({},y.NativeProps),f),l=y.baseModuleName):(E(!1,'Base module "%s" does not exist',l),l=null)}var O={};for(var C in f){var P=f[C],I=j(P),N=h(P);O[C]=null==I&&null==N||{diff:I,process:N}}return O.style=c,t(o,{uiViewClassName:n,validAttributes:O,bubblingEventTypes:b,directEventTypes:v}),w||(T(o),w=!0),o}},182,[16,51,66,48,183,6,184,185,80,186,187,83,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},183,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return!(t===n||t&&n&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[5]===n[5]&&t[10]===n[10]&&t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[11]===n[11]&&t[15]===n[15])}},184,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},185,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){return null==t?null:t.map(n)}},186,[80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,s,u,o=r(d[0]),f=r(d[1]);function c(){if(u)return u;var t=g.nativeExtensions&&g.nativeExtensions.SourceCode;return t||(t=r(d[2]).default),u=t.getConstants().scriptURL}function l(){if(void 0===n){var t=c(),s=t&&t.match(/^https?:\/\/.*?\//);n=s?s[0]:null}return n}function v(t){if(t){if(t.startsWith('assets://'))return null;(t=t.substring(0,t.lastIndexOf('/')+1)).includes('://')||(t='file://'+t)}return t}m.exports=function(n){if('object'==typeof n)return n;var u=o.getAssetByID(n);if(!u)return null;var p=new f(l(),(void 0===s&&(s=v(c())),s),u);return t?t(p):p.defaultAsset()},m.exports.pickScale=f.pickScale,m.exports.setCustomSourceTransformer=function(n){t=n}},187,[188,189,108]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},188,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=(r(d[3]),r(d[4])),o=r(d[5]);function l(t){var s=c.pickScale(t.scales,n.get()),o=1===s?'':'@'+s+'x';return u.getBasePath(t)+'/'+t.name+o+'.'+t.type}function h(t){var s=c.pickScale(t.scales,n.get());return u.getAndroidResourceFolderName(t,s)+'/'+u.getAndroidResourceIdentifier(t)+'.'+t.type}var c=(function(){function c(s,n,u){t(this,c),this.serverUrl=s,this.jsbundleUrl=n,this.asset=u}return s(c,[{key:"isLoadedFromServer",value:function(){return!!this.serverUrl}},{key:"isLoadedFromFileSystem",value:function(){return!(!this.jsbundleUrl||!this.jsbundleUrl.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale()}},{key:"assetServerURL",value:function(){return o(!!this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+l(this.asset)+"?platform=android&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(l(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+l(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return o(!0,'resource identifiers work on Android'),this.fromSource(u.getAndroidResourceIdentifier(this.asset))}},{key:"drawableFolderInBundle",value:function(){var t=this.jsbundleUrl||'file://';return this.fromSource(t+h(this.asset))}},{key:"fromSource",value:function(t){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:t,scale:c.pickScale(this.asset.scales,n.get())}}}],[{key:"pickScale",value:function(t,s){for(var n=0;n<t.length;n++)if(t[n]>=s)return t[n];return t[t.length-1]||1}}]),c})();m.exports=c},189,[29,30,63,53,190,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];throw new Error('no such scale '+n.toString())}var o=new Set(['gif','jpeg','jpg','png','svg','webp','xml']);function s(t){var n=t.httpServerLocation;return'/'===n[0]&&(n=n.substr(1)),n}m.exports={getAndroidAssetSuffix:n,getAndroidResourceFolderName:function(s,u){if(!o.has(s.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(s,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(s(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^assets_/,'')},getBasePath:s}},190,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1]));function o(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function l(t){for(var l=1;l<arguments.length;l++){var c=null!=arguments[l]?arguments[l]:{};l%2?o(Object(c),!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var c={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topTextInput:{phasedRegistrationNames:{bubbled:'onTextInput',captured:'onTextInputCapture'}}},directEventTypes:{},validAttributes:l(l({},t(r(d[2])).default.validAttributes),{},{maxFontSizeMultiplier:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:r(d[3])},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:r(d[3])},textDecorationLine:!0,blurOnSubmit:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:r(d[3])},selection:!0,placeholderTextColor:{process:r(d[3])},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:!0,autoCompleteType:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:r(d[3])},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0})};m.exports=c},191,[1,51,192,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),s=t(r(d[2])),n=r(d[3]);function c(t,o){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),s.push.apply(s,n)}return s}function l(t){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?c(Object(n),!0).forEach(function(s){(0,o.default)(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var p={uiViewClassName:'RCTView',baseModuleName:null,Manager:'ViewManager',Commands:{},Constants:{},bubblingEventTypes:l(l({},s.default.bubblingEventTypes),{},{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topPress:{phasedRegistrationNames:{bubbled:'onPress',captured:'onPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}},topTouchStart:{phasedRegistrationNames:{bubbled:'onTouchStart',captured:'onTouchStartCapture'}}}),directEventTypes:l(l({},s.default.directEventTypes),{},{topAccessibilityAction:{registrationName:'onAccessibilityAction'},topAccessibilityEscape:{registrationName:'onAccessibilityEscape'},topAccessibilityTap:{registrationName:'onAccessibilityTap'},topLayout:{registrationName:'onLayout'},topMagicTap:{registrationName:'onMagicTap'},onGestureHandlerEvent:{registrationName:'onGestureHandlerEvent'},onGestureHandlerStateChange:{registrationName:'onGestureHandlerStateChange'}}),validAttributes:l(l({},s.default.validAttributes),{},{accessibilityActions:!0,accessibilityElementsHidden:!0,accessibilityHint:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityViewIsModal:!0,accessible:!0,alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,clickable:!0,collapsable:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,height:!0,hitSlop:{diff:r(d[5])},importantForAccessibility:!0,justifyContent:!0,left:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,nativeID:!0,needsOffscreenAlphaCompositing:!0,onAccessibilityAction:!0,onAccessibilityEscape:!0,onAccessibilityTap:!0,onLayout:!0,onMagicTap:!0,opacity:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,pointerEvents:!0,position:!0,removeClippedSubviews:!0,renderToHardwareTextureAndroid:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,shouldRasterizeIOS:!0,start:!0,style:{alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:!0,backfaceVisibility:!0,backgroundColor:{process:r(d[4])},borderBottomColor:{process:r(d[4])},borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderBottomWidth:!0,borderColor:{process:r(d[4])},borderEndColor:{process:r(d[4])},borderEndWidth:!0,borderLeftColor:{process:r(d[4])},borderLeftWidth:!0,borderRadius:!0,borderRightColor:{process:r(d[4])},borderRightWidth:!0,borderStartColor:{process:r(d[4])},borderStartWidth:!0,borderStyle:!0,borderTopColor:{process:r(d[4])},borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,color:{process:r(d[4])},decomposedMatrix:!0,direction:!0,display:!0,elevation:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,height:!0,includeFontPadding:!0,justifyContent:!0,left:!0,letterSpacing:!0,lineHeight:!0,margin:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,overflow:!0,overlayColor:{process:r(d[4])},padding:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,resizeMode:!0,right:!0,rotation:!0,scaleX:!0,scaleY:!0,shadowColor:{process:r(d[4])},shadowOffset:{diff:r(d[6])},shadowOpacity:!0,shadowRadius:!0,start:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:{process:r(d[4])},textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:{process:r(d[4])},textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,tintColor:{process:r(d[4])},top:!0,transform:'ios'===n.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},transformMatrix:!0,translateX:!0,translateY:!0,width:!0,writingDirection:!0,zIndex:!0},testID:!0,top:!0,transform:'ios'===n.Platform.OS?{diff:r(d[7])}:{process:r(d[8])},translateX:!0,translateY:!0,width:!0,zIndex:!0})};m.exports=p},192,[1,51,193,5,80,183,83,184,81]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={uiViewClassName:'RCTView',bubblingEventTypes:{topSelect:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'}}},directEventTypes:{topClick:{registrationName:'onClick'},topContentSizeChange:{registrationName:'onContentSizeChange'},topLoadingError:{registrationName:'onLoadingError'},topLoadingFinish:{registrationName:'onLoadingFinish'},topLoadingStart:{registrationName:'onLoadingStart'},topMessage:{registrationName:'onMessage'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topSelectionChange:{registrationName:'onSelectionChange'}},validAttributes:{hasTVPreferredFocus:!0,focusable:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0}}},193,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var u,l=n(r(d[2])),s=n(r(d[3])),o=(t(r(d[4])),n(r(d[5]))),f=r(d[6]),T=(0,s.default)({supportedCommands:['focus','blur','setTextAndSelection']});e.Commands=T,g.RN$Bridgeless?(f.register('RCTSinglelineTextInputView',function(){return o.default}),u='RCTSinglelineTextInputView'):u=(0,l.default)('RCTSinglelineTextInputView');var c=u;e.default=c},194,[12,1,180,88,59,195,177]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1]));function n(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function s(t){for(var s=1;s<arguments.length;s++){var u=null!=arguments[s]?arguments[s]:{};s%2?n(Object(u),!0).forEach(function(n){(0,o.default)(t,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):n(Object(u)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(u,o))})}return t}var u={uiViewClassName:'RCTSinglelineTextInputView',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{},validAttributes:s(s({},t(r(d[2])).default.validAttributes),{},{fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[3])},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[4])},color:{process:r(d[4])},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[4])},editable:!0,inputAccessoryViewID:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[4])},onSelectionChange:!0,clearButtonMode:!0,onContentSizeChange:!0,keyboardType:!0,selection:!0,returnKeyType:!0,blurOnSubmit:!0,mostRecentEventCount:!0,onChange:!0,scrollEnabled:!0,selectionColor:{process:r(d[4])},contextMenuHidden:!0,secureTextEntry:!0,onTextInput:!0,placeholder:!0,autoCorrect:!0,onScroll:!0,multiline:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0})};m.exports=u},195,[1,51,192,83,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;m.exports=function t(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3?arguments[3]:void 0,c='number'==typeof f?s:f,l='number'==typeof f?f:-1;if(0===l)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var v=null==c?void 0:c.unsafelyIgnoreFunctions;return null==v&&(!n||!n.onDifferentFunctionsIgnored||c&&'unsafelyIgnoreFunctions'in c||n.onDifferentFunctionsIgnored(o.name,u.name),v=!0),!v}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var y=o.length;if(u.length!==y)return!0;for(var p=0;p<y;p++)if(t(o[p],u[p],l-1,c))return!0}else{for(var b in o)if(t(o[b],u[b],l-1,c))return!0;for(var h in u)if(void 0===o[h]&&void 0!==u[h])return!0}return!1},m.exports.unstable_setLogListeners=function(t){n=t}},196,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);m.exports={showErrorDialog:function(o){var t,c=o.componentStack,p=o.error;t=p instanceof Error?p:'string'==typeof p?new n.SyntheticError(p):new n.SyntheticError('Unspecified error');try{t.componentStack=c,t.isComponentError=!0}catch(n){}return(0,n.handleException)(t,!1),!1}}},197,[97]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},198,[199]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,t,o,l,u;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,f=function n(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(t){throw setTimeout(n,0),t}},b=Date.now();e.unstable_now=function(){return Date.now()-b},n=function(t){null!==s?setTimeout(n,0,t):(s=t,setTimeout(f,0))},t=function(n,t){c=setTimeout(n,t)},o=function(){clearTimeout(c)},l=function(){return!1},u=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,v=window.Date,w=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var _=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)e.unstable_now=function(){return p.now()};else{var h=v.now();e.unstable_now=function(){return v.now()-h}}var k=!1,T=null,x=-1,P=5,F=0;l=function(){return e.unstable_now()>=F},u=function(){},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):P=0<n?Math.floor(1e3/n):5};var I=new MessageChannel,M=I.port2;I.port1.onmessage=function(){if(null!==T){var n=e.unstable_now();F=n+P;try{T(!0,n)?M.postMessage(null):(k=!1,T=null)}catch(n){throw M.postMessage(null),n}}else k=!1},n=function(n){T=n,k||(k=!0,M.postMessage(null))},t=function(n,t){x=w(function(){n(e.unstable_now())},t)},o=function(){y(x),x=-1}}function C(n,t){var o=n.length;n.push(t);n:for(;;){var l=o-1>>>1,u=n[l];if(!(void 0!==u&&0<q(u,t)))break n;n[l]=t,n[o]=u,o=l}}function A(n){return void 0===(n=n[0])?null:n}function L(n){var t=n[0];if(void 0!==t){var o=n.pop();if(o!==t){n[0]=o;n:for(var l=0,u=n.length;l<u;){var s=2*(l+1)-1,c=n[s],f=s+1,b=n[f];if(void 0!==c&&0>q(c,o))void 0!==b&&0>q(b,c)?(n[l]=b,n[f]=o,l=f):(n[l]=c,n[s]=o,l=s);else{if(!(void 0!==b&&0>q(b,o)))break n;n[l]=b,n[f]=o,l=f}}}return t}return null}function q(n,t){var o=n.sortIndex-t.sortIndex;return 0!==o?o:n.id-t.id}var D=[],R=[],j=1,E=null,N=3,B=!1,U=!1,W=!1;function Y(n){for(var t=A(R);null!==t;){if(null===t.callback)L(R);else{if(!(t.startTime<=n))break;L(R),t.sortIndex=t.expirationTime,C(D,t)}t=A(R)}}function z(o){if(W=!1,Y(o),!U)if(null!==A(D))U=!0,n(G);else{var l=A(R);null!==l&&t(z,l.startTime-o)}}function G(n,u){U=!1,W&&(W=!1,o()),B=!0;var s=N;try{for(Y(u),E=A(D);null!==E&&(!(E.expirationTime>u)||n&&!l());){var c=E.callback;if(null!==c){E.callback=null,N=E.priorityLevel;var f=c(E.expirationTime<=u);u=e.unstable_now(),"function"==typeof f?E.callback=f:E===A(D)&&L(D),Y(u)}else L(D);E=A(D)}if(null!==E)var b=!0;else{var p=A(R);null!==p&&t(z,p.startTime-u),b=!1}return b}finally{E=null,N=s,B=!1}}function H(n){switch(n){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var J=u;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_continueExecution=function(){U||B||(U=!0,n(G))},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return A(D)},e.unstable_next=function(n){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var o=N;N=t;try{return n()}finally{N=o}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=J,e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var o=N;N=n;try{return t()}finally{N=o}},e.unstable_scheduleCallback=function(l,u,s){var c=e.unstable_now();if("object"==typeof s&&null!==s){var f=s.delay;f="number"==typeof f&&0<f?c+f:c,s="number"==typeof s.timeout?s.timeout:H(l)}else s=H(l),f=c;return l={id:j++,callback:u,priorityLevel:l,startTime:f,expirationTime:s=f+s,sortIndex:-1},f>c?(l.sortIndex=f,C(R,l),null===A(D)&&l===A(R)&&(W?o():W=!0,t(z,f-c))):(l.sortIndex=s,C(D,l),U||B||(U=!0,n(G))),l},e.unstable_shouldYield=function(){var n=e.unstable_now();Y(n);var t=A(D);return t!==E&&null!==E&&null!==t&&null!==t.callback&&t.startTime<=n&&t.expirationTime<E.expirationTime||l()},e.unstable_wrapCallback=function(n){var t=N;return function(){var o=N;N=t;try{return n.apply(this,arguments)}finally{N=o}}}},199,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),c=t(r(d[2]));function o(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}function s(t){for(var c=1;c<arguments.length;c++){var s=null!=arguments[c]?arguments[c]:{};c%2?o(Object(s),!0).forEach(function(c){(0,n.default)(t,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var b=r(d[3]),u=r(d[4]);m.exports=function(t,n){var o={uiViewClassName:t,Commands:{},bubblingEventTypes:s(s({},u.bubblingEventTypes),n.bubblingEventTypes||{}),directEventTypes:s(s({},u.directEventTypes),n.directEventTypes||{}),validAttributes:s(s({},u.validAttributes),n.validAttributes||{})};b.register(t,function(){return(0,c.default)(t,o),o})}},200,[1,51,201,177,192]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.lefthandObjectDiff=u,e.getConfigWithoutViewProps=function(t,f){if(!t[f])return{};return Object.keys(t[f]).filter(function(t){return!n.default[f][t]}).reduce(function(n,o){return n[o]=t[f][o],n},{})},e.stringifyViewConfig=function(t){return JSON.stringify(t,function(t,n){return'function'==typeof n?"\u0192 "+n.name:n},2)},e.default=void 0;var n=t(r(d[1])),f=r(d[2]),o=['transform','hitSlop'];function u(t,n){var f={};function c(t,n,o){if(typeof t==typeof n||null==t)if('object'!=typeof t)t===n||(f[o]=n);else{var c=u(t,n);Object.keys(c).length>1&&(f[o]=c)}else f[o]=n}for(var s in t)o.includes(s)||(n?t.hasOwnProperty(s)&&c(t[s],n[s],s):f[s]={});return f}var c=function(t,n){if(!g.RN$Bridgeless){var o=f(t);['validAttributes','bubblingEventTypes','directEventTypes'].forEach(function(f){var c=Object.keys(u(o[f],n[f]));c.length&&console.error(t+" generated view config for "+f+" does not match native, missing: "+c.join(' '))})}};e.default=c},201,[1,192,182]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.createContext(!1)},202,[59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),f=t(r(d[2])),u=r(d[3]),l=u.forwardRef(function(t,l){return u.createElement(f.default,(0,n.default)({},t,{ref:l}))});l.defaultProps={styleAttr:'Normal',indeterminate:!0,animating:!0},m.exports=l},203,[1,16,204,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('AndroidProgressBar');e.default=u},204,[1,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2]));var p=function(n,p){var f=p&&p.paperComponentName?p.paperComponentName:n;if(null!=p&&null!=p.paperComponentNameDeprecated)if(o.default.getViewManagerConfig(n))f=n;else{if(null==p.paperComponentNameDeprecated||!o.default.getViewManagerConfig(p.paperComponentNameDeprecated))throw new Error("Failed to find native component for either "+n+" or "+(p.paperComponentNameDeprecated||'(unknown)'));f=p.paperComponentNameDeprecated}return(0,t.default)(f)};e.default=p},205,[1,180,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]),n=r(d[2]),c=r(d[3]),s=r(d[4]),u=r(d[5]);function l(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[6]);var b=r(d[7]),p=r(d[8]),y=r(d[9]),h=r(d[10]),x=(r(d[11]),r(d[12])),O=r(d[13]),D=(function(t){c(F,t);var l,p,D=(l=F,p=f(),function(){var t,o=u(l);if(p){var n=u(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return s(this,t)});function F(){return o(this,F),D.apply(this,arguments)}return n(F,[{key:"render",value:function(){var t=this.props,o=t.accessibilityLabel,n=t.color,c=t.onPress,s=t.touchSoundDisabled,u=t.title,l=t.hasTVPreferredFocus,f=t.nextFocusDown,p=t.nextFocusForward,D=t.nextFocusLeft,F=t.nextFocusRight,P=t.nextFocusUp,j=t.disabled,w=t.testID,R=[v.button],S=[v.text];n&&R.push({backgroundColor:n});var k={};j&&(R.push(v.buttonDisabled),S.push(v.textDisabled),k.disabled=!0),O('string'==typeof u,'The title prop of a Button must be a string');var C=u.toUpperCase(),E=h;return b.createElement(E,{accessibilityLabel:o,accessibilityRole:"button",accessibilityState:k,hasTVPreferredFocus:l,nextFocusDown:f,nextFocusForward:p,nextFocusLeft:D,nextFocusRight:F,nextFocusUp:P,testID:w,disabled:j,onPress:c,touchSoundDisabled:s},b.createElement(x,{style:R},b.createElement(y,{style:S,disabled:j},C)))}}]),F})(b.Component),v=p.create({button:{elevation:4,backgroundColor:'#2196F3',borderRadius:2},text:(function(o){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?l(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o})({textAlign:'center',margin:8},{color:'white',fontWeight:'500'}),buttonDisabled:{elevation:0,backgroundColor:'#dfdfdf'},textDisabled:{color:'#a1a1a1'}});m.exports=D},206,[51,29,30,40,42,39,53,59,62,207,224,230,86,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),u=r(d[5]),p=r(d[6]),c=r(d[7]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function R(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?h(Object(o),!0).forEach(function(n){c(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var b=r(d[8]),v=r(d[9]),y=r(d[10]),H=r(d[11]),T=r(d[12]),P=r(d[13]),w=r(d[14]),O=r(d[15]),S=r(d[16]),x={top:20,left:20,right:20,bottom:30},C={validAttributes:R(R({},y.UIView),{},{isHighlighted:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0}),directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'},M=(function(c){l(P,c);var h,b,y=(h=P,b=f(),function(){var t,n=p(h);if(b){var o=p(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return u(this,t)});function P(){var t;n(this,P);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(t=y.call.apply(y,[this].concat(l))).state=R(R({},T.Mixin.touchableGetInitialState()),{},{isHighlighted:!1,createResponderHandlers:t._createResponseHandlers.bind(s(t)),responseHandlers:null}),t}return o(P,[{key:"render",value:function(){var n=this.props;return j(n)&&(n=R(R(R({},n),this.state.responseHandlers),{},{isHighlighted:this.state.isHighlighted})),null!=n.selectionColor&&(n=R(R({},n),{},{selectionColor:S(n.selectionColor)})),v.createElement(H.Consumer,null,function(o){return o?v.createElement(L,t({},n,{ref:n.forwardedRef})):v.createElement(H.Provider,{value:!0},v.createElement(V,t({},n,{ref:n.forwardedRef})))})}},{key:"_createResponseHandlers",value:function(){var t=this;return{onStartShouldSetResponder:function(){var n=t.props.onStartShouldSetResponder,o=null!=n&&n()||j(t.props);return o&&t._attachTouchHandlers(),o},onResponderGrant:function(n,o){O(t.touchableHandleResponderGrant)(n,o),null!=t.props.onResponderGrant&&t.props.onResponderGrant.call(t,n,o)},onResponderMove:function(n){O(t.touchableHandleResponderMove)(n),null!=t.props.onResponderMove&&t.props.onResponderMove.call(t,n)},onResponderRelease:function(n){O(t.touchableHandleResponderRelease)(n),null!=t.props.onResponderRelease&&t.props.onResponderRelease.call(t,n)},onResponderTerminate:function(n){O(t.touchableHandleResponderTerminate)(n),null!=t.props.onResponderTerminate&&t.props.onResponderTerminate.call(t,n)},onResponderTerminationRequest:function(){var n=t.props.onResponderTerminationRequest;return!!O(t.touchableHandleResponderTerminationRequest)()&&(null==n||n())}}}},{key:"_attachTouchHandlers",value:function(){var t=this;if(null==this.touchableGetPressRectOffset){for(var n in T.Mixin)'function'==typeof T.Mixin[n]&&(this[n]=T.Mixin[n].bind(this));this.touchableHandleActivePressIn=function(){!t.props.suppressHighlighting&&j(t.props)&&t.setState({isHighlighted:!0})},this.touchableHandleActivePressOut=function(){!t.props.suppressHighlighting&&j(t.props)&&t.setState({isHighlighted:!1})},this.touchableHandlePress=function(n){null!=t.props.onPress&&t.props.onPress(n)},this.touchableHandleLongPress=function(n){null!=t.props.onLongPress&&t.props.onLongPress(n)},this.touchableGetPressRectOffset=function(){return null==t.props.pressRetentionOffset?x:t.props.pressRetentionOffset}}}}],[{key:"getDerivedStateFromProps",value:function(t,n){return null==n.responseHandlers&&j(t)?{responseHandlers:n.createResponderHandlers()}:null}}]),P})(v.Component);M.defaultProps={accessible:!0,allowFontScaling:!0,ellipsizeMode:'tail'},M.viewConfig=C;var j=function(t){return null!=t.onPress||null!=t.onLongPress||null!=t.onStartShouldSetResponder},V=w(C.uiViewClassName,function(){return C}),L=null==P.getViewManagerConfig('RCTVirtualText')?V:w('RCTVirtualText',function(){return{validAttributes:R(R({},y.UIView),{},{isHighlighted:!0,maxFontSizeMultiplier:!0}),uiViewClassName:'RCTVirtualText'}}),D=v.forwardRef(function(n,o){return v.createElement(M,t({},n,{forwardedRef:o}))});D.displayName='Text',D.propTypes=b,m.exports=D},207,[16,29,30,43,40,42,39,51,208,59,212,202,213,48,181,223,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),t=r(d[2]),l=r(d[3]),s=t(r(d[4]));m.exports={ellipsizeMode:l.oneOf(['head','middle','tail','clip']),numberOfLines:l.number,textBreakStrategy:l.oneOf(['simple','highQuality','balanced']),onLayout:l.func,onPress:l.func,onLongPress:l.func,pressRetentionOffset:n,selectable:l.bool,selectionColor:o,suppressHighlighting:l.bool,style:s,testID:l.string,nativeID:l.string,allowFontScaling:l.bool,maxFontSizeMultiplier:l.number,accessible:l.bool,adjustsFontSizeToFit:l.bool,minimumFontScale:l.number,disabled:l.bool,dataDetectorType:l.oneOf(['phoneNumber','link','email','none','all'])}},208,[68,209,210,72,78]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t.shape({top:t.number,left:t.number,bottom:t.number,right:t.number});m.exports=n},209,[72]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);m.exports=function(o){var c=n(o);return function(n,o,u,v){var f=n;n[o]&&((f={})[o]=t(n[o]));for(var p=arguments.length,s=new Array(p>4?p-4:0),l=4;l<p;l++)s[l-4]=arguments[l];return c.apply(void 0,[f,o,u,v].concat(s))}}},210,[211,85]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function o(o){for(var c=1;c<arguments.length;c++){var p=null!=arguments[c]?arguments[c]:{};c%2?n(Object(p),!0).forEach(function(n){t(o,n,p[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(p,t))})}return o}var c=r(d[1]);m.exports=function(t){function n(n,p,s,u,f){if(p[s]){var l=p[s],y=typeof l;'object'!==y&&c(!1,"Invalid "+(f||'(unknown)')+" `"+s+"` of type `"+y+"` supplied to `"+u+"`, expected `object`.");for(var b=o(o({},p[s]),t),O=arguments.length,j=new Array(O>5?O-5:0),v=5;v<O;v++)j[v-5]=arguments[v];for(var w in b){var P=t[w];P||c(!1,"Invalid props."+s+" key `"+w+"` supplied to `"+u+"`.\nBad object: "+JSON.stringify(p[s],null,'  ')+'\nValid keys: '+JSON.stringify(Object.keys(t),null,'  '));var h=P.apply(void 0,[l,w,u,f].concat(j));h&&c(!1,h.message+'\nBad object: '+JSON.stringify(p[s],null,'  '))}}else n&&c(!1,"Required object `"+s+"` was not specified in `"+u+"`.")}function p(t,o,c,p){for(var s=arguments.length,u=new Array(s>4?s-4:0),f=4;f<s;f++)u[f-4]=arguments[f];return n.apply(void 0,[!1,t,o,c,p].concat(u))}return p.isRequired=n.bind(null,!0),p}},211,[51,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function c(t,c){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);c&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),s.push.apply(s,n)}return s}function s(s){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?c(Object(o),!0).forEach(function(c){t(s,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(o,t))})}return s}var n={pointerEvents:!0,accessible:!0,accessibilityActions:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessibilityHint:!0,importantForAccessibility:!0,nativeID:!0,testID:!0,renderToHardwareTextureAndroid:!0,shouldRasterizeIOS:!0,onLayout:!0,onAccessibilityAction:!0,onAccessibilityTap:!0,onMagicTap:!0,onAccessibilityEscape:!0,collapsable:!0,needsOffscreenAlphaCompositing:!0,style:r(d[1])},o={UIView:n,RCTView:s(s({},n),{},{removeClippedSubviews:!0})};m.exports=o},212,[51,66]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),E=r(d[1]);function R(t,E){var R=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);E&&(o=o.filter(function(E){return Object.getOwnPropertyDescriptor(t,E).enumerable})),R.push.apply(R,o)}return R}function o(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?R(Object(s),!0).forEach(function(R){E(t,R,s[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach(function(E){Object.defineProperty(t,E,Object.getOwnPropertyDescriptor(s,E))})}return t}var s=r(d[2]),n=r(d[3]),_=r(d[4]),S=(r(d[5]),r(d[6])),l=r(d[7]),h=r(d[8]),u=r(d[9]),O=(r(d[10]),r(d[11])),N=r(d[12]),P=(r(d[13]),function(t){var E=t.touches,R=t.changedTouches,o=E&&E.length>0,s=R&&R.length>0;return!o&&s?R[0]:o?E[0]:t}),T=N({NOT_RESPONDER:null,RESPONDER_INACTIVE_PRESS_IN:null,RESPONDER_INACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_PRESS_IN:null,RESPONDER_ACTIVE_PRESS_OUT:null,RESPONDER_ACTIVE_LONG_PRESS_IN:null,RESPONDER_ACTIVE_LONG_PRESS_OUT:null,ERROR:null}),c={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},D=o(o({},c),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),I=o(o({},c),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),A=o(o({},c),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),b=N({DELAY:null,RESPONDER_GRANT:null,RESPONDER_RELEASE:null,RESPONDER_TERMINATED:null,ENTER_PRESS_RECT:null,LEAVE_PRESS_RECT:null,LONG_PRESS_DETECTED:null}),p={NOT_RESPONDER:{DELAY:T.ERROR,RESPONDER_GRANT:T.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:T.ERROR,RESPONDER_TERMINATED:T.ERROR,ENTER_PRESS_RECT:T.ERROR,LEAVE_PRESS_RECT:T.ERROR,LONG_PRESS_DETECTED:T.ERROR},RESPONDER_INACTIVE_PRESS_IN:{DELAY:T.RESPONDER_ACTIVE_PRESS_IN,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:T.ERROR},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:T.RESPONDER_ACTIVE_PRESS_OUT,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:T.ERROR},RESPONDER_ACTIVE_PRESS_IN:{DELAY:T.ERROR,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:T.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:T.ERROR,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:T.ERROR},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:T.ERROR,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:T.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:T.ERROR,RESPONDER_GRANT:T.ERROR,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:T.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:T.ERROR},error:{DELAY:T.NOT_RESPONDER,RESPONDER_GRANT:T.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:T.NOT_RESPONDER,RESPONDER_TERMINATED:T.NOT_RESPONDER,ENTER_PRESS_RECT:T.NOT_RESPONDER,LEAVE_PRESS_RECT:T.NOT_RESPONDER,LONG_PRESS_DETECTED:T.NOT_RESPONDER}},C={componentDidMount:function(){n.isTV&&(this._tvEventHandler=new h,this._tvEventHandler.enable(this,function(t,E){var R=S.findNodeHandle(t);E.dispatchConfig={},R===E.tag&&('focus'===E.eventType?t.touchableHandleFocus(E):'blur'===E.eventType?t.touchableHandleBlur(E):E.eventType)}))},componentWillUnmount:function(){this._tvEventHandler&&(this._tvEventHandler.disable(),delete this._tvEventHandler),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var E=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=T.NOT_RESPONDER,this.state.touchable.responderID=E,this._receiveSignal(b.RESPONDER_GRANT,t);var R=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(R=isNaN(R)?130:R)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),R):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+R)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(b.RESPONDER_RELEASE,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(b.RESPONDER_TERMINATED,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var E=this.state.touchable.positionOnActivate,R=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=o.left,n=o.top,_=o.right,S=o.bottom,l=this.touchableGetHitSlop?this.touchableGetHitSlop():null;l&&(s+=l.left||0,n+=l.top||0,_+=l.right||0,S+=l.bottom||0);var h=P(t.nativeEvent),u=h&&h.pageX,O=h&&h.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(u,O,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(u>E.left-s&&O>E.top-n&&u<E.left+R.width+_&&O<E.top+R.height+S){var N=this.state.touchable.touchState;this._receiveSignal(b.ENTER_PRESS_RECT,t),this.state.touchable.touchState===T.RESPONDER_INACTIVE_PRESS_IN&&N!==T.RESPONDER_INACTIVE_PRESS_IN&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(b.LEAVE_PRESS_RECT,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?u.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,E,R,o,n,S){(t||E||R||o||n||S)&&(this.state.touchable.positionOnActivate&&_.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&s.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=_.getPooled(n,S),this.state.touchable.dimensionsOnActivate=s.getPooled(R,o))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(b.DELAY,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var E=this.state.touchable.touchState;E!==T.RESPONDER_ACTIVE_PRESS_IN&&E!==T.RESPONDER_ACTIVE_LONG_PRESS_IN||this._receiveSignal(b.LONG_PRESS_DETECTED,t)},_receiveSignal:function(t,E){var R=this.state.touchable.responderID,o=this.state.touchable.touchState,s=p[o]&&p[o][t];if(R||t!==b.RESPONDER_RELEASE){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(s===T.ERROR)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");o!==s&&(this._performSideEffectsForTransition(o,s,t,E),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===T.RESPONDER_ACTIVE_PRESS_IN||t===T.RESPONDER_ACTIVE_LONG_PRESS_IN},_savePressInLocation:function(t){var E=P(t.nativeEvent),R=E&&E.pageX,o=E&&E.pageY,s=E&&E.locationX,n=E&&E.locationY;this.pressInLocation={pageX:R,pageY:o,locationX:s,locationY:n}},_getDistanceBetweenPoints:function(t,E,R,o){var s=t-R,n=E-o;return Math.sqrt(s*s+n*n)},_performSideEffectsForTransition:function(t,E,R,o){var s=this._isHighlight(t),n=this._isHighlight(E);(R===b.RESPONDER_TERMINATED||R===b.RESPONDER_RELEASE)&&this._cancelLongPressDelayTimeout();var _=t===T.NOT_RESPONDER&&E===T.RESPONDER_INACTIVE_PRESS_IN,S=!D[t]&&D[E];if((_||S)&&this._remeasureMetricsOnActivation(),I[t]&&R===b.LONG_PRESS_DETECTED&&this.touchableHandleLongPress&&this.touchableHandleLongPress(o),n&&!s?this._startHighlight(o):!n&&s&&this._endHighlight(o),I[t]&&R===b.RESPONDER_RELEASE){var l=!!this.props.onLongPress,h=A[t]&&(!l||!this.touchableLongPressCancelsPress());(!A[t]||h)&&this.touchableHandlePress&&(n||s||(this._startHighlight(o),this._endHighlight(o)),this.props.touchSoundDisabled||O.playTouchSound(),this.touchableHandlePress(o))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var E=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){E.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},L=(C.touchableHandleFocus,C.touchableHandleBlur,t(C,["touchableHandleFocus","touchableHandleBlur"]));C.withoutDefaultFocusAndBlur=L;var f={Mixin:C,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(t){t.color,t.hitSlop;if(!f.TOUCH_TARGET_DEBUG)return null;throw Error('Touchable.TOUCH_TARGET_DEBUG should not be enabled in prod!')}};l.create({debug:{position:'absolute',borderWidth:1,borderStyle:'dashed'}});m.exports=f},213,[57,51,214,53,216,59,89,62,217,48,86,219,221,69]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.addPoolingTo(n,o),m.exports=n},214,[215]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=function(t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t),n}return new this(t)},o=function(n){t(n instanceof this,'Trying to release an instance into a pool of a different type.'),n.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(n)},s=n,l={addPoolingTo:function(t,n){var l=t;return l.instancePool=[],l.getPooled=n||s,l.poolSize||(l.poolSize=10),l.release=o,l},oneArgumentPooler:n,twoArgumentPooler:function(t,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,n),o}return new this(t,n)},threeArgumentPooler:function(t,n,o){if(this.instancePool.length){var s=this.instancePool.pop();return this.call(s,t,n,o),s}return new this(t,n,o)},fourArgumentPooler:function(t,n,o,s){if(this.instancePool.length){var l=this.instancePool.pop();return this.call(l,t,n,o,s),l}return new this(t,n,o,s)}};m.exports=l},215,[6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t.twoArgumentPooler;function n(t,o){this.left=t,this.top=o}n.prototype.destructor=function(){this.left=null,this.top=null},t.addPoolingTo(n,o),m.exports=n},216,[215]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),v=t(r(d[2])),_=t(r(d[3])),s=(r(d[4]),r(d[5])),o=(function(){function t(){(0,n.default)(this,t),this.__nativeTVNavigationEventListener=null,this.__nativeTVNavigationEventEmitter=null}return(0,v.default)(t,[{key:"enable",value:function(t,n){this.__nativeTVNavigationEventEmitter=new s(_.default),this.__nativeTVNavigationEventListener=this.__nativeTVNavigationEventEmitter.addListener('onHWKeyEvent',function(v){n&&n(t,v)})}},{key:"disable",value:function(){this.__nativeTVNavigationEventListener&&(this.__nativeTVNavigationEventListener.remove(),delete this.__nativeTVNavigationEventListener),this.__nativeTVNavigationEventEmitter&&delete this.__nativeTVNavigationEventEmitter}}]),t})();m.exports=o},217,[1,29,30,218,53,145]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('TVNavigationEventEmitter');e.default=u},218,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var u=r(d[0])(r(d[1])),o={playTouchSound:function(){u.default&&u.default.playTouchSound()}};m.exports=o},219,[1,220]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('SoundManager');e.default=u},220,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);m.exports=function(t){var o,s={};for(o in t instanceof Object&&!Array.isArray(t)||n(!1),t)t.hasOwnProperty(o)&&(s[o]=o);return s}},221,[222]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){if(void 0===n)throw new Error('invariant(...): Second argument must be a string.')};m.exports=function(o,t){for(var f=arguments.length,s=new Array(f>2?f-2:0),u=2;u<f;u++)s[u-2]=arguments[u];if(n(t),!o){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=0;(c=new Error(t.replace(/%s/g,function(){return String(s[v++])}))).name='Invariant Violation'}throw c.framesToPop=1,c}}},222,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},223,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),o=s(r(d[2])),n=s(r(d[3])),c=s(r(d[4])),l=s(r(d[5])),p=s(r(d[6])),u=s(r(d[7])),f=s(r(d[8])),h=s(r(d[9])),b=(r(d[10]),s(r(d[11]))),y=r(d[12]),v=s(r(d[13])),P=s(r(d[14])),O=(s(r(d[15])),s(r(d[16]))),F=t(r(d[17])),S=s(r(d[18]));function R(t,s){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function D(t){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?R(Object(n),!0).forEach(function(s){(0,o.default)(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var w=(function(t){(0,p.default)(S,t);var s,o,O=(s=S,o=A(),function(){var t,n=(0,f.default)(s);if(o){var c=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function S(){var t;(0,c.default)(this,S);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=O.call.apply(O,[this].concat(o))).state={pressability:new h.default(t._createPressabilityConfig())},t}return(0,l.default)(S,[{key:"_createPressabilityConfig",value:function(){var t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){'android'===P.default.OS&&(t._dispatchPressedStateChange(!0),t._dispatchHotspotUpdate(s)),null!=t.props.onPressIn&&t.props.onPressIn(s)},onPressMove:function(s){'android'===P.default.OS&&t._dispatchHotspotUpdate(s)},onPressOut:function(s){'android'===P.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(s)}}}},{key:"_dispatchPressedStateChange",value:function(t){if('android'===P.default.OS){var s=v.default.findHostInstance_DEPRECATED(this);null==s?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):y.Commands.setPressed(s,t)}}},{key:"_dispatchHotspotUpdate",value:function(t){if('android'===P.default.OS){var s=t.nativeEvent,o=s.locationX,n=s.locationY,c=v.default.findHostInstance_DEPRECATED(this);null==c?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):y.Commands.hotspotUpdate(c,null!=o?o:0,null!=n?n:0)}}},{key:"render",value:function(){var t=F.Children.only(this.props.children),s=[t.props.children],o=this.state.pressability.getEventHandlers(),c=(o.onBlur,o.onFocus,(0,n.default)(o,["onBlur","onFocus"]));return F.cloneElement.apply(F,[t,D(D(D({},c),_(void 0===this.props.background?S.SelectableBackground():this.props.background,!0===this.props.useForeground)),{},{accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(s))}},{key:"componentDidMount",value:function(){var t=this;P.default.isTV&&(this._tvTouchable=new b.default(this,{getDisabled:function(){return!0===t.props.disabled},onBlur:function(s){null!=t.props.onBlur&&t.props.onBlur(s)},onFocus:function(s){null!=t.props.onFocus&&t.props.onFocus(s)},onPress:function(s){null!=t.props.onPress&&t.props.onPress(s)}}))}},{key:"componentDidUpdate",value:function(t,s){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){P.default.isTV&&null!=this._tvTouchable&&this._tvTouchable.destroy(),this.state.pressability.reset()}}]),S})(F.Component);w.SelectableBackground=function(t){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:t}},w.SelectableBackgroundBorderless=function(t){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:t}},w.Ripple=function(t,s,o){var n=(0,O.default)(t);return(0,S.default)(null==n||'number'==typeof n,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:n,borderless:s,rippleRadius:o}},w.canUseNativeForeground=function(){return'android'===P.default.OS&&P.default.Version>=23};var _='android'===P.default.OS?function(t,s){return s&&w.canUseNativeForeground()?{nativeForegroundAndroid:t}:{nativeBackgroundAndroid:t}}:function(t,s){return null};m.exports=w},224,[12,1,51,57,29,30,40,42,39,225,228,229,87,89,53,86,80,59,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var E=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[2])),R=t(r(d[3])),_=t(r(d[4])),o=r(d[5]),l=t(r(d[6])),u=t(r(d[7])),s=r(d[8]),S=t(r(d[9])),T=t(r(d[10]));E(r(d[11]));function P(E,t){var n=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);t&&(R=R.filter(function(t){return Object.getOwnPropertyDescriptor(E,t).enumerable})),n.push.apply(n,R)}return n}function O(E){for(var t=1;t<arguments.length;t++){var R=null!=arguments[t]?arguments[t]:{};t%2?P(Object(R),!0).forEach(function(t){(0,n.default)(E,t,R[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):P(Object(R)).forEach(function(t){Object.defineProperty(E,t,Object.getOwnPropertyDescriptor(R,t))})}return E}var c=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),D=function(E){return'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},N=function(E){return'RESPONDER_ACTIVE_PRESS_OUT'===E||'RESPONDER_ACTIVE_PRESS_IN'===E},h=function(E){return'RESPONDER_INACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},v=function(E){return'RESPONDER_TERMINATED'===E||'RESPONDER_RELEASE'===E},f=30,I=20,A=20,y=20,p=(function(){function E(t){var n=this;(0,R.default)(this,E),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(E,t,R,_,o,l){(E||t||R||_||o||l)&&(n._responderRegion={bottom:l+_,left:o,right:o+R,top:l})},this.configure(t)}return(0,_.default)(E,[{key:"configure",value:function(E){this._config=E}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var E=this,t={onBlur:function(t){var n=E._config.onBlur;null!=n&&n(t)},onFocus:function(t){var n=E._config.onFocus;null!=n&&n(t)}},n={onStartShouldSetResponder:function(){var t=E._config.disabled;if(null==t){var n=E._config.onStartShouldSetResponder_DEPRECATED;return null==n||n()}return!t},onResponderGrant:function(t){t.persist(),E._cancelPressOutDelayTimeout(),E._responderID=t.currentTarget,E._touchState='NOT_RESPONDER',E._receiveSignal('RESPONDER_GRANT',t);var n=C(E._config.delayPressIn);n>0?E._pressDelayTimeout=setTimeout(function(){E._receiveSignal('DELAY',t)},n):E._receiveSignal('DELAY',t);var R=C(E._config.delayLongPress,10,500-n);E._longPressDelayTimeout=setTimeout(function(){E._handleLongPress(t)},R+n)},onResponderMove:function(t){null!=E._config.onPressMove&&E._config.onPressMove(t);var n=E._responderRegion;if(null!=n){var R=L(t);if(null==R)return E._cancelLongPressDelayTimeout(),void E._receiveSignal('LEAVE_PRESS_RECT',t);if(null!=E._touchActivatePosition){var _=E._touchActivatePosition.pageX-R.pageX,o=E._touchActivatePosition.pageY-R.pageY;Math.hypot(_,o)>10&&E._cancelLongPressDelayTimeout()}E._isTouchWithinResponderRegion(R,n)?E._receiveSignal('ENTER_PRESS_RECT',t):(E._cancelLongPressDelayTimeout(),E._receiveSignal('LEAVE_PRESS_RECT',t))}},onResponderRelease:function(t){E._receiveSignal('RESPONDER_RELEASE',t)},onResponderTerminate:function(t){E._receiveSignal('RESPONDER_TERMINATED',t)},onResponderTerminationRequest:function(){var t=E._config.cancelable;if(null==t){var n=E._config.onResponderTerminationRequest_DEPRECATED;return null==n||n()}return t},onClick:function(t){var n=E._config.onPress;null!=n&&n(t)}},R='ios'===S.default.OS||'android'===S.default.OS?null:{onMouseEnter:function(t){if((0,o.isHoverEnabled)()){E._isHovered=!0,E._cancelHoverOutDelayTimeout();var n=E._config.onHoverIn;if(null!=n){var R=C(E._config.delayHoverIn);R>0?E._hoverInDelayTimeout=setTimeout(function(){n(t)},R):n(t)}}},onMouseLeave:function(t){if(E._isHovered){E._isHovered=!1,E._cancelHoverInDelayTimeout();var n=E._config.onHoverOut;if(null!=n){var R=C(E._config.delayHoverOut);R>0?E._hoverInDelayTimeout=setTimeout(function(){n(t)},R):n(t)}}}};return O(O(O({},t),n),R)}},{key:"_receiveSignal",value:function(E,t){var n,R=this._touchState,_=null==(n=c[R])?void 0:n[E];null==this._responderID&&'RESPONDER_RELEASE'===E||((0,l.default)(null!=_&&'ERROR'!==_,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',E,R,'number'==typeof this._responderID?this._responderID:'<<host component>>'),R!==_&&(this._performTransitionSideEffects(R,_,E,t),this._touchState=_))}},{key:"_performTransitionSideEffects",value:function(E,t,n,R){v(n)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var _='NOT_RESPONDER'===E&&'RESPONDER_INACTIVE_PRESS_IN'===t,o=!N(E)&&N(t);if((_||o)&&this._measureResponderRegion(),h(E)&&'LONG_PRESS_DETECTED'===n){var l=this._config.onLongPress;null!=l&&l(R)}var s=D(E),T=D(t);if(!s&&T?this._activate(R):s&&!T&&this._deactivate(R),h(E)&&'RESPONDER_RELEASE'===n){var P=this._config,O=P.onLongPress,c=P.onPress,f=P.android_disableSound;if(null!=c)null!=O&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===E&&this._shouldLongPressCancelPress()||(T||s||(this._activate(R),this._deactivate(R)),'android'===S.default.OS&&!0!==f&&u.default.playTouchSound(),c(R))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(E){var t=this._config.onPressIn,n=L(E);this._touchActivatePosition={pageX:n.pageX,pageY:n.pageY},this._touchActivateTime=Date.now(),null!=t&&t(E)}},{key:"_deactivate",value:function(E){var t=this._config.onPressOut;if(null!=t){var n,R=C(this._config.minPressDuration,0,130),_=Date.now()-(null!=(n=this._touchActivateTime)?n:0),o=Math.max(R-_,C(this._config.delayPressOut));o>0?this._pressOutDelayTimeout=setTimeout(function(){t(E)},o):t(E)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?T.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(E,t){var n,R,_,o,l=(0,s.normalizeRect)(this._config.hitSlop),u=(0,s.normalizeRect)(this._config.pressRectOffset),S=t.bottom,T=t.left,P=t.right,O=t.top;return null!=l&&(null!=l.bottom&&(S+=l.bottom),null!=l.left&&(T-=l.left),null!=l.right&&(P+=l.right),null!=l.top&&(O-=l.top)),S+=null!=(n=null==u?void 0:u.bottom)?n:f,T-=null!=(R=null==u?void 0:u.left)?R:I,P+=null!=(_=null==u?void 0:u.right)?_:A,O-=null!=(o=null==u?void 0:u.top)?o:y,E.pageX>T&&E.pageX<P&&E.pageY>O&&E.pageY<S}},{key:"_handleLongPress",value:function(E){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',E)}},{key:"_shouldLongPressCancelPress",value:function(){return null==this._config.onLongPressShouldCancelPress_DEPRECATED||this._config.onLongPressShouldCancelPress_DEPRECATED()}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]),E})();function C(E){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,null!=E?E:n)}e.default=p;var L=function(E){var t=E.nativeEvent,n=t.changedTouches,R=t.touches;return null!=R&&R.length>0?R[0]:null!=n&&n.length>0?n[0]:E.nativeEvent}},225,[12,1,51,29,30,226,6,219,227,53,48,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return t};var t=!1;if('web'===n(r(d[1])).default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var o=0,u=function(){o=Date.now(),t&&(t=!1)};document.addEventListener('touchstart',u,!0),document.addEventListener('touchmove',u,!0),document.addEventListener('mousemove',function(){t||Date.now()-o<1e3||(t=!0)},!0)}},226,[1,53]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},227,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.PressabilityDebugView=function(n){n.color,n.hitSlop;return null},e.isEnabled=function(){return!1};t(r(d[2])),t(r(d[3])),t(r(d[4])),n(r(d[5]))},228,[12,1,69,213,86,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),f=t(r(d[5])),o=t(r(d[6])),v=(function(){function t(u,v){(0,n.default)(this,t),(0,l.default)(f.default.isTV,'TVTouchable: Requires `Platform.isTV`.'),this._tvEventHandler=new o.default,this._tvEventHandler.enable(u,function(t,n){n.dispatchConfig={},s.default.findNodeHandle(u)===n.tag&&('focus'===n.eventType?v.onFocus(n):'blur'===n.eventType?v.onBlur(n):'select'===n.eventType&&(v.getDisabled()||v.onPress(n)))})}return(0,u.default)(t,[{key:"destroy",value:function(){this._tvEventHandler.disable()}}]),t})();e.default=v},229,[1,29,30,6,89,53,217]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),o=s(r(d[2])),n=s(r(d[3])),c=s(r(d[4])),l=s(r(d[5])),p=s(r(d[6])),u=s(r(d[7])),h=s(r(d[8])),f=s(r(d[9])),y=(r(d[10]),s(r(d[11]))),b=s(r(d[12])),v=s(r(d[13])),P=s(r(d[14])),F=s(r(d[15])),_=t(r(d[16]));function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var D=(function(t){(0,p.default)(O,t);var s,D,I=(s=O,D=R(),function(){var t,o=(0,h.default)(s);if(D){var n=(0,h.default)(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return(0,u.default)(this,t)});function O(){var t;(0,c.default)(this,O);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=I.call.apply(I,[this].concat(o))).state={anim:new b.default.Value(t._getChildStyleOpacityWithDefault()),pressability:new f.default(t._createPressabilityConfig())},t}return(0,l.default)(O,[{key:"_createPressabilityConfig",value:function(){var t=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(s){F.default.isTV&&t._opacityInactive(250),null!=t.props.onBlur&&t.props.onBlur(s)},onFocus:function(s){F.default.isTV&&t._opacityActive(150),null!=t.props.onFocus&&t.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){t._opacityActive('onResponderGrant'===s.dispatchConfig.registrationName?0:150),null!=t.props.onPressIn&&t.props.onPressIn(s)},onPressOut:function(s){t._opacityInactive(250),null!=t.props.onPressOut&&t.props.onPressOut(s)}}}},{key:"_setOpacityTo",value:function(t,s){b.default.timing(this.state.anim,{toValue:t,duration:s,easing:v.default.inOut(v.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(t){var s;this._setOpacityTo(null!=(s=this.props.activeOpacity)?s:.2,t)}},{key:"_opacityInactive",value:function(t){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),t)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var t,s=null==(t=(0,P.default)(this.props.style))?void 0:t.opacity;return'number'==typeof s?s:1}},{key:"render",value:function(){var t=this.state.pressability.getEventHandlers(),s=(t.onBlur,t.onFocus,(0,n.default)(t,["onBlur","onFocus"]));return _.createElement(b.default.View,(0,o.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:this.props.accessibilityValue,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,ref:this.props.hostRef},s),this.props.children,null)}},{key:"componentDidMount",value:function(){var t=this;F.default.isTV&&(this._tvTouchable=new y.default(this,{getDisabled:function(){return!0===t.props.disabled},onBlur:function(s){null!=t.props.onBlur&&t.props.onBlur(s)},onFocus:function(s){null!=t.props.onFocus&&t.props.onFocus(s)},onPress:function(s){null!=t.props.onPress&&t.props.onPress(s)}}))}},{key:"componentDidUpdate",value:function(t,s){this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled!==t.disabled&&this._opacityInactive(250)}},{key:"componentWillUnmount",value:function(){F.default.isTV&&null!=this._tvTouchable&&this._tvTouchable.destroy(),this.state.pressability.reset()}}]),O})(_.Component);m.exports=_.forwardRef(function(t,s){return _.createElement(D,(0,o.default)({},t,{hostRef:s}))})},230,[12,1,16,57,29,30,40,42,39,225,228,229,231,259,85,53,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),c=t(r(d[2]));function o(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}r(d[3]),r(d[4]);var u=r(d[5]),s=r(d[6]),O=c.default.isTesting||g.RN$Bridgeless?u:s;m.exports=(function(t){for(var c=1;c<arguments.length;c++){var u=null!=arguments[c]?arguments[c]:{};c%2?o(Object(u),!0).forEach(function(c){(0,n.default)(t,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):o(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t})({get FlatList(){return r(d[7])},get Image(){return r(d[8])},get ScrollView(){return r(d[9])},get SectionList(){return r(d[10])},get Text(){return r(d[11])},get View(){return r(d[12])}},O)},231,[1,51,53,86,59,232,242,263,290,299,300,303,304]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function o(o){for(var u=1;u<arguments.length;u++){var c=null!=arguments[u]?arguments[u]:{};u%2?n(Object(c),!0).forEach(function(n){t(o,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(c,t))})}return o}var u=r(d[1]),c=u.AnimatedEvent,f=u.attachNativeEvent,s=r(d[2]),l=r(d[3]),p=r(d[4]),v=r(d[5]),O=r(d[6]),b=r(d[7]),y=r(d[8]),j={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}};m.exports={Value:O,ValueXY:b,Interpolation:l,Node:p,decay:function(t,n){return j},timing:function(t,n){var u=t;return o(o({},j),{},{start:function(t){u.setValue(n.toValue),t&&t({finished:!0})}})},spring:function(t,n){var u=t;return o(o({},j),{},{start:function(t){u.setValue(n.toValue),t&&t({finished:!0})}})},add:s.add,subtract:s.subtract,divide:s.divide,multiply:s.multiply,modulo:s.modulo,diffClamp:s.diffClamp,delay:function(t){return j},sequence:function(t){return j},parallel:function(t,n){return j},stagger:function(t,n){return j},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return j},event:function(t,n){return null},createAnimatedComponent:y,attachNativeEvent:f,forkEvent:s.forkEvent,unforkEvent:s.unforkEvent,Event:c,__PropsOnlyForTests:v}},232,[51,233,242,235,236,248,234,253,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),v=r(d[3]),o=r(d[4]),c=r(d[5]),l=r(d[3]).shouldUseNativeDriver;function u(t,n,l){var u=[];c(l[0]&&l[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),(function t(n,v){if(n instanceof s)n.__makeNative(),u.push({nativeEventPath:v,animatedValueTag:n.__getNativeTag()});else if('object'==typeof n)for(var o in n)t(n[o],v.concat(o))})(l[0].nativeEvent,[]);var h=o.findNodeHandle(t);return null!=h&&u.forEach(function(t){v.API.addAnimatedEventToView(h,n,t)}),{detach:function(){null!=h&&u.forEach(function(t){v.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}var h=(function(){function v(n,s){t(this,v),this._listeners=[],this._argMapping=n,null==s&&(console.warn('Animated.event now requires a second argument for options'),s={useNativeDriver:!1}),s.listener&&this.__addListener(s.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=l(s)}return n(v,[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){c(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=u(t,n,this._argMapping)}},{key:"__detach",value:function(t,n){c(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,v=new Array(n),o=0;o<n;o++)v[o]=arguments[o];var c=function t(n,v,o){if(n instanceof s)'number'==typeof v&&n.setValue(v);else if('object'==typeof n)for(var c in n)t(n[c],v[c],c)};t._argMapping.forEach(function(t,n){c(t,v[n])}),t._callListeners.apply(t,v)}}},{key:"_callListeners",value:function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];this._listeners.forEach(function(t){return t.apply(void 0,n)})}}]),v})();m.exports={AnimatedEvent:h,attachNativeEvent:u}},233,[29,30,234,237,89,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),o=r(d[4]),l=r(d[5]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var _=r(d[6]),c=r(d[7]),h=r(d[8]),v=r(d[9]).API;function p(t){var n=new Set;!(function t(s){'function'==typeof s.update?n.add(s):s.__getChildren().forEach(t)})(t),n.forEach(function(t){return t.update()})}var y=(function(y){u(V,c);var k,A,N=(k=V,A=f(),function(){var t,n=l(k);if(A){var s=l(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return o(this,t)});function V(n){var s;if(t(this,V),s=N.call(this),'number'!=typeof n)throw new Error('AnimatedValue: Attempting to set value to undefined');return s._startingValue=s._value=n,s._offset=0,s._animation=null,s}return n(V,[{key:"__detach",value:function(){this.stopAnimation(),s(l(V.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(t){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&v.setAnimatedNodeValue(this.__getNativeTag(),t)}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&v.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&v.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&v.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new _(this,t)}},{key:"animate",value:function(t,n){var s=this,u=null;t.__isInteraction&&(u=h.createInteractionHandle());var o=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){s._updateValue(t,!0)},function(t){s._animation=null,null!==u&&h.clearInteractionHandle(u),n&&n(t)},o,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t}},{key:"_updateValue",value:function(t,n){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,n&&p(this),s(l(V.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset}}}]),V})();m.exports=y},234,[29,30,37,40,42,39,235,239,240,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),c=r(d[4]),p=r(d[5]),f=r(d[6]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function s(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?h(Object(o),!0).forEach(function(n){f(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}r(d[7]);var v=r(d[8]),_=r(d[9]),y=r(d[10]),R=r(d[11]),b=function(t){return t};function x(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return w(t);var n=t.outputRange;E('outputRange',n);var o=t.inputRange;E('inputRange',o),C(o),y(o.length===n.length,'inputRange ('+o.length+') and outputRange ('+n.length+') must have the same length');var u=t.easing||b,c='extend';void 0!==t.extrapolateLeft?c=t.extrapolateLeft:void 0!==t.extrapolate&&(c=t.extrapolate);var p='extend';return void 0!==t.extrapolateRight?p=t.extrapolateRight:void 0!==t.extrapolate&&(p=t.extrapolate),function(t){y('number'==typeof t,'Cannot interpolation an input which is not a number');var f=P(t,o);return O(t,o[f],o[f+1],n[f],n[f+1],u,c,p)}}function O(t,n,o,u,c,p,f,l){var h=t;if(h<n){if('identity'===f)return h;'clamp'===f&&(h=n)}if(h>o){if('identity'===l)return h;'clamp'===l&&(h=o)}return u===c?u:n===o?t<=n?u:c:(n===-1/0?h=-h:o===1/0?h-=n:h=(h-n)/(o-n),h=p(h),u===-1/0?h=-h:c===1/0?h+=u:h=h*(c-u)+u,h)}function j(t){var n=R(t);return null===n||'number'!=typeof n?t:"rgba("+((4278190080&(n=n||0))>>>24)+", "+((16711680&n)>>>16)+", "+((65280&n)>>>8)+", "+(255&n)/255+")"}var k=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function w(t){var n=t.outputRange;y(n.length>=2,'Bad output range'),D(n=n.map(j));var o=n[0].match(k).map(function(){return[]});n.forEach(function(t){t.match(k).forEach(function(t,n){o[n].push(+t)})});var u,c=n[0].match(k).map(function(n,u){return x(s(s({},t),{},{outputRange:o[u]}))}),p='string'==typeof(u=n[0])&&u.startsWith('rgb');return function(t){var o=0;return n[0].replace(k,function(){var n=+c[o++](t);return p&&(n=o<4?Math.round(n):Math.round(1e3*n)/1e3),String(n)})}}function D(t){for(var n=t[0].replace(k,''),o=1;o<t.length;++o)y(n===t[o].replace(k,''),'invalid pattern '+t[0]+' and '+t[o])}function P(t,n){var o;for(o=1;o<n.length-1&&!(n[o]>=t);++o);return o-1}function C(t){y(t.length>=2,'inputRange must have at least 2 elements');for(var n=1;n<t.length;++n)y(t[n]>=t[n-1],'inputRange must be monotonically non-decreasing '+t)}function E(t,n){y(n.length>=2,t+' must have at least 2 elements'),y(2!==n.length||n[0]!==-1/0||n[1]!==1/0,t+'cannot be ]-infinity;+infinity[ '+n)}var L=(function(f){u(b,v);var h,s,R=(h=b,s=l(),function(){var t,n=p(h);if(s){var o=p(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function b(n,o){var u;return t(this,b),(u=R.call(this))._parent=n,u._config=o,u._interpolation=x(o),u}return n(b,[{key:"__makeNative",value:function(){this._parent.__makeNative(),o(p(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return y('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}},{key:"interpolate",value:function(t){return new b(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),o(p(b.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(t){return t.map(_.transformDataType)}},{key:"__getNativeConfig",value:function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}]),b})();L.__createInterpolation=x,m.exports=L},235,[29,30,37,40,42,39,51,236,239,237,6,69]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),_=s.API,u=r(d[3]),o=1,v=(function(){function v(){t(this,v),this._listeners={}}return n(v,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(s.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}}]),n(v,[{key:"__makeNative",value:function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(t){var n=String(o++);return this._listeners[n]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),n}},{key:"removeListener",value:function(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var t=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),_.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=s.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===t.__getNativeTag()&&t._onAnimatedValueUpdateReceived(n.value)}))}},{key:"_onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){for(var n in this._listeners)this._listeners[n]({value:t})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,_.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var t;s.assertNativeAnimatedModule(),u(this.__isNative,'Attempt to get native tag from node not marked as "native"');var n=null!=(t=this.__nativeTag)?t:s.generateNewNodeTag();return null==this.__nativeTag&&(this.__nativeTag=n,s.API.createAnimatedNode(n,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0),n}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"toJSON",value:function(){return this.__getValue()}}]),v})();m.exports=v},236,[29,30,237,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),l=n(r(d[2])),u=n(r(d[3])),s=1,f=1,v=!1,c=[],N={enableQueue:function(){v=!0},disableQueue:function(){(0,u.default)(l.default,'Native animated module is not available'),v=!1;for(var t=0,n=c.length;t<n;t++){var o=c[t];l.default.connectAnimatedNodes(o[0],o[1])}c.length=0},createAnimatedNode:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.createAnimatedNode(t,n)},startListeningToAnimatedNodeValue:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.startListeningToAnimatedNodeValue(t)},stopListeningToAnimatedNodeValue:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.stopListeningToAnimatedNodeValue(t)},connectAnimatedNodes:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),v?c.push([t,n]):l.default.connectAnimatedNodes(t,n)},disconnectAnimatedNodes:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.disconnectAnimatedNodes(t,n)},startAnimatingNode:function(t,n,o,s){(0,u.default)(l.default,'Native animated module is not available'),l.default.startAnimatingNode(t,n,o,s)},stopAnimation:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.stopAnimation(t)},setAnimatedNodeValue:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.setAnimatedNodeValue(t,n)},setAnimatedNodeOffset:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.setAnimatedNodeOffset(t,n)},flattenAnimatedNodeOffset:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.flattenAnimatedNodeOffset(t)},extractAnimatedNodeOffset:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.extractAnimatedNodeOffset(t)},connectAnimatedNodeToView:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.connectAnimatedNodeToView(t,n)},disconnectAnimatedNodeFromView:function(t,n){(0,u.default)(l.default,'Native animated module is not available'),l.default.disconnectAnimatedNodeFromView(t,n)},restoreDefaultValues:function(t){(0,u.default)(l.default,'Native animated module is not available'),null!=l.default.restoreDefaultValues&&l.default.restoreDefaultValues(t)},dropAnimatedNode:function(t){(0,u.default)(l.default,'Native animated module is not available'),l.default.dropAnimatedNode(t)},addAnimatedEventToView:function(t,n,o){(0,u.default)(l.default,'Native animated module is not available'),l.default.addAnimatedEventToView(t,n,o)},removeAnimatedEventFromView:function(t,n,o){(0,u.default)(l.default,'Native animated module is not available'),l.default.removeAnimatedEventFromView(t,n,o)}},p={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},b={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},A={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};var h=!1;m.exports={API:N,addWhitelistedStyleProp:function(t){p[t]=!0},addWhitelistedTransformProp:function(t){b[t]=!0},addWhitelistedInterpolationParam:function(t){A[t]=!0},validateStyles:function(t){for(var n in t)if(!p.hasOwnProperty(n))throw new Error("Style property '"+n+"' is not supported by native animated module")},validateTransform:function(t){t.forEach(function(t){if(!b.hasOwnProperty(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})},validateInterpolation:function(t){for(var n in t)if(!A.hasOwnProperty(n))throw new Error("Interpolation property '"+n+"' is not supported by native animated module")},generateNewNodeTag:function(){return s++},generateNewAnimationId:function(){return f++},assertNativeAnimatedModule:function(){(0,u.default)(l.default,'Native animated module is not available')},shouldUseNativeDriver:function(t){return null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||l.default?t.useNativeDriver||!1:(h||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),h=!0),!1)},transformDataType:function(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return t||(t=new o.default(l.default)),t}}},237,[1,145,238,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('NativeAnimatedModule');e.default=u},238,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),s=r(d[4]),l=r(d[5]);function _(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function u(t,n){if(t){if("string"==typeof t)return h(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[6]),y=r(d[7]),p=(function(u){c(b,f);var h,p,N=(h=b,p=v(),function(){var t,n=l(h);if(p){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)});function b(){var n;return t(this,b),(n=N.call(this))._children=[],n}return n(b,[{key:"__makeNative",value:function(){if(!this.__isNative){this.__isNative=!0;for(var t,n=_(this._children);!(t=n()).done;){var c=t.value;c.__makeNative(),y.API.connectAnimatedNodes(this.__getNativeTag(),c.__getNativeTag())}}o(l(b.prototype),"__makeNative",this).call(this)}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(),y.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var n=this._children.indexOf(t);-1!==n?(this.__isNative&&t.__isNative&&y.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(n,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(o(l(b.prototype),"__callListeners",this).call(this,t),!this.__isNative)for(var n,c=_(this._children);!(n=c()).done;){var s=n.value;s.__getValue&&s.__callListeners(s.__getValue())}}}]),b})();m.exports=p},239,[29,30,37,40,42,39,236,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),c=(r(d[3]),r(d[4])),s=r(d[5]),u=new t,l={Events:s({interactionStart:!0,interactionComplete:!0}),runAfterInteractions:function(n){var t=[],o=new Promise(function(o){k(),n&&t.push(n),t.push({run:o,name:'resolve '+(n&&n.name||'?')}),h.enqueueTasks(t)});return{then:o.then.bind(o),done:function(){if(o.done)return o.done.apply(o,arguments);console.warn('Tried to call done when not supported by current Promise implementation.')},cancel:function(){h.cancelTasks(t)}}},createInteractionHandle:function(){k();var n=++T;return p.add(n),n},clearInteractionHandle:function(n){c(!!n,'InteractionManager: Must provide a handle to clear.'),k(),p.delete(n),v.add(n)},addListener:u.addListener.bind(u),setDeadline:function(n){E=n}},f=new Set,p=new Set,v=new Set,h=new o({onMoreTasks:k}),w=0,T=0,E=-1;function k(){w||(w=E>0?setTimeout(I,0):setImmediate(I))}function I(){w=0;var t=f.size;p.forEach(function(n){return f.add(n)}),v.forEach(function(n){return f.delete(n)});var o=f.size;if(0!==t&&0===o?u.emit(l.Events.interactionComplete):0===t&&0!==o&&u.emit(l.Events.interactionStart),0===o)for(;h.hasTasksToProcess();)if(h.processNext(),E>0&&n.getEventLoopRunningTime()>=E){k();break}p.clear(),v.clear()}m.exports=l},240,[23,44,241,142,6,221]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]);function s(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,s)}return u}function o(n){for(var u=1;u<arguments.length;u++){var o=null!=arguments[u]?arguments[u]:{};u%2?s(Object(o),!0).forEach(function(u){t(n,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}r(d[3]);var c=r(d[4]),h=(function(){function t(u){var s=u.onMoreTasks;n(this,t),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]}return u(t,[{key:"enqueue",value:function(t){this._getCurrentQueue().push(t)}},{key:"enqueueTasks",value:function(t){var n=this;t.forEach(function(t){return n.enqueue(t)})}},{key:"cancelTasks",value:function(t){this._queueStack=this._queueStack.map(function(n){return o(o({},n),{},{tasks:n.tasks.filter(function(n){return-1===t.indexOf(n)})})}).filter(function(t,n){return t.tasks.length>0||0===n})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var t=this._getCurrentQueue();if(t.length){var n=t.shift();try{n.gen?this._genPromise(n):n.run?n.run():(c('function'==typeof n,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(n,null,2)),n())}catch(t){throw t.message='TaskQueue: Error with task '+(n.name||'')+': '+t.message,t}}}},{key:"_getCurrentQueue",value:function(){var t=this._queueStack.length-1,n=this._queueStack[t];return n.popable&&0===n.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}},{key:"_genPromise",value:function(t){var n=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1;t.gen().then(function(){n._queueStack[u].popable=!0,n.hasTasksToProcess()&&n._onMoreTasks()}).catch(function(n){throw n.message="TaskQueue: Error resolving Promise in task "+t.name+": "+n.message,n}).done()}}]),t})();m.exports=h},241,[51,29,30,142,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);function n(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function o(o){for(var u=1;u<arguments.length;u++){var s=null!=arguments[u]?arguments[u]:{};u%2?n(Object(s),!0).forEach(function(n){t(o,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(s,t))})}return o}var u=r(d[1]),s=u.AnimatedEvent,c=u.attachNativeEvent,f=r(d[2]),v=r(d[3]),p=r(d[4]),l=r(d[5]),h=r(d[6]),_=r(d[7]),w=r(d[8]),y=r(d[9]),N=r(d[10]),O=r(d[11]),D=r(d[12]),b=r(d[13]),E=r(d[14]),L=r(d[15]),j=r(d[16]),A=r(d[17]),P=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete.apply(n,arguments),t&&t.apply(void 0,arguments)}:t||n.onComplete},k=function(t,n,u){if(t instanceof b){var s=o({},n),c=o({},n);for(var f in n){var v=n[f],p=v.x,l=v.y;void 0!==p&&void 0!==l&&(s[f]=p,c[f]=l)}var h=u(t.x,s),_=u(t.y,c);return C([h,_],{stopTogether:!1})}return null},U=function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),n.toValue instanceof w?u.track(new O(u,n.toValue,j,s,o)):u.animate(new j(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o(o({},u),{},{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},V=function(t){var n=0;return{start:function(o){0===t.length?o&&o({finished:!0}):t[n].start(function u(s){s.finished&&++n!==t.length?t[n].start(u):o&&o(s)})},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach(function(t,o){o<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},C=function(t,n){var o=0,u={},s=!(n&&!1===n.stopTogether),c={start:function(n){o!==t.length?t.forEach(function(f,v){var p=function(f){if(u[v]=!0,++o===t.length)return o=0,void(n&&n(f));!f.finished&&s&&c.stop()};f?f.start(p):p({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach(function(t,n){!u[n]&&t.stop(),u[n]=!0})},reset:function(){t.forEach(function(t,n){t.reset(),u[n]=!1,o=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return c},T=function(t){return U(new D(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};m.exports={Value:D,ValueXY:b,Interpolation:l,Node:w,decay:function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),u.animate(new E(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o(o({},u),{},{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},timing:U,spring:function t(n,u){var s=function(t,n,o){o=P(o,n);var u=t,s=n;u.stopTracking(),n.toValue instanceof w?u.track(new O(u,n.toValue,L,s,o)):u.animate(new L(s),o)};return k(n,u,t)||{start:function(t){s(n,u,t)},stop:function(){n.stopAnimation()},reset:function(){n.resetAnimation()},_startNativeLoop:function(t){var c=o(o({},u),{},{iterations:t});s(n,c)},_isUsingNativeDriver:function(){return u.useNativeDriver||!1}}},add:function(t,n){return new f(t,n)},subtract:function(t,n){return new N(t,n)},divide:function(t,n){return new p(t,n)},multiply:function(t,n){return new _(t,n)},modulo:function(t,n){return new h(t,n)},diffClamp:function(t,n,o){return new v(t,n,o)},delay:T,sequence:V,parallel:C,stagger:function(t,n){return C(n.map(function(n,o){return V([T(t*o),n])}))},loop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.iterations,u=void 0===o?-1:o,s=n.resetBeforeIteration,c=void 0===s||s,f=!1,v=0;return{start:function(n){t&&0!==u?t._isUsingNativeDriver()?t._startNativeLoop(u):(function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};f||v===u||!1===s.finished?n&&n(s):(v++,c&&t.reset(),t.start(o))})():n&&n({finished:!0})},stop:function(){f=!0,t.stop()},reset:function(){v=0,f=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var o=new s(t,n);return o.__isNative?o:o.__getHandler()},createAnimatedComponent:A,attachNativeEvent:c,forkEvent:function(t,n){return t?t instanceof s?(t.__addListener(n),t):function(){'function'==typeof t&&t.apply(void 0,arguments),n.apply(void 0,arguments)}:n},unforkEvent:function(t,n){t&&t instanceof s&&t.__removeListener(n)},Event:s,__PropsOnlyForTests:y}},242,[51,233,243,244,245,235,246,247,236,248,251,252,234,253,254,256,258,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),c=r(d[4]),o=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var y,p,k=(y=b,p=s(),function(){var t,n=o(y);if(p){var _=o(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return c(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new l(n):n,u._b='number'==typeof _?new l(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(o(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(o(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},243,[29,30,37,40,42,39,235,236,234,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),_=r(d[3]),c=r(d[4]),s=r(d[5]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),o=(r(d[7]),r(d[8])),f=(function(f){_(k,o);var v,p,y=(v=k,p=l(),function(){var t,n=s(v);if(p){var u=s(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return c(this,t)});function k(n,u,_){var c;return t(this,k),(c=y.call(this))._a=n,c._min=u,c._max=_,c._value=c._lastValue=c._a.__getValue(),c}return n(k,[{key:"__makeNative",value:function(){this._a.__makeNative(),u(s(k.prototype),"__makeNative",this).call(this)}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),n=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+n,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),u(s(k.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),k})();m.exports=f},244,[29,30,37,40,42,39,235,236,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),o=r(d[3]),u=r(d[4]),c=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){o(b,f);var y,p,k=(y=b,p=s(),function(){var t,n=c(y);if(p){var _=c(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return u(this,t)});function b(n,_){var o;return t(this,b),(o=k.call(this))._a='number'==typeof n?new l(n):n,o._b='number'==typeof _?new l(_):_,o}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(c(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),n=this._b.__getValue();return 0===n&&console.error('Detected division by zero in AnimatedDivision'),t/n}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(c(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},245,[29,30,37,40,42,39,235,236,234,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),s=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l=r(d[6]),h=(r(d[7]),r(d[8])),f=(function(f){o(k,h);var v,y,p=(v=k,y=_(),function(){var t,u=s(v);if(y){var n=s(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return c(this,t)});function k(u,n){var o;return t(this,k),(o=p.call(this))._a=u,o._modulus=n,o}return u(k,[{key:"__makeNative",value:function(){this._a.__makeNative(),n(s(k.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new l(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),n(s(k.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}]),k})();m.exports=f},246,[29,30,37,40,42,39,235,236,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),c=r(d[4]),o=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var p,y,k=(p=b,y=s(),function(){var t,n=o(p);if(y){var _=o(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return c(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new l(n):n,u._b='number'==typeof _?new l(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(o(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(o(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},247,[29,30,37,40,42,39,235,236,234,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),_=r(d[5]),u=r(d[6]);function v(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function f(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?v(Object(s),!0).forEach(function(o){t(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=r(d[7]).AnimatedEvent,h=r(d[8]),y=r(d[9]),w=r(d[10]),N=r(d[11]),b=r(d[12]),V=(function(t){c(O,h);var v,V,k=(v=O,V=l(),function(){var t,n=u(v);if(V){var o=u(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return _(this,t)});function O(t,o){var s;return n(this,O),s=k.call(this),t.style&&(t=f(f({},t),{},{style:new y(t.style)})),s._props=t,s._callback=o,s.__attach(),s}return o(O,[{key:"__getValue",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof h?(!o.__isNative||o instanceof y)&&(t[n]=o.__getValue()):t[n]=o instanceof p?o.__getHandler():o}return t}},{key:"__getAnimatedValue",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof h&&(t[n]=o.__getAnimatedValue())}return t}},{key:"__attach",value:function(){for(var t in this._props){var n=this._props[t];n instanceof h&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof h&&n.__removeChild(this)}s(u(O.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var t in this.__isNative=!0,this._props){var n=this._props[t];n instanceof h&&n.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){b(this.__isNative,'Expected node to be marked as "native"');var t=N.findNodeHandle(this._animatedView);b(null!=t,'Unable to locate attached view in the native tree'),w.API.connectAnimatedNodeToView(this.__getNativeTag(),t)}},{key:"__disconnectAnimatedView",value:function(){b(this.__isNative,'Expected node to be marked as "native"');var t=N.findNodeHandle(this._animatedView);b(null!=t,'Unable to locate attached view in the native tree'),w.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&w.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._props){var o=this._props[n];o instanceof h&&(o.__makeNative(),t[n]=o.__getNativeTag())}return{type:'props',props:t}}}]),O})();m.exports=V},248,[51,29,30,37,40,42,39,233,236,249,237,89,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),l=r(d[4]),c=r(d[5]),u=r(d[6]);function f(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,o)}return s}function y(n){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?f(Object(o),!0).forEach(function(s){t(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=r(d[7]),h=r(d[8]),p=r(d[9]),k=r(d[10]),O=r(d[11]),b=(function(t){l(j,p);var f,b,A=(f=j,b=_(),function(){var t,n=u(f);if(b){var s=u(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return c(this,t)});function j(t){var s;return n(this,j),s=A.call(this),(t=O(t)||{}).transform&&(t=y(y({},t),{},{transform:new h(t.transform)})),s._style=t,s}return s(j,[{key:"_walkStyleAndGetValues",value:function(t){var n={};for(var s in t){var o=t[s];o instanceof v?o.__isNative||(n[s]=o.__getValue()):o&&!Array.isArray(o)&&'object'==typeof o?n[s]=this._walkStyleAndGetValues(o):n[s]=o}return n}},{key:"__getValue",value:function(){return this._walkStyleAndGetValues(this._style)}},{key:"_walkStyleAndGetAnimatedValues",value:function(t){var n={};for(var s in t){var o=t[s];o instanceof v?n[s]=o.__getAnimatedValue():o&&!Array.isArray(o)&&'object'==typeof o&&(n[s]=this._walkStyleAndGetAnimatedValues(o))}return n}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof v&&n.__addChild(this)}}},{key:"__detach",value:function(){for(var t in this._style){var n=this._style[t];n instanceof v&&n.__removeChild(this)}o(u(j.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var t in this._style){var n=this._style[t];n instanceof v&&n.__makeNative()}o(u(j.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var t={};for(var n in this._style)if(this._style[n]instanceof v){var s=this._style[n];s.__makeNative(),t[n]=s.__getNativeTag()}return k.validateStyles(t),{type:'style',style:t}}}]),j})();m.exports=b},249,[51,29,30,37,40,42,39,236,250,239,237,85]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),f=r(d[3]),c=r(d[4]),s=r(d[5]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=r(d[6]),_=r(d[7]),h=r(d[8]),l=(function(l){f(N,_);var p,y,k=(p=N,y=u(),function(){var t,n=s(p);if(y){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function N(n){var o;return t(this,N),(o=k.call(this))._transforms=n,o}return n(N,[{key:"__makeNative",value:function(){this._transforms.forEach(function(t){for(var n in t){var o=t[n];o instanceof v&&o.__makeNative()}}),o(s(N.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var f=t[o];n[o]=f instanceof v?f.__getValue():f}return n})}},{key:"__getAnimatedValue",value:function(){return this._transforms.map(function(t){var n={};for(var o in t){var f=t[o];n[o]=f instanceof v?f.__getAnimatedValue():f}return n})}},{key:"__attach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v&&f.__addChild(t)}})}},{key:"__detach",value:function(){var t=this;this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v&&f.__removeChild(t)}}),o(s(N.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var t=[];return this._transforms.forEach(function(n){for(var o in n){var f=n[o];f instanceof v?t.push({type:'animated',property:o,nodeTag:f.__getNativeTag()}):t.push({type:'static',property:o,value:h.transformDataType(f)})}}),h.validateTransform(t),{type:'transform',transforms:t}}}]),N})();m.exports=l},250,[29,30,37,40,42,39,236,239,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),_=r(d[2]),u=r(d[3]),c=r(d[4]),o=r(d[5]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=(r(d[7]),r(d[8])),f=r(d[9]),v=(function(v){u(b,f);var y,p,k=(y=b,p=s(),function(){var t,n=o(y);if(p){var _=o(this).constructor;t=Reflect.construct(n,arguments,_)}else t=n.apply(this,arguments);return c(this,t)});function b(n,_){var u;return t(this,b),(u=k.call(this))._a='number'==typeof n?new l(n):n,u._b='number'==typeof _?new l(_):_,u}return n(b,[{key:"__makeNative",value:function(){this._a.__makeNative(),this._b.__makeNative(),_(o(b.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new h(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),_(o(b.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),b})();m.exports=v},251,[29,30,37,40,42,39,235,236,234,239]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),u=r(d[4]),_=r(d[5]),s=r(d[6]);function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function f(n){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?l(Object(c),!0).forEach(function(o){t(n,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):l(Object(c)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[7]);var v=r(d[8]),p=r(d[9]),y=p.generateNewAnimationId,O=p.shouldUseNativeDriver,b=(function(t){u(k,v);var l,p,b=(l=k,p=h(),function(){var t,n=s(l);if(p){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return _(this,t)});function k(t,o,c,u,_){var s;return n(this,k),(s=b.call(this))._value=t,s._parent=o,s._animationClass=c,s._animationConfig=u,s._useNativeDriver=O(u),s._callback=_,s.__attach(),s}return o(k,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),c(s(k.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),c(s(k.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass(f(f({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(f(f({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:y(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),k})();m.exports=b},252,[51,29,30,37,40,42,39,234,236,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),u=r(d[3]),f=r(d[4]);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l=r(d[5]),c=r(d[6]),y=r(d[7]),h=1,x=(function(x){s(k,c);var v,_,p=(v=k,_=o(),function(){var t,n=f(v);if(_){var s=f(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function k(n){var s;t(this,k),s=p.call(this);var u=n||{x:0,y:0};return'number'==typeof u.x&&'number'==typeof u.y?(s.x=new l(u.x),s.y=new l(u.y)):(y(u.x instanceof l&&u.y instanceof l,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),s.x=u.x,s.y=u.y),s._listeners={},s}return n(k,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var n=this,s=String(h++),u=function(s){s.value;t(n.__getValue())};return this._listeners[s]={x:this.x.addListener(u),y:this.y.addListener(u)},s}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),k})();m.exports=x},253,[29,30,40,42,39,234,239,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),c=r(d[4]),u=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[6]),l=r(d[7]).shouldUseNativeDriver,v=(function(v){o(D,h);var f,p,y=(f=D,p=_(),function(){var t,n=u(f);if(p){var s=u(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return c(this,t)});function D(n){var s,o,c,u;return t(this,D),(u=y.call(this))._deceleration=null!=(s=n.deceleration)?s:.998,u._velocity=n.velocity,u._useNativeDriver=l(n),u.__isInteraction=null!=(o=n.isInteraction)?o:!u._useNativeDriver,u.__iterations=null!=(c=n.iterations)?c:1,u}return n(D,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,c){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=n,this.__onEnd=s,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(c):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var t=Date.now(),n=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(n),Math.abs(this._lastValue-n)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=n,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){s(u(D.prototype),"stop",this).call(this),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),D})();m.exports=v},254,[29,30,37,40,42,39,255,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]),o=r(d[2]),_=(function(){function _(){n(this,_)}return t(_,[{key:"start",value:function(n,t,o,_,u){}},{key:"stop",value:function(){this.__nativeId&&o.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__debouncedOnEnd",value:function(n){var t=this.__onEnd;this.__onEnd=null,t&&t(n)}},{key:"__startNativeAnimation",value:function(n){o.API.enableQueue(),n.__makeNative(),o.API.disableQueue(),this.__nativeId=o.generateNewAnimationId(),o.API.startAnimatingNode(this.__nativeId,n.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))}}]),_})();m.exports=_},255,[29,30,237]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),h=r(d[5]);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var u=r(d[9]),f=r(d[10]),c=r(d[11]),v=r(d[12]).shouldUseNativeDriver,p=(function(p){o(b,u);var y,V,T=(y=b,V=_(),function(){var t,s=h(y);if(V){var n=h(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return l(this,t)});function b(s){var n,o,l,h,_,u,p,y,V,D,M,P;if(t(this,b),(V=T.call(this))._overshootClamping=null!=(n=s.overshootClamping)&&n,V._restDisplacementThreshold=null!=(o=s.restDisplacementThreshold)?o:.001,V._restSpeedThreshold=null!=(l=s.restSpeedThreshold)?l:.001,V._initialVelocity=null!=(h=s.velocity)?h:0,V._lastVelocity=null!=(_=s.velocity)?_:0,V._toValue=s.toValue,V._delay=null!=(u=s.delay)?u:0,V._useNativeDriver=v(s),V.__isInteraction=null!=(p=s.isInteraction)?p:!V._useNativeDriver,V.__iterations=null!=(y=s.iterations)?y:1,void 0!==s.stiffness||void 0!==s.damping||void 0!==s.mass)c(void 0===s.bounciness&&void 0===s.speed&&void 0===s.tension&&void 0===s.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),V._stiffness=null!=(D=s.stiffness)?D:100,V._damping=null!=(M=s.damping)?M:10,V._mass=null!=(P=s.mass)?P:1;else if(void 0!==s.bounciness||void 0!==s.speed){var S,U;c(void 0===s.tension&&void 0===s.friction&&void 0===s.stiffness&&void 0===s.damping&&void 0===s.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var A=f.fromBouncinessAndSpeed(null!=(S=s.bounciness)?S:8,null!=(U=s.speed)?U:12);V._stiffness=A.stiffness,V._damping=A.damping,V._mass=1}else{var C,N,k=f.fromOrigamiTensionAndFriction(null!=(C=s.tension)?C:40,null!=(N=s.friction)?N:7);V._stiffness=k.stiffness,V._damping=k.damping,V._mass=1}return c(V._stiffness>0,'Stiffness value must be greater than 0'),c(V._damping>0,'Damping value must be greater than 0'),c(V._mass>0,'Mass value must be greater than 0'),V}return s(b,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,s,n,o,l){var h=this;if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,o instanceof b){var _=o.getInternalState();this._lastPosition=_.lastPosition,this._lastVelocity=_.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=_.lastTime}var u=function(){h._useNativeDriver?h.__startNativeAnimation(l):h.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var n=this._damping,o=this._mass,l=this._stiffness,h=-this._initialVelocity,_=n/(2*Math.sqrt(l*o)),u=Math.sqrt(l/o),f=u*Math.sqrt(1-_*_),c=this._toValue-this._startPosition,v=0,p=0,y=this._frameTime;if(_<1){var V=Math.exp(-_*u*y);v=this._toValue-V*((h+_*u*c)/f*Math.sin(f*y)+c*Math.cos(f*y)),p=_*u*V*(Math.sin(f*y)*(h+_*u*c)/f+c*Math.cos(f*y))-V*(Math.cos(f*y)*(h+_*u*c)-f*c*Math.sin(f*y))}else{var T=Math.exp(-u*y);v=this._toValue-T*(c+(h+u*c)*y),p=T*(h*(y*u-1)+y*c*(u*u))}if(this._lastTime=t,this._lastPosition=v,this._lastVelocity=p,this._onUpdate(v),this.__active){var b=!1;this._overshootClamping&&0!==this._stiffness&&(b=this._startPosition<this._toValue?v>this._toValue:v<this._toValue);var D=Math.abs(p)<=this._restSpeedThreshold,M=!0;if(0!==this._stiffness&&(M=Math.abs(this._toValue-v)<=this._restDisplacementThreshold),b||D&&M)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){n(h(b.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),b})();m.exports=p},256,[29,30,37,40,42,39,234,253,235,255,257,6,237]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}m.exports={fromOrigamiTensionAndFriction:function(o,u){return{stiffness:n(o),damping:t(u)}},fromBouncinessAndSpeed:function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function h(n){return 4.5e-7*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var w=f(o/1.7,0,20);w=c(w,0,.8);var M,v,A,_,x=c(f(u/1.7,0,20),.5,200),B=(M=w,v=(A=x)<=18?(_=A,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):A>18&&A<=44?p(A):h(A),s(2*M-M*M,v,.01));return{stiffness:n(x),damping:t(B)}}}},257,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),u=r(d[4]),_=r(d[5]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[6]),r(d[7]),r(d[8]);var l,c=r(d[9]),f=r(d[10]).shouldUseNativeDriver;function v(){if(!l){var t=r(d[11]);l=t.inOut(t.ease)}return l}var p=(function(l){o(D,c);var p,y,V=(p=D,y=h(),function(){var t,n=_(p);if(y){var s=_(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)});function D(n){var s,o,u,_,h,l;return t(this,D),(l=V.call(this))._toValue=n.toValue,l._easing=null!=(s=n.easing)?s:v(),l._duration=null!=(o=n.duration)?o:500,l._delay=null!=(u=n.delay)?u:0,l.__iterations=null!=(_=n.iterations)?_:1,l._useNativeDriver=f(n),l.__isInteraction=null!=(h=n.isInteraction)?h:!l._useNativeDriver,l}return n(D,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],n=Math.round(this._duration/16.666666666666668),s=0;s<n;s++)t.push(this._easing(s/n));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations}}},{key:"start",value:function(t,n,s,o,u){var _=this;this.__active=!0,this._fromValue=t,this._onUpdate=n,this.__onEnd=s;var h=function(){0!==_._duration||_._useNativeDriver?(_._startTime=Date.now(),_._useNativeDriver?_.__startNativeAnimation(u):_._animationFrame=requestAnimationFrame(_.onUpdate.bind(_))):(_._onUpdate(_._toValue),_.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){s(_(D.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),D})();m.exports=p},258,[29,30,37,40,42,39,234,253,235,255,237,259]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,u=r(d[0]),t=r(d[1]),o=(function(){function o(){u(this,o)}return t(o,null,[{key:"step0",value:function(n){return n>0?1:0}},{key:"step1",value:function(n){return n>=1?1:0}},{key:"linear",value:function(n){return n}},{key:"ease",value:function(u){return n||(n=o.bezier(.42,0,1,1)),n(u)}},{key:"quad",value:function(n){return n*n}},{key:"cubic",value:function(n){return n*n*n}},{key:"poly",value:function(n){return function(u){return Math.pow(u,n)}}},{key:"sin",value:function(n){return 1-Math.cos(n*Math.PI/2)}},{key:"circle",value:function(n){return 1-Math.sqrt(1-n*n)}},{key:"exp",value:function(n){return Math.pow(2,10*(n-1))}},{key:"elastic",value:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(u){return 1-Math.pow(Math.cos(u*Math.PI/2),3)*Math.cos(u*n)}}},{key:"back",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(u){return u*u*((n+1)*u-n)}}},{key:"bounce",value:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var u=n-.5454545454545454;return 7.5625*u*u+.75}if(n<.9090909090909091){var t=n-.8181818181818182;return 7.5625*t*t+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375}},{key:"bezier",value:function(n,u,t,o){return r(d[2])(n,u,t,o)}},{key:"in",value:function(n){return n}},{key:"out",value:function(n){return function(u){return 1-n(1-u)}}},{key:"inOut",value:function(n){return function(u){return u<.5?n(2*u)/2:1-n(2*(1-u))/2}}}]),o})();m.exports=o},259,[29,30,260]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=4,t=.001,u=1e-7,o=10,f=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function s(n,t){return 3*t-6*n}function w(n){return 3*n}function l(n,t,u){return((v(t,u)*n+s(t,u))*n+w(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*s(t,u)*n+w(t)}function b(n,t,f,c,v){var s,w,y=0,b=t,h=f;do{(s=l(w=b+(h-b)/2,c,v)-n)>0?h=w:b=w}while(Math.abs(s)>u&&++y<o);return w}function h(t,u,o,f){for(var c=u,v=0;v<n;++v){var s=y(c,o,f);if(0===s)return c;c-=(l(c,o,f)-t)/s}return c}m.exports=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var s=c?new Float32Array(11):new Array(11);if(n!==u||o!==v)for(var w=0;w<11;++w)s[w]=l(w*f,n,o);function A(u){for(var c=0,v=1;10!==v&&s[v]<=u;++v)c+=f;var w=c+(u-s[--v])/(s[v+1]-s[v])*f,l=y(w,n,o);return l>=t?h(u,w,n,o):0===l?w:b(u,c,c+f,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:l(A(t),u,v)}}},260,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]),c=r(d[4]),s=r(d[5]);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var u=r(d[6]).AnimatedEvent,_=r(d[7]),v=r(d[8]),f=r(d[9]),h=r(d[10]);m.exports=function(N){f('function'!=typeof N||N.prototype&&N.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var y=(function(f){l(k,f);var y,R,A=(y=k,R=p(),function(){var t,n=s(y);if(R){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function k(){var t;n(this,k);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return(t=A.call.apply(A,[this].concat(l)))._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedPropsCallback=function(){var n,o,l,c,s,p;if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if('function'!=typeof t._component.setNativeProps||null!=(null==(n=t._component._internalInstanceHandle)?void 0:null==(o=n.stateNode)?void 0:o.canonical)||null!=t._component.getNativeScrollRef&&null!=t._component.getNativeScrollRef()&&null!=(null==(l=t._component.getNativeScrollRef()._internalInstanceHandle)?void 0:null==(c=l.stateNode)?void 0:c.canonical)||null!=t._component.getScrollResponder&&null!=t._component.getScrollResponder().getNativeScrollRef&&null!=t._component.getScrollResponder().getNativeScrollRef()&&null!=(null==(s=t._component.getScrollResponder().getNativeScrollRef()._internalInstanceHandle)?void 0:null==(p=s.stateNode)?void 0:p.canonical))t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=h({getForwardedRef:function(){return t.props.forwardedRef},setLocalRef:function(n){t._prevComponent=t._component,t._component=n,null!=n&&null==n.getNode&&(n.getNode=function(){var t;return console.warn("%s: Calling `getNode()` on the ref of an Animated component is no longer necessary. You can now directly use the ref instead. This method will be removed in a future release.",null!=(t=n.constructor.name)?t:'<<anonymous>>'),n})}}),t}return o(k,[{key:"_attachNativeEvents",value:function(){var t,n=this,o=null!=(t=this._component)&&t.getScrollableNode?this._component.getScrollableNode():this._component,l=function(t){var l=n.props[t];l instanceof u&&l.__isNative&&(l.__attach(o,t),n._eventDetachers.push(function(){return l.__detach(o,t)}))};for(var c in this.props)l(c)}},{key:"_detachNativeEvents",value:function(){this._eventDetachers.forEach(function(t){return t()}),this._eventDetachers=[]}},{key:"_attachProps",value:function(t){var n=this._propsAnimated;this._propsAnimated=new _(t,this._animatedPropsCallback),n&&(n.__restoreDefaultValues(),n.__detach())}},{key:"render",value:function(){var n=this._propsAnimated.__getValue();return v.createElement(N,t({},n,{ref:this._setComponentRef,collapsable:!this._propsAnimated.__isNative&&n.collapsable}))}},{key:"UNSAFE_componentWillMount",value:function(){this._attachProps(this.props)}},{key:"componentDidMount",value:function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this._attachProps(t)}},{key:"componentDidUpdate",value:function(t){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&t===this.props||(this._detachNativeEvents(),this._attachNativeEvents())}},{key:"componentWillUnmount",value:function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents()}}]),k})(v.Component);return v.forwardRef(function(n,o){return v.createElement(y,t({},n,null==o?null:{forwardedRef:o}))})}},261,[16,29,30,40,42,39,233,248,59,6,262]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=t.getForwardedRef,o=t.setLocalRef;return function(t){var c=n();o(t),'function'==typeof c?c(t):'object'==typeof c&&null!=c&&(c.current=t)}}},262,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1])(r(d[2])),f=t(r(d[3])),o=r(d[4]),c=r(d[5]),l=f.forwardRef(function(t,c){return f.createElement(o,(0,n.default)({scrollEventThrottle:1e-4},t,{ref:c}))});m.exports=c(l)},263,[12,1,16,59,264,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),p=t(r(d[8]));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function y(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function v(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?y(Object(o),!0).forEach(function(n){(0,p.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}r(d[9]);var C=r(d[10]),b=r(d[11]),w=r(d[12]),_=r(d[13]),k=r(d[14]),I=r(d[15]),R=v(v({},_.defaultProps),{},{numColumns:1,removeClippedSubviews:!0}),P=(function(t){(0,u.default)(x,t);var y,R,P=(y=x,R=h(),function(){var t,n=(0,f.default)(y);if(R){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function x(t){var n;return(0,s.default)(this,x),(n=P.call(this,t))._virtualizedListPairs=[],n._captureRef=function(t){n._listRef=t},n._getItem=function(t,o){var s=n.props.numColumns;if(s>1){for(var l=[],u=0;u<s;u++){var c=t[o*s+u];null!=c&&l.push(c)}return l}return t[o]},n._getItemCount=function(t){if(t){var o=n.props.numColumns;return o>1?Math.ceil(t.length/o):t.length}return 0},n._keyExtractor=function(t,o){var s=n.props,l=s.keyExtractor,u=s.numColumns;return u>1?(I(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",u),t.map(function(t,n){return l(t,o*u+n)}).join(':')):l(t,o)},n._renderer=function(){var t=n.props,o=t.ListItemComponent,s=t.renderItem,l=t.numColumns,u=t.columnWrapperStyle,c=o?'ListItemComponent':'renderItem',f=function(t){return o?b.createElement(o,t):s?s(t):null};return(0,p.default)({},c,function(t){if(l>1){var n=t.item,o=t.index;return I(Array.isArray(n),'Expected array of items with numColumns > 1'),b.createElement(w,{style:k.compose(O.row,u)},n.map(function(n,s){var u=f({item:n,index:o*l+s,separators:t.separators});return null!=u?b.createElement(b.Fragment,{key:s},u):null}))}return f(t)})},n._checkProps(n.props),n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(t.onViewableItemsChanged)}}):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return(0,l.default)(x,[{key:"scrollToEnd",value:function(t){this._listRef&&this._listRef.scrollToEnd(t)}},{key:"scrollToIndex",value:function(t){this._listRef&&this._listRef.scrollToIndex(t)}},{key:"scrollToItem",value:function(t){this._listRef&&this._listRef.scrollToItem(t)}},{key:"scrollToOffset",value:function(t){this._listRef&&this._listRef.scrollToOffset(t)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(t){this._listRef&&this._listRef.setNativeProps(t)}}]),(0,l.default)(x,[{key:"componentDidUpdate",value:function(t){I(t.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),I(t.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),I(!C(t.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),I(t.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(t){var n=t.getItem,o=t.getItemCount,s=t.horizontal,l=t.numColumns,u=t.columnWrapperStyle,c=t.onViewableItemsChanged,f=t.viewabilityConfigCallbackPairs;I(!n&&!o,'FlatList does not support custom data formats.'),l>1?I(!s,'numColumns does not support horizontal.'):I(!u,'columnWrapperStyle not supported for single column lists'),I(!(c&&f),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(t,n){var o=this.props,s=o.numColumns,l=o.keyExtractor;n.item.forEach(function(o,u){I(null!=n.index,'Missing index!');var c=n.index*s+u;t.push(v(v({},n),{},{item:o,key:l(o,c),index:c}))})}},{key:"_createOnViewableItemsChanged",value:function(t){var n=this;return function(o){var s=n.props.numColumns;if(t)if(s>1){var l=[],u=[];o.viewableItems.forEach(function(t){return n._pushMultiColumnViewable(u,t)}),o.changed.forEach(function(t){return n._pushMultiColumnViewable(l,t)}),t({viewableItems:u,changed:l})}else t(o)}}},{key:"render",value:function(){var t=this.props,s=(t.numColumns,t.columnWrapperStyle,(0,o.default)(t,["numColumns","columnWrapperStyle"]));return b.createElement(_,(0,n.default)({},s,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs},this._renderer()))}}]),x})(b.PureComponent);P.defaultProps=R;var O=k.create({row:{flexDirection:'row'}});m.exports=P},264,[1,16,57,29,30,40,42,39,51,53,196,59,86,265,62,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),c=r(d[5]),h=r(d[6]),u=r(d[7]);function p(t,s){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||s&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function f(t,s){if(t){if("string"==typeof t)return y(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,s):void 0}}function y(t,s){(null==s||s>t.length)&&(s=t.length);for(var n=0,o=new Array(s);n<s;n++)o[n]=t[n];return o}function _(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);s&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,o)}return n}function v(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?_(Object(o),!0).forEach(function(n){s(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function C(t){var s=L();return function(){var n,o=u(t);if(s){var l=u(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return h(this,n)}}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var b=r(d[8]),S=r(d[9]),I=r(d[10]),R=r(d[11]),x=r(d[12]),M=r(d[13]),k=r(d[14]),w=r(d[15]),E=r(d[16]),z=r(d[17]),O=(r(d[18]),r(d[19])),T=r(d[20]),K=(r(d[21]),r(d[22]).computeWindowedRenderLimits),P=!1,F='',V=(function(h){c(f,h);var u=C(f);function f(s,l){var c;n(this,f),(c=u.call(this,s,l))._getScrollMetrics=function(){return c._scrollMetrics},c._getOutermostParentListRef=function(){return c._isNestedWithSameOrientation()?c.context.virtualizedList.getOutermostParentListRef():o(c)},c._getNestedChildState=function(t){var s=c._nestedChildLists.get(t);return s&&s.state},c._registerAsNestedChild=function(t){var s=c._cellKeysToChildListKeys.get(t.cellKey)||new Set;s.add(t.key),c._cellKeysToChildListKeys.set(t.cellKey,s);var n=c._nestedChildLists.get(t.key);n&&null!==n.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list.\n\n"+A(v(v({},t),{},{horizontal:!!t.ref.props.horizontal}))),c._nestedChildLists.set(t.key,{ref:t.ref,state:null}),c._hasInteracted&&t.ref.recordInteraction()},c._unregisterAsNestedChild=function(t){c._nestedChildLists.set(t.key,{ref:null,state:t.state})},c._onUpdateSeparators=function(t,s){t.forEach(function(t){var n=null!=t&&c._cellRefs[t];n&&n.updateSeparatorProps(s)})},c._averageCellLength=0,c._cellKeysToChildListKeys=new Map,c._cellRefs={},c._frames={},c._footerLength=0,c._hasDoneInitialScroll=!1,c._hasInteracted=!1,c._hasMore=!1,c._hasWarned={},c._headerLength=0,c._hiPriInProgress=!1,c._highestMeasuredFrameIndex=0,c._indicesToKeys=new Map,c._nestedChildLists=new Map,c._offsetFromParentVirtualizedList=0,c._prevParentOffset=0,c._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},c._scrollRef=null,c._sentEndForContentLength=0,c._totalCellLength=0,c._totalCellsMeasured=0,c._viewabilityTuples=[],c._captureScrollRef=function(t){c._scrollRef=t},c._defaultRenderScrollComponent=function(s){var n=s.onRefresh;return c._isNestedWithSameOrientation()?R.createElement(E,s):n?(T('boolean'==typeof s.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(s.refreshing)+'`'),R.createElement(k,t({},s,{refreshControl:null==s.refreshControl?R.createElement(M,{refreshing:s.refreshing,onRefresh:n,progressViewOffset:s.progressViewOffset}):s.refreshControl}))):R.createElement(k,s)},c._onCellUnmount=function(t){var s=c._frames[t];s&&(c._frames[t]=v(v({},s),{},{inLayout:!1}))},c._onLayout=function(t){c._isNestedWithSameOrientation()?c.measureLayoutRelativeToContainingList():c._scrollMetrics.visibleLength=c._selectLength(t.nativeEvent.layout),c.props.onLayout&&c.props.onLayout(t),c._scheduleCellsToRenderUpdate(),c._maybeCallOnEndReached()},c._onLayoutEmpty=function(t){c.props.onLayout&&c.props.onLayout(t)},c._onLayoutFooter=function(t){c._triggerRemeasureForChildListsInCell(c._getFooterCellKey()),c._footerLength=c._selectLength(t.nativeEvent.layout)},c._onLayoutHeader=function(t){c._headerLength=c._selectLength(t.nativeEvent.layout)},c._onContentSizeChange=function(t,s){t>0&&s>0&&null!=c.props.initialScrollIndex&&c.props.initialScrollIndex>0&&!c._hasDoneInitialScroll&&(c.scrollToIndex({animated:!1,index:c.props.initialScrollIndex}),c._hasDoneInitialScroll=!0),c.props.onContentSizeChange&&c.props.onContentSizeChange(t,s),c._scrollMetrics.contentLength=c._selectLength({height:s,width:t}),c._scheduleCellsToRenderUpdate(),c._maybeCallOnEndReached()},c._convertParentScrollMetrics=function(t){var s=t.offset-c._offsetFromParentVirtualizedList,n=t.visibleLength,o=s-c._scrollMetrics.offset;return{visibleLength:n,contentLength:c._scrollMetrics.contentLength,offset:s,dOffset:o}},c._onScroll=function(t){c._nestedChildLists.forEach(function(s){s.ref&&s.ref._onScroll(t)}),c.props.onScroll&&c.props.onScroll(t);var s=t.timeStamp,n=c._selectLength(t.nativeEvent.layoutMeasurement),o=c._selectLength(t.nativeEvent.contentSize),l=c._selectOffset(t.nativeEvent.contentOffset),h=l-c._scrollMetrics.offset;if(c._isNestedWithSameOrientation()){if(0===c._scrollMetrics.contentLength)return;var u=c._convertParentScrollMetrics({visibleLength:n,offset:l});n=u.visibleLength,o=u.contentLength,l=u.offset,h=u.dOffset}var p=c._scrollMetrics.timestamp?Math.max(1,s-c._scrollMetrics.timestamp):1,f=h/p;p>500&&c._scrollMetrics.dt>500&&o>5*n&&!c._hasWarned.perf&&(O("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:p,prevDt:c._scrollMetrics.dt,contentLength:o}),c._hasWarned.perf=!0),c._scrollMetrics={contentLength:o,dt:p,dOffset:h,offset:l,timestamp:s,velocity:f,visibleLength:n},c._updateViewableItems(c.props.data),c.props&&(c._maybeCallOnEndReached(),0!==f&&c._fillRateHelper.activate(),c._computeBlankness(),c._scheduleCellsToRenderUpdate())},c._onScrollBeginDrag=function(t){c._nestedChildLists.forEach(function(s){s.ref&&s.ref._onScrollBeginDrag(t)}),c._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),c._hasInteracted=!0,c.props.onScrollBeginDrag&&c.props.onScrollBeginDrag(t)},c._onScrollEndDrag=function(t){var s=t.nativeEvent.velocity;s&&(c._scrollMetrics.velocity=c._selectOffset(s)),c._computeBlankness(),c.props.onScrollEndDrag&&c.props.onScrollEndDrag(t)},c._onMomentumScrollEnd=function(t){c._scrollMetrics.velocity=0,c._computeBlankness(),c.props.onMomentumScrollEnd&&c.props.onMomentumScrollEnd(t)},c._updateCellsToRender=function(){var t=c.props,s=t.data,n=t.getItemCount,o=t.onEndReachedThreshold,l=c._isVirtualizationDisabled();c._updateViewableItems(s),s&&c.setState(function(t){var h,u=c._scrollMetrics,f=u.contentLength,y=u.offset,_=u.visibleLength;if(l){var v=f-_-y<o*_?c.props.maxToRenderPerBatch:0;h={first:0,last:Math.min(t.last+v,n(s)-1)}}else _>0&&f>0&&(c.props.initialScrollIndex&&!c._scrollMetrics.offset||(h=K(c.props,t,c._getFrameMetricsApprox,c._scrollMetrics)));if(h&&c._nestedChildLists.size>0)for(var C=h.first,L=h.last,b=C;b<=L;b++){var S=c._indicesToKeys.get(b),I=S&&c._cellKeysToChildListKeys.get(S);if(I){for(var R,x=!1,M=p(I);!(R=M()).done;){var k=R.value,w=c._nestedChildLists.get(k);if(w&&w.ref&&w.ref.hasMore()){x=!0;break}}if(x){h.last=b;break}}}return null!=h&&h.first===t.first&&h.last===t.last&&(h=null),h})},c._createViewToken=function(t,s){var n=c.props,o=n.data,l=n.getItem,h=n.keyExtractor,u=l(o,t);return{index:t,item:u,key:h(u,t),isViewable:s}},c._getFrameMetricsApprox=function(t){var s=c._getFrameMetrics(t);if(s&&s.index===t)return s;var n=c.props.getItemLayout;return T(!n,'Should not have to estimate frames when a measurement metrics function is provided'),{length:c._averageCellLength,offset:c._averageCellLength*t}},c._getFrameMetrics=function(t){var s=c.props,n=s.data,o=s.getItem,l=s.getItemCount,h=s.getItemLayout,u=s.keyExtractor;T(l(n)>t,'Tried to get frame for out of range index '+t);var p=o(n,t),f=p&&c._frames[u(p,t)];return f&&f.index===t||h&&(f=h(n,t)),f},T(!s.onScroll||!s.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),T(s.windowSize>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),c._fillRateHelper=new S(c._getFrameMetrics),c._updateCellsToRenderBatcher=new b(c._updateCellsToRender,c.props.updateCellsBatchingPeriod),c.props.viewabilityConfigCallbackPairs?c._viewabilityTuples=c.props.viewabilityConfigCallbackPairs.map(function(t){return{viewabilityHelper:new z(t.viewabilityConfig),onViewableItemsChanged:t.onViewableItemsChanged}}):c.props.onViewableItemsChanged&&c._viewabilityTuples.push({viewabilityHelper:new z(c.props.viewabilityConfig),onViewableItemsChanged:c.props.onViewableItemsChanged});var h={first:c.props.initialScrollIndex||0,last:Math.min(c.props.getItemCount(c.props.data),(c.props.initialScrollIndex||0)+c.props.initialNumToRender)-1};if(c._isNestedWithSameOrientation()){var y=c.context.virtualizedList.getNestedChildState(c._getListKey());y&&(h=y,c.state=y,c._frames=y.frames)}return c.state=h,c}return l(f,[{key:"scrollToEnd",value:function(t){var s=!t||t.animated,n=this.props.getItemCount(this.props.data)-1,o=this._getFrameMetricsApprox(n),l=Math.max(0,o.offset+o.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&this._scrollRef.scrollTo(this.props.horizontal?{x:l,animated:s}:{y:l,animated:s})}},{key:"scrollToIndex",value:function(t){var s=this.props,n=s.data,o=s.horizontal,l=s.getItemCount,c=s.getItemLayout,h=s.onScrollToIndexFailed,u=t.animated,p=t.index,f=t.viewOffset,y=t.viewPosition;if(T(p>=0&&p<l(n),"scrollToIndex out of range: requested index "+p+" but maximum is "+(l(n)-1)),!c&&p>this._highestMeasuredFrameIndex)return T(!!h,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void h({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:p});var _=this._getFrameMetricsApprox(p),v=Math.max(0,_.offset-(y||0)*(this._scrollMetrics.visibleLength-_.length))-(f||0);null!=this._scrollRef&&this._scrollRef.scrollTo(o?{x:v,animated:u}:{y:v,animated:u})}},{key:"scrollToItem",value:function(t){for(var s=t.item,n=this.props,o=n.data,l=n.getItem,c=(0,n.getItemCount)(o),h=0;h<c;h++)if(l(o,h)===s){this.scrollToIndex(v(v({},t),{},{index:h}));break}}},{key:"scrollToOffset",value:function(t){var s=t.animated,n=t.offset;null!=this._scrollRef&&this._scrollRef.scrollTo(this.props.horizontal?{x:n,animated:s}:{y:n,animated:s})}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(t){t.ref&&t.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():x.findNodeHandle(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(t){this._scrollRef&&this._scrollRef.setNativeProps(t)}},{key:"getChildContext",value:function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild,debugInfo:this._getDebugInfo()}}}},{key:"_getCellKey",value:function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||'rootList'}},{key:"_getListKey",value:function(){return this.props.listKey||this._getCellKey()}},{key:"_getDebugInfo",value:function(){return{listKey:this._getListKey(),cellKey:this._getCellKey(),horizontal:!!this.props.horizontal,parent:this.context.virtualizedList?this.context.virtualizedList.debugInfo:null}}},{key:"hasMore",value:function(){return this._hasMore}}]),l(f,[{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this._getListKey(),ref:this,parentDebugInfo:this.context.virtualizedList.debugInfo})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this._getListKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(t,s,n,o,l,c){var h,u=this,p=this.props,f=p.CellRendererComponent,y=p.ItemSeparatorComponent,_=p.data,v=p.getItem,C=p.getItemCount,L=p.horizontal,b=p.keyExtractor,S=this.props.ListHeaderComponent?1:0,I=C(_)-1;l=Math.min(I,l);for(var x=function(o){var l=v(_,o),p=b(l,o);u._indicesToKeys.set(o,p),n.has(o+S)&&s.push(t.length),t.push(R.createElement(D,{CellRendererComponent:f,ItemSeparatorComponent:o<I?y:void 0,cellKey:p,fillRateHelper:u._fillRateHelper,horizontal:L,index:o,inversionStyle:c,item:l,key:p,prevCellKey:h,onUpdateSeparators:u._onUpdateSeparators,onLayout:function(t){return u._onCellLayout(t,p,o)},onUnmount:u._onCellUnmount,parentProps:u.props,ref:function(t){u._cellRefs[p]=t}})),h=p},M=o;M<=l;M++)x(M)}},{key:"_isVirtualizationDisabled",value:function(){return this.props.disableVirtualization||!1}},{key:"_isNestedWithSameOrientation",value:function(){var t=this.context.virtualizedList;return!(!t||!!t.horizontal!=!!this.props.horizontal)}},{key:"render",value:function(){var t=this,n=this.props,o=n.ListEmptyComponent,l=n.ListFooterComponent,c=n.ListHeaderComponent,h=this.props,u=h.data,p=h.horizontal,f=this._isVirtualizationDisabled(),y=this.props.inverted?this.props.horizontal?B.horizontallyInverted:B.verticallyInverted:null,_=[],C=new Set(this.props.stickyHeaderIndices),L=[];if(c){C.has(0)&&L.push(0);var b=R.isValidElement(c)?c:R.createElement(c,null);_.push(R.createElement(N,{cellKey:this._getCellKey()+'-header',key:"$header"},R.createElement(E,{onLayout:this._onLayoutHeader,style:w.compose(y,this.props.ListHeaderComponentStyle)},b)))}var S=this.props.getItemCount(u);if(S>0){P=!1,F='';var I=p?'width':'height',x=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,M=this.state,k=M.first,z=M.last;this._pushCells(_,L,C,0,x,y);var O=Math.max(x+1,k);if(!f&&k>x+1){var T=!1;if(C.size>0)for(var K=c?1:0,V=O-1;V>x;V--)if(C.has(V+K)){var D=this._getFrameMetricsApprox(x),A=this._getFrameMetricsApprox(V),H=A.offset-D.offset-(this.props.initialScrollIndex?0:D.length);_.push(R.createElement(E,{key:"$sticky_lead",style:s({},I,H)})),this._pushCells(_,L,C,V,V,y);var U=this._getFrameMetricsApprox(k).offset-(A.offset+A.length);_.push(R.createElement(E,{key:"$sticky_trail",style:s({},I,U)})),T=!0;break}if(!T){var W=this._getFrameMetricsApprox(x),j=this._getFrameMetricsApprox(k).offset-(W.offset+W.length);_.push(R.createElement(E,{key:"$lead_spacer",style:s({},I,j)}))}}if(this._pushCells(_,L,C,O,z,y),!this._hasWarned.keys&&P&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",F),this._hasWarned.keys=!0),!f&&z<S-1){var $=this._getFrameMetricsApprox(z),q=this.props.getItemLayout?S-1:Math.min(S-1,this._highestMeasuredFrameIndex),Y=this._getFrameMetricsApprox(q),J=Y.offset+Y.length-($.offset+$.length);_.push(R.createElement(E,{key:"$tail_spacer",style:s({},I,J)}))}}else if(o){var X=R.isValidElement(o)?o:R.createElement(o,null);_.push(R.cloneElement(X,{key:'$empty',onLayout:function(s){t._onLayoutEmpty(s),X.props.onLayout&&X.props.onLayout(s)},style:w.compose(y,X.props.style)}))}if(l){var G=R.isValidElement(l)?l:R.createElement(l,null);_.push(R.createElement(N,{cellKey:this._getFooterCellKey(),key:"$footer"},R.createElement(E,{onLayout:this._onLayoutFooter,style:w.compose(y,this.props.ListFooterComponentStyle)},G)))}var Q=v(v({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:L,style:y?[y,this.props.style]:this.props.style});this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Z=R.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(Q),{ref:this._captureScrollRef},_);return this.props.debug?R.createElement(E,{style:B.debug},Z,this._renderDebugOverlay()):Z}},{key:"componentDidUpdate",value:function(t){var s=this.props,n=s.data,o=s.extraData;n===t.data&&o===t.extraData||this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.resetViewableIndices()});var l=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),l&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)}},{key:"_onCellLayout",value:function(t,s,n){var o=t.nativeEvent.layout,l={offset:this._selectOffset(o),length:this._selectLength(o),index:n,inLayout:!0},c=this._frames[s];c&&l.offset===c.offset&&l.length===c.length&&n===c.index?this._frames[s].inLayout=!0:(this._totalCellLength+=l.length-(c?c.length:0),this._totalCellsMeasured+=c?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[s]=l,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(s),this._computeBlankness(),this._updateViewableItems(this.props.data)}},{key:"_triggerRemeasureForChildListsInCell",value:function(t){var s=this._cellKeysToChildListKeys.get(t);if(s)for(var n,o=p(s);!(n=o()).done;){var l=n.value,c=this._nestedChildLists.get(l);c&&c.ref&&c.ref.measureLayoutRelativeToContainingList()}}},{key:"measureLayoutRelativeToContainingList",value:function(){var t=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef(),function(s,n,o,l){t._offsetFromParentVirtualizedList=t._selectOffset({x:s,y:n}),t._scrollMetrics.contentLength=t._selectLength({width:o,height:l});var c=t._convertParentScrollMetrics(t.context.virtualizedList.getScrollMetrics());t._scrollMetrics.visibleLength=c.visibleLength,t._scrollMetrics.offset=c.offset},function(t){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(t){console.warn('measureLayoutRelativeToContainingList threw an error',t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var t=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),s=[],n=this.props.getItemCount(this.props.data),o=0;o<n;o++){var l=this._getFrameMetricsApprox(o);l.inLayout&&s.push(l)}var c=this._getFrameMetricsApprox(this.state.first).offset,h=this._getFrameMetricsApprox(this.state.last),u=h.offset+h.length-c,p=this._scrollMetrics.offset,f=this._scrollMetrics.visibleLength;return R.createElement(E,{style:[B.debugOverlayBase,B.debugOverlay]},s.map(function(s,n){return R.createElement(E,{key:'f'+n,style:[B.debugOverlayBase,B.debugOverlayFrame,{top:s.offset*t,height:s.length*t}]})}),R.createElement(E,{style:[B.debugOverlayBase,B.debugOverlayFrameLast,{top:c*t,height:u*t}]}),R.createElement(E,{style:[B.debugOverlayBase,B.debugOverlayFrameVis,{top:p*t,height:f*t}]}))}},{key:"_selectLength",value:function(t){return this.props.horizontal?t.width:t.height}},{key:"_selectOffset",value:function(t){return this.props.horizontal?t.x:t.y}},{key:"_maybeCallOnEndReached",value:function(){var t=this.props,s=t.data,n=t.getItemCount,o=t.onEndReached,l=t.onEndReachedThreshold,c=this._scrollMetrics,h=c.contentLength,u=c.visibleLength,p=h-u-c.offset,f=l?l*u:0;o&&this.state.last===n(s)-1&&p<f&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:p})):p>f&&(this._sentEndForContentLength=0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var t=this.state,s=t.first,n=t.last,o=this._scrollMetrics,l=o.offset,c=o.visibleLength,h=o.velocity,u=this.props.getItemCount(this.props.data),p=!1,f=this.props.onEndReachedThreshold*c/2;if(s>0){var y=l-this._getFrameMetricsApprox(s).offset;p=p||y<0||h<-2&&y<f}if(n<u-1){var _=this._getFrameMetricsApprox(n).offset-(l+c);p=p||_<0||h>2&&_<f}if(p&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(t){var s=this,n=this.props.getItemCount;this._viewabilityTuples.forEach(function(o){o.viewabilityHelper.onUpdate(n(t),s._scrollMetrics.offset,s._scrollMetrics.visibleLength,s._getFrameMetrics,s._createViewToken,o.onViewableItemsChanged,s.state)})}}],[{key:"getDerivedStateFromProps",value:function(t,s){var n=t.data,o=t.getItemCount,l=t.maxToRenderPerBatch;return{first:Math.max(0,Math.min(s.first,o(n)-1-l)),last:Math.max(0,Math.min(s.last,o(n)-1))}}}]),f})(R.PureComponent);V.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(t,s){return null!=t.key?t.key:null!=t.id?t.id:(P=!0,t.type&&t.type.displayName&&(F=t.type.displayName),String(s))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},V.contextTypes={virtualizedCell:I.shape({cellKey:I.string}),virtualizedList:I.shape({getScrollMetrics:I.func,horizontal:I.bool,getOutermostParentListRef:I.func,getNestedChildState:I.func,registerAsNestedChild:I.func,unregisterAsNestedChild:I.func,debugInfo:I.shape({listKey:I.string,cellKey:I.string})})},V.childContextTypes={virtualizedList:I.shape({getScrollMetrics:I.func,horizontal:I.bool,getOutermostParentListRef:I.func,getNestedChildState:I.func,registerAsNestedChild:I.func,unregisterAsNestedChild:I.func})};var D=(function(s){c(h,s);var o=C(h);function h(){var t;n(this,h);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return(t=o.call.apply(o,[this].concat(l))).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var s=t.props,n=s.cellKey,o=s.prevCellKey;t.props.onUpdateSeparators([n,o],{highlighted:!0})},unhighlight:function(){var s=t.props,n=s.cellKey,o=s.prevCellKey;t.props.onUpdateSeparators([n,o],{highlighted:!1})},updateProps:function(s,n){var o=t.props,l=o.cellKey,c=o.prevCellKey;t.props.onUpdateSeparators(['leading'===s?c:l],n)}},t}return l(h,[{key:"getChildContext",value:function(){return{virtualizedCell:{cellKey:this.props.cellKey}}}},{key:"updateSeparatorProps",value:function(t){this.setState(function(s){return{separatorProps:v(v({},s.separatorProps),t)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(t,s,n,o){return t&&s&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),s?R.createElement(s,{item:n,index:o,separators:this._separators}):t?t({item:n,index:o,separators:this._separators}):void T(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var s=this.props,n=s.CellRendererComponent,o=s.ItemSeparatorComponent,l=s.fillRateHelper,c=s.horizontal,h=s.item,u=s.index,p=s.inversionStyle,f=s.parentProps,y=f.renderItem,_=f.getItemLayout,v=f.ListItemComponent,C=this._renderElement(y,v,h,u),L=!_||f.debug||l.enabled()?this.props.onLayout:void 0,b=o&&R.createElement(o,this.state.separatorProps),S=p?c?[B.rowReverse,p]:[B.columnReverse,p]:c?[B.row,p]:p;return n?R.createElement(n,t({},this.props,{style:S,onLayout:L}),C,b):R.createElement(E,{style:S,onLayout:L},C,b)}}],[{key:"getDerivedStateFromProps",value:function(t,s){return{separatorProps:v(v({},s.separatorProps),{},{leadingItem:t.item})}}}]),h})(R.Component);D.childContextTypes={virtualizedCell:I.shape({cellKey:I.string})};var N=(function(t){c(o,t);var s=C(o);function o(){return n(this,o),s.apply(this,arguments)}return l(o,[{key:"getChildContext",value:function(){return{virtualizedCell:{cellKey:this.props.cellKey}}}},{key:"render",value:function(){return this.props.children}}]),o})(R.Component);function A(t){for(var s="VirtualizedList trace:\n  Child ("+(t.horizontal?'horizontal':'vertical')+"):\n    listKey: "+t.key+"\n    cellKey: "+t.cellKey,n=t.parentDebugInfo;n;)s+="\n  Parent ("+(n.horizontal?'horizontal':'vertical')+"):\n    listKey: "+n.listKey+"\n    cellKey: "+n.cellKey,n=n.parent;return s}N.childContextTypes={virtualizedCell:I.shape({cellKey:I.string})};var B=w.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=V},265,[16,51,29,43,30,40,42,39,266,267,72,59,89,268,271,62,86,288,85,142,6,8,289]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),l=r(d[2]),s=(function(){function s(n,l){t(this,s),this._delay=l,this._callback=n}return n(s,[{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{abort:!1};this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var n=setTimeout(function(){t._taskHandle=l.runAfterInteractions(function(){t._taskHandle=null,t._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}]),s})();m.exports=s},266,[29,30,240]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]);function l(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,l)}return s}function o(n){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?l(Object(o),!0).forEach(function(s){t(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}var _=r(d[3]),h=r(d[4]),u=function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},f=[],c=10,y=null,p=(function(){function t(n){s(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=n,this._enabled=(y||0)>Math.random(),this._resetData()}return n(t,null,[{key:"addListener",value:function(t){return h(null!==y,'Call `FillRateHelper.setSampleRate` before `addListener`.'),f.push(t),{remove:function(){f=f.filter(function(n){return t!==n})}}}},{key:"setSampleRate",value:function(t){y=t}},{key:"setMinSampleCount",value:function(t){c=t}}]),n(t,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=_())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<c)this._resetData();else{var n=_()-t,s=o(o({},this._info),{},{total_time_spent:n});f.forEach(function(t){return t(s)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,o=s.offset,h=s.velocity,u=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(u),this._info.pixels_scrolled+=Math.round(Math.abs(l));var f=Math.round(1e3*Math.abs(h)),c=_();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var y=0,p=n.first,b=this._getFrameMetrics(p);p<=n.last&&(!b||!b.inLayout);)b=this._getFrameMetrics(p),p++;b&&p>0&&(y=Math.min(u,Math.max(0,b.offset-o)));for(var k=0,v=n.last,S=this._getFrameMetrics(v);v>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(v),v--;if(S&&v<t.getItemCount(t.data)-1){var M=S.offset+S.length;k=Math.min(u,Math.max(0,o+u-M))}var O=Math.round(y+k),T=O/u;return T>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=f,this._info.any_blank_count++,this._info.pixels_blank+=O,T>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(f<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new u,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}]),t})();m.exports=p},267,[51,30,29,130,8]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=n(r(d[2])),f=n(r(d[3])),o=n(r(d[4])),h=n(r(d[5])),u=n(r(d[6])),l=n(r(d[7])),c=n(r(d[8])),p=t(r(d[9]));t(r(d[10]));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[11]);var R,_=r(d[12]),y=r(d[13]).getViewManagerConfig('AndroidSwipeRefreshLayout');R=y?y.Constants:{SIZE:{}};var N=(function(t){(0,u.default)(N,t);var n,R,y=(n=N,R=v(),function(){var t,s=(0,c.default)(n);if(R){var f=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,f)}else t=s.apply(this,arguments);return(0,l.default)(this,t)});function N(){var t;(0,o.default)(this,N);for(var n=arguments.length,s=new Array(n),f=0;f<n;f++)s[f]=arguments[f];return(t=y.call.apply(y,[this].concat(s)))._lastNativeRefreshing=!1,t._onRefresh=function(){t._lastNativeRefreshing=!0,t.props.onRefresh&&t.props.onRefresh(),t.forceUpdate()},t._setNativeRef=function(n){t._nativeRef=n},t}return(0,h.default)(N,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(t){this.props.refreshing!==t.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(p.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var t=this.props,n=(t.tintColor,t.titleColor,t.title,(0,f.default)(t,["tintColor","titleColor","title"]));return _.createElement(p.default,(0,s.default)({},n,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}]),N})(_.Component);N.SIZE=R.SIZE,m.exports=N},268,[12,1,16,57,29,30,40,42,39,269,270,53,59,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;o(r(d[2]));var s=t(r(d[3])),u=t(r(d[4])),f=(0,s.default)({supportedCommands:['setNativeRefreshing']});e.Commands=f;var n=(0,u.default)('AndroidSwipeRefreshLayout');e.default=n},269,[1,12,59,88,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;t(r(d[2]));var l=o(r(d[3])),n=(0,o(r(d[4])).default)({supportedCommands:['setNativeRefreshing']});e.Commands=n;var s=(0,l.default)('PullToRefreshView',{paperComponentName:'RCTRefreshControl',excludedPlatform:'android'});e.default=s},270,[1,12,59,205,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),p=t(r(d[6])),u=t(r(d[7])),h=t(r(d[8])),f=t(r(d[9])),R=(t(r(d[10])),t(r(d[11]))),y=t(r(d[12]));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function S(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,l)}return o}function _(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?S(Object(o),!0).forEach(function(n){(0,h.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var w=r(d[13]),H=(r(d[14]),r(d[15])),V=r(d[16]);r(d[16]);var E,b,T,k=r(d[17]),C=r(d[18]),x=r(d[19]),A=r(d[20]),I=r(d[21]),O=r(d[22]),N=r(d[23]),M=r(d[24]),z=r(d[25]),D=r(d[26]),L=r(d[27]);function j(t){var n=_({},k.Mixin);for(var o in n)'function'==typeof n[o]&&(n[o]=n[o].bind(t));return n}E=f.default,T=R.default,b=y.default;var B=H.createContext(null),P=Object.freeze({horizontal:!0}),F=Object.freeze({horizontal:!1}),U=(function(t){(0,c.default)(y,t);var h,f,R=(h=y,f=v(),function(){var t,n=(0,u.default)(h);if(f){var o=(0,u.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,p.default)(this,t)});function y(t){var n;for(var l in(0,o.default)(this,y),(n=R.call(this,t))._scrollResponder=j((0,s.default)(n)),n._scrollAnimatedValue=new w.Value(0),n._scrollAnimatedValueAttachment=null,n._stickyHeaderRefs=new Map,n._headerLayoutYs=new Map,n.state=_({layoutHeight:null},k.Mixin.scrollResponderMixinGetInitialState()),n._setNativeRef=L({getForwardedRef:function(){return n.props.scrollViewRef},setLocalRef:function(t){n._scrollViewRef=t,t&&(t.getScrollResponder=n.getScrollResponder,t.getScrollableNode=n.getScrollableNode,t.getInnerViewNode=n.getInnerViewNode,t.getInnerViewRef=n.getInnerViewRef,t.getNativeScrollRef=n.getNativeScrollRef,t.scrollTo=n.scrollTo,t.scrollToEnd=n.scrollToEnd,t.flashScrollIndicators=n.flashScrollIndicators,t.scrollResponderZoomTo=n.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=n.scrollResponderScrollNativeHandleToKeyboard)}}),n.getScrollResponder=function(){return(0,s.default)(n)},n.getScrollableNode=function(){return V.findNodeHandle(n._scrollViewRef)},n.getNativeScrollRef=function(){return n._scrollViewRef},n.scrollTo=function(t,o,l){var s,c,p;'number'==typeof t?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),c=t,s=o,p=l):t&&(c=t.y,s=t.x,p=t.animated),n._scrollResponder.scrollResponderScrollTo({x:s||0,y:c||0,animated:!1!==p})},n.scrollToEnd=function(t){var o=!1!==(t&&t.animated);n._scrollResponder.scrollResponderScrollToEnd({animated:o})},n.flashScrollIndicators=function(){n._scrollResponder.scrollResponderFlashScrollIndicators()},n._handleScroll=function(t){'on-drag'===n.props.keyboardDismissMode&&n.state.isTouching&&I(),n._scrollResponder.scrollResponderHandleScroll(t)},n._handleLayout=function(t){!0===n.props.invertStickyHeaders&&n.setState({layoutHeight:t.nativeEvent.layout.height}),n.props.onLayout&&n.props.onLayout(t)},n._handleContentOnLayout=function(t){var o=t.nativeEvent.layout,l=o.width,s=o.height;n.props.onContentSizeChange&&n.props.onContentSizeChange(l,s)},n._scrollViewRef=null,n._innerViewRef=null,n._setInnerViewRef=L({getForwardedRef:function(){return n.props.innerViewRef},setLocalRef:function(t){n._innerViewRef=t}}),k.Mixin)'function'==typeof k.Mixin[l]&&l.startsWith('scrollResponder')&&((0,s.default)(n)[l]=k.Mixin[l].bind((0,s.default)(n)));return Object.keys(k.Mixin).filter(function(t){return'function'!=typeof k.Mixin[t]}).forEach(function(t){(0,s.default)(n)[t]=k.Mixin[t]}),n}return(0,l.default)(y,[{key:"UNSAFE_componentWillMount",value:function(){var t,n,o,l;this._scrollResponder.UNSAFE_componentWillMount(),this._scrollAnimatedValue=new w.Value(null!=(t=null==(n=this.props.contentOffset)?void 0:n.y)?t:0),this._scrollAnimatedValue.setOffset(null!=(o=null==(l=this.props.contentInset)?void 0:l.top)?o:0),this._stickyHeaderRefs=new Map,this._headerLayoutYs=new Map}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var n=this.props.contentInset?this.props.contentInset.top:0,o=t.contentInset?t.contentInset.top:0;n!==o&&this._scrollAnimatedValue.setOffset(o||0)}},{key:"componentDidMount",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(){this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){this._scrollResponder.componentWillUnmount(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"getInnerViewNode",value:function(){return V.findNodeHandle(this._innerViewRef)}},{key:"getInnerViewRef",value:function(){return this._innerViewRef}},{key:"_getKeyForIndex",value:function(t,n){var o=n[t];return o&&o.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=w.attachNativeEvent(this._scrollViewRef,'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(t,n){n?this._stickyHeaderRefs.set(t,n):this._stickyHeaderRefs.delete(t)}},{key:"_onStickyHeaderLayout",value:function(t,n,o){var l=this.props.stickyHeaderIndices;if(l){var s=H.Children.toArray(this.props.children);if(o===this._getKeyForIndex(t,s)){var c=n.nativeEvent.layout.y;this._headerLayoutYs.set(o,c);var p=l[l.indexOf(t)-1];if(null!=p){var u=this._stickyHeaderRefs.get(this._getKeyForIndex(p,s));u&&u.setNextHeaderY&&u.setNextHeaderY(c)}}}}},{key:"render",value:function(){var t,o,l=this;!0===this.props.horizontal?(t=T,o=b):(t=E,o=A),N(void 0!==t,'ScrollViewClass must not be undefined'),N(void 0!==o,'ScrollContentContainerViewClass must not be undefined');var s=[!0===this.props.horizontal&&Y.contentContainerHorizontal,this.props.contentContainerStyle],c={};this.props.onContentSizeChange&&(c={onLayout:this._handleContentOnLayout});var p=this.props.stickyHeaderIndices,u=this.props.children;if(null!=p&&p.length>0){var h=H.Children.toArray(this.props.children);u=h.map(function(t,n){var o=t?p.indexOf(n):-1;if(o>-1){var s=t.key,c=p[o+1],u=l.props.StickyHeaderComponent||C;return H.createElement(u,{key:s,ref:function(t){return l._setStickyHeaderRef(s,t)},nextHeaderLayoutY:l._headerLayoutYs.get(l._getKeyForIndex(c,h)),onLayout:function(t){return l._onStickyHeaderLayout(n,t,s)},scrollAnimatedValue:l._scrollAnimatedValue,inverted:l.props.invertStickyHeaders,scrollViewHeight:l.state.layoutHeight},t)}return t})}u=H.createElement(B.Provider,{value:!0===this.props.horizontal?P:F},u);var f=Array.isArray(p)&&p.length>0,R=H.createElement(o,(0,n.default)({},c,{ref:this._setInnerViewRef,style:s,removeClippedSubviews:!f&&this.props.removeClippedSubviews,collapsable:!1}),u),y=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,v=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,S=!!this.props.DEPRECATED_sendUpdatedChildFrames,w=!0===this.props.horizontal?Y.baseHorizontal:Y.baseVertical,V=_(_({},this.props),{},{alwaysBounceHorizontal:y,alwaysBounceVertical:v,style:[w,this.props.style],onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._scrollResponder.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this._scrollResponder.scrollResponderHandleMomentumScrollEnd,onResponderGrant:this._scrollResponder.scrollResponderHandleResponderGrant,onResponderReject:this._scrollResponder.scrollResponderHandleResponderReject,onResponderRelease:this._scrollResponder.scrollResponderHandleResponderRelease,onResponderTerminationRequest:this._scrollResponder.scrollResponderHandleTerminationRequest,onScrollBeginDrag:this._scrollResponder.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this._scrollResponder.scrollResponderHandleScrollEndDrag,onScrollShouldSetResponder:this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,onStartShouldSetResponder:this._scrollResponder.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,onTouchEnd:this._scrollResponder.scrollResponderHandleTouchEnd,onTouchMove:this._scrollResponder.scrollResponderHandleTouchMove,onTouchStart:this._scrollResponder.scrollResponderHandleTouchStart,onTouchCancel:this._scrollResponder.scrollResponderHandleTouchCancel,onScroll:this._handleScroll,scrollBarThumbImage:z(this.props.scrollBarThumbImage),scrollEventThrottle:f?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),DEPRECATED_sendUpdatedChildFrames:S,snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets}),k=this.props.decelerationRate;null!=k&&(V.decelerationRate=M(k));var x=this.props.refreshControl;if(x){var I=D(O(V.style)),L=I.outer,j=I.inner;return H.cloneElement(x,{style:[w,L]},H.createElement(t,(0,n.default)({},V,{style:[w,j],ref:this._setNativeRef}),R))}return H.createElement(t,(0,n.default)({},V,{ref:this._setNativeRef}),R)}}]),y})(H.Component);U.Context=B;var Y=x.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function K(t,o){return H.createElement(U,(0,n.default)({},t,{scrollViewRef:o}))}K.displayName='ScrollView';var W=H.forwardRef(K);W.Context=B,W.displayName='ScrollView',m.exports=W},271,[1,16,29,30,43,40,42,39,51,272,274,275,276,242,53,59,89,277,285,62,86,284,85,6,286,187,287,262]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,o=l(r(d[1])),u=r(d[2]),c=r(d[3]);g.RN$Bridgeless?(u('RCTScrollView',o.default),t='RCTScrollView'):t=c('RCTScrollView');var f=t;e.default=f},272,[1,273,200,180]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:{alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:r(d[0])},contentOffset:{diff:r(d[0])},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[1])},fadingEdgeLength:!0,indicatorStyle:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,nestedScrollEnabled:!0,onMomentumScrollBegin:!0,onMomentumScrollEnd:!0,onScroll:!0,onScrollBeginDrag:!0,onScrollEndDrag:!0,onScrollToTop:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:r(d[0])},scrollPerfTag:!0,scrollToOverflowEnabled:!0,scrollsToTop:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,zoomScale:!0,DEPRECATED_sendUpdatedChildFrames:!0}};m.exports=o},273,[185,80]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,l=r(d[0]),n=r(d[1]);g.RN$Bridgeless?(l('RCTScrollContentView',{uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}}),t='RCTScrollContentView'):t=n('RCTScrollContentView');var o=t;e.default=o},274,[200,180]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l,o=r(d[0]),n=r(d[1]),t={uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,endFillColor:{process:r(d[2])},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,scrollEnabled:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0}};g.RN$Bridgeless?(o('AndroidHorizontalScrollView',t),l='AndroidHorizontalScrollView'):l=n('AndroidHorizontalScrollView');var s=l;e.default=s},275,[200,180,80]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,o=r(d[0]),n=r(d[1]);g.RN$Bridgeless?(o('AndroidHorizontalScrollContentView',{uiViewClassName:'AndroidHorizontalScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}}),t='AndroidHorizontalScrollContentView'):t=n('AndroidHorizontalScrollContentView');var l=t;e.default=l},276,[200,180]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0])(r(d[1])),l=(r(d[2]),r(d[3])),s=r(d[4]),n=r(d[5]),t=r(d[6]),c=r(d[7]),p=r(d[8]),u=(r(d[9]),r(d[10])),h=r(d[11]),S={Mixin:{_subscriptionKeyboardWillShow:null,_subscriptionKeyboardWillHide:null,_subscriptionKeyboardDidShow:null,_subscriptionKeyboardDidHide:null,scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return!0!==this.props.disableScrollViewPanResponder&&this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(o){if(!0===this.props.disableScrollViewPanResponder)return!1;var l=c.currentlyFocusedInput();return'handled'===this.props.keyboardShouldPersistTaps&&null!=l&&o.target!==l},scrollResponderHandleStartShouldSetResponderCapture:function(o){if(this.scrollResponderIsAnimating())return!0;if(!0===this.props.disableScrollViewPanResponder)return!1;var l=c.currentlyFocusedInput(),s=this.props.keyboardShouldPersistTaps,n=!s||'never'===s;return'number'!=typeof o.target&&!(!n||null==l||null==o.target||c.isTextInput(o.target))},scrollResponderHandleResponderReject:function(){},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(o){var l=o.nativeEvent;this.state.isTouching=0!==l.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(o)},scrollResponderHandleTouchCancel:function(o){this.state.isTouching=!1,this.props.onTouchCancel&&this.props.onTouchCancel(o)},scrollResponderHandleResponderRelease:function(o){if(this.props.onResponderRelease&&this.props.onResponderRelease(o),'number'!=typeof o.target){var l=c.currentlyFocusedInput();!0===this.props.keyboardShouldPersistTaps||'always'===this.props.keyboardShouldPersistTaps||null==l||o.target===l||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(o),c.blurTextInput(l))}},scrollResponderHandleScroll:function(o){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(o)},scrollResponderHandleResponderGrant:function(o){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(o),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(o){s.beginScroll(),this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(o)},scrollResponderHandleScrollEndDrag:function(o){var l=o.nativeEvent.velocity;this.scrollResponderIsAnimating()||l&&(0!==l.x||0!==l.y)||s.endScroll(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(o)},scrollResponderHandleMomentumScrollBegin:function(o){this.state.lastMomentumScrollBeginTime=h(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(o)},scrollResponderHandleMomentumScrollEnd:function(o){s.endScroll(),this.state.lastMomentumScrollEndTime=h(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(o)},scrollResponderHandleTouchStart:function(o){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(o)},scrollResponderHandleTouchMove:function(o){this.props.onTouchMove&&this.props.onTouchMove(o)},scrollResponderIsAnimating:function(){return h()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():t.findNodeHandle(this)},scrollResponderScrollTo:function(l,s,n){if('number'==typeof l)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var t=l||{};l=t.x,s=t.y,n=t.animated}u(null!=this.getNativeScrollRef,'Expected scrollTo to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var c=this.getNativeScrollRef();null!=c&&o.default.scrollTo(c,l||0,s||0,!1!==n)},scrollResponderScrollToEnd:function(l){var s=!1!==(l&&l.animated);u(null!=this.getNativeScrollRef,'Expected scrollToEnd to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var n=this.getNativeScrollRef();null!=n&&o.default.scrollToEnd(n,s)},scrollResponderZoomTo:function(l,s){u(!1,'zoomToRect is not implemented'),'animated'in l?(s=l.animated,delete l.animated):void 0!==s&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');u(null!=this.getNativeScrollRef,'Expected zoomToRect to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var n=this.getNativeScrollRef();null!=n&&o.default.zoomToRect(n,l,!1!==s)},scrollResponderFlashScrollIndicators:function(){u(null!=this.getNativeScrollRef,'Expected flashScrollIndicators to be called on a scrollViewRef. If this exception occurs it is likely a bug in React Native');var l=this.getNativeScrollRef();null!=l&&o.default.flashScrollIndicators(l)},scrollResponderScrollNativeHandleToKeyboard:function(o,l,s){if(this.additionalScrollOffset=l||0,this.preventNegativeScrollOffset=!!s,'number'==typeof o)p.measureLayout(o,t.findNodeHandle(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard);else{var n=this.getInnerViewRef();if(null==n)return;o.measureLayout(n,this.scrollResponderInputMeasureAndScrollToKeyboard,this.scrollResponderTextInputFocusError)}},scrollResponderInputMeasureAndScrollToKeyboard:function(o,s,n,t){var c=l.get('window').height;this.keyboardWillOpenTo&&(c=this.keyboardWillOpenTo.endCoordinates.screenY);var p=s-c+t+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(p=Math.max(0,p)),this.scrollResponderScrollTo({x:0,y:p,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(o){console.error('Error measuring text field: ',o)},UNSAFE_componentWillMount:function(){var o=this.props.keyboardShouldPersistTaps;'boolean'==typeof o&&console.warn("'keyboardShouldPersistTaps={"+(!0===o?'true':'false')+"}' is deprecated. Use 'keyboardShouldPersistTaps=\""+(o?'always':'never')+"\"' instead"),this.keyboardWillOpenTo=null,this.additionalScrollOffset=0,this._subscriptionKeyboardWillShow=n.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=n.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=n.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=n.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide)},componentWillUnmount:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove()},scrollResponderKeyboardWillShow:function(o){this.keyboardWillOpenTo=o,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(o)},scrollResponderKeyboardWillHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(o)},scrollResponderKeyboardDidShow:function(o){o&&(this.keyboardWillOpenTo=o),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(o)},scrollResponderKeyboardDidHide:function(o){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(o)}}};m.exports=S},277,[1,278,59,64,279,281,89,178,48,53,6,130]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]),l=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[2])),c=(o(r(d[3])),(0,t.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']}));e.default=c},278,[12,1,88,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=r(d[2]),l={setGlobalOptions:function(l){if(void 0!==l.debug&&o(t.default,'Trying to debug FrameRateLogger without the native module!'),t.default){var u={debug:!!l.debug,reportStackTraces:!!l.reportStackTraces};t.default.setGlobalOptions(u)}},setContext:function(o){t.default&&t.default.setContext(o)},beginScroll:function(){t.default&&t.default.beginScroll()},endScroll:function(){t.default&&t.default.endScroll()}};m.exports=l},279,[1,280,6]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('FrameRateLogger');e.default=o},280,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]),u=r(d[3]),o=r(d[4]),s=(r(d[5]),new u(n.default));s.dismiss=o,s.scheduleLayoutAnimation=function(n){var u=n.duration,o=n.easing;null!=u&&0!==u&&t.configureNext({duration:u,update:{duration:u,type:null!=o&&t.Types[o]||'keyboard'}})},m.exports=s},281,[1,282,283,145,284,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('KeyboardObserver');e.default=u},282,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),t=r(d[2]);function s(s,o){n.default.isTesting||t.configureNextLayoutAnimation(s,null!=o?o:function(){},function(){})}function o(n,t,s){return{duration:n,create:{type:t,property:s},update:{type:t},delete:{type:t,property:s}}}var p={easeInEaseOut:o(300,'easeInEaseOut','opacity'),linear:o(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},c={configureNext:s,create:o,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:p,easeInEaseOut:s.bind(null,p.easeInEaseOut),linear:s.bind(null,p.linear),spring:s.bind(null,p.spring)};m.exports=c},283,[1,53,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=function(){t.blurTextInput(t.currentlyFocusedInput())}},284,[178]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),s=r(d[4]);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=r(d[5]),c=r(d[6]),h=r(d[7]),y=r(d[8]),f=p.createAnimatedComponent(y),v=(function(p){o(x,p);var h,y,v=(h=x,y=l(),function(){var t,n=s(h);if(y){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return u(this,t)});function x(){var n;t(this,x);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return(n=v.call.apply(v,[this].concat(u))).state={measured:!1,layoutY:0,layoutHeight:0,nextHeaderLayoutY:n.props.nextHeaderLayoutY},n._onLayout=function(t){n.setState({measured:!0,layoutY:t.nativeEvent.layout.y,layoutHeight:t.nativeEvent.layout.height}),n.props.onLayout(t);var o=c.Children.only(n.props.children);o.props.onLayout&&o.props.onLayout(t)},n}return n(x,[{key:"setNextHeaderY",value:function(t){this.setState({nextHeaderLayoutY:t})}},{key:"render",value:function(){var t=this.props,n=t.inverted,o=t.scrollViewHeight,u=this.state,s=u.measured,l=u.layoutHeight,p=u.layoutY,h=u.nextHeaderLayoutY,y=[-1,0],v=[0,0];if(s)if(n){if(null!=o){var x=p+l-o;if(x>0){y.push(x),v.push(0),y.push(x+1),v.push(1);var H=(h||0)-l-o;H>x&&(y.push(H,H+1),v.push(H-x,H-x))}}}else{y.push(p),v.push(0);var Y=(h||0)-l;Y>=p?(y.push(Y,Y+1),v.push(Y-p,Y-p)):(y.push(p+1),v.push(1))}var R=this.props.scrollAnimatedValue.interpolate({inputRange:y,outputRange:v}),C=c.Children.only(this.props.children);return c.createElement(f,{collapsable:!1,onLayout:this._onLayout,style:[C.props.style,L.header,{transform:[{translateY:R}]}]},c.cloneElement(C,{style:L.fill,onLayout:void 0}))}}]),x})(c.Component),L=h.create({header:{zIndex:10},fill:{flex:1}});m.exports=v},285,[29,30,40,42,39,242,59,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);m.exports=function(t){return'normal'===t?.985:'fast'===t?.9:t}},286,[53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(Object.create(null),{margin:!0,marginHorizontal:!0,marginVertical:!0,marginBottom:!0,marginTop:!0,marginLeft:!0,marginRight:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,alignSelf:!0,height:!0,minHeight:!0,maxHeight:!0,width:!0,minWidth:!0,maxWidth:!0,position:!0,left:!0,right:!0,bottom:!0,top:!0,transform:!0});m.exports=function(n){var o={},f={};return n&&Object.keys(n).forEach(function(h){var l=n[h];t[h]?f[h]=l:o[h]=l}),{outer:f,inner:o}}},287,[16]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]);function c(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function l(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?c(Object(s),!0).forEach(function(o){t(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}function u(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=f(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function f(t,n){if(t){if("string"==typeof t)return h(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var v=r(d[4]),b=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};o(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n}return s(t,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,o,s,c){var l=this._config,u=l.itemVisiblePercentThreshold,f=l.viewAreaCoveragePercentThreshold,h=null!=f,b=h?f:u;v(null!=b&&null!=u!=(null!=f),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var p=[];if(0===t)return p;var w=-1,_=c||{first:0,last:t-1},I=_.first,O=_.last;if(O>=t)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:c,itemCount:t})),[];for(var j=I;j<=O;j++){var P=s(j);if(P){var S=P.offset-n,A=S+P.length;if(S<o&&A>0)w=j,y(h,b,S,A,o,P.length)&&p.push(j);else if(w>=0)break}}return p}},{key:"onUpdate",value:function(t,n,o,s,c,l,u){var f=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==t&&s(0)){var h=[];if(t&&(h=this.computeViewableItems(t,n,o,s,u)),this._viewableIndices.length!==h.length||!this._viewableIndices.every(function(t,n){return t===h[n]}))if(this._viewableIndices=h,this._config.minimumViewTime){var v=setTimeout(function(){f._timers.delete(v),f._onUpdateSync(h,l,c)},this._config.minimumViewTime);this._timers.add(v)}else this._onUpdateSync(h,l,c)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,o,s){var c=this;t=t.filter(function(t){return c._viewableIndices.includes(t)});for(var f,h=this._viewableItems,v=new Map(t.map(function(t){var n=s(t,!0);return[n.key,n]})),b=[],y=u(v);!(f=y()).done;){var p=f.value,w=n(p,2),_=w[0],I=w[1];h.has(_)||b.push(I)}for(var O,j=u(h);!(O=j()).done;){var P=O.value,S=n(P,2),A=S[0],T=S[1];v.has(A)||b.push(l(l({},T),{},{isViewable:!1}))}b.length>0&&(this._viewableItems=v,o({viewableItems:Array.from(v.values()),changed:b,viewabilityConfig:this._config}))}}]),t})();function y(t,n,o,s,c,l){if(w(o,s,c))return!0;var u=p(o,s,c);return 100*(t?u/c:u/l)>=n}function p(t,n,o){var s=Math.min(n,o)-Math.max(t,0);return Math.max(0,s)}function w(t,n,o){return t>=0&&n<=o&&n>t}m.exports=b},288,[51,17,29,30,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function s(t,s,f){for(var l=[],o=0,u=0;u<s;u++)for(var h=f(u),v=h.offset+h.length,c=0;c<t.length;c++)if(null==l[c]&&v>=t[c]&&(l[c]=u,o++,c===t.length-1))return n(o===t.length,'bad offsets input, should be in increasing order: %s',JSON.stringify(t)),l;return l}function f(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}var l={computeWindowedRenderLimits:function(n,l,o,u){var h=n.data,v=n.getItemCount,c=n.maxToRenderPerBatch,x=n.windowSize,M=v(h);if(0===M)return l;var w=u.offset,b=u.velocity,p=u.visibleLength,C=Math.max(0,w),O=C+p,y=(x-1)*p,L=b>1?'after':b<-1?'before':'none',R=Math.max(0,C-.5*y),S=Math.max(0,O+.5*y);if(o(M-1).offset<R)return{first:Math.max(0,M-1-c),last:M-1};var B=s([R,C,O,S],n.getItemCount(n.data),o),I=t(B,4),J=I[0],N=I[1],T=I[2],_=I[3];J=null==J?0:J,N=null==N?Math.max(0,J):N,_=null==_?M-1:_;for(var k={first:N,last:T=null==T?Math.min(_,N+c-1):T},z=f(l,k);!(N<=J&&T>=_);){var E=z>=c,F=N<=l.first||N>l.last,P=N>J&&(!E||!F),W=T>=l.last||T<l.first,j=T<_&&(!E||!W);if(E&&!P&&!j)break;!P||'after'===L&&j&&W||(F&&z++,N--),!j||'before'===L&&P&&F||(W&&z++,T++)}if(!(T>=N&&N>=0&&T<M&&N>=J&&T<=_&&N<=k.first&&T>=k.last))throw new Error('Bad window calculation '+JSON.stringify({first:N,last:T,itemCount:M,overscanFirst:J,overscanLast:_,visible:k}));return{first:N,last:T}},elementsThatOverlapOffsets:s,newRangeCount:f};m.exports=l},289,[17,6]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])(r(d[1]));var t=r(d[2]),s=r(d[3]);m.exports=s(t)},290,[12,59,291,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4]));function s(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function l(t){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?s(Object(u),!0).forEach(function(n){(0,o.default)(t,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):s(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t}var f=r(d[5]),h=r(d[6]),p=r(d[7]),b=r(d[8]),y=r(d[9]),w=(r(d[10]),r(d[11])),O=r(d[12]),v=r(d[13]).default,S=r(d[14]),E=r(d[15]),I=r(d[16]),j=1;var P=l(l({},p),{},{style:h(f),source:b.oneOfType([b.shape({uri:b.string,headers:b.objectOf(b.string)}),b.number,b.arrayOf(b.shape({uri:b.string,width:b.number,height:b.number,headers:b.objectOf(b.string)}))]),blurRadius:b.number,defaultSource:b.number,loadingIndicatorSource:b.oneOfType([b.shape({uri:b.string}),b.number]),progressiveRenderingEnabled:b.bool,fadeDuration:b.number,internal_analyticTag:b.string,onLoadStart:b.func,onError:b.func,onLoad:b.func,onLoadEnd:b.func,testID:b.string,resizeMethod:b.oneOf(['auto','resize','scale']),resizeMode:b.oneOf(['cover','contain','stretch','repeat','center'])});var z=function(t,n){var o,c,s,f,h=E(t.source),p=E(t.defaultSource),b=E(t.loadingIndicatorSource);if(h&&''===h.uri&&console.warn('source.uri should not be an empty string'),t.src&&console.warn('The <Image> component requires a `source` property rather than `src`.'),t.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');if(t.defaultSource&&t.loadingIndicatorSource)throw new Error('The <Image> component cannot have defaultSource and loadingIndicatorSource at the same time. Please use either defaultSource or loadingIndicatorSource.');if(!h||h.uri||Array.isArray(h)||(h=null),null!=(null==(o=h)?void 0:o.uri)){var w=h,j=w.width,P=w.height;s=S([{width:j,height:P},T.base,t.style]),f=[{uri:h.uri}]}else s=S([T.base,t.style]),f=h;var z=t.onLoadStart,L=t.onLoad,D=t.onLoadEnd,q=t.onError,C=l(l({},t),{},{style:s,shouldNotifyLoadEvents:!!(z||L||D||q),src:f,headers:null==(c=h)?void 0:c.headers,defaultSrc:p?p.uri:null,loadingIndicatorSrc:b?b.uri:null,ref:n});return y.createElement(v.Consumer,null,function(t){var n=null!==t?l(l({},C),{},{internal_analyticTag:t}):C;return y.createElement(O.Consumer,null,function(t){return t?y.createElement(I,n):y.createElement(u.default,n)})})};(z=y.forwardRef(z)).displayName='Image',z.getSize=function(t,n,o){return c.default.getSize(t).then(function(t){n(t.width,t.height)}).catch(o||function(){console.warn('Failed to get size for image: '+t)})},z.getSizeWithHeaders=function(t,n,o,u){return c.default.getSizeWithHeaders(t,n).then(function(t){o(t.width,t.height)}).catch(u||function(){console.warn('Failed to get size for image: '+t)})},z.prefetch=function(t,n){var o=j++;return n&&n(o),c.default.prefetchImage(t,o)},z.abortPrefetch=function(t){c.default.abortRequest(t)},z.queryCache=function(t){return n.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.default.awrap(c.default.queryCache(t));case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},null,null,null,Promise)},z.resolveAssetSource=E,z.propTypes=P;var T=w.create({base:{overflow:'hidden'}});m.exports=z},291,[1,106,51,292,294,67,210,295,72,59,89,62,202,297,85,187,298]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,f=t(r(d[1])),l=r(d[2]),n=r(d[3]);g.RN$Bridgeless?(n.register('RCTImageView',function(){return f.default}),u='RCTImageView'):u=l('RCTImageView');var s=u;e.default=s},292,[1,293,180,177]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1]));function n(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function s(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?n(Object(c),!0).forEach(function(n){(0,o.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(c,o))})}return t}var c={uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:s(s({},t(r(d[2])).default.validAttributes),{},{blurRadius:!0,capInsets:{diff:r(d[3])},defaultSource:{process:r(d[4])},defaultSrc:!0,fadeDuration:!0,headers:!0,loadingIndicatorSrc:!0,onError:!0,onLoad:!0,onLoadEnd:!0,onLoadStart:!0,onPartialLoad:!0,onProgress:!0,overlayColor:{process:r(d[5])},progressiveRenderingEnabled:!0,resizeMethod:!0,resizeMode:!0,shouldNotifyLoadEvents:!0,source:!0,src:!0,tintColor:{process:r(d[5])}})};m.exports=c},293,[1,51,192,183,187,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('ImageLoader');e.default=o},294,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=r(d[1]),s=r(d[2]),t=r(d[3]),c=r(d[4]).DeprecatedAccessibilityRoles,l=n(s);m.exports={accessible:t.bool,accessibilityLabel:t.node,accessibilityHint:t.string,accessibilityActions:t.arrayOf(t.string),accessibilityIgnoresInvertColors:t.bool,accessibilityRole:t.oneOf(c),accessibilityState:t.object,accessibilityValue:t.object,accessibilityLiveRegion:t.oneOf(['none','polite','assertive']),importantForAccessibility:t.oneOf(['auto','yes','no','no-hide-descendants']),accessibilityViewIsModal:t.bool,accessibilityElementsHidden:t.bool,onAccessibilityAction:t.func,onAccessibilityTap:t.func,onMagicTap:t.func,testID:t.string,nativeID:t.string,onResponderGrant:t.func,onResponderMove:t.func,onResponderReject:t.func,onResponderRelease:t.func,onResponderTerminate:t.func,onResponderTerminationRequest:t.func,onStartShouldSetResponder:t.func,onStartShouldSetResponderCapture:t.func,onMoveShouldSetResponder:t.func,onMoveShouldSetResponderCapture:t.func,hitSlop:o,onLayout:t.func,pointerEvents:t.oneOf(['box-none','none','box-only','auto']),style:l,removeClippedSubviews:t.bool,renderToHardwareTextureAndroid:t.bool,shouldRasterizeIOS:t.bool,collapsable:t.bool,needsOffscreenAlphaCompositing:t.bool}},295,[209,210,79,72,296]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={DeprecatedAccessibilityRoles:['none','button','link','search','image','keyboardkey','text','adjustable','imagebutton','header','summary','alert','checkbox','combobox','menu','menubar','menuitem','progressbar','radio','radiogroup','scrollbar','spinbutton','switch','tab','tablist','timer','toolbar']}},296,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).createContext(null);e.default=u},297,[12,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('RCTTextInlineImage');m.exports=t},298,[180]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1])(r(d[2])),f=t(r(d[3])),o=r(d[4]),c=r(d[5]),l=f.forwardRef(function(t,c){return f.createElement(o,(0,n.default)({scrollEventThrottle:1e-4},t,{ref:c}))});m.exports=c(l)},299,[12,1,16,59,271,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1])(r(d[2])),f=t(r(d[3])),o=r(d[4]),c=r(d[5]),l=f.forwardRef(function(t,c){return f.createElement(o,(0,n.default)({scrollEventThrottle:1e-4},t,{ref:c}))});m.exports=c(l)},300,[12,1,16,59,301,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),s=r(d[4]),f=r(d[5]),u=r(d[6]);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function h(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?l(Object(o),!0).forEach(function(n){u(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}r(d[7]);var y=r(d[8]),R=r(d[9]),v=h(h({},R.defaultProps),{},{stickySectionHeadersEnabled:!1}),w=(function(u){c(w,u);var l,h,v=(l=w,h=p(),function(){var t,n=f(l);if(h){var o=f(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)});function w(){var t;n(this,w);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(t=v.call.apply(v,[this].concat(c)))._captureRef=function(n){t._wrapperListRef=n},t}return o(w,[{key:"scrollToLocation",value:function(t){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(t)}},{key:"recordInteraction",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollResponder()}},{key:"getScrollableNode",value:function(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollableNode()}},{key:"setNativeProps",value:function(t){var n=this._wrapperListRef&&this._wrapperListRef.getListRef();n&&n.setNativeProps(t)}},{key:"render",value:function(){return y.createElement(R,t({},this.props,{ref:this._captureRef,getItemCount:function(t){return t.length},getItem:function(t,n){return t[n]}}))}}]),w})(y.PureComponent);w.defaultProps=v,m.exports=w},301,[16,29,30,40,42,39,51,53,59,302]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),c=r(d[4]),p=r(d[5]),l=r(d[6]),u=r(d[7]),f=r(d[8]);function h(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function S(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?h(Object(s),!0).forEach(function(n){o(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function v(t){var n=I();return function(){var o,s=f(t);if(n){var c=f(this).constructor;o=Reflect.construct(s,arguments,c)}else o=s.apply(this,arguments);return u(this,o)}}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=r(d[9]),_=r(d[10]),x=r(d[11]),b=r(d[12]),k=(function(o){l(f,o);var u=v(f);function f(t,n){var o;return s(this,f),(o=u.call(this,t,n))._getItem=function(t,n,o){if(!n)return null;for(var s=o-1,c=0;c<n.length;c++){var p=n[c],l=p.data,u=t.getItemCount(l);if(-1===s||s===u)return p;if(s<u)return t.getItem(l,s);s-=u+2}return null},o._keyExtractor=function(t,n){var s=o._subExtractor(n);return s&&s.key||String(n)},o._convertViewable=function(t){b(null!=t.index,'Received a broken ViewToken');var n=o._subExtractor(t.index);if(!n)return null;var s=n.section.keyExtractor||o.props.keyExtractor;return S(S({},t),{},{index:n.index,key:s(t.item,n.index),section:n.section})},o._onViewableItemsChanged=function(t){var n=t.viewableItems,s=t.changed,p=o.props.onViewableItemsChanged;null!=p&&p({viewableItems:n.map(o._convertViewable,c(o)).filter(Boolean),changed:s.map(o._convertViewable,c(o)).filter(Boolean)})},o._renderItem=function(t){var n=t.item,s=t.index,c=o._subExtractor(s);if(!c)return null;var p=c.index;if(null==p){var l=c.section;if(!0===c.header){var u=o.props.renderSectionHeader;return u?u({section:l}):null}var f=o.props.renderSectionFooter;return f?f({section:l}):null}var h=c.section.renderItem||o.props.renderItem,S=o._getSeparatorComponent(s,c);return b(h,'no renderItem!'),y.createElement(P,{SeparatorComponent:S,LeadingSeparatorComponent:0===p?o.props.SectionSeparatorComponent:void 0,cellKey:c.key,index:p,item:n,leadingItem:c.leadingItem,leadingSection:c.leadingSection,onUpdateSeparator:o._onUpdateSeparator,prevCellKey:(o._subExtractor(s-1)||{}).key,ref:function(t){o._cellRefs[c.key]=t},renderItem:h,section:c.section,trailingItem:c.trailingItem,trailingSection:c.trailingSection,inverted:!!o.props.inverted})},o._onUpdateSeparator=function(t,n){var s=o._cellRefs[t];s&&s.updateSeparatorProps(n)},o._cellRefs={},o._captureRef=function(t){o._listRef=t},o.state=o._computeState(t),o}return p(f,[{key:"scrollToLocation",value:function(t){for(var n=t.itemIndex,o=0;o<t.sectionIndex;o++)n+=this.props.getItemCount(this.props.sections[o].data)+2;var s=t.viewOffset||0;t.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(s+=this._listRef._getFrameMetricsApprox(n-t.itemIndex).length);var c=S(S({},t),{},{viewOffset:s,index:n});this._listRef.scrollToIndex(c)}},{key:"getListRef",value:function(){return this._listRef}}]),p(f,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState(this._computeState(t))}},{key:"_computeState",value:function(t){var o=this,s=t.ListHeaderComponent?1:0,c=[],p=t.sections?t.sections.reduce(function(n,o){return c.push(n+s),n+t.getItemCount(o.data)+2},0):0;t.SectionSeparatorComponent,t.renderItem,t.renderSectionFooter,t.renderSectionHeader,t.sections,t.stickySectionHeadersEnabled;return{childProps:S(S({},n(t,["SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"])),{},{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:t.sections,getItemCount:function(){return p},getItem:function(n,s){return o._getItem(t,n,s)},keyExtractor:this._keyExtractor,onViewableItemsChanged:t.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:t.stickySectionHeadersEnabled?c:void 0})}}},{key:"render",value:function(){return y.createElement(x,t({},this.state.childProps,{ref:this._captureRef}))}},{key:"_subExtractor",value:function(t){for(var n=t,o=this.props,s=o.getItem,c=o.getItemCount,p=o.keyExtractor,l=o.sections,u=0;u<l.length;u++){var f=l[u],h=f.data,S=f.key||String(u);if((n-=1)>=c(h)+1)n-=c(h)+1;else return-1===n?{section:f,key:S+':header',index:null,header:!0,trailingSection:l[u+1]}:n===c(h)?{section:f,key:S+':footer',index:null,header:!1,trailingSection:l[u+1]}:{section:f,key:S+':'+(f.keyExtractor||p)(s(h,n),n),index:n,leadingItem:s(h,n-1),leadingSection:l[u-1],trailingItem:s(h,n+1),trailingSection:l[u+1]}}}},{key:"_getSeparatorComponent",value:function(t,n){if(!(n=n||this._subExtractor(t)))return null;var o=n.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,s=this.props.SectionSeparatorComponent,c=t===this.state.childProps.getItemCount()-1,p=n.index===this.props.getItemCount(n.section.data)-1;return s&&p?s:!o||p||c?null:o}}]),f})(y.PureComponent);k.defaultProps=S(S({},x.defaultProps),{},{data:[]});var P=(function(t){l(o,t);var n=v(o);function o(){var t;s(this,o);for(var c=arguments.length,p=new Array(c),l=0;l<c;l++)p[l]=arguments[l];return(t=n.call.apply(n,[this].concat(p))).state={separatorProps:{highlighted:!1,leadingItem:t.props.item,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.trailingItem,trailingSection:t.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:t.props.leadingItem,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.item,trailingSection:t.props.trailingSection}},t._separators={highlight:function(){['leading','trailing'].forEach(function(n){return t._separators.updateProps(n,{highlighted:!0})})},unhighlight:function(){['leading','trailing'].forEach(function(n){return t._separators.updateProps(n,{highlighted:!1})})},updateProps:function(n,o){var s=t.props,c=s.LeadingSeparatorComponent,p=s.cellKey,l=s.prevCellKey;'leading'===n&&null!=c?t.setState(function(t){return{leadingSeparatorProps:S(S({},t.leadingSeparatorProps),o)}}):t.props.onUpdateSeparator('leading'===n&&l||p,o)}},t}return p(o,[{key:"updateSeparatorProps",value:function(t){this.setState(function(n){return{separatorProps:S(S({},n.separatorProps),t)}})}},{key:"render",value:function(){var t=this.props,n=t.LeadingSeparatorComponent,o=t.SeparatorComponent,s=t.item,c=t.index,p=t.section,l=t.inverted,u=this.props.renderItem({item:s,index:c,section:p,separators:this._separators}),f=n&&y.createElement(n,this.state.leadingSeparatorProps),h=o&&y.createElement(o,this.state.separatorProps);return f||h?y.createElement(_,null,l?h:f,u,l?f:h):u}}],[{key:"getDerivedStateFromProps",value:function(t,n){return{separatorProps:S(S({},n.separatorProps),{},{leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),leadingSeparatorProps:S(S({},n.leadingSeparatorProps),{},{leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection})}}}]),o})(y.Component);m.exports=k},302,[16,57,51,29,43,30,40,42,39,59,86,265,6]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])(r(d[1]));var t=r(d[2]),s=r(d[3]);m.exports=s(t)},303,[12,59,207,261]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])(r(d[1]));var t=r(d[2]),s=r(d[3]);m.exports=s(t)},304,[12,59,86,261]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(r(d[2])),u=n(r(d[3])),f=n(r(d[4])),l=n(r(d[5])),c=n(r(d[6])),s=n(r(d[7])),p=n(r(d[8])),v=n(r(d[9])),h=t(r(d[10]));function y(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function b(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?y(Object(o),!0).forEach(function(n){(0,u.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var C=r(d[11]),O=r(d[12]),w=r(d[13]),j=r(d[14]),_=r(d[15]),P=r(d[16]),x=(function(t){(0,s.default)(O,t);var n,u,y=(n=O,u=R(),function(){var t,o=(0,v.default)(n);if(u){var f=(0,v.default)(this).constructor;t=Reflect.construct(o,arguments,f)}else t=o.apply(this,arguments);return(0,p.default)(this,t)});function O(){var t;(0,l.default)(this,O);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t=y.call.apply(y,[this].concat(o)))._nativeRef=null,t._setNativeRef=P({getForwardedRef:function(){return t.props.forwardedRef},setLocalRef:function(n){t._nativeRef=n}}),t._onChange=function(n){var o,u=null!=(o=t.props.value)&&o;h.Commands.setNativeValue(_(t._nativeRef),u),t.props.onChange&&t.props.onChange(n),t.props.onValueChange&&t.props.onValueChange(n.nativeEvent.value)},t}return(0,c.default)(O,[{key:"_getTintColors",value:function(t){if(t){var n=j(t.true);w(null==n||'number'==typeof n,'Unexpected color given for tintColors.true');var o=j(t.true);return w(null==o||'number'==typeof o,'Unexpected color given for tintColors.false'),{true:n,false:o}}}},{key:"render",value:function(){var t,n,u=this.props,l=(u.disabled,u.value,u.tintColors),c=u.style,s=(u.forwardedRef,(0,f.default)(u,["disabled","value","tintColors","style","forwardedRef"])),p=null!=(t=this.props.disabled)&&t,v=null!=(n=this.props.value)&&n,y=b(b({},s),{},{onStartShouldSetResponder:function(){return!0},onResponderTerminationRequest:function(){return!1},enabled:!p,on:v,tintColors:this._getTintColors(l),style:[D.rctCheckBox,c]});return C.createElement(h.default,(0,o.default)({},y,{ref:this._setNativeRef,onChange:this._onChange}))}}]),O})(C.Component),D=O.create({rctCheckBox:{height:32,width:32}}),S=C.forwardRef(function(t,n){return C.createElement(x,(0,o.default)({},t,{forwardedRef:n}))});m.exports=S},305,[12,1,16,51,57,29,30,40,42,39,306,59,62,6,80,223,262]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;o(r(d[2]));var u=t(r(d[3])),s=r(d[4]),n=(0,u.default)({supportedCommands:['setNativeValue']});e.Commands=n;var l=s('AndroidCheckBox');e.default=l},306,[1,12,59,88,180]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),u=r(d[4]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[5]),l=r(d[6]),p=r(d[7]),y=r(d[8]),h=(function(l){c(b,l);var h,v,P=(h=b,v=s(),function(){var t,n=u(h);if(v){var c=u(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return o(this,t)});function b(){return t(this,b),P.apply(this,arguments)}return n(b,[{key:"render",value:function(){return f.createElement(y,{style:[k.dummyDatePickerIOS,this.props.style]},f.createElement(p,{style:k.datePickerText},"DatePickerIOS is not supported on this platform!"))}}]),b})(f.Component),k=l.create({dummyDatePickerIOS:{height:100,width:300,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center',margin:10},datePickerText:{color:'#333333',margin:20}});m.exports=h},307,[29,30,40,42,39,59,62,207,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(r(d[2])),s=n(r(d[3])),u=n(r(d[4])),l=n(r(d[5])),c=n(r(d[6])),p=n(r(d[7])),f=n(r(d[8])),w=t(r(d[9]));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=r(d[10]),D=r(d[11]),y=r(d[12]),C=r(d[13]),k=r(d[14]),S=r(d[15]),b=r(d[16]),_=['Idle','Dragging','Settling'],R=(function(t){(0,c.default)(E,t);var n,C,R=(n=E,C=h(),function(){var t,o=(0,f.default)(n);if(C){var s=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,s)}else t=o.apply(this,arguments);return(0,p.default)(this,t)});function E(){var t;(0,u.default)(this,E);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=R.call.apply(R,[this].concat(o)))._nativeRef=D.createRef(),t.state={statusBarBackgroundColor:null},t._onDrawerSlide=function(n){t.props.onDrawerSlide&&t.props.onDrawerSlide(n),'on-drag'===t.props.keyboardDismissMode&&S()},t._onDrawerOpen=function(){t.props.onDrawerOpen&&t.props.onDrawerOpen()},t._onDrawerClose=function(){t.props.onDrawerClose&&t.props.onDrawerClose()},t._onDrawerStateChanged=function(n){t.props.onDrawerStateChanged&&t.props.onDrawerStateChanged(_[n.nativeEvent.drawerState])},t}return(0,l.default)(E,[{key:"render",value:function(){var t=this.props,n=(t.onDrawerStateChanged,t.renderNavigationView),u=(t.onDrawerOpen,t.onDrawerClose,(0,s.default)(t,["onDrawerStateChanged","renderNavigationView","onDrawerOpen","onDrawerClose"])),l=v.Version>=21&&null!=this.props.statusBarBackgroundColor,c=D.createElement(k,{style:[B.drawerSubview,{width:this.props.drawerWidth,backgroundColor:this.props.drawerBackgroundColor}],collapsable:!1},n(),l&&D.createElement(k,{style:B.drawerStatusBar})),p=D.createElement(k,{style:B.mainSubview,collapsable:!1},l&&D.createElement(y,{translucent:!0,backgroundColor:this.props.statusBarBackgroundColor}),l&&D.createElement(k,{style:[B.statusBar,{backgroundColor:this.props.statusBarBackgroundColor}]}),this.props.children);return D.createElement(w.default,(0,o.default)({},u,{ref:this._nativeRef,drawerWidth:this.props.drawerWidth,drawerPosition:this.props.drawerPosition,drawerLockMode:this.props.drawerLockMode,style:[B.base,this.props.style],onDrawerSlide:this._onDrawerSlide,onDrawerOpen:this._onDrawerOpen,onDrawerClose:this._onDrawerClose,onDrawerStateChanged:this._onDrawerStateChanged}),p,c)}},{key:"openDrawer",value:function(){w.Commands.openDrawer(b(this._nativeRef.current))}},{key:"closeDrawer",value:function(){w.Commands.closeDrawer(b(this._nativeRef.current))}},{key:"blur",value:function(){b(this._nativeRef.current).blur()}},{key:"focus",value:function(){b(this._nativeRef.current).focus()}},{key:"measure",value:function(t){b(this._nativeRef.current).measure(t)}},{key:"measureInWindow",value:function(t){b(this._nativeRef.current).measureInWindow(t)}},{key:"measureLayout",value:function(t,n,o){b(this._nativeRef.current).measureLayout(t,n,o)}},{key:"setNativeProps",value:function(t){b(this._nativeRef.current).setNativeProps(t)}}],[{key:"positions",get:function(){return console.warn('Setting DrawerLayoutAndroid drawerPosition using `DrawerLayoutAndroid.positions` is deprecated. Instead pass the string value "left" or "right"'),{Left:'left',Right:'right'}}}]),E})(D.Component);R.defaultProps={drawerBackgroundColor:'white'};var B=C.create({base:{flex:1,elevation:16},mainSubview:{position:'absolute',top:0,left:0,right:0,bottom:0},drawerSubview:{position:'absolute',top:0,bottom:0},statusBar:{height:y.currentHeight},drawerStatusBar:{position:'absolute',top:0,left:0,right:0,height:y.currentHeight,backgroundColor:'rgba(0, 0, 0, 0.251)'}});m.exports=R},308,[12,1,16,57,29,30,40,42,39,309,53,59,310,62,86,284,223]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;var u=t(r(d[2])),n=t(r(d[3])),s=(o(r(d[4])),(0,u.default)({supportedCommands:['openDrawer','closeDrawer']}));e.Commands=s;var l=(0,n.default)('AndroidDrawerLayout');e.default=l},309,[12,1,88,205,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),u=n(r(d[1])),o=n(r(d[2])),l=n(r(d[3])),c=n(r(d[4])),s=n(r(d[5])),f=n(r(d[6])),p=n(r(d[7]));n(r(d[8]));function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[9]);var y=r(d[10]),v=r(d[11]),S=r(d[12]);function _(t){return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:t.animated}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:t.animated}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:t.animated,transition:t.showHideTransition}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var h=(function(t){(0,l.default)(h,t);var n,f,y=(n=h,f=k(),function(){var t,u=(0,s.default)(n);if(f){var o=(0,s.default)(this).constructor;t=Reflect.construct(u,arguments,o)}else t=u.apply(this,arguments);return(0,c.default)(this,t)});function h(){var t;(0,u.default)(this,h);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=y.call.apply(y,[this].concat(o)))._stackEntry=null,t}return(0,o.default)(h,[{key:"componentDidMount",value:function(){this._stackEntry=h.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){h.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=h.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,n){n=n||'none',h._defaultProps.hidden.value=t,p.default.setHidden(t)}},{key:"setBarStyle",value:function(t,n){n=n||!1,h._defaultProps.barStyle.value=t,p.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,n){n=n||!1,h._defaultProps.backgroundColor.value=t;var u=S(t);null!=u?(v('number'==typeof u,'Unexpected color given for StatusBar.setBackgroundColor'),p.default.setColor(u,n)):console.warn("`StatusBar.setBackgroundColor`: Color "+t+" parsed to null or undefined")}},{key:"setTranslucent",value:function(t){h._defaultProps.translucent=t,p.default.setTranslucent(t)}},{key:"pushStackEntry",value:function(t){var n=_(t);return h._propsStack.push(n),h._updatePropsStack(),n}},{key:"popStackEntry",value:function(t){var n=h._propsStack.indexOf(t);-1!==n&&h._propsStack.splice(n,1),h._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,n){var u=_(n),o=h._propsStack.indexOf(t);return-1!==o&&(h._propsStack[o]=u),h._updatePropsStack(),u}}]),h})(y.Component);h._propsStack=[],h._defaultProps=_({animated:!1,showHideTransition:'fade',backgroundColor:null!=(t=p.default.getConstants().DEFAULT_BACKGROUND_COLOR)?t:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),h._updateImmediate=null,h._currentValues=null,h.currentHeight=p.default.getConstants().HEIGHT,h.defaultProps={animated:!1,showHideTransition:'fade'},h._updatePropsStack=function(){clearImmediate(h._updateImmediate),h._updateImmediate=setImmediate(function(){var t,n,u=h._currentValues,o=(t=h._propsStack,n=h._defaultProps,t.reduce(function(t,n){for(var u in n)null!=n[u]&&(t[u]=n[u]);return t},(0,f.default)({},n)));p.default.setStyle(o.barStyle.value);var l=S(o.backgroundColor.value);null==l?console.warn("`StatusBar._updatePropsStack`: Color "+o.backgroundColor.value+" parsed to null or undefined"):(v('number'==typeof l,'Unexpected color given in StatusBar._updatePropsStack'),p.default.setColor(l,o.backgroundColor.animated)),u&&u.hidden.value===o.hidden.value||p.default.setHidden(o.hidden.value),u&&u.translucent===o.translucent||p.default.setTranslucent(o.translucent),h._currentValues=o})},m.exports=h},310,[1,29,30,40,42,39,16,311,312,53,59,6,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('StatusBarManager');e.default=u},311,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('StatusBarManager');e.default=u},312,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),o=r(d[3]),f=r(d[4]),l=r(d[5]),s=r(d[6]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[7]),v=r(d[8]),y=r(d[9]),p=r(d[10]),R=(function(R){f(S,R);var _,w,P=(_=S,w=u(),function(){var t,n=s(_);if(w){var c=s(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return l(this,t)});function S(){var t;c(this,S);for(var n=arguments.length,o=new Array(n),f=0;f<n;f++)o[f]=arguments[f];return(t=P.call.apply(P,[this].concat(o)))._viewRef=null,t._captureRef=function(n){t._viewRef=n},t}return o(S,[{key:"setNativeProps",value:function(t){var n=this._viewRef;n&&n.setNativeProps(t)}},{key:"render",value:function(){var c=this.props,o=c.children,f=c.style,l=c.imageStyle,s=c.imageRef,u=n(c,["children","style","imageStyle","imageRef"]);return v.createElement(p,{accessibilityIgnoresInvertColors:!0,style:f,ref:this._captureRef},v.createElement(h,t({},u,{style:[y.absoluteFill,{width:f.width,height:f.height},l],ref:s})),o)}}]),S})(v.Component);m.exports=R},313,[16,57,29,30,40,42,39,291,59,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6]));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[7]);var p=r(d[8]),h=r(d[9]),y=(function(t){(0,c.default)(C,t);var h,y,R=(h=C,y=f(),function(){var t,n=(0,s.default)(h);if(y){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function C(){return(0,n.default)(this,C),R.apply(this,arguments)}return(0,o.default)(C,[{key:"render",value:function(){return console.warn('<InputAccessoryView> is only supported on iOS.'),0===p.Children.count(this.props.children)?null:p.createElement(l.default,{style:[this.props.style,v.container],nativeID:this.props.nativeID,backgroundColor:this.props.backgroundColor},this.props.children)}}]),C})(p.Component),v=h.create({container:{position:'absolute'}});m.exports=y},314,[1,29,30,40,42,39,315,53,59,62]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=(0,t(r(d[1])).default)('RCTInputAccessoryView');e.default=u},315,[1,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),s=r(d[3]),u=r(d[4]),c=r(d[5]),l=r(d[6]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=r(d[7]),y=r(d[8]),b=(r(d[9]),r(d[10])),p=r(d[11]),v=r(d[12]),_=(function(_){u(w,_);var k,L,R=(k=w,L=f(),function(){var t,n=l(k);if(L){var o=l(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function w(t){var n;return o(this,w),(n=R.call(this,t))._frame=null,n._subscriptions=[],n._initialFrameHeight=0,n._onKeyboardChange=function(t){if(null!=t){var o=t.duration,s=t.easing,u=t.endCoordinates,c=n._relativeKeyboardHeight(u);n.state.bottom!==c&&(o&&s&&y.configureNext({duration:o>10?o:10,update:{duration:o>10?o:10,type:y.Types[s]||'keyboard'}}),n.setState({bottom:c}))}else n.setState({bottom:0})},n._onLayout=function(t){n._frame=t.nativeEvent.layout,n._initialFrameHeight||(n._initialFrameHeight=n._frame.height)},n.state={bottom:0},n.viewRef=b.createRef(),n}return s(w,[{key:"_relativeKeyboardHeight",value:function(t){var n=this._frame;if(!n||!t)return 0;var o=t.screenY-this.props.keyboardVerticalOffset;return Math.max(n.y+n.height-o,0)}},{key:"componentDidMount",value:function(){this._subscriptions=[h.addListener('keyboardDidHide',this._onKeyboardChange),h.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(t){t.remove()})}},{key:"render",value:function(){var o=this.props,s=o.behavior,u=o.children,c=o.contentContainerStyle,l=o.enabled,f=(o.keyboardVerticalOffset,o.style),h=n(o,["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style"]),y=l?this.state.bottom:0;switch(s){case'height':var _;return null!=this._frame&&this.state.bottom>0&&(_={height:this._initialFrameHeight-y,flex:0}),b.createElement(v,t({ref:this.viewRef,style:p.compose(f,_),onLayout:this._onLayout},h),u);case'position':return b.createElement(v,t({ref:this.viewRef,style:f,onLayout:this._onLayout},h),b.createElement(v,{style:p.compose(c,{bottom:y})},u));case'padding':return b.createElement(v,t({ref:this.viewRef,style:p.compose(f,{paddingBottom:y}),onLayout:this._onLayout},h),u);default:return b.createElement(v,t({ref:this.viewRef,onLayout:this._onLayout,style:f},h),u)}}}]),w})(b.Component);_.defaultProps={enabled:!0,keyboardVerticalOffset:0},m.exports=_},316,[16,57,29,30,40,42,39,281,283,53,59,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},317,[318]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),c=r(d[2]),u=r(d[3]),o=r(d[4]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[5]),l=r(d[6]),p=(function(l){c(R,l);var p,y,v=(p=R,y=s(),function(){var t,n=o(p);if(y){var c=o(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return u(this,t)});function R(){return t(this,R),v.apply(this,arguments)}return n(R,[{key:"render",value:function(){var t=r(d[7]);return f.createElement(t,{style:[h.unimplementedView,this.props.style]},this.props.children)}}]),R})(f.Component),h=l.create({unimplementedView:{}});m.exports=p},318,[29,30,40,42,39,59,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n=r(d[0]),o=n(r(d[1])),s=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),p=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7]));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[8]);var v=r(d[9]),y=r(d[10]),S=r(d[11]),R=r(d[12]),C=r(d[13]),_=r(d[14]),w=0,T=(function(t){(0,u.default)(y,t);var n,o,v=(n=y,o=h(),function(){var t,s=(0,c.default)(n);if(o){var l=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,l)}else t=s.apply(this,arguments);return(0,p.default)(this,t)});function y(t){var n;return(0,s.default)(this,y),n=v.call(this,t),y._confirmProps(t),n._identifier=w++,n}return(0,l.default)(y,[{key:"getChildContext",value:function(){return{virtualizedList:null}}},{key:"componentWillUnmount",value:function(){null!=this.props.onDismiss&&this.props.onDismiss()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){y._confirmProps(t)}},{key:"render",value:function(){if(!0!==this.props.visible)return null;var t={backgroundColor:this.props.transparent?'transparent':'white'},n=this.props.animationType||'none',o=this.props.presentationStyle;o||(o='fullScreen',this.props.transparent&&(o='overFullScreen'));var s=this.props.children;return S.createElement(f.default,{animationType:n,presentationStyle:o,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,statusBarTranslucent:this.props.statusBarTranslucent,identifier:this._identifier,style:x.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange},S.createElement(R.Context.Provider,{value:null},S.createElement(_,{style:[x.container,t]},s)))}},{key:"_shouldSetResponder",value:function(){return!0}}],[{key:"_confirmProps",value:function(t){t.presentationStyle&&'overFullScreen'!==t.presentationStyle&&t.transparent&&console.warn("Modal with '"+t.presentationStyle+"' presentation style and 'transparent' value is not supported.")}}]),y})(S.Component);T.defaultProps={visible:!0,hardwareAccelerated:!1},T.contextTypes={rootTag:y.number},T.childContextTypes={virtualizedList:y.object};var k=v.getConstants().isRTL?'right':'left',x=C.create({modal:{position:'absolute'},container:(t={},(0,o.default)(t,k,0),(0,o.default)(t,"top",0),(0,o.default)(t,"flex",1),t)});m.exports=T},319,[1,51,29,30,40,42,39,320,321,323,72,59,271,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(0,t(r(d[1])).default)('ModalHostView',{interfaceOnly:!0,paperComponentName:'RCTModalHostView'});e.default=o},320,[1,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),s=r(d[4]);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r(d[5]);var l=r(d[6]),p=(r(d[7]),r(d[8])),f=r(d[9]),h=r(d[10]),v=r(d[11]),y=(function(l){o(C,l);var h,y,E=(h=C,y=u(),function(){var t,n=s(h);if(y){var o=s(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function C(){var n;t(this,C);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(n=E.call.apply(E,[this].concat(c))).state={inspector:null,mainKey:1,hasError:!1},n._subscription=null,n}return n(C,[{key:"getChildContext",value:function(){return{rootTag:this.props.rootTag}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){null!=this._subscription&&this._subscription.remove()}},{key:"render",value:function(){var t=this,n=p.createElement(v,{collapsable:!this.state.inspector,key:this.state.mainKey,pointerEvents:"box-none",style:b.appContainer,ref:function(n){t._mainRef=n}},this.props.children),o=this.props.WrapperComponent;return null!=o&&(n=p.createElement(o,{fabric:!0===this.props.fabric,showArchitectureIndicator:!0===this.props.showArchitectureIndicator},n)),p.createElement(f.Provider,{value:this.props.rootTag},p.createElement(v,{style:b.appContainer,pointerEvents:"box-none"},!this.state.hasError&&n,this.state.inspector,null))}}]),C})(p.Component);y.getDerivedStateFromError=void 0,y.childContextTypes={rootTag:l.number};var b=h.create({appContainer:{flex:1}});m.exports=y},321,[29,30,40,42,39,45,72,36,59,322,62,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t.createContext(0)},322,[59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=t.default?t.default.getConstants():{isRTL:!1,doLeftAndRightSwapInRTL:!0};m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},323,[1,324]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('I18nManager');e.default=u},324,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),u=r(d[3]),c=r(d[4]);function f(t){var n=s();return function(){var o,f=c(t);if(n){var s=c(this).constructor;o=Reflect.construct(f,arguments,s)}else o=f.apply(this,arguments);return u(this,o)}}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l=r(d[5]),p=(r(d[6]),r(d[7]),r(d[8])),h=(r(d[9]),(function(u){o(s,u);var c=f(s);function s(){return t(this,s),c.apply(this,arguments)}return n(s,[{key:"render",value:function(){throw null}}]),s})(p.Component)),y=(function(u){o(s,u);var c=f(s);function s(){return t(this,s),c.apply(this,arguments)}return n(s,[{key:"render",value:function(){return p.createElement(l,this.props,this.props.children)}}]),s})(p.Component);y.MODE_DIALOG="dialog",y.MODE_DROPDOWN='dropdown',y.Item=h,y.defaultProps={mode:"dialog"},m.exports=y},325,[29,30,40,42,39,326,329,53,59,318]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=r(d[0]),n=r(d[1]),t=n(r(d[2])),o=l(r(d[3])),u=l(r(d[4])),c=l(r(d[5])),s=n(r(d[6])),p=n(r(d[7])),f=n(r(d[8]));var v=s.default.create({pickerAndroid:{height:50}});m.exports=function(l){var n=c.useRef(null),b=c.useMemo(function(){var n=0;return[c.Children.map(l.children,function(t,o){if(null===t)return null;t.props.value===l.selectedValue&&(n=o);var u=t.props,c=u.color,s=u.label,v=(0,f.default)(c);return(0,p.default)(null==v||'number'==typeof v,'Unexpected color given for PickerAndroid color prop'),{color:null==c?null:v,label:s}}),n]},[l.children,l.selectedValue]),h=(0,t.default)(b,2),C=h[0],k=h[1],y=c.useCallback(function(t){var s=t.nativeEvent.position,p=l.onValueChange;if(null!=p)if(s>=0){var f=c.Children.toArray(l.children).filter(function(l){return null!=l})[s].props.value;l.selectedValue!==f&&p(f,s)}else p(null,s);var v=n.current;null!=v&&s!==k&&('dropdown'===l.mode?o.Commands:u.Commands).setNativeSelectedPosition(v,k)},[l.children,l.onValueChange,l.selectedValue,l.mode,k]),V={accessibilityLabel:l.accessibilityLabel,enabled:l.enabled,items:C,onSelect:y,prompt:l.prompt,ref:n,selected:k,style:s.default.compose(v.pickerAndroid,l.style),backgroundColor:l.backgroundColor,testID:l.testID};return'dropdown'===l.mode?c.createElement(o.default,V):c.createElement(u.default,V)}},326,[12,1,17,327,328,59,62,6,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;o(r(d[2]));var n=t(r(d[3])),s=t(r(d[4])),u=(0,n.default)({supportedCommands:['setNativeSelectedPosition']});e.Commands=u;var l=(0,s.default)('AndroidDropdownPicker');e.default=l},327,[1,12,59,88,180]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;o(r(d[2]));var s=t(r(d[3])),u=t(r(d[4])),l=(0,s.default)({supportedCommands:['setNativeSelectedPosition']});e.Commands=l;var n=(0,u.default)('AndroidDialogPicker');e.default=n},328,[1,12,59,88,180]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},329,[318]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),l=n(r(d[3])),t=n(r(d[4])),u=s(r(d[5])),f=n(r(d[6])),c=(r(d[7]),n(r(d[8]))),P=r(d[9]),p=n(r(d[10]));function v(s){var n=(0,u.useState)(!1),o=(0,l.default)(n,2),t=o[0],f=o[1];return[t||s,f]}var b=u.memo(u.forwardRef(function(s,n){var b=s.accessible,y=s.android_disableSound,_=s.android_ripple,O=s.children,S=s.delayLongPress,L=s.disabled,R=s.focusable,h=s.onLongPress,I=s.onPress,M=s.onPressIn,w=s.onPressOut,j=s.pressRetentionOffset,z=s.style,E=s.testOnly_pressed,H=(0,t.default)(s,["accessible","android_disableSound","android_ripple","children","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset","style","testOnly_pressed"]),N=(0,u.useRef)(null);(0,u.useImperativeHandle)(n,function(){return N.current});var k=(0,f.default)(_,N),q=v(!0===E),x=(0,l.default)(q,2),A=x[0],B=x[1],C=(0,P.normalizeRect)(s.hitSlop),D=(0,u.useMemo)(function(){return{disabled:L,hitSlop:C,pressRectOffset:j,android_disableSound:y,delayLongPress:S,onLongPress:h,onPress:I,onPressIn:function(s){null!=k&&k.onPressIn(s),B(!0),null!=M&&M(s)},onPressMove:null==k?void 0:k.onPressMove,onPressOut:function(s){null!=k&&k.onPressOut(s),B(!1),null!=w&&w(s)}}},[y,k,S,L,C,h,I,M,w,j,B]),F=(0,c.default)(D);return u.createElement(p.default,(0,o.default)({},H,F,null==k?void 0:k.viewProps,{accessible:!1!==b,focusable:!1!==R,hitSlop:C,ref:N,style:'function'==typeof z?z({pressed:A}):z}),'function'==typeof O?O({pressed:A}):O,null)}));b.displayName='Pressable';var y=b;e.default=y},330,[12,1,16,17,57,59,331,228,332,227,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,o){var c=null!=n?n:{},v=c.color,p=c.borderless,f=c.radius,P=!0===p;return(0,s.useMemo)(function(){if('android'===u.Platform.OS&&u.Platform.Version>=21&&(null!=v||P||null!=f)){var n=(0,u.processColor)(v);return(0,t.default)(null==n||'number'==typeof n,'Unexpected color given for Ripple color'),{viewProps:{nativeBackgroundAndroid:{type:'RippleAndroid',color:n,borderless:P,rippleRadius:f}},onPressIn:function(n){var t,u,s=o.current;null!=s&&(l.Commands.setPressed(s,!0),l.Commands.hotspotUpdate(s,null!=(t=n.nativeEvent.locationX)?t:0,null!=(u=n.nativeEvent.locationY)?u:0))},onPressMove:function(n){var t,u,s=o.current;null!=s&&l.Commands.hotspotUpdate(s,null!=(t=n.nativeEvent.locationX)?t:0,null!=(u=n.nativeEvent.locationY)?u:0)},onPressOut:function(n){var t=o.current;null!=t&&l.Commands.setPressed(t,!1)}}}return null},[v,P,f,o])};var t=o(r(d[2])),l=r(d[3]),u=r(d[4]),s=n(r(d[5]))},331,[12,1,6,87,5,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var f=(0,u.useRef)(null);null==f.current&&(f.current=new t.default(n));var c=f.current;return(0,u.useEffect)(function(){c.configure(n)},[n,c]),(0,u.useEffect)(function(){return function(){c.reset()}},[c]),c.getEventHandlers()};var t=n(r(d[1])),u=r(d[2])},332,[1,225,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),u=r(d[4]);function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var f=r(d[5]),l=r(d[6]),p=r(d[7]),y=r(d[8]),h=(function(l){o(x,l);var h,b,R=(h=x,b=s(),function(){var t,n=u(h);if(b){var o=u(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function x(){return t(this,x),R.apply(this,arguments)}return n(x,[{key:"render",value:function(){return f.createElement(y,{style:[v.dummy,this.props.style]},f.createElement(p,{style:v.text},"ProgressViewIOS is not supported on this platform!"))}}]),x})(f.Component),v=l.create({dummy:{width:120,height:20,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center'},text:{color:'#333333',margin:5,fontSize:10}});m.exports=h},333,[29,30,40,42,39,59,62,207,86]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),u=r(d[1]),o=(r(d[2]),r(d[3])),f=r(d[4]);t=o.forwardRef(function(t,l){t.emulateUnlessSupported;var p=u(t,["emulateUnlessSupported"]);return o.createElement(f,n({},p,{ref:l}))}),m.exports=t},334,[16,57,53,59,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=r(d[2]),c=r(d[3]),u=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=r(d[5]),l=r(d[6]),p=r(d[7]),y=r(d[8]),h=(function(l){o(R,l);var h,b,C=(h=R,b=f(),function(){var t,n=u(h);if(b){var o=u(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return c(this,t)});function R(){return t(this,R),C.apply(this,arguments)}return n(R,[{key:"render",value:function(){return s.createElement(y,{style:[v.dummy,this.props.style]},s.createElement(p,{style:v.text},"SegmentedControlIOS is not supported on this platform!"))}}]),R})(s.Component),v=l.create({dummy:{width:120,height:50,backgroundColor:'#ffbcbc',borderWidth:1,borderColor:'red',alignItems:'center',justifyContent:'center'},text:{color:'#333333',margin:5,fontSize:10}});m.exports=h},335,[29,30,40,42,39,59,62,207,86]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,l=r(d[0]),t=l(r(d[1])),u=l(r(d[2])),o=l(r(d[3])),v=(r(d[4]),r(d[5])),s=r(d[6]),f=v.forwardRef(function(l,f){var c=s.compose(n.slider,l.style),p=l.disabled,V=void 0!==p&&p,C=l.value,S=void 0===C?.5:C,h=l.minimumValue,E=void 0===h?0:h,b=l.maximumValue,x=void 0===b?1:b,R=l.step,y=void 0===R?0:R,U=l.onValueChange,_=l.onSlidingComplete,q=(0,u.default)(l,["disabled","value","minimumValue","maximumValue","step","onValueChange","onSlidingComplete"]),w=U?function(n){null!=n.nativeEvent.fromUser&&n.nativeEvent.fromUser&&U(n.nativeEvent.value)}:null,T=w,j=_?function(n){_(n.nativeEvent.value)}:null;return v.createElement(o.default,(0,t.default)({},q,{enabled:!V,disabled:V,maximumValue:x,minimumValue:E,onChange:T,onResponderTerminationRequest:function(){return!1},onSlidingComplete:j,onStartShouldSetResponder:function(){return!0},onValueChange:w,ref:f,step:y,style:c,value:S}))});n=s.create({slider:{}}),m.exports=f},336,[1,16,57,337,53,59,62]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=(0,t(r(d[1])).default)('Slider',{interfaceOnly:!0,paperComponentName:'RCTSlider'});e.default=l},337,[1,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(r(d[2])),l=n(r(d[3])),u=n(r(d[4])),s=n(r(d[5])),c=n(r(d[6])),h=n(r(d[7])),f=n(r(d[8])),v=n(r(d[9])),p=t(r(d[10])),C=n(r(d[11])),R=t(r(d[12])),y=t(r(d[13]));function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var S=(function(t){(0,c.default)(V,t);var n,S,k=(n=V,S=b(),function(){var t,o=(0,f.default)(n);if(S){var l=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,l)}else t=o.apply(this,arguments);return(0,h.default)(this,t)});function V(){var t;(0,u.default)(this,V);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=k.call.apply(k,[this].concat(o)))._handleChange=function(n){null!=t.props.onChange&&t.props.onChange(n),null!=t.props.onValueChange&&t.props.onValueChange(n.nativeEvent.value),t._lastNativeValue=n.nativeEvent.value,t.forceUpdate()},t._handleSwitchNativeComponentRef=function(n){t._nativeSwitchRef=n},t}return(0,s.default)(V,[{key:"render",value:function(){var t,n=this.props,u=n.disabled,s=n.ios_backgroundColor,c=(n.onChange,n.onValueChange,n.style),h=n.thumbColor,f=n.trackColor,b=n.value,S=(0,l.default)(n,["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"]),k=null==f?void 0:f.false,V=null==f?void 0:f.true;if('android'===v.default.OS){var N,T={enabled:!0!==u,on:!0===b,style:c,thumbTintColor:h,trackColorForFalse:k,trackColorForTrue:V,trackTintColor:!0===b?V:k};return p.createElement(R.default,(0,o.default)({},S,T,{accessibilityRole:null!=(N=S.accessibilityRole)?N:'switch',onChange:this._handleChange,onResponderTerminationRequest:_,onStartShouldSetResponder:w,ref:this._handleSwitchNativeComponentRef}))}var E={disabled:u,onTintColor:V,style:C.default.compose({height:31,width:51},C.default.compose(c,null==s?null:{backgroundColor:s,borderRadius:16})),thumbTintColor:h,tintColor:k,value:!0===b};return p.createElement(y.default,(0,o.default)({},S,E,{accessibilityRole:null!=(t=S.accessibilityRole)?t:'switch',onChange:this._handleChange,onResponderTerminationRequest:_,onStartShouldSetResponder:w,ref:this._handleSwitchNativeComponentRef}))}},{key:"componentDidUpdate",value:function(){var t={},n=!0===this.props.value;this._lastNativeValue!==n&&(t.value=n),Object.keys(t).length>0&&this._nativeSwitchRef&&this._nativeSwitchRef.setNativeProps&&('android'===v.default.OS?R.Commands.setNativeValue(this._nativeSwitchRef,t.value):y.Commands.setValue(this._nativeSwitchRef,t.value))}}]),V})(p.Component),_=function(){return!1},w=function(){return!0};m.exports=S},338,[12,1,16,57,29,30,40,42,39,53,59,62,339,340]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),u=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;u(r(d[2]));var n=t(r(d[3])),o=t(r(d[4])),l=(0,n.default)({supportedCommands:['setNativeValue']});e.Commands=l;var s=(0,o.default)('AndroidSwitch',{interfaceOnly:!0});e.default=s},339,[1,12,59,88,205]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Commands=void 0;o(r(d[2]));var u=t(r(d[3])),l=(0,t(r(d[4])).default)({supportedCommands:['setValue']});e.Commands=l;var n=(0,u.default)('Switch',{paperComponentName:'RCTSwitch',excludedPlatform:'android'});e.default=n},340,[1,12,59,205,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]);function l(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,l)}return u}function o(t){for(var u=1;u<arguments.length;u++){var o=null!=arguments[u]?arguments[u]:{};u%2?l(Object(o),!0).forEach(function(u){n(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var c,s,f,v,p=r(d[3]),b=(r(d[4]),r(d[5])),y=(r(d[6]),r(d[7])),C=r(d[8]),h=r(d[9]),I=r(d[10]),O=r(d[11]),E=r(d[12]),S=r(d[13]),F=r(d[14]),R=b.useEffect,x=b.useRef,j=b.useState;function w(n){var l,p,y=x(null),w=null==n.selection?null:{start:n.selection.start,end:null!=(l=n.selection.end)?l:n.selection.start},P=j(0),T=u(P,2),D=T[0],B=T[1],L=j(n.value),k=u(L,2),A=k[0],V=k[1],z=j({selection:w,mostRecentEventCount:D}),U=u(z,2),_=U[0],N=U[1],q=_.selection;_.mostRecentEventCount<D&&(w=null),p=s||(n.multiline?v:f);var G='string'==typeof n.value?n.value:'string'==typeof n.defaultValue?n.defaultValue:'';function H(){null!=y.current&&p.setTextAndSelection(y.current,D,'',0,0)}function J(){return I.currentlyFocusedInput()===y.current}function K(){return y.current}R(function(){var t,u,l,o,c={};(A!==n.value&&'string'==typeof n.value&&(c.text=n.value,V(n.value)),w&&q&&(q.start!==w.start||q.end!==w.end)&&(c.selection=w,N({selection:w,mostRecentEventCount:D})),0!==Object.keys(c).length)&&(null!=y.current&&p.setTextAndSelection(y.current,D,G,null!=(t=null==(u=w)?void 0:u.start)?t:-1,null!=(l=null==(o=w)?void 0:o.end)?l:-1))},[D,y,n.value,n.defaultValue,A,w,q,G,p]),R(function(){var t=y.current;if(null!=t)return I.registerInput(t),function(){I.unregisterInput(t)}},[y]),R(function(){return function(){J()&&S(y.current).blur()}},[y]);var M,Q=F({getForwardedRef:function(){return n.forwardedRef},setLocalRef:function(t){y.current=t,t&&(t.clear=H,t.isFocused=J,t.getNativeRef=K)}}),W=o({},null),X=[n.style],Y=n.autoCapitalize||'sentences',Z=n.children,$=0;return b.Children.forEach(Z,function(){return++$}),E(!(n.value&&$),'Cannot specify both value and children.'),$>1&&(Z=b.createElement(C,null,Z)),M=b.createElement(c,t({ref:Q},n,{autoCapitalize:Y,children:Z,disableFullscreenUI:n.disableFullscreenUI,mostRecentEventCount:D,onBlur:function(t){I.blurInput(y.current),n.onBlur&&n.onBlur(t)},onChange:function(t){var u=t.nativeEvent.text;n.onChange&&n.onChange(t),n.onChangeText&&n.onChangeText(u),null!=y.current&&(V(u),B(t.nativeEvent.eventCount))},onFocus:function(t){I.focusInput(y.current),n.onFocus&&n.onFocus(t)},onScroll:function(t){n.onScroll&&n.onScroll(t)},onSelectionChange:function(t){n.onSelectionChange&&n.onSelectionChange(t),null!=y.current&&N({selection:t.nativeEvent.selection,mostRecentEventCount:D})},selection:w,style:X,text:G,textBreakStrategy:n.textBreakStrategy})),b.createElement(h.Provider,{value:!0},b.createElement(O,t({onLayout:n.onLayout,onPress:function(t){(n.editable||void 0===n.editable)&&S(y.current).focus()},accessible:n.accessible,accessibilityLabel:n.accessibilityLabel,accessibilityRole:n.accessibilityRole,accessibilityState:n.accessibilityState,nativeID:n.nativeID,testID:n.testID},W),M))}c=r(d[15]).default,s=r(d[15]).Commands;var P=b.forwardRef(function(n,u){return b.createElement(w,t({},n,{forwardedRef:u}))});P.defaultProps={allowFontScaling:!0,rejectResponderTermination:!0,underlineColorAndroid:'transparent'},P.propTypes=p,P.State={currentlyFocusedInput:I.currentlyFocusedInput,currentlyFocusedField:I.currentlyFocusedField,focusTextInput:I.focusTextInput,blurTextInput:I.blurTextInput};y.create({multilineInput:{paddingTop:5}});m.exports=P},341,[16,51,17,342,53,59,89,62,207,202,178,343,6,223,262,179]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function o(n,o){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);o&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,l)}return t}function t(t){for(var l=1;l<arguments.length;l++){var s=null!=arguments[l]?arguments[l]:{};l%2?o(Object(s),!0).forEach(function(o){n(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var l=r(d[1]),s=r(d[2]),c=r(d[3]),u=r(d[4]),b=['phoneNumber','link','address','calendarEvent','none','all'];m.exports=t(t({},s),{},{autoCapitalize:c.oneOf(['none','sentences','words','characters']),autoCompleteType:c.oneOf(['cc-csc','cc-exp','cc-exp-month','cc-exp-year','cc-number','email','name','password','postal-code','street-address','tel','username','off']),autoCorrect:c.bool,spellCheck:c.bool,autoFocus:c.bool,allowFontScaling:c.bool,maxFontSizeMultiplier:c.number,editable:c.bool,keyboardType:c.oneOf(['default','email-address','numeric','phone-pad','number-pad','ascii-capable','numbers-and-punctuation','url','name-phone-pad','decimal-pad','twitter','web-search','ascii-capable-number-pad','visible-password']),keyboardAppearance:c.oneOf(['default','light','dark']),returnKeyType:c.oneOf(['done','go','next','search','send','none','previous','default','emergency-call','google','join','route','yahoo']),returnKeyLabel:c.string,maxLength:c.number,numberOfLines:c.number,disableFullscreenUI:c.bool,enablesReturnKeyAutomatically:c.bool,multiline:c.bool,textBreakStrategy:c.oneOf(['simple','highQuality','balanced']),onBlur:c.func,onFocus:c.func,onChange:c.func,onChangeText:c.func,onContentSizeChange:c.func,onTextInput:c.func,onEndEditing:c.func,onSelectionChange:c.func,onSubmitEditing:c.func,onKeyPress:c.func,onLayout:c.func,onScroll:c.func,placeholder:c.string,placeholderTextColor:l,scrollEnabled:c.bool,secureTextEntry:c.bool,selectionColor:l,selection:c.shape({start:c.number.isRequired,end:c.number}),value:c.string,defaultValue:c.string,clearButtonMode:c.oneOf(['never','while-editing','unless-editing','always']),clearTextOnFocus:c.bool,selectTextOnFocus:c.bool,blurOnSubmit:c.bool,style:u.propTypes.style,underlineColorAndroid:l,inlineImageLeft:c.string,inlineImagePadding:c.number,rejectResponderTermination:c.bool,dataDetectorTypes:c.oneOfType([c.oneOf(b),c.arrayOf(c.oneOf(b))]),caretHidden:c.bool,contextMenuHidden:c.bool,inputAccessoryViewID:c.string,textContentType:c.oneOf(['none','URL','addressCity','addressCityAndState','addressState','countryName','creditCardNumber','emailAddress','familyName','fullStreetAddress','givenName','jobTitle','location','middleName','name','namePrefix','nameSuffix','nickname','organizationName','postalCode','streetAddressLine1','streetAddressLine2','sublocality','telephoneNumber','username','password','newPassword','oneTimeCode']),showSoftInputOnFocus:c.bool})},342,[51,68,295,72,207]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o=n(r(d[2])),s=n(r(d[3])),c=n(r(d[4])),l=n(r(d[5])),u=n(r(d[6])),p=n(r(d[7])),f=n(r(d[8])),y=n(r(d[9])),b=(r(d[10]),n(r(d[11]))),h=n(r(d[12])),v=(n(r(d[13])),t(r(d[14])));function P(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=O(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function O(t,n){if(t){if("string"==typeof t)return j(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?j(t,n):void 0}}function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function S(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function w(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?S(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var I=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityState','accessibilityValue','accessibilityViewIsModal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID'],A=(function(t){(0,u.default)(j,t);var n,o,O=(n=j,o=D(),function(){var t,s=(0,f.default)(n);if(o){var c=(0,f.default)(this).constructor;t=Reflect.construct(s,arguments,c)}else t=s.apply(this,arguments);return(0,p.default)(this,t)});function j(){var t;(0,c.default)(this,j);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=O.call.apply(O,[this].concat(o))).state={pressability:new y.default(R(t.props))},t}return(0,l.default)(j,[{key:"render",value:function(){for(var t,n=v.Children.only(this.props.children),o=[n.props.children],c=this.state.pressability.getEventHandlers(),l=(c.onBlur,c.onFocus,w(w({},(0,s.default)(c,["onBlur","onFocus"])),{},{accessible:!1!==this.props.accessible,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress})),u=P(I);!(t=u()).done;){var p=t.value;void 0!==this.props[p]&&(l[p]=this.props[p])}return v.cloneElement.apply(v,[n,l].concat(o))}},{key:"componentDidMount",value:function(){var t=this;h.default.isTV&&(this._tvTouchable=new b.default(this,{getDisabled:function(){return!0===t.props.disabled},onBlur:function(n){null!=t.props.onBlur&&t.props.onBlur(n)},onFocus:function(n){null!=t.props.onFocus&&t.props.onFocus(n)},onPress:function(n){null!=t.props.onPress&&t.props.onPress(n)}}))}},{key:"componentDidUpdate",value:function(){this.state.pressability.configure(R(this.props))}},{key:"componentWillUnmount",value:function(){h.default.isTV&&null!=this._tvTouchable&&this._tvTouchable.destroy(),this.state.pressability.reset()}}]),j})(v.Component);function R(t){return{cancelable:!t.rejectResponderTermination,disabled:t.disabled,hitSlop:t.hitSlop,delayLongPress:t.delayLongPress,delayPressIn:t.delayPressIn,delayPressOut:t.delayPressOut,minPressDuration:0,pressRectOffset:t.pressRetentionOffset,android_disableSound:t.touchSoundDisabled,onBlur:t.onBlur,onFocus:t.onFocus,onLongPress:t.onLongPress,onPress:t.onPress,onPressIn:t.onPressIn,onPressOut:t.onPressOut}}m.exports=A},343,[12,1,51,57,29,30,40,42,39,225,228,229,53,86,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]),o=t(r(d[2])),n=t(r(d[3])),l=t(r(d[4])),u=t(r(d[5])),p=t(r(d[6])),c=t(r(d[7])),h=t(r(d[8])),y=t(r(d[9])),f=(r(d[10]),t(r(d[11]))),b=t(r(d[12])),_=t(r(d[13])),P=t(r(d[14])),v=s(r(d[15]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(s){return!1}}var F=(function(s){(0,p.default)(x,s);var t,F,S=(t=x,F=T(),function(){var s,o=(0,h.default)(t);if(F){var n=(0,h.default)(this).constructor;s=Reflect.construct(o,arguments,n)}else s=o.apply(this,arguments);return(0,c.default)(this,s)});function x(){var s;(0,l.default)(this,x);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(s=S.call.apply(S,[this].concat(o)))._isMounted=!1,s.state={pressability:new y.default(s._createPressabilityConfig()),extraStyles:!0===s.props.testOnly_pressed?s._createExtraStyles():null},s}return(0,u.default)(x,[{key:"_createPressabilityConfig",value:function(){var s=this;return{cancelable:!this.props.rejectResponderTermination,disabled:this.props.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(t){_.default.isTV&&s._hideUnderlay(),null!=s.props.onBlur&&s.props.onBlur(t)},onFocus:function(t){_.default.isTV&&s._showUnderlay(),null!=s.props.onFocus&&s.props.onFocus(t)},onLongPress:function(t){null!=s.props.onLongPress&&s.props.onLongPress(t)},onPress:function(t){var o;(null!=s._hideTimeout&&clearTimeout(s._hideTimeout),_.default.isTV)||(s._showUnderlay(),s._hideTimeout=setTimeout(function(){s._hideUnderlay()},null!=(o=s.props.delayPressOut)?o:0));null!=s.props.onPress&&s.props.onPress(t)},onPressIn:function(t){null!=s._hideTimeout&&(clearTimeout(s._hideTimeout),s._hideTimeout=null),s._showUnderlay(),null!=s.props.onPressIn&&s.props.onPressIn(t)},onPressOut:function(t){null==s._hideTimeout&&s._hideUnderlay(),null!=s.props.onPressOut&&s.props.onPressOut(t)}}}},{key:"_createExtraStyles",value:function(){var s;return{child:{opacity:null!=(s=this.props.activeOpacity)?s:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var s,t,l=v.Children.only(this.props.children),u=this.state.pressability.getEventHandlers(),p=(u.onBlur,u.onFocus,(0,n.default)(u,["onBlur","onFocus"]));return v.createElement(P.default,(0,o.default)({accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityValue:this.props.accessibilityValue,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLiveRegion:this.props.accessibilityLiveRegion,accessibilityViewIsModal:this.props.accessibilityViewIsModal,accessibilityElementsHidden:this.props.accessibilityElementsHidden,style:f.default.compose(this.props.style,null==(s=this.state.extraStyles)?void 0:s.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress,nativeID:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},p),v.cloneElement(l,{style:f.default.compose(l.props.style,null==(t=this.state.extraStyles)?void 0:t.child)}),null)}},{key:"componentDidMount",value:function(){var s=this;this._isMounted=!0,_.default.isTV&&(this._tvTouchable=new b.default(this,{getDisabled:function(){return!0===s.props.disabled},onBlur:function(t){null!=s.props.onBlur&&s.props.onBlur(t)},onFocus:function(t){null!=s.props.onFocus&&s.props.onFocus(t)},onPress:function(t){null!=s.props.onPress&&s.props.onPress(t)}}))}},{key:"componentDidUpdate",value:function(s,t){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),_.default.isTV&&null!=this._tvTouchable&&this._tvTouchable.destroy(),this.state.pressability.reset()}}]),x})(v.Component);m.exports=v.forwardRef(function(s,t){return v.createElement(F,(0,o.default)({},s,{hostRef:t}))})},344,[12,1,16,57,29,30,40,42,39,225,228,62,229,53,86,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3]));function s(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);o&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,c)}return n}function u(t){for(var n=1;n<arguments.length;n++){var c=null!=arguments[n]?arguments[n]:{};n%2?s(Object(c),!0).forEach(function(n){(0,o.default)(t,n,c[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(c,o))})}return t}var l=r(d[4]),p=r(d[5]),f={showActionSheetWithOptions:function(t,o){l('object'==typeof t&&null!==t,'Options must be a valid object'),l('function'==typeof o,'Must provide a valid callback'),l(c.default,"ActionSheetManager does't exist");var s=t.tintColor,f=t.destructiveButtonIndex,b=(0,n.default)(t,["tintColor","destructiveButtonIndex"]),O=null;Array.isArray(f)?O=f:'number'==typeof f&&(O=[f]);var h=p(s);l(null==h||'number'==typeof h,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),c.default.showActionSheetWithOptions(u(u({},b),{},{tintColor:h,destructiveButtonIndices:O}),o)},showShareActionSheetWithOptions:function(t,o,n){l('object'==typeof t&&null!==t,'Options must be a valid object'),l('function'==typeof o,'Must provide a valid failureCallback'),l('function'==typeof n,'Must provide a valid successCallback'),l(c.default,"ActionSheetManager does't exist"),c.default.showShareActionSheetWithOptions(u(u({},t),{},{tintColor:p(t.tintColor)}),o,n)}};m.exports=f},345,[1,51,57,346,6,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ActionSheetManager');e.default=u},346,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),l=n(r(d[2])),o=n(r(d[3])),c=n(r(d[4])),u=(r(d[5]),new t.default);o.default&&new l.default(o.default).addListener('appearanceChanged',function(n){var t=n.colorScheme;(0,c.default)('dark'===t||'light'===t||null==t,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),u.emit('change',{colorScheme:t})});m.exports={getColorScheme:function(){var n=null==o.default?null:o.default.getColorScheme()||null;return(0,c.default)('dark'===n||'light'===n||null==n,"Unrecognized color scheme. Did you mean 'dark' or 'light'?"),n},addChangeListener:function(n){u.addListener('change',n)},removeChangeListener:function(n){u.removeListener('change',n)}}},347,[1,44,145,348,6,349]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('Appearance');e.default=u},348,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncDebugging=void 0;e.isAsyncDebugging=!1},349,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3]));function c(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),o.push.apply(o,s)}return o}function u(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?c(Object(s),!0).forEach(function(o){(0,t.default)(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}var f,l=r(d[4]),p=r(d[5]),y=r(d[6]),b=r(d[7]),h=r(d[8]),k=r(d[9]),O=r(d[10]),v=r(d[11]),C={},w=1,j={},A=new Map,T=new Map,P=function(n){return n()},R=!1,S={setWrapperComponentProvider:function(n){f=n},enableArchitectureIndicator:function(n){R=n},registerConfig:function(n){n.forEach(function(n){n.run?S.registerRunnable(n.appKey,n.run):(k(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),S.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(n,t,o){var s=v();return C[n]={componentProvider:t,run:function(o){O(P(t,s),o.initialProps,o.rootTag,f&&f(o),o.fabric,R,s,'LogBox'===n)}},o&&(j[n]=C[n]),n},registerRunnable:function(n,t){return C[n]={run:t},n},registerSection:function(n,t){S.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(C)},getSectionKeys:function(){return Object.keys(j)},getSections:function(){return u({},j)},getRunnable:function(n){return C[n]},getRegistry:function(){return{sections:S.getSectionKeys(),runnables:u({},C)}},setComponentProviderInstrumentationHook:function(n){P=n},runApplication:function(n,t){if('LogBox'!==n){var o='Running "'+n+'" with '+JSON.stringify(t);h(o),p.addSource('AppRegistry.runApplication'+w++,function(){return o})}k(C[n]&&C[n].run,"\""+n+"\" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called."),b.setActiveScene({name:n}),C[n].run(t)},unmountApplicationComponentAtRootTag:function(n){y.unmountComponentAtNodeAndRemoveContainer(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){A.has(n)&&console.warn("registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '"+n+"'"),A.set(n,t),T.set(n,o)},startHeadlessTask:function(n,t,c){var u=A.get(t);if(!u)return console.warn("No task registered for key "+t),void(o.default&&o.default.notifyTaskFinished(n));u()(c).then(function(){o.default&&o.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),o.default&&t instanceof s.default&&o.default.notifyTaskRetry(n).then(function(t){t||o.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=T.get(t);if(!o)throw new Error("No task canceller registered for key '"+t+"'");o()()}};l.registerCallableModule('AppRegistry',S),S.registerComponent('LogBox',function(){return function(){return null}}),m.exports=S},350,[1,51,351,352,23,353,89,357,142,6,358,141]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])).get('HeadlessJsTaskSupport');e.default=s},351,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4]));function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l=(function(t){(0,n.default)(v,t);var l,s,p=(l=v,s=o(),function(){var t,u=(0,c.default)(l);if(s){var n=(0,c.default)(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return(0,f.default)(this,t)});function v(){return(0,u.default)(this,v),p.apply(this,arguments)}return v})((0,t(r(d[5])).default)(Error));e.default=l},352,[1,29,40,42,39,98]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5]));function s(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=f(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function f(t,n){if(t){if("string"==typeof t)return y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var b=r(d[6]);function v(){p.addFileSource('react_hierarchy.txt',function(){return r(d[7])()})}var p=(function(){function t(){(0,o.default)(this,t)}return(0,u.default)(t,null,[{key:"_maybeInit",value:function(){t._subscription||(t._subscription=b.addListener('collectBugExtraData',t.collectExtraData,null),v()),t._redboxSubscription||(t._redboxSubscription=b.addListener('collectRedBoxExtraData',t.collectExtraData,null))}},{key:"addSource",value:function(n,o){return this._addSource(n,o,t._extraSources)}},{key:"addFileSource",value:function(n,o){return this._addSource(n,o,t._fileSources)}},{key:"_addSource",value:function(n,o,u){return t._maybeInit(),u.has(n)&&console.warn("BugReporting.add* called multiple times for same key '"+n+"'"),u.set(n,o),{remove:function(){u.delete(n)}}}},{key:"collectExtraData",value:function(){for(var o,u={},f=s(t._extraSources);!(o=f()).done;){var y=o.value,b=(0,n.default)(y,2),v=b[0],p=b[1];u[v]=p()}for(var S,x={},_=s(t._fileSources);!(S=_()).done;){var h=S.value,E=(0,n.default)(h,2),D=E[0],k=E[1];x[D]=k()}return null!=l.default&&null!=l.default.setExtraData&&l.default.setExtraData(u,x),null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(u,'From BugReporting.js'),{extras:u,files:x}}}]),t})();p._extraSources=new Map,p._fileSources=new Map,p._subscription=null,p._redboxSubscription=null,m.exports=p},353,[1,17,29,30,354,355,36,356]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('BugReporting');e.default=u},354,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('RedBox');e.default=u},355,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(t){return'Failed to dump react tree: '+t}}},356,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},357,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),l=r(d[4]),p=r(d[5]),u=r(d[6]);r(d[7]),m.exports=function(t,s,f,_,v,T,x,E){u(f,'Expect to have a valid rootTag, instead got ',f);var h=p.createElement(c.default.Provider,{value:null!=x?x:o.default},p.createElement(l,{rootTag:f,fabric:v,showArchitectureIndicator:T,WrapperComponent:_,internal_excludeLogBox:E},p.createElement(t,(0,n.default)({},s,{rootTag:f}))));o.default.startTimespan('renderApplication_React_render'),v?r(d[8]).render(h,f):r(d[9]).render(h,f),o.default.stopTimespan('renderApplication_React_render')}},358,[1,16,140,359,321,59,6,360,362,89]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),c=r(d[1])(r(d[2])),n=t(r(d[3])),o=c.createContext(n.default);m.exports=o},359,[1,12,59,140]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),f=[];n(r(d[2])).default.addListener('hardwareBackPress',function(){for(var n=f.length-1;n>=0;n--)if(f[n]())return;u.exitApp()});var u={exitApp:function(){t.default&&t.default.invokeDefaultBackPressHandler()},addEventListener:function(n,t){return-1===f.indexOf(t)&&f.push(t),{remove:function(){return u.removeEventListener(n,t)}}},removeEventListener:function(n,t){-1!==f.indexOf(t)&&f.splice(f.indexOf(t),1)}};m.exports=u},360,[1,361,36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('DeviceEventManager');e.default=u},361,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,s=r(d[0]);t=r(d[1]),g.RN$Bridgeless?g.RN$stopSurface=t.stopSurface:s.BatchedBridge.registerCallableModule('ReactFabric',t),m.exports=t},362,[175,363]);
__d(function(e,n,t,r,i,l,a){"use strict";var o=n(a[0]);n(a[1]);var u=n(a[2]),s=n(a[3]),c=n(a[4]);function f(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function d(e,n,t){for(var r=[];e;)r.push(e),e=f(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function p(e,n,t,r,i,l,a,o,u){var s=Array.prototype.slice.call(arguments,3);try{n.apply(t,s)}catch(e){this.onError(e)}}var h=!1,m=null,g=!1,v=null,y={onError:function(e){h=!0,m=e}};function b(e,n,t,r,i,l,a,o,u){h=!1,m=null,p.apply(y,arguments)}function T(e,n,t,r,i,l,a,o,u){if(b.apply(this,arguments),h){if(!h)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var s=m;h=!1,m=null,g||(g=!0,v=s)}}var x=null,S=null,E=null;function k(e,n,t){var r=e.type||"unknown-event";e.currentTarget=E(t),T(r,n,void 0,e),e.currentTarget=null}function w(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))throw Error("executeDirectDispatch(...): Invalid `event`.");return e.currentTarget=n?E(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function P(e,n){var t=e.stateNode;if(!t)return null;var r=x(t);if(!r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof t+"` type.");return t}function R(e,n){if(null==n)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function C(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}function _(e,n,t){(n=P(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=R(t._dispatchListeners,n),t._dispatchInstances=R(t._dispatchInstances,e))}function N(e){e&&e.dispatchConfig.phasedRegistrationNames&&d(e._targetInst,_,e)}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;d(n=n?f(n):null,_,e)}}function I(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=P(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=R(e._dispatchListeners,t),e._dispatchInstances=R(e._dispatchInstances,n))}}}function A(){return!0}function M(){return!1}function D(e,n,t,r){for(var i in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,e=this.constructor.Interface)e.hasOwnProperty(i)&&((n=e[i])?this[i]=n(t):"target"===i?this.target=r:this[i]=t[i]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?A:M,this.isPropagationStopped=M,this}function U(e,n,t,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,n,t,r),i}return new this(e,n,t,r)}function F(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Q(e){e.eventPool=[],e.getPooled=U,e.release=F}o(D.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=A)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=A)},persist:function(){this.isPersistent=A},isPersistent:M,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=M,this._dispatchInstances=this._dispatchListeners=null}}),D.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},D.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var i=new n;return o(i,t.prototype),t.prototype=i,t.prototype.constructor=t,t.Interface=o({},r.Interface,e),t.extend=r.extend,Q(t),t},Q(D);var H=D.extend({touchHistory:function(){return null}});function j(e){return"topTouchStart"===e}function W(e){return"topTouchMove"===e}var O=["topTouchStart"],B=["topTouchMove"],L=["topTouchCancel","topTouchEnd"],V=[],Y={touchBank:V,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function q(e){return e.timeStamp||e.timestamp}function X(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function $(e){var n=X(e),t=V[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=q(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=q(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=q(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:q(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:q(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:q(e)},V[n]=t),Y.mostRecentTimeStamp=q(e)}function K(e){var n=V[X(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=q(e),Y.mostRecentTimeStamp=q(e))}function G(e){var n=V[X(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=q(e),Y.mostRecentTimeStamp=q(e))}var J={recordTouchTrack:function(e,n){if(W(e))n.changedTouches.forEach(K);else if(j(e))n.changedTouches.forEach($),Y.numberActiveTouches=n.touches.length,1===Y.numberActiveTouches&&(Y.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(G),Y.numberActiveTouches=n.touches.length,1===Y.numberActiveTouches))for(e=0;e<V.length;e++)if(null!=(n=V[e])&&n.touchActive){Y.indexOfSingleActiveTouch=e;break}},touchHistory:Y};function Z(e,n){if(null==n)throw Error("accumulate(...): Accumulated items must not be null or undefined.");return null==e?n:Array.isArray(e)?e.concat(n):Array.isArray(n)?[e].concat(n):[e,n]}var ee=null,ne=0;function te(e,n){var t=ee;ee=e,null!==ie.GlobalResponderHandler&&ie.GlobalResponderHandler.onChange(t,e,n)}var re={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:O},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:B},responderStart:{registrationName:"onResponderStart",dependencies:O},responderMove:{registrationName:"onResponderMove",dependencies:B},responderEnd:{registrationName:"onResponderEnd",dependencies:L},responderRelease:{registrationName:"onResponderRelease",dependencies:L},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},ie={_getResponder:function(){return ee},eventTypes:re,extractEvents:function(e,n,t,r){if(j(e))ne+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=ne))return null;--ne}if(J.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<ne&&"topSelectionChange"===e||j(e)||W(e))){var i=j(e)?re.startShouldSetResponder:W(e)?re.moveShouldSetResponder:"topSelectionChange"===e?re.selectionChangeShouldSetResponder:re.scrollShouldSetResponder;if(ee)e:{for(var l=ee,a=0,o=l;o;o=f(o))a++;o=0;for(var u=n;u;u=f(u))o++;for(;0<a-o;)l=f(l),a--;for(;0<o-a;)n=f(n),o--;for(;a--;){if(l===n||l===n.alternate)break e;l=f(l),n=f(n)}l=null}else l=n;n=l===ee,(l=H.getPooled(i,l,t,r)).touchHistory=J.touchHistory,C(l,n?z:N);e:{if(i=l._dispatchListeners,n=l._dispatchInstances,Array.isArray(i)){for(a=0;a<i.length&&!l.isPropagationStopped();a++)if(i[a](l,n[a])){i=n[a];break e}}else if(i&&i(l,n)){i=n;break e}i=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),i&&i!==ee)if((l=H.getPooled(re.responderGrant,i,t,r)).touchHistory=J.touchHistory,C(l,I),n=!0===w(l),ee)if((a=H.getPooled(re.responderTerminationRequest,ee,t,r)).touchHistory=J.touchHistory,C(a,I),o=!a._dispatchListeners||w(a),a.isPersistent()||a.constructor.release(a),o){(a=H.getPooled(re.responderTerminate,ee,t,r)).touchHistory=J.touchHistory,C(a,I);var s=Z(s,[l,a]);te(i,n)}else(i=H.getPooled(re.responderReject,i,t,r)).touchHistory=J.touchHistory,C(i,I),s=Z(s,i);else s=Z(s,l),te(i,n);else s=null}else s=null;if(i=ee&&j(e),l=ee&&W(e),n=ee&&("topTouchEnd"===e||"topTouchCancel"===e),(i=i?re.responderStart:l?re.responderMove:n?re.responderEnd:null)&&((i=H.getPooled(i,ee,t,r)).touchHistory=J.touchHistory,C(i,I),s=Z(s,i)),i=ee&&"topTouchCancel"===e,e=ee&&!i&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(l=0;l<e.length;l++)if(null!==(n=e[l].target)&&void 0!==n&&0!==n){a=S(n);n:{for(n=ee;a;){if(n===a||n===a.alternate){n=!0;break n}a=f(a)}n=!1}if(n){e=!1;break e}}e=!0}return(e=i?re.responderTerminate:e?re.responderRelease:null)&&((t=H.getPooled(e,ee,t,r)).touchHistory=J.touchHistory,C(t,I),s=Z(s,t),te(null)),s},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){ie.GlobalResponderHandler=e}}},le=null,ae={};function oe(){if(le)for(var e in ae){var n=ae[e],t=le.indexOf(e);if(!(-1<t))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!se[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in se[t]=n,t=n.eventTypes){var i=void 0,l=t[r],a=n,o=r;if(ce.hasOwnProperty(o))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+o+"`.");ce[o]=l;var u=l.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&ue(u[i],a);i=!0}else l.registrationName?(ue(l.registrationName,a),i=!0):i=!1;if(!i)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function ue(e,n){if(fe[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");fe[e]=n}var se=[],ce={},fe={},de=u.ReactNativeViewConfigRegistry.customBubblingEventTypes,pe=u.ReactNativeViewConfigRegistry.customDirectEventTypes;if(le)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");le=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),oe();var he,me={ResponderEventPlugin:ie,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var i=de[e],l=pe[e];if(!i&&!l)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=D.getPooled(i||l,n,t,r),i)C(e,N);else{if(!l)return null;C(e,I)}return e}}},ge=!1;for(he in me)if(me.hasOwnProperty(he)){var ve=me[he];if(!ae.hasOwnProperty(he)||ae[he]!==ve){if(ae[he])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+he+"`.");ae[he]=ve,ge=!0}}function ye(e){return e}ge&&oe(),x=function(e){return e.canonical.currentProps},S=ye,E=function(e){if(!(e=e.stateNode.canonical)._nativeTag)throw Error("All native instances should have a tag.");return e},ie.injection.injectGlobalResponderHandler({onChange:function(e,n,t){null!==n?u.UIManager.setJSResponder(n.stateNode.canonical._nativeTag,t):u.UIManager.clearJSResponder()}});var be=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;be.hasOwnProperty("ReactCurrentDispatcher")||(be.ReactCurrentDispatcher={current:null}),be.hasOwnProperty("ReactCurrentBatchConfig")||(be.ReactCurrentBatchConfig={suspense:null});var Te="function"==typeof Symbol&&Symbol.for,xe=Te?Symbol.for("react.element"):60103,Se=Te?Symbol.for("react.portal"):60106,Ee=Te?Symbol.for("react.fragment"):60107,ke=Te?Symbol.for("react.strict_mode"):60108,we=Te?Symbol.for("react.profiler"):60114,Pe=Te?Symbol.for("react.provider"):60109,Re=Te?Symbol.for("react.context"):60110,Ce=Te?Symbol.for("react.concurrent_mode"):60111,_e=Te?Symbol.for("react.forward_ref"):60112,Ne=Te?Symbol.for("react.suspense"):60113,ze=Te?Symbol.for("react.suspense_list"):60120,Ie=Te?Symbol.for("react.memo"):60115,Ae=Te?Symbol.for("react.lazy"):60116,Me=Te?Symbol.for("react.block"):60121,De="function"==typeof Symbol&&Symbol.iterator;function Ue(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=De&&e[De]||e["@@iterator"])?e:null}function Fe(e){if(-1===e._status){var n=e._result;n||(n=e._ctor),n=n(),e._status=0,e._result=n,n.then(function(n){0===e._status&&(n=n.default,e._status=1,e._result=n)},function(n){0===e._status&&(e._status=2,e._result=n)})}}function Qe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ee:return"Fragment";case Se:return"Portal";case we:return"Profiler";case ke:return"StrictMode";case Ne:return"Suspense";case ze:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Re:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case _e:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case Ie:return Qe(e.type);case Me:return Qe(e.render);case Ae:if(e=1===e._status?e._result:null)return Qe(e)}return null}function He(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!=(1026&(n=e).effectTag)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function je(e){if(He(e)!==e)throw Error("Unable to find node on an unmounted component.")}function We(e){var n=e.alternate;if(!n){if(null===(n=He(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){t=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===t)return je(i),e;if(l===r)return je(i),n;l=l.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=l;break}if(o===r){a=!0,r=i,t=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===t){a=!0,t=l,r=i;break}if(o===r){a=!0,r=l,t=i;break}o=o.sibling}if(!a)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function Oe(e){if(!(e=We(e)))return null;for(var n=e;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function Be(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var Le={},Ve=null,Ye=0,qe={unsafelyIgnoreFunctions:!0};function Xe(e,n){return"object"!=typeof n||null===n||u.deepDiffer(e,n,qe)}function $e(e,n,t){if(Array.isArray(n))for(var r=n.length;r--&&0<Ye;)$e(e,n[r],t);else if(n&&0<Ye)for(r in Ve)if(Ve[r]){var i=n[r];if(void 0!==i){var l=t[r];l&&("function"==typeof i&&(i=!0),void 0===i&&(i=null),"object"!=typeof l?e[r]=i:"function"!=typeof l.diff&&"function"!=typeof l.process||(i="function"==typeof l.process?l.process(i):i,e[r]=i),Ve[r]=!1,Ye--)}}}function Ke(e,n,t,r){if(!e&&n===t)return e;if(!n||!t)return t?Ge(e,t,r):n?Je(e,n,r):e;if(!Array.isArray(n)&&!Array.isArray(t))return Ze(e,n,t,r);if(Array.isArray(n)&&Array.isArray(t)){var i,l=n.length<t.length?n.length:t.length;for(i=0;i<l;i++)e=Ke(e,n[i],t[i],r);for(;i<n.length;i++)e=Je(e,n[i],r);for(;i<t.length;i++)e=Ge(e,t[i],r);return e}return Array.isArray(n)?Ze(e,u.flattenStyle(n),t,r):Ze(e,n,u.flattenStyle(t),r)}function Ge(e,n,t){if(!n)return e;if(!Array.isArray(n))return Ze(e,Le,n,t);for(var r=0;r<n.length;r++)e=Ge(e,n[r],t);return e}function Je(e,n,t){if(!n)return e;if(!Array.isArray(n))return Ze(e,n,Le,t);for(var r=0;r<n.length;r++)e=Je(e,n[r],t);return e}function Ze(e,n,t,r){var i,l;for(l in t)if(i=r[l]){var a=n[l],o=t[l];"function"==typeof o&&(o=!0,"function"==typeof a&&(a=!0)),void 0===o&&(o=null,void 0===a&&(a=null)),Ve&&(Ve[l]=!1),e&&void 0!==e[l]?"object"!=typeof i?e[l]=o:"function"!=typeof i.diff&&"function"!=typeof i.process||(i="function"==typeof i.process?i.process(o):o,e[l]=i):a!==o&&("object"!=typeof i?Xe(a,o)&&((e||(e={}))[l]=o):"function"==typeof i.diff||"function"==typeof i.process?(void 0===a||("function"==typeof i.diff?i.diff(a,o):Xe(a,o)))&&(i="function"==typeof i.process?i.process(o):o,(e||(e={}))[l]=i):(Ve=null,Ye=0,e=Ke(e,a,o,i),0<Ye&&e&&($e(e,o,i),Ve=null)))}for(var u in n)void 0===t[u]&&(!(i=r[u])||e&&void 0!==e[u]||void 0!==(a=n[u])&&("object"!=typeof i||"function"==typeof i.diff||"function"==typeof i.process?((e||(e={}))[u]=null,Ve||(Ve={}),Ve[u]||(Ve[u]=!0,Ye++)):e=Je(e,a,i)));return e}function en(e,n){return e(n)}var nn=!1;function tn(e,n){if(nn)return e(n);nn=!0;try{return en(e,n)}finally{nn=!1}}var rn=null;function ln(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)k(e,n[r],t[r]);else n&&k(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function an(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}var on=nativeFabricUIManager,un=on.createNode,sn=on.cloneNode,cn=on.cloneNodeWithNewChildren,fn=on.cloneNodeWithNewChildrenAndProps,dn=on.cloneNodeWithNewProps,pn=on.createChildSet,hn=on.appendChild,mn=on.appendChildToSet,gn=on.completeRoot,vn=on.registerEventHandler,yn=on.measure,bn=on.measureInWindow,Tn=on.measureLayout,xn=u.ReactNativeViewConfigRegistry.get,Sn=2;vn&&vn(function(e,n,t){var r=null;if(null!=e){var i=e.stateNode;null!=i&&(r=i.canonical)}tn(function(){for(var i=r,l=null,a=0;a<se.length;a++){var o=se[a];o&&(o=o.extractEvents(n,e,t,i,1))&&(l=R(l,o))}if(null!==(i=l)&&(rn=R(rn,i)),i=rn,rn=null,i){if(C(i,ln),rn)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(g)throw i=v,g=!1,v=null,i}})});var En=(function(){function e(e,n,t,r){this._nativeTag=e,this.viewConfig=n,this.currentProps=t,this._internalInstanceHandle=r}var n=e.prototype;return n.blur=function(){u.TextInputState.blurTextInput(this)},n.focus=function(){u.TextInputState.focusTextInput(this)},n.measure=function(e){yn(this._internalInstanceHandle.stateNode.node,Be(this,e))},n.measureInWindow=function(e){bn(this._internalInstanceHandle.stateNode.node,Be(this,e))},n.measureLayout=function(n,t,r){"number"!=typeof n&&n instanceof e&&Tn(this._internalInstanceHandle.stateNode.node,n._internalInstanceHandle.stateNode.node,Be(this,r),Be(this,t))},n.setNativeProps=function(){},e})();function kn(e,n,t,r){if(!t.isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");return t=Sn,Sn+=2,{node:un(t,"RCTRawText",n,{text:e},r)}}var wn=setTimeout,Pn=clearTimeout;function Rn(e){var n=e.node,t=Ze(null,Le,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:dn(n,t),canonical:e.canonical}}var Cn=[],_n=-1;function Nn(e){0>_n||(e.current=Cn[_n],Cn[_n]=null,_n--)}function zn(e,n){Cn[++_n]=e.current,e.current=n}var In={},An={current:In},Mn={current:!1},Dn=In;function Un(e,n){var t=e.type.contextTypes;if(!t)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in t)l[i]=n[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),l}function Fn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Qn(){Nn(Mn),Nn(An)}function Hn(e,n,t){if(An.current!==In)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");zn(An,n),zn(Mn,t)}function jn(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var i in r=r.getChildContext())if(!(i in e))throw Error((Qe(n)||"Unknown")+'.getChildContext(): key "'+i+'" is not defined in childContextTypes.');return o({},t,{},r)}function Wn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,Dn=An.current,zn(An,e),zn(Mn,Mn.current),!0}function On(e,n,t){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");t?(e=jn(e,n,Dn),r.__reactInternalMemoizedMergedChildContext=e,Nn(Mn),Nn(An),zn(An,e)):Nn(Mn),zn(Mn,t)}var Bn=c.unstable_runWithPriority,Ln=c.unstable_scheduleCallback,Vn=c.unstable_cancelCallback,Yn=c.unstable_requestPaint,qn=c.unstable_now,Xn=c.unstable_getCurrentPriorityLevel,$n=c.unstable_ImmediatePriority,Kn=c.unstable_UserBlockingPriority,Gn=c.unstable_NormalPriority,Jn=c.unstable_LowPriority,Zn=c.unstable_IdlePriority,et={},nt=c.unstable_shouldYield,tt=void 0!==Yn?Yn:function(){},rt=null,it=null,lt=!1,at=qn(),ot=1e4>at?qn:function(){return qn()-at};function ut(){switch(Xn()){case $n:return 99;case Kn:return 98;case Gn:return 97;case Jn:return 96;case Zn:return 95;default:throw Error("Unknown priority level.")}}function st(e){switch(e){case 99:return $n;case 98:return Kn;case 97:return Gn;case 96:return Jn;case 95:return Zn;default:throw Error("Unknown priority level.")}}function ct(e,n){return e=st(e),Bn(e,n)}function ft(e,n,t){return e=st(e),Ln(e,n,t)}function dt(e){return null===rt?(rt=[e],it=Ln($n,ht)):rt.push(e),et}function pt(){if(null!==it){var e=it;it=null,Vn(e)}ht()}function ht(){if(!lt&&null!==rt){lt=!0;var e=0;try{var n=rt;ct(99,function(){for(;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}}),rt=null}catch(n){throw null!==rt&&(rt=rt.slice(e+1)),Ln($n,pt),n}finally{lt=!1}}}var mt="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},gt=Object.prototype.hasOwnProperty;function vt(e,n){if(mt(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!gt.call(n,t[r])||!mt(e[t[r]],n[t[r]]))return!1;return!0}var yt=/^(.*)[\\\/]/;function bt(e){var n="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var t="";break e;default:var r=e._debugOwner,i=e._debugSource,l=Qe(e.type);t=null,r&&(t=Qe(r.type)),r=l,l="",i?l=" (at "+i.fileName.replace(yt,"")+":"+i.lineNumber+")":t&&(l=" (created by "+t+")"),t="\n    in "+(r||"Unknown")+l}n+=t,e=e.return}while(e);return n}function Tt(e,n){if(e&&e.defaultProps)for(var t in n=o({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}var xt={current:null},St=null,Et=null,kt=null;function wt(){kt=Et=St=null}function Pt(e){var n=xt.current;Nn(xt),e.type._context._currentValue2=n}function Rt(e,n){for(;null!==e;){var t=e.alternate;if(e.childExpirationTime<n)e.childExpirationTime=n,null!==t&&t.childExpirationTime<n&&(t.childExpirationTime=n);else{if(!(null!==t&&t.childExpirationTime<n))break;t.childExpirationTime=n}e=e.return}}function Ct(e,n){St=e,kt=Et=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=n&&(qr=!0),e.firstContext=null)}function _t(e,n){if(kt!==e&&!1!==n&&0!==n)if("number"==typeof n&&1073741823!==n||(kt=e,n=1073741823),n={context:e,observedBits:n,next:null},null===Et){if(null===St)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Et=n,St.dependencies={expirationTime:0,firstContext:n,responders:null}}else Et=Et.next=n;return e._currentValue2}var Nt=!1;function zt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function It(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function At(e,n){return(e={expirationTime:e,suspenseConfig:n,tag:0,payload:null,callback:null,next:null}).next=e}function Mt(e,n){if(null!==(e=e.updateQueue)){var t=(e=e.shared).pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function Dt(e,n){var t=e.alternate;null!==t&&It(t,e),null===(t=(e=e.updateQueue).baseQueue)?(e.baseQueue=n.next=n,n.next=n):(n.next=t.next,t.next=n)}function Ut(e,n,t,r){var i=e.updateQueue;Nt=!1;var l=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==l){var u=l.next;l.next=a.next,a.next=u}l=a,i.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==l){u=l.next;var s=i.baseState,c=0,f=null,d=null,p=null;if(null!==u)for(var h=u;;){if((a=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=m,f=s):p=p.next=m,a>c&&(c=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Cl(a,h.suspenseConfig);e:{var g=e,v=h;switch(a=n,m=t,v.tag){case 1:if("function"==typeof(g=v.payload)){s=g.call(m,s,a);break e}s=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"==typeof(g=v.payload)?g.call(m,s,a):g)||void 0===a)break e;s=o({},s,a);break e;case 2:Nt=!0}}null!==h.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[h]:a.push(h))}if(null===(h=h.next)||h===u){if(null===(a=i.shared.pending))break;h=l.next=a.next,a.next=u,i.baseQueue=l=a,i.shared.pending=null}}null===p?f=s:p.next=d,i.baseState=f,i.baseQueue=p,_l(c),e.expirationTime=c,e.memoizedState=s}}function Ft(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(null!==i){if(r.callback=null,"function"!=typeof i)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+i);i.call(t)}}}var Qt=be.ReactCurrentBatchConfig,Ht=(new s.Component).refs;function jt(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:o({},n,t),e.memoizedState=t,0===e.expirationTime&&(e.updateQueue.baseState=t)}var Wt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&He(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternalFiber;var r=vl(),i=Qt.suspense;(i=At(r=yl(r,e,i),i)).payload=n,void 0!==t&&null!==t&&(i.callback=t),Mt(e,i),bl(e,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternalFiber;var r=vl(),i=Qt.suspense;(i=At(r=yl(r,e,i),i)).tag=1,i.payload=n,void 0!==t&&null!==t&&(i.callback=t),Mt(e,i),bl(e,r)},enqueueForceUpdate:function(e,n){e=e._reactInternalFiber;var t=vl(),r=Qt.suspense;(r=At(t=yl(t,e,r),r)).tag=2,void 0!==n&&null!==n&&(r.callback=n),Mt(e,r),bl(e,t)}};function Ot(e,n,t,r,i,l,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,a):!n.prototype||!n.prototype.isPureReactComponent||(!vt(t,r)||!vt(i,l))}function Bt(e,n,t){var r=!1,i=In,l=n.contextType;return"object"==typeof l&&null!==l?l=_t(l):(i=Fn(n)?Dn:An.current,l=(r=null!==(r=n.contextTypes)&&void 0!==r)?Un(e,i):In),n=new n(t,l),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Wt,e.stateNode=n,n._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),n}function Lt(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Wt.enqueueReplaceState(n,n.state,null)}function Vt(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=Ht,zt(e);var l=n.contextType;"object"==typeof l&&null!==l?i.context=_t(l):(l=Fn(n)?Dn:An.current,i.context=Un(e,l)),Ut(e,t,i,r),i.state=e.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(jt(e,n,l,t),i.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&Wt.enqueueReplaceState(i,i.state,null),Ut(e,t,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Yt=Array.isArray;function qt(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://fb.me/react-strict-mode-string-ref");var r=t.stateNode}if(!r)throw Error("Missing owner for string ref "+e+". This error is likely caused by a bug in React. Please file an issue.");var i=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===i?n.ref:((n=function(e){var n=r.refs;n===Ht&&(n=r.refs={}),null===e?delete n[i]:n[i]=e})._stringRef=i,n)}if("string"!=typeof e)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!t._owner)throw Error("Element ref was specified as a string ("+e+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.")}return e}function Xt(e,n){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n)+").")}function $t(e){function n(n,t){if(e){var r=n.lastEffect;null!==r?(r.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function i(e,n){return(e=Gl(e,n)).index=0,e.sibling=null,e}function l(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.effectTag=2,t):r:(n.effectTag=2,t):t}function a(n){return e&&null===n.alternate&&(n.effectTag=2),n}function o(e,n,t,r){return null===n||6!==n.tag?((n=ea(t,e.mode,r)).return=e,n):((n=i(n,t)).return=e,n)}function u(e,n,t,r){return null!==n&&n.elementType===t.type?((r=i(n,t.props)).ref=qt(e,n,t),r.return=e,r):((r=Jl(t.type,t.key,t.props,null,e.mode,r)).ref=qt(e,n,t),r.return=e,r)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=na(t,e.mode,r)).return=e,n):((n=i(n,t.children||[])).return=e,n)}function c(e,n,t,r,l){return null===n||7!==n.tag?((n=Zl(t,e.mode,r,l)).return=e,n):((n=i(n,t)).return=e,n)}function f(e,n,t){if("string"==typeof n||"number"==typeof n)return(n=ea(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case xe:return(t=Jl(n.type,n.key,n.props,null,e.mode,t)).ref=qt(e,null,n),t.return=e,t;case Se:return(n=na(n,e.mode,t)).return=e,n}if(Yt(n)||Ue(n))return(n=Zl(n,e.mode,t,null)).return=e,n;Xt(e,n)}return null}function d(e,n,t,r){var i=null!==n?n.key:null;if("string"==typeof t||"number"==typeof t)return null!==i?null:o(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case xe:return t.key===i?t.type===Ee?c(e,n,t.props.children,r,i):u(e,n,t,r):null;case Se:return t.key===i?s(e,n,t,r):null}if(Yt(t)||Ue(t))return null!==i?null:c(e,n,t,r,null);Xt(e,t)}return null}function p(e,n,t,r,i){if("string"==typeof r||"number"==typeof r)return o(n,e=e.get(t)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case xe:return e=e.get(null===r.key?t:r.key)||null,r.type===Ee?c(n,e,r.props.children,i,r.key):u(n,e,r,i);case Se:return s(n,e=e.get(null===r.key?t:r.key)||null,r,i)}if(Yt(r)||Ue(r))return c(n,e=e.get(t)||null,r,i,null);Xt(n,r)}return null}function h(i,a,o,u){for(var s=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,o[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&n(i,h),a=l(v,a,m),null===c?s=v:c.sibling=v,c=v,h=g}if(m===o.length)return t(i,h),s;if(null===h){for(;m<o.length;m++)null!==(h=f(i,o[m],u))&&(a=l(h,a,m),null===c?s=h:c.sibling=h,c=h);return s}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=l(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return n(i,e)}),s}function m(i,a,o,u){var s=Ue(o);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");if(null==(o=s.call(o)))throw Error("An iterable object provided no iterator.");for(var c=s=null,h=a,m=a=0,g=null,v=o.next();null!==h&&!v.done;m++,v=o.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,v.value,u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&n(i,h),a=l(y,a,m),null===c?s=y:c.sibling=y,c=y,h=g}if(v.done)return t(i,h),s;if(null===h){for(;!v.done;m++,v=o.next())null!==(v=f(i,v.value,u))&&(a=l(v,a,m),null===c?s=v:c.sibling=v,c=v);return s}for(h=r(i,h);!v.done;m++,v=o.next())null!==(v=p(h,i,m,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=l(v,a,m),null===c?s=v:c.sibling=v,c=v);return e&&h.forEach(function(e){return n(i,e)}),s}return function(e,r,l,o){var u="object"==typeof l&&null!==l&&l.type===Ee&&null===l.key;u&&(l=l.props.children);var s="object"==typeof l&&null!==l;if(s)switch(l.$$typeof){case xe:e:{for(s=l.key,u=r;null!==u;){if(u.key===s){switch(u.tag){case 7:if(l.type===Ee){t(e,u.sibling),(r=i(u,l.props.children)).return=e,e=r;break e}break;default:if(u.elementType===l.type){t(e,u.sibling),(r=i(u,l.props)).ref=qt(e,u,l),r.return=e,e=r;break e}}t(e,u);break}n(e,u),u=u.sibling}l.type===Ee?((r=Zl(l.props.children,e.mode,o,l.key)).return=e,e=r):((o=Jl(l.type,l.key,l.props,null,e.mode,o)).ref=qt(e,r,l),o.return=e,e=o)}return a(e);case Se:e:{for(u=l.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){t(e,r.sibling),(r=i(r,l.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=na(l,e.mode,o)).return=e,e=r}return a(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==r&&6===r.tag?(t(e,r.sibling),(r=i(r,l)).return=e,e=r):(t(e,r),(r=ea(l,e.mode,o)).return=e,e=r),a(e);if(Yt(l))return h(e,r,l,o);if(Ue(l))return m(e,r,l,o);if(s&&Xt(e,l),void 0===l&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error((e.displayName||e.name||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return t(e,r)}}var Kt=$t(!0),Gt=$t(!1),Jt={},Zt={current:Jt},er={current:Jt},nr={current:Jt};function tr(e){if(e===Jt)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function rr(e,n){zn(nr,n),zn(er,e),zn(Zt,Jt),Nn(Zt),zn(Zt,{isInAParentText:!1})}function ir(){Nn(Zt),Nn(er),Nn(nr)}function lr(e){tr(nr.current);var n=tr(Zt.current),t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(zn(er,e),zn(Zt,t))}function ar(e){er.current===e&&(Nn(Zt),Nn(er))}var or={current:0};function ur(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||an()||an()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(64&n.effectTag))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sr(e,n){return{responder:e,props:n}}var cr=be.ReactCurrentDispatcher,fr=be.ReactCurrentBatchConfig,dr=0,pr=null,hr=null,mr=null,gr=!1;function vr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.")}function yr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!mt(e[t],n[t]))return!1;return!0}function br(e,n,t,r,i,l){if(dr=l,pr=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,cr.current=null===e||null===e.memoizedState?Br:Lr,e=t(r,i),n.expirationTime===dr){l=0;do{if(n.expirationTime=0,!(25>l))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");l+=1,mr=hr=null,n.updateQueue=null,cr.current=Vr,e=t(r,i)}while(n.expirationTime===dr)}if(cr.current=Or,n=null!==hr&&null!==hr.next,dr=0,mr=hr=pr=null,gr=!1,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mr?pr.memoizedState=mr=e:mr=mr.next=e,mr}function xr(){if(null===hr){var e=pr.alternate;e=null!==e?e.memoizedState:null}else e=hr.next;var n=null===mr?pr.memoizedState:mr.next;if(null!==n)mr=n,hr=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");e={memoizedState:(hr=e).memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},null===mr?pr.memoizedState=mr=e:mr=mr.next=e}return mr}function Sr(e,n){return"function"==typeof n?n(e):n}function Er(e){var n=xr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=hr,i=r.baseQueue,l=t.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,t.pending=null}if(null!==i){i=i.next,r=r.baseState;var o=a=l=null,u=i;do{var s=u.expirationTime;if(s<dr){var c={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===o?(a=o=c,l=r):o=o.next=c,s>pr.expirationTime&&(pr.expirationTime=s,_l(s))}else null!==o&&(o=o.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Cl(s,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===o?l=r:o.next=a,mt(r,n.memoizedState)||(qr=!0),n.memoizedState=r,n.baseState=l,n.baseQueue=o,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function kr(e){var n=xr(),t=n.queue;if(null===t)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,l=n.memoizedState;if(null!==i){t.pending=null;var a=i=i.next;do{l=e(l,a.action),a=a.next}while(a!==i);mt(l,n.memoizedState)||(qr=!0),n.memoizedState=l,null===n.baseQueue&&(n.baseState=l),t.lastRenderedState=l}return[l,r]}function wr(e){var n=Tr();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e}).dispatch=jr.bind(null,pr,e),[n.memoizedState,e]}function Pr(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=pr.updateQueue)?(n={lastEffect:null},pr.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Rr(){return xr().memoizedState}function Cr(e,n,t,r){var i=Tr();pr.effectTag|=e,i.memoizedState=Pr(1|n,t,void 0,void 0===r?null:r)}function _r(e,n,t,r){var i=xr();r=void 0===r?null:r;var l=void 0;if(null!==hr){var a=hr.memoizedState;if(l=a.destroy,null!==r&&yr(r,a.deps))return void Pr(n,t,l,r)}pr.effectTag|=e,i.memoizedState=Pr(1|n,t,l,r)}function Nr(e,n){return Cr(516,4,e,n)}function zr(e,n){return _r(516,4,e,n)}function Ir(e,n){return _r(4,2,e,n)}function Ar(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Mr(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,_r(4,2,Ar.bind(null,n,e),t)}function Dr(){}function Ur(e,n){return Tr().memoizedState=[e,void 0===n?null:n],e}function Fr(e,n){var t=xr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&yr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Qr(e,n){var t=xr();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&yr(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Hr(e,n,t){var r=ut();ct(98>r?98:r,function(){e(!0)}),ct(97<r?97:r,function(){var r=fr.suspense;fr.suspense=void 0===n?null:n;try{e(!1),t()}finally{fr.suspense=r}})}function jr(e,n,t){var r=vl(),i=Qt.suspense;i={expirationTime:r=yl(r,e,i),suspenseConfig:i,action:t,eagerReducer:null,eagerState:null,next:null};var l=n.pending;if(null===l?i.next=i:(i.next=l.next,l.next=i),n.pending=i,l=e.alternate,e===pr||null!==l&&l===pr)gr=!0,i.expirationTime=dr,pr.expirationTime=dr;else{if(0===e.expirationTime&&(null===l||0===l.expirationTime)&&null!==(l=n.lastRenderedReducer))try{var a=n.lastRenderedState,o=l(a,t);if(i.eagerReducer=l,i.eagerState=o,mt(o,a))return}catch(e){}bl(e,r)}}function Wr(){}var Or={readContext:_t,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useResponder:vr,useDeferredValue:vr,useTransition:vr,useEvent:vr},Br={readContext:_t,useCallback:Ur,useContext:_t,useEffect:Nr,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Cr(4,2,Ar.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Cr(4,2,e,n)},useMemo:function(e,n){var t=Tr();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Tr();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=jr.bind(null,pr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Tr().memoizedState=e},useState:wr,useDebugValue:Dr,useResponder:sr,useDeferredValue:function(e,n){var t=wr(e),r=t[0],i=t[1];return Nr(function(){var t=fr.suspense;fr.suspense=void 0===n?null:n;try{i(e)}finally{fr.suspense=t}},[e,n]),r},useTransition:function(e){var n=wr(!1),t=n[0];return n=n[1],[Ur(Hr.bind(null,n,e),[n,e]),t]},useEvent:function(){}},Lr={readContext:_t,useCallback:Fr,useContext:_t,useEffect:zr,useImperativeHandle:Mr,useLayoutEffect:Ir,useMemo:Qr,useReducer:Er,useRef:Rr,useState:function(){return Er(Sr)},useDebugValue:Dr,useResponder:sr,useDeferredValue:function(e,n){var t=Er(Sr),r=t[0],i=t[1];return zr(function(){var t=fr.suspense;fr.suspense=void 0===n?null:n;try{i(e)}finally{fr.suspense=t}},[e,n]),r},useTransition:function(e){var n=Er(Sr),t=n[0];return n=n[1],[Fr(Hr.bind(null,n,e),[n,e]),t]},useEvent:Wr},Vr={readContext:_t,useCallback:Fr,useContext:_t,useEffect:zr,useImperativeHandle:Mr,useLayoutEffect:Ir,useMemo:Qr,useReducer:kr,useRef:Rr,useState:function(){return kr(Sr)},useDebugValue:Dr,useResponder:sr,useDeferredValue:function(e,n){var t=kr(Sr),r=t[0],i=t[1];return zr(function(){var t=fr.suspense;fr.suspense=void 0===n?null:n;try{i(e)}finally{fr.suspense=t}},[e,n]),r},useTransition:function(e){var n=kr(Sr),t=n[0];return n=n[1],[Fr(Hr.bind(null,n,e),[n,e]),t]},useEvent:Wr},Yr=be.ReactCurrentOwner,qr=!1;function Xr(e,n,t,r){n.child=null===e?Gt(n,null,t,r):Kt(n,e.child,t,r)}function $r(e,n,t,r,i){t=t.render;var l=n.ref;return Ct(n,i),r=br(e,n,t,r,l,i),null===e||qr?(n.effectTag|=1,Xr(e,n,r,i),n.child):(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),di(e,n,i))}function Kr(e,n,t,r,i,l){if(null===e){var a=t.type;return"function"!=typeof a||$l(a)||void 0!==a.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Jl(t.type,null,r,null,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,Gr(e,n,a,r,i,l))}return a=e.child,i<l&&(i=a.memoizedProps,(t=null!==(t=t.compare)?t:vt)(i,r)&&e.ref===n.ref)?di(e,n,l):(n.effectTag|=1,(e=Gl(a,r)).ref=n.ref,e.return=n,n.child=e)}function Gr(e,n,t,r,i,l){return null!==e&&vt(e.memoizedProps,r)&&e.ref===n.ref&&(qr=!1,i<l)?(n.expirationTime=e.expirationTime,di(e,n,l)):Zr(e,n,t,r,l)}function Jr(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.effectTag|=128)}function Zr(e,n,t,r,i){var l=Fn(t)?Dn:An.current;return l=Un(n,l),Ct(n,i),t=br(e,n,t,r,l,i),null===e||qr?(n.effectTag|=1,Xr(e,n,t,i),n.child):(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),di(e,n,i))}function ei(e,n,t,r,i){if(Fn(t)){var l=!0;Wn(n)}else l=!1;if(Ct(n,i),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),Bt(n,t,r),Vt(n,t,r,i),r=!0;else if(null===e){var a=n.stateNode,o=n.memoizedProps;a.props=o;var u=a.context,s=t.contextType;"object"==typeof s&&null!==s?s=_t(s):s=Un(n,s=Fn(t)?Dn:An.current);var c=t.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==s)&&Lt(n,a,r,s),Nt=!1;var d=n.memoizedState;a.state=d,Ut(n,r,a,i),u=n.memoizedState,o!==r||d!==u||Mn.current||Nt?("function"==typeof c&&(jt(n,t,c,r),u=n.memoizedState),(o=Nt||Ot(n,t,o,r,d,u,s))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.effectTag|=4)):("function"==typeof a.componentDidMount&&(n.effectTag|=4),n.memoizedProps=r,n.memoizedState=u),a.props=r,a.state=u,a.context=s,r=o):("function"==typeof a.componentDidMount&&(n.effectTag|=4),r=!1)}else a=n.stateNode,It(e,n),o=n.memoizedProps,a.props=n.type===n.elementType?o:Tt(n.type,o),u=a.context,"object"==typeof(s=t.contextType)&&null!==s?s=_t(s):s=Un(n,s=Fn(t)?Dn:An.current),(f="function"==typeof(c=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||u!==s)&&Lt(n,a,r,s),Nt=!1,u=n.memoizedState,a.state=u,Ut(n,r,a,i),d=n.memoizedState,o!==r||u!==d||Mn.current||Nt?("function"==typeof c&&(jt(n,t,c,r),d=n.memoizedState),(c=Nt||Ot(n,t,o,r,u,d,s))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,s)),"function"==typeof a.componentDidUpdate&&(n.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.effectTag|=256)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.effectTag|=256),n.memoizedProps=r,n.memoizedState=d),a.props=r,a.state=d,a.context=s,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.effectTag|=256),r=!1);return ni(e,n,t,r,l,i)}function ni(e,n,t,r,i,l){Jr(e,n);var a=0!=(64&n.effectTag);if(!r&&!a)return i&&On(n,t,!1),di(e,n,l);r=n.stateNode,Yr.current=n;var o=a&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.effectTag|=1,null!==e&&a?(n.child=Kt(n,e.child,null,l),n.child=Kt(n,null,o,l)):Xr(e,n,o,l),n.memoizedState=r.state,i&&On(n,t,!0),n.child}function ti(e){var n=e.stateNode;n.pendingContext?Hn(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Hn(0,n.context,!1),rr(e,n.containerInfo)}var ri,ii,li,ai,oi={dehydrated:null,retryTime:0};function ui(e,n,t){var r,i=n.mode,l=n.pendingProps,a=or.current,o=!1;if((r=0!=(64&n.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(o=!0,n.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),zn(or,1&a),null===e){if(o){if(o=l.fallback,(l=Zl(null,i,0,null)).return=n,0==(2&n.mode))for(e=null!==n.memoizedState?n.child.child:n.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(t=Zl(o,i,t,null)).return=n,l.sibling=t,n.memoizedState=oi,n.child=l,t}return i=l.children,n.memoizedState=null,n.child=Gt(n,null,i,t)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,o){if(l=l.fallback,(t=Gl(e,e.pendingProps)).return=n,0==(2&n.mode)&&(o=null!==n.memoizedState?n.child.child:n.child)!==e.child)for(t.child=o;null!==o;)o.return=t,o=o.sibling;return(i=Gl(i,l)).return=n,t.sibling=i,t.childExpirationTime=0,n.memoizedState=oi,n.child=t,i}return t=Kt(n,e.child,l.children,t),n.memoizedState=null,n.child=t}if(e=e.child,o){if(o=l.fallback,(l=Zl(null,i,0,null)).return=n,l.child=e,null!==e&&(e.return=l),0==(2&n.mode))for(e=null!==n.memoizedState?n.child.child:n.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(t=Zl(o,i,t,null)).return=n,l.sibling=t,t.effectTag|=2,l.childExpirationTime=0,n.memoizedState=oi,n.child=l,t}return n.memoizedState=null,n.child=Kt(n,e,l.children,t)}function si(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;null!==t&&t.expirationTime<n&&(t.expirationTime=n),Rt(e.return,n)}function ci(e,n,t,r,i,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailExpiration:0,tailMode:i,lastEffect:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailExpiration=0,a.tailMode=i,a.lastEffect=l)}function fi(e,n,t){var r=n.pendingProps,i=r.revealOrder,l=r.tail;if(Xr(e,n,r.children,t),0!=(2&(r=or.current)))r=1&r|2,n.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&si(e,t);else if(19===e.tag)si(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zn(or,r),0==(2&n.mode))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;null!==t;)null!==(e=t.alternate)&&null===ur(e)&&(i=t),t=t.sibling;null===(t=i)?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),ci(n,!1,i,t,l,n.lastEffect);break;case"backwards":for(t=null,i=n.child,n.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ur(e)){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}ci(n,!0,t,null,l,n.lastEffect);break;case"together":ci(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function di(e,n,t){null!==e&&(n.dependencies=e.dependencies);var r=n.expirationTime;if(0!==r&&_l(r),n.childExpirationTime<t)return null;if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=Gl(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Gl(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function pi(e,n,t,r){for(var i=n.child;null!==i;){if(5===i.tag){var l=i.stateNode;t&&r&&(l=Rn(l)),mn(e,l.node)}else if(6===i.tag){if(l=i.stateNode,t&&r)throw Error("Not yet implemented.");mn(e,l.node)}else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(l=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,pi(e,a,!0,l)),null!==(l=a.sibling))){l.return=i,i=l;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function hi(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fn(n.type)&&Qn(),null;case 3:return ir(),Nn(Mn),Nn(An),(e=n.stateNode).pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),ii(n),null;case 5:ar(n);var i=tr(nr.current);if(t=n.type,null!==e&&null!=n.stateNode)li(e,n,t,r,i),e.ref!==n.ref&&(n.effectTag|=128);else{if(!r){if(null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}tr(Zt.current),e=Sn,Sn+=2,t=xn(t);var l=Ze(null,Le,r,t.validAttributes);i=un(e,t.uiViewClassName,i,l,n),e=new En(e,t,r,n),ri(e={node:i,canonical:e},n,!1,!1),n.stateNode=e,null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(e&&null!=n.stateNode)ai(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");e=tr(nr.current),i=tr(Zt.current),n.stateNode=kn(r,e,i,n)}return null;case 13:return Nn(or),r=n.memoizedState,0!=(64&n.effectTag)?(n.expirationTime=t,n):(r=null!==r,i=!1,null!==e&&(i=null!==(t=e.memoizedState),r||null===t||null!==(t=e.child.sibling)&&(null!==(l=n.firstEffect)?(n.firstEffect=t,t.nextEffect=l):(n.firstEffect=n.lastEffect=t,t.nextEffect=null),t.effectTag=8)),r&&!i&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&or.current)?Gi===Wi&&(Gi=Li):(Gi!==Wi&&Gi!==Li||(Gi=Vi),0!==tl&&null!==Xi&&(ia(Xi,Ki),la(Xi,tl)))),r&&(n.effectTag|=4),null);case 4:return ir(),ii(n),null;case 10:return Pt(n),null;case 17:return Fn(n.type)&&Qn(),null;case 19:if(Nn(or),null===(r=n.memoizedState))return null;if(i=0!=(64&n.effectTag),null===(l=r.rendering)){if(i)hi(r,!1);else if(Gi!==Wi||null!==e&&0!=(64&e.effectTag))for(e=n.child;null!==e;){if(null!==(l=ur(e))){for(n.effectTag|=64,hi(r,!1),null!==(e=l.updateQueue)&&(n.updateQueue=e,n.effectTag|=4),null===r.lastEffect&&(n.firstEffect=null),n.lastEffect=r.lastEffect,e=t,r=n.child;null!==r;)t=e,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(l=i.alternate)?(i.childExpirationTime=0,i.expirationTime=t,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=l.childExpirationTime,i.expirationTime=l.expirationTime,i.child=l.child,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,t=l.dependencies,i.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders}),r=r.sibling;return zn(or,1&or.current|2),n.child}e=e.sibling}}else{if(!i)if(null!==(e=ur(l))){if(n.effectTag|=64,i=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.effectTag|=4),hi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate)return null!==(n=n.lastEffect=r.lastEffect)&&(n.nextEffect=null),null}else 2*ot()-r.renderingStartTime>r.tailExpiration&&1<t&&(n.effectTag|=64,i=!0,hi(r,!1),n.expirationTime=n.childExpirationTime=t-1);r.isBackwards?(l.sibling=n.child,n.child=l):(null!==(e=r.last)?e.sibling=l:n.child=l,r.last=l)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ot()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=ot(),e.sibling=null,n=or.current,zn(or,i?1&n|2:1&n),e):null}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function gi(e){switch(e.tag){case 1:Fn(e.type)&&Qn();var n=e.effectTag;return 4096&n?(e.effectTag=-4097&n|64,e):null;case 3:if(ir(),Nn(Mn),Nn(An),0!=(64&(n=e.effectTag)))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.effectTag=-4097&n|64,e;case 5:return ar(e),null;case 13:return Nn(or),4096&(n=e.effectTag)?(e.effectTag=-4097&n|64,e):null;case 19:return Nn(or),null;case 4:return ir(),null;case 10:return Pt(e),null;default:return null}}function vi(e,n){return{value:e,source:n,stack:bt(n)}}if(ri=function(e,n,t,r){for(var i=n.child;null!==i;){if(5===i.tag){var l=i.stateNode;t&&r&&(l=Rn(l)),hn(e.node,l.node)}else if(6===i.tag){if(l=i.stateNode,t&&r)throw Error("Not yet implemented.");hn(e.node,l.node)}else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(l=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,ri(e,a,!0,l)),null!==(l=a.sibling))){l.return=i,i=l;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ii=function(e){var n=e.stateNode;if(null!==e.firstEffect){var t=n.containerInfo,r=pn(t);pi(r,e,!1,!1),n.pendingChildren=r,e.effectTag|=4,gn(t,r)}},li=function(e,n,t,r){t=e.stateNode;var i=e.memoizedProps;if((e=null===n.firstEffect)&&i===r)n.stateNode=t;else{var l=n.stateNode;tr(Zt.current);var a=null;i!==r&&(i=Ze(null,i,r,l.canonical.viewConfig.validAttributes),l.canonical.currentProps=r,a=i),e&&null===a?n.stateNode=t:(r=a,l=t.node,t={node:e?null!==r?dn(l,r):sn(l):null!==r?fn(l,r):cn(l),canonical:t.canonical},n.stateNode=t,e?n.effectTag|=4:ri(t,n,!1,!1))}},ai=function(e,n,t,r){t!==r?(e=tr(nr.current),t=tr(Zt.current),n.stateNode=kn(r,e,t,n),n.effectTag|=4):n.stateNode=e.stateNode},"function"!=typeof u.ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");var yi="function"==typeof WeakSet?WeakSet:Set;function bi(e,n){var t,r=n.source,i=n.stack;null===i&&null!==r&&(i=bt(r)),n={componentName:null!==r?Qe(r.type):null,componentStack:null!==i?i:"",error:n.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1},null!==e&&1===e.tag&&(n.errorBoundary=e.stateNode,n.errorBoundaryName=Qe(e.type),n.errorBoundaryFound=!0,n.willRetry=!0);try{t=n,!1!==u.ReactFiberErrorDialog.showErrorDialog(t)&&console.error(t.error)}catch(e){setTimeout(function(){throw e})}}function Ti(e,n){try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(n){Ol(e,n)}}function xi(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ol(e,n)}else n.current=null}function Si(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.effectTag&&null!==e){var t=e.memoizedProps,r=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?t:Tt(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Ei(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.destroy;t.destroy=void 0,void 0!==r&&r()}t=t.next}while(t!==n)}}function ki(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function wi(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:return void ki(3,t);case 1:if(e=t.stateNode,4&t.effectTag)if(null===n)e.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(n=t.updateQueue)&&Ft(t,n,e));case 3:if(null!==(n=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 5:e=t.child.stateNode.canonical;break;case 1:e=t.child.stateNode}Ft(t,n,e)}return;case 5:if(null===n&&4&t.effectTag)throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.");return;case 6:case 4:case 12:case 13:return;case 19:case 17:case 20:case 21:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Pi(e,n,t){switch("function"==typeof Yl&&Yl(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=n.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ct(97<t?97:t,function(){var e=r;do{var t=e.destroy;if(void 0!==t){var i=n;try{t()}catch(e){Ol(i,e)}}e=e.next}while(e!==r)})}break;case 1:xi(n),"function"==typeof(t=n.stateNode).componentWillUnmount&&Ti(n,t);break;case 5:xi(n);break;case 4:pn(n.stateNode.containerInfo)}}function Ri(e){var n=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==n&&Ri(n)}function Ci(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:return void Ei(3,n);case 12:return;case 13:return null!==n.memoizedState&&(il=ot()),void _i(n);case 19:return void _i(n)}e:{switch(n.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:break e}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function _i(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new yi),n.forEach(function(n){var r=Ll.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}var Ni="function"==typeof WeakMap?WeakMap:Map;function zi(e,n,t){(t=At(t,null)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){ol||(ol=!0,ul=r),bi(e,n)},t}function Ii(e,n,t){(t=At(t,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=n.value;t.payload=function(){return bi(e,n),r(i)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(t.callback=function(){"function"!=typeof r&&(null===sl?sl=new Set([this]):sl.add(this),bi(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var Ai,Mi=Math.ceil,Di=be.ReactCurrentDispatcher,Ui=be.ReactCurrentOwner,Fi=0,Qi=8,Hi=16,ji=32,Wi=0,Oi=1,Bi=2,Li=3,Vi=4,Yi=5,qi=Fi,Xi=null,$i=null,Ki=0,Gi=Wi,Ji=null,Zi=1073741823,el=1073741823,nl=null,tl=0,rl=!1,il=0,ll=500,al=null,ol=!1,ul=null,sl=null,cl=!1,fl=null,dl=90,pl=null,hl=0,ml=null,gl=0;function vl(){return(48&qi)!==Fi?1073741821-(ot()/10|0):0!==gl?gl:gl=1073741821-(ot()/10|0)}function yl(e,n,t){if(0==(2&(n=n.mode)))return 1073741823;var r=ut();if(0==(4&n))return 99===r?1073741823:1073741822;if((qi&Hi)!==Fi)return Ki;if(null!==t)e=1073741821-25*(1+((1073741821-e+(0|t.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw Error("Expected a valid priority level")}return null!==Xi&&e===Ki&&--e,e}function bl(e,n){if(50<hl)throw hl=0,ml=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");if(null!==(e=Tl(e,n))){var t=ut();1073741823===n?(qi&Qi)!==Fi&&(48&qi)===Fi?kl(e):(Sl(e),qi===Fi&&pt()):Sl(e),(4&qi)===Fi||98!==t&&99!==t||(null===pl?pl=new Map([[e,n]]):(void 0===(t=pl.get(e))||t>n)&&pl.set(e,n))}}function Tl(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;null!==t&&t.expirationTime<n&&(t.expirationTime=n);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(t=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),null!==t&&t.childExpirationTime<n&&(t.childExpirationTime=n),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Xi===i&&(_l(n),Gi===Vi&&ia(i,Ki)),la(i,n)),i}function xl(e){var n=e.lastExpiredTime;if(0!==n)return n;if(!ra(e,n=e.firstPendingTime))return n;var t=e.lastPingedTime;return 2>=(e=t>(e=e.nextKnownPendingLevel)?t:e)&&n!==e?0:e}function Sl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=dt(kl.bind(null,e));else{var n=xl(e),t=e.callbackNode;if(0===n)null!==t&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=vl();if(1073741823===n?r=99:1===n||2===n?r=95:r=0>=(r=10*(1073741821-n)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==t){var i=e.callbackPriority;if(e.callbackExpirationTime===n&&i>=r)return;t!==et&&Vn(t)}e.callbackExpirationTime=n,e.callbackPriority=r,n=1073741823===n?dt(kl.bind(null,e)):ft(r,El.bind(null,e),{timeout:10*(1073741821-n)-ot()}),e.callbackNode=n}}}function El(e,n){if(gl=0,n){n=vl();var t=e.lastExpiredTime;return(0===t||t>n)&&(e.lastExpiredTime=n),Sl(e),null}if(0===(t=xl(e)))return null;if(n=e.callbackNode,(48&qi)!==Fi)throw Error("Should not already be working.");Hl();var r=t,i=qi;qi|=Hi;var l=Rl();for(e===Xi&&r===Ki||wl(e,r);;)try{Il();break}catch(n){Pl(e,n)}if(wt(),Di.current=l,qi=i,null!==$i?i=Wi:(Xi=null,i=Gi),i!==Wi){if(i===Bi&&(i=Nl(e,t=2<t?2:t)),i===Oi)throw n=Ji,wl(e,t),ia(e,t),Sl(e),n;switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,i){case Wi:case Oi:throw Error("Root did not complete. This is a bug in React.");case Bi:Ul(e);break;case Li:if(ia(e,t),t===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Dl(r)),1073741823===Zi&&10<(r=il+ll-ot())){if(rl&&(0===(l=e.lastPingedTime)||l>=t)){e.lastPingedTime=t,wl(e,t);break}if(0!==(l=xl(e))&&l!==t)break;if(0!==i&&i!==t){e.lastPingedTime=i;break}e.timeoutHandle=wn(Ul.bind(null,e),r);break}Ul(e);break;case Vi:if(ia(e,t),t===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Dl(r)),rl&&(0===(r=e.lastPingedTime)||r>=t)){e.lastPingedTime=t,wl(e,t);break}if(0!==(r=xl(e))&&r!==t)break;if(0!==i&&i!==t){e.lastPingedTime=i;break}if(1073741823!==el?r=10*(1073741821-el)-ot():1073741823===Zi?r=0:(r=10*(1073741821-Zi)-5e3,t=10*(1073741821-t)-(i=ot()),0>(r=i-r)&&(r=0),t<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mi(r/1960))-r)&&(r=t)),10<r){e.timeoutHandle=wn(Ul.bind(null,e),r);break}Ul(e);break;case Yi:if(1073741823!==Zi&&null!==nl){l=Zi;var a=nl;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(l=ot()-(10*(1073741821-l)-(0|a.timeoutMs||5e3)))<=i?0:i+r-l),10<r){ia(e,t),e.timeoutHandle=wn(Ul.bind(null,e),r);break}}Ul(e);break;default:throw Error("Unknown root exit status.")}}return Sl(e),e.callbackNode===n?El.bind(null,e):null}function kl(e){if((48&qi)!==Fi)throw Error("Should not already be working.");Hl();var n=e.lastExpiredTime,t=Nl(e,n=0!==n?e===Xi&&Ki>=n?Ki:n:1073741823);if(0!==e.tag&&t===Bi&&(t=Nl(e,n=2<n?2:n)),t===Oi)throw t=Ji,wl(e,n),ia(e,n),Sl(e),t;return e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,Ul(e),Sl(e),null}function wl(e,n){e.finishedWork=null,e.finishedExpirationTime=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,Pn(t)),null!==$i)for(t=$i.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Qn();break;case 3:ir(),Nn(Mn),Nn(An);break;case 5:ar(r);break;case 4:ir();break;case 13:case 19:Nn(or);break;case 10:Pt(r)}t=t.return}Xi=e,$i=Gl(e.current,null),Ki=n,Gi=Wi,Ji=null,el=Zi=1073741823,nl=null,tl=0,rl=!1}function Pl(e,n){for(;;){try{if(wt(),cr.current=Or,gr)for(var t=pr.memoizedState;null!==t;){var r=t.queue;null!==r&&(r.pending=null),t=t.next}if(dr=0,mr=hr=pr=null,gr=!1,null===$i||null===$i.return)return Gi=Oi,Ji=n,$i=null;e:{var i=e,l=$i.return,a=$i,o=n;if(n=Ki,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var u=o;if(0==(2&a.mode)){var s=a.alternate;s?(a.updateQueue=s.updateQueue,a.memoizedState=s.memoizedState,a.expirationTime=s.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&or.current),f=l;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=At(1073741823,null);v.tag=2,Mt(a,v)}a.expirationTime=1073741823;break e}o=void 0,a=n;var y=i.pingCache;if(null===y?(y=i.pingCache=new Ni,o=new Set,y.set(u,o)):void 0===(o=y.get(u))&&(o=new Set,y.set(u,o)),!o.has(a)){o.add(a);var b=Bl.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=n;break e}f=f.return}while(null!==f);o=Error((Qe(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+bt(a))}Gi!==Yi&&(Gi=Bi),o=vi(o,a),f=l;do{switch(f.tag){case 3:u=o,f.effectTag|=4096,f.expirationTime=n,Dt(f,zi(f,u,n));break e;case 1:u=o;var T=f.type,x=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof T.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===sl||!sl.has(x)))){f.effectTag|=4096,f.expirationTime=n,Dt(f,Ii(f,u,n));break e}}f=f.return}while(null!==f)}$i=Ml($i)}catch(e){n=e;continue}break}}function Rl(){var e=Di.current;return Di.current=Or,null===e?Or:e}function Cl(e,n){e<Zi&&2<e&&(Zi=e),null!==n&&e<el&&2<e&&(el=e,nl=n)}function _l(e){e>tl&&(tl=e)}function Nl(e,n){var t=qi;qi|=Hi;var r=Rl();for(e===Xi&&n===Ki||wl(e,n);;)try{zl();break}catch(n){Pl(e,n)}if(wt(),qi=t,Di.current=r,null!==$i)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Xi=null,Gi}function zl(){for(;null!==$i;)$i=Al($i)}function Il(){for(;null!==$i&&!nt();)$i=Al($i)}function Al(e){var n=Ai(e.alternate,e,Ki);return e.memoizedProps=e.pendingProps,null===n&&(n=Ml(e)),Ui.current=null,n}function Ml(e){$i=e;do{var n=$i.alternate;if(e=$i.return,0==(2048&$i.effectTag)){if(n=mi(n,$i,Ki),1===Ki||1!==$i.childExpirationTime){for(var t=0,r=$i.child;null!==r;){var i=r.expirationTime,l=r.childExpirationTime;i>t&&(t=i),l>t&&(t=l),r=r.sibling}$i.childExpirationTime=t}if(null!==n)return n;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=$i.firstEffect),null!==$i.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=$i.firstEffect),e.lastEffect=$i.lastEffect),1<$i.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=$i:e.firstEffect=$i,e.lastEffect=$i))}else{if(null!==(n=gi($i)))return n.effectTag&=2047,n;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(n=$i.sibling))return n;$i=e}while(null!==$i);return Gi===Wi&&(Gi=Yi),null}function Dl(e){var n=e.expirationTime;return n>(e=e.childExpirationTime)?n:e}function Ul(e){var n=ut();return ct(99,Fl.bind(null,e,n)),null}function Fl(e,n){do{Hl()}while(null!==fl);if((48&qi)!==Fi)throw Error("Should not already be working.");var t=e.finishedWork,r=e.finishedExpirationTime;if(null===t)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Dl(t);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Xi&&($i=Xi=null,Ki=0),1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,null!==i){var l=qi;qi|=ji,Ui.current=null,al=i;do{try{Ql()}catch(e){if(null===al)throw Error("Should be working on an effect.");Ol(al,e),al=al.nextEffect}}while(null!==al);al=i;do{try{for(var a=e,o=n;null!==al;){var u=al.effectTag;if(128&u){var s=al.alternate;if(null!==s){var c=s.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}switch(1038&u){case 2:al.effectTag&=-3;break;case 6:al.effectTag&=-3,Ci(al.alternate,al);break;case 1024:al.effectTag&=-1025;break;case 1028:al.effectTag&=-1025,Ci(al.alternate,al);break;case 4:Ci(al.alternate,al);break;case 8:var f=al;e:for(var d=a,p=f,h=o,m=p;;)if(Pi(d,m,h),null!==m.child)m.child.return=m,m=m.child;else{if(m===p)break;for(;null===m.sibling;){if(null===m.return||m.return===p)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}Ri(f)}al=al.nextEffect}}catch(e){if(null===al)throw Error("Should be working on an effect.");Ol(al,e),al=al.nextEffect}}while(null!==al);e.current=t,al=i;do{try{for(u=e;null!==al;){var g=al.effectTag;if(36&g&&wi(u,al.alternate,al),128&g){s=void 0;var v=al.ref;if(null!==v){var y=al.stateNode;switch(al.tag){case 5:s=y.canonical;break;default:s=y}"function"==typeof v?v(s):v.current=s}}al=al.nextEffect}}catch(e){if(null===al)throw Error("Should be working on an effect.");Ol(al,e),al=al.nextEffect}}while(null!==al);al=null,tt(),qi=l}else e.current=t;if(cl)cl=!1,fl=e,dl=n;else for(al=i;null!==al;)n=al.nextEffect,al.nextEffect=null,al=n;if(0===(n=e.firstPendingTime)&&(sl=null),1073741823===n?e===ml?hl++:(hl=0,ml=e):hl=0,"function"==typeof Vl&&Vl(t.stateNode,r),Sl(e),ol)throw ol=!1,e=ul,ul=null,e;return(qi&Qi)!==Fi?null:(pt(),null)}function Ql(){for(;null!==al;){var e=al.effectTag;0!=(256&e)&&Si(al.alternate,al),0==(512&e)||cl||(cl=!0,ft(97,function(){return Hl(),null})),al=al.nextEffect}}function Hl(){if(90!==dl){var e=97<dl?97:dl;return dl=90,ct(e,jl)}}function jl(){if(null===fl)return!1;var e=fl;if(fl=null,(48&qi)!==Fi)throw Error("Cannot flush passive effects while already rendering.");var n=qi;for(qi|=ji,e=e.current.firstEffect;null!==e;){try{var t=e;if(0!=(512&t.effectTag))switch(t.tag){case 0:case 11:case 15:case 22:Ei(5,t),ki(5,t)}}catch(n){if(null===e)throw Error("Should be working on an effect.");Ol(e,n)}t=e.nextEffect,e.nextEffect=null,e=t}return qi=n,pt(),!0}function Wl(e,n,t){Mt(e,n=zi(e,n=vi(t,n),1073741823)),null!==(e=Tl(e,1073741823))&&Sl(e)}function Ol(e,n){if(3===e.tag)Wl(e,e,n);else for(var t=e.return;null!==t;){if(3===t.tag){Wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===sl||!sl.has(r))){Mt(t,e=Ii(t,e=vi(n,e),1073741823)),null!==(t=Tl(t,1073741823))&&Sl(t);break}}t=t.return}}function Bl(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),Xi===e&&Ki===t?Gi===Vi||Gi===Li&&1073741823===Zi&&ot()-il<ll?wl(e,Ki):rl=!0:ra(e,t)&&(0!==(n=e.lastPingedTime)&&n<t||(e.lastPingedTime=t,Sl(e)))}function Ll(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(n=yl(n=vl(),e,null)),null!==(e=Tl(e,n))&&Sl(e)}Ai=function(e,n,t){var r=n.expirationTime;if(null!==e)if(e.memoizedProps!==n.pendingProps||Mn.current)qr=!0;else{if(r<t){switch(qr=!1,n.tag){case 3:ti(n);break;case 5:lr(n);break;case 1:Fn(n.type)&&Wn(n);break;case 4:rr(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value;var i=n.type._context;zn(xt,i._currentValue2),i._currentValue2=r;break;case 13:if(null!==n.memoizedState)return 0!==(r=n.child.childExpirationTime)&&r>=t?ui(e,n,t):(zn(or,1&or.current),null!==(n=di(e,n,t))?n.sibling:null);zn(or,1&or.current);break;case 19:if(r=n.childExpirationTime>=t,0!=(64&e.effectTag)){if(r)return fi(e,n,t);n.effectTag|=64}if(null!==(i=n.memoizedState)&&(i.rendering=null,i.tail=null),zn(or,or.current),!r)return null}return di(e,n,t)}qr=!1}else qr=!1;switch(n.expirationTime=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,i=Un(n,An.current),Ct(n,t),i=br(null,n,r,e,i,t),n.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,Fn(r)){var l=!0;Wn(n)}else l=!1;n.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,zt(n);var a=r.getDerivedStateFromProps;"function"==typeof a&&jt(n,r,a,e),i.updater=Wt,n.stateNode=i,i._reactInternalFiber=n,Vt(n,r,e,t),n=ni(null,n,r,!0,l,t)}else n.tag=0,Xr(null,n,i,t),n=n.child;return n;case 16:e:{if(i=n.elementType,null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,Fe(i),1!==i._status)throw i._result;switch(i=i._result,n.type=i,l=n.tag=Kl(i),e=Tt(i,e),l){case 0:n=Zr(null,n,i,e,t);break e;case 1:n=ei(null,n,i,e,t);break e;case 11:n=$r(null,n,i,e,t);break e;case 14:n=Kr(null,n,i,Tt(i.type,e),r,t);break e}throw Error("Element type is invalid. Received a promise that resolves to: "+i+". Lazy element type must resolve to a class or function.")}return n;case 0:return r=n.type,i=n.pendingProps,Zr(e,n,r,i=n.elementType===r?i:Tt(r,i),t);case 1:return r=n.type,i=n.pendingProps,ei(e,n,r,i=n.elementType===r?i:Tt(r,i),t);case 3:if(ti(n),r=n.updateQueue,null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");return r=n.pendingProps,i=null!==(i=n.memoizedState)?i.element:null,It(e,n),Ut(n,r,null,t),(r=n.memoizedState.element)===i?n=di(e,n,t):(Xr(e,n,r,t),n=n.child),n;case 5:return lr(n),r=n.pendingProps.children,Jr(e,n),Xr(e,n,r,t),n=n.child;case 6:return null;case 13:return ui(e,n,t);case 4:return rr(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Kt(n,null,r,t):Xr(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,$r(e,n,r,i=n.elementType===r?i:Tt(r,i),t);case 7:return Xr(e,n,n.pendingProps,t),n.child;case 8:case 12:return Xr(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,a=n.memoizedProps,l=i.value;var o=n.type._context;if(zn(xt,o._currentValue2),o._currentValue2=l,null!==a)if(o=a.value,0===(l=mt(o,l)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(o,l):1073741823))){if(a.children===i.children&&!Mn.current){n=di(e,n,t);break e}}else for(null!==(o=n.child)&&(o.return=n);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var s=u.firstContext;null!==s;){if(s.context===r&&0!=(s.observedBits&l)){1===o.tag&&((s=At(t,null)).tag=2,Mt(o,s)),o.expirationTime<t&&(o.expirationTime=t),null!==(s=o.alternate)&&s.expirationTime<t&&(s.expirationTime=t),Rt(o.return,t),u.expirationTime<t&&(u.expirationTime=t);break}s=s.next}}else a=10===o.tag&&o.type===n.type?null:o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===n){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Xr(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=(l=n.pendingProps).children,Ct(n,t),r=r(i=_t(i,l.unstable_observedBits)),n.effectTag|=1,Xr(e,n,r,t),n.child;case 14:return l=Tt(i=n.type,n.pendingProps),Kr(e,n,i,l=Tt(i.type,l),r,t);case 15:return Gr(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Tt(r,i),null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,Fn(r)?(e=!0,Wn(n)):e=!1,Ct(n,t),Bt(n,r,i),Vt(n,r,i,t),ni(null,n,r,!0,e,t);case 19:return fi(e,n,t)}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")};var Vl=null,Yl=null;function ql(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var t=n.inject(e);Vl=function(e){try{n.onCommitFiberRoot(t,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Yl=function(e){try{n.onCommitFiberUnmount(t,e)}catch(e){}}}catch(e){}return!0}function Xl(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e){if("function"==typeof e)return $l(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_e)return 11;if(e===Ie)return 14}return 2}function Gl(e,n){var t=e.alternate;return null===t?((t=new Xl(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.effectTag=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childExpirationTime=e.childExpirationTime,t.expirationTime=e.expirationTime,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Jl(e,n,t,r,i,l){var a=2;if(r=e,"function"==typeof e)$l(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ee:return Zl(t.children,i,l,n);case Ce:a=8,i|=7;break;case ke:a=8,i|=1;break;case we:return(e=new Xl(12,t,n,8|i)).elementType=we,e.type=we,e.expirationTime=l,e;case Ne:return(e=new Xl(13,t,n,i)).type=Ne,e.elementType=Ne,e.expirationTime=l,e;case ze:return(e=new Xl(19,t,n,i)).elementType=ze,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Pe:a=10;break e;case Re:a=9;break e;case _e:a=11;break e;case Ie:a=14;break e;case Ae:a=16,r=null;break e;case Me:a=22;break e}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+".")}return(n=new Xl(a,t,n,i)).elementType=e,n.type=r,n.expirationTime=l,n}function Zl(e,n,t,r){return(e=new Xl(7,e,r,n)).expirationTime=t,e}function ea(e,n,t){return(e=new Xl(6,e,null,n)).expirationTime=t,e}function na(e,n,t){return(n=new Xl(4,null!==e.children?e.children:[],e.key,n)).expirationTime=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ta(e,n,t){this.tag=n,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ra(e,n){var t=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==t&&t>=n&&e<=n}function ia(e,n){var t=e.firstSuspendedTime,r=e.lastSuspendedTime;t<n&&(e.firstSuspendedTime=n),(r>n||0===t)&&(e.lastSuspendedTime=n),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function la(e,n){n>e.firstPendingTime&&(e.firstPendingTime=n);var t=e.firstSuspendedTime;0!==t&&(n>=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n>=e.lastSuspendedTime&&(e.lastSuspendedTime=n+1),n>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=n))}function aa(e){var n=e._reactInternalFiber;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e))}return null===(e=Oe(n))?null:e.stateNode}function oa(e,n,t,r){var i=n.current,l=vl(),a=Qt.suspense;l=yl(l,i,a);e:if(t){t=t._reactInternalFiber;n:{if(He(t)!==t||1!==t.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break n;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break n}}o=o.return}while(null!==o);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}if(1===t.tag){var u=t.type;if(Fn(u)){t=jn(t,u,o);break e}}t=o}else t=In;return null===n.context?n.context=t:n.pendingContext=t,(n=At(l,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),Mt(i,n),bl(i,l),l}function ua(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Se,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function sa(e){return null==e?null:"number"==typeof e?e:e._nativeTag?e._nativeTag:e.canonical&&e.canonical._nativeTag?e.canonical._nativeTag:null==(e=aa(e))?e:e.canonical?e.canonical._nativeTag:e._nativeTag}en=function(e,n){var t=qi;qi|=1;try{return e(n)}finally{(qi=t)===Fi&&pt()}};var ca,fa,da=new Map;ca={findFiberByHostInstance:ye,bundleType:0,version:"16.13.0",rendererPackageName:"react-native-renderer",rendererConfig:{getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}.bind(null,sa)}},fa=ca.findFiberByHostInstance,ql({bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Oe(e))?null:e.stateNode},findFiberByHostInstance:function(e){return fa?fa(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}),l.createPortal=function(e,n){return ua(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},l.dispatchCommand=function(e,n,t){null!=e._nativeTag&&(e._internalInstanceHandle?nativeFabricUIManager.dispatchCommand(e._internalInstanceHandle.stateNode.node,n,t):u.UIManager.dispatchViewManagerCommand(e._nativeTag,n,t))},l.findHostInstance_DEPRECATED=function(e){return null==e?null:e._nativeTag?e:e.canonical&&e.canonical._nativeTag?e.canonical:null==(e=aa(e))?e:e.canonical?e.canonical:e},l.findNodeHandle=sa,l.render=function(e,n,t){var r=da.get(n);if(!r){r=new ta(n,0,!1);var i=new Xl(3,null,null,0);r.current=i,i.stateNode=r,zt(i),da.set(n,r)}oa(e,r,null,t);e:if(e=r.current,e.child)switch(e.child.tag){case 5:e=e.child.stateNode.canonical;break e;default:e=e.child.stateNode}else e=null;return e},l.stopSurface=function(e){var n=da.get(e);n&&oa(null,n,null,function(){da.delete(e)})},l.unmountComponentAtNode=function(e){this.stopSurface(e)}},363,[16,91,175,59,198]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5])),l=t(r(d[6]));function f(t){var n=v();return function(){var u,s=(0,o.default)(t);if(n){var l=(0,o.default)(this).constructor;u=Reflect.construct(s,arguments,l)}else u=s.apply(this,arguments);return(0,c.default)(this,u)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=r(d[7]),h=r(d[8]),y=r(d[9]),_=r(d[10]),S=(function(t){(0,s.default)(o,t);var c=f(o);function o(){var t;(0,n.default)(this,o),(t=c.call(this,l.default))._supportedEvents=['change','memoryWarning','blur','focus'],t.isAvailable=!0,t._eventHandlers=t._supportedEvents.reduce(function(t,n){return t[n]=new Map,t},{}),t.currentState=l.default.getConstants().initialAppState;var u=!1;return t.addListener('appStateDidChange',function(n){u=!0,t.currentState=n.app_state}),l.default.getCurrentAppState(function(n){u||t.currentState===n.app_state||(t.currentState=n.app_state,t.emit('appStateDidChange',n))},_),t}return(0,u.default)(o,[{key:"addEventListener",value:function(t,n){switch(y(-1!==this._supportedEvents.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),t){case'change':this._eventHandlers[t].set(n,this.addListener('appStateDidChange',function(t){n(t.app_state)}));break;case'memoryWarning':this._eventHandlers[t].set(n,this.addListener('memoryWarning',n));break;case'blur':case'focus':this._eventHandlers[t].set(n,this.addListener('appStateFocusChange',function(u){'blur'!==t||u||n(),'focus'===t&&u&&n()}))}}},{key:"removeEventListener",value:function(t,n){y(-1!==this._supportedEvents.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),this._eventHandlers[t].has(n)&&(this._eventHandlers[t].get(n).remove(),this._eventHandlers[t].delete(n))}}]),o})(h);function b(){y(!1,"Cannot use AppState module when native RCTAppState is not included in the build.\nEither include it, or check AppState.isAvailable before calling any methods.")}var k=(function(t){(0,s.default)(o,t);var c=f(o);function o(){var t;(0,n.default)(this,o);for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];return(t=c.call.apply(c,[this].concat(s))).isAvailable=!1,t.currentState=null,t}return(0,u.default)(o,[{key:"addEventListener",value:function(t,n){b()}},{key:"removeEventListener",value:function(t,n){b()}},{key:"addListener",value:function(){b()}},{key:"removeAllListeners",value:function(){b()}},{key:"removeSubscription",value:function(){b()}}]),o})(p),A=l.default?new S:new k;m.exports=A},364,[1,29,30,40,42,39,365,44,145,6,366]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).getEnforcing('AppState');e.default=u},365,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},366,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=u.default,s={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiGet([t],function(t,o){var s=o&&o[0]&&o[0][1]?o[0][1]:null,f=c(t);n&&n(f&&f[0],s),f?l(f[0]):u(s)})})},setItem:function(t,n,u){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(l,s){o.multiSet([[t,n]],function(t){var n=c(t);u&&u(n&&n[0]),n?s(n[0]):l(null)})})},removeItem:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiRemove([t],function(t){var o=c(t);n&&n(o&&o[0]),o?l(o[0]):u(null)})})},mergeItem:function(t,n,u){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(l,s){o.multiMerge([[t,n]],function(t){var n=c(t);u&&u(n&&n[0]),n?s(n[0]):l(null)})})},clear:function(t){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.clear(function(l){t&&t(f(l)),l&&f(l)?u(f(l)):n(null)})})},getAllKeys:function(t){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(n,u){o.getAllKeys(function(l,o){t&&t(f(l),o),l?u(f(l)):n(o)})})},flushGetRequests:function(){var t=this._getRequests,u=this._getKeys;this._getRequests=[],this._getKeys=[],(0,l.default)(o,'RCTAsyncStorage not available'),o.multiGet(u,function(u,l){var o={};l&&l.forEach(function(t){var u=(0,n.default)(t,2),l=u[0],s=u[1];return o[l]=s,s});for(var s=t.length,c=0;c<s;c++){var f=t[c],v=f.keys.map(function(t){return[t,o[t]]});f.callback&&f.callback(null,v),f.resolve&&f.resolve(v)}})},multiGet:function(t,n){var u=this;this._immediate||(this._immediate=setImmediate(function(){u._immediate=null,u.flushGetRequests()}));var l={keys:t,callback:n,keyIndex:this._getKeys.length,resolve:null,reject:null},o=new Promise(function(t,n){l.resolve=t,l.reject=n});return this._getRequests.push(l),t.forEach(function(t){-1===u._getKeys.indexOf(t)&&u._getKeys.push(t)}),o},multiSet:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiSet(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})},multiRemove:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiRemove(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})},multiMerge:function(t,n){return(0,l.default)(o,'RCTAsyncStorage not available'),new Promise(function(u,l){o.multiMerge(t,function(t){var o=c(t);n&&n(o),o?l(o):u(null)})})}};function c(t){return t?(Array.isArray(t)?t:[t]).map(function(t){return f(t)}):null}function f(t){if(!t)return null;var n=new Error(t.message);return n.key=t.key,n}o.multiMerge||(delete s.mergeItem,delete s.multiMerge),m.exports=s},367,[1,17,368,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),c=o.get('AsyncSQLiteDBStorage')||o.get('AsyncLocalStorage');e.default=c},368,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},369,[1,370]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('Clipboard');e.default=o},370,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4]));function s(t,n){var u=t[n];'object'==typeof u&&'function'==typeof u.getMonth&&(t[n]=u.getTime())}var l=(function(){function t(){(0,u.default)(this,t)}return(0,o.default)(t,null,[{key:"open",value:function(t){var u;return n.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return null!=(u=t)&&(s(u,'date'),s(u,'minDate'),s(u,'maxDate')),n.abrupt("return",c.default.open(t));case 3:case"end":return n.stop()}},null,null,null,Promise)}}]),t})();l.dateSetAction='dateSetAction',l.dismissedAction='dismissedAction',m.exports=l},371,[1,106,29,30,372]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('DatePickerAndroid');e.default=n},372,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));m.exports=t.default},373,[1,65]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6]));function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}!(function(t){(0,f.default)(p,t);var h,v,y=(h=p,v=s(),function(){var t,n=(0,l.default)(h);if(v){var u=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,o.default)(this,t)});function p(){var t;return(0,n.default)(this,p),(t=y.call(this,c.default))._menuItems=new Map,t}(0,u.default)(p,[{key:"addMenuItem",value:function(t,n){var u=this._menuItems.get(t);null!=u?this.removeListener('didPressMenuItem',u):c.default.addMenuItem(t),this._menuItems.set(t,n),this.addListener('didPressMenuItem',function(u){u.title===t&&n()})}},{key:"reload",value:function(t){'function'==typeof c.default.reloadWithReason?c.default.reloadWithReason(t||'Uncategorized from JS'):c.default.reload()}},{key:"onFastRefresh",value:function(){'function'==typeof c.default.onFastRefresh&&c.default.onFastRefresh()}}])})(t(r(d[7])).default);var h=(function(){function t(){(0,n.default)(this,t)}return(0,u.default)(t,[{key:"addMenuItem",value:function(t,n){}},{key:"reload",value:function(){}}]),t})();m.exports=new h},374,[1,29,30,40,42,39,375,145]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('DevSettings');e.default=n},375,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0]),n=o(r(d[1])),l=o(r(d[2])),t={canRecordVideos:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canRecordVideos(o)},canUseCamera:function(o){return(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.canUseCamera(o)},openCameraDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={videoMode:!0,unmirrorFrontFacingCamera:!1};return null!=o.videoMode&&(s.videoMode=o.videoMode),null!=o.unmirrorFrontFacingCamera&&(s.unmirrorFrontFacingCamera=o.unmirrorFrontFacingCamera),n.default.openCameraDialog(s,t,u)},openSelectDialog:function(o,t,u){(0,l.default)(n.default,'ImagePickerIOS is not available');var s={showImages:!0,showVideos:!1};return null!=o.showImages&&(s.showImages=o.showImages),null!=o.showVideos&&(s.showVideos=o.showVideos),n.default.openSelectDialog(s,t,u)},removePendingVideo:function(o){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.removePendingVideo(o)},clearAllPendingVideos:function(){(0,l.default)(n.default,'ImagePickerIOS is not available'),n.default.clearAllPendingVideos()}};m.exports=t},376,[1,377,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ImagePickerIOS');e.default=u},377,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),o=t(r(d[6]));function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=r(d[7]),y=r(d[8]),R=(r(d[9]),r(d[10])),p=(function(t){(0,f.default)(h,t);var y,p,L=(y=h,p=s(),function(){var t,n=(0,l.default)(y);if(p){var u=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function h(){return(0,n.default)(this,h),L.call(this,o.default)}return(0,u.default)(h,[{key:"addEventListener",value:function(t,n){this.addListener(t,n)}},{key:"removeEventListener",value:function(t,n){this.removeListener(t,n)}},{key:"openURL",value:function(t){return this._validateURL(t),o.default.openURL(t)}},{key:"canOpenURL",value:function(t){return this._validateURL(t),o.default.canOpenURL(t)}},{key:"openSettings",value:function(){return o.default.openSettings()}},{key:"getInitialURL",value:function(){return v.runAfterInteractions().then(function(){return o.default.getInitialURL()})}},{key:"sendIntent",value:function(t,n){return o.default.sendIntent(t,n)}},{key:"_validateURL",value:function(t){R('string'==typeof t,'Invalid URL: should be a string. Was: '+t),R(t,'Invalid URL: cannot be empty')}}]),h})(y);m.exports=new p},378,[1,29,30,40,42,39,379,240,145,53,6]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),f='android'===n(r(d[3])).default.OS?o.getEnforcing('IntentAndroid'):o.getEnforcing('LinkingManager');e.default=f},379,[1,12,14,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var n,o=r(d[0]),t=r(d[1]);t(r(d[2])),t(r(d[3])),o(r(d[4])),r(d[5]);n={ignoreLogs:function(n){},ignoreAllLogs:function(n){},install:function(){},uninstall:function(){}},m.exports=n},380,[12,1,53,168,102,112]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),o=r(d[1]),t=o.currentCentroidXOfTouchesChangedAfter,u=o.currentCentroidYOfTouchesChangedAfter,s=o.previousCentroidXOfTouchesChangedAfter,c=o.previousCentroidYOfTouchesChangedAfter,p=o.currentCentroidX,v=o.currentCentroidY,h={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=t(o,n._accountsForMovesUpTo),n.moveY=u(o,n._accountsForMovesUpTo);var p=n._accountsForMovesUpTo,v=s(o,p),h=t(o,p),l=c(o,p),S=u(o,p),R=n.dx+(h-v),T=n.dy+(S-l),f=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(R-n.dx)/f,n.vy=(T-n.dy)/f,n.dx=R,n.dy=T,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(o){var t={handle:null},u={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=o.onStartShouldSetPanResponder&&o.onStartShouldSetPanResponder(n,u)},onMoveShouldSetResponder:function(n){return null!=o.onMoveShouldSetPanResponder&&o.onMoveShouldSetPanResponder(n,u)},onStartShouldSetResponderCapture:function(n){return 1===n.nativeEvent.touches.length&&h._initializeGestureState(u),u.numberActiveTouches=n.touchHistory.numberActiveTouches,null!=o.onStartShouldSetPanResponderCapture&&o.onStartShouldSetPanResponderCapture(n,u)},onMoveShouldSetResponderCapture:function(n){var t=n.touchHistory;return u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),!!o.onMoveShouldSetPanResponderCapture&&o.onMoveShouldSetPanResponderCapture(n,u))},onResponderGrant:function(s){return t.handle||(t.handle=n.createInteractionHandle()),u.x0=p(s.touchHistory),u.y0=v(s.touchHistory),u.dx=0,u.dy=0,o.onPanResponderGrant&&o.onPanResponderGrant(s,u),null==o.onShouldBlockNativeResponder||o.onShouldBlockNativeResponder(s,u)},onResponderReject:function(n){l(t,o.onPanResponderReject,n,u)},onResponderRelease:function(n){l(t,o.onPanResponderRelease,n,u),h._initializeGestureState(u)},onResponderStart:function(n){var t=n.touchHistory;u.numberActiveTouches=t.numberActiveTouches,o.onPanResponderStart&&o.onPanResponderStart(n,u)},onResponderMove:function(n){var t=n.touchHistory;u._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(h._updateGestureStateOnMove(u,t),o.onPanResponderMove&&o.onPanResponderMove(n,u))},onResponderEnd:function(n){var s=n.touchHistory;u.numberActiveTouches=s.numberActiveTouches,l(t,o.onPanResponderEnd,n,u)},onResponderTerminate:function(n){l(t,o.onPanResponderTerminate,n,u),h._initializeGestureState(u)},onResponderTerminationRequest:function(n){return null==o.onPanResponderTerminationRequest||o.onPanResponderTerminationRequest(n,u)}},getInteractionHandle:function(){return t.handle}}}};function l(o,t,u,s){o.handle&&(n.clearInteractionHandle(o.handle),o.handle=null),t&&t(u,s)}m.exports=h},381,[240,382]);
__d(function(g,r,i,a,m,e,d){var n={centroidDimension:function(t,o,u,c){var f=t.touchBank,s=0,h=0,v=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==v)v.touchActive&&v.currentTimeStamp>o&&(s+=c&&u?v.currentPageX:c&&!u?v.currentPageY:!c&&u?v.previousPageX:v.previousPageY,h=1);else for(var C=0;C<f.length;C++){var l=f[C];if(null!==l&&void 0!==l&&l.touchActive&&l.currentTimeStamp>=o){s+=c&&u?l.currentPageX:c&&!u?l.currentPageY:!c&&u?l.previousPageX:l.previousPageY,h++}}return h>0?s/h:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,o){return n.centroidDimension(t,o,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},382,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),E=n(r(d[4])),u=n(r(d[5])),A=n(r(d[6])),c=n(r(d[7]));function _(n,s){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,o)}return t}function S(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(Object(o),!0).forEach(function(t){(0,s.default)(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}r(d[8]);var O=Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'}),l=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE'}),C=new((function(){function n(){(0,o.default)(this,n),this.PERMISSIONS=l,this.RESULTS=O}return(0,E.default)(n,[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.checkPermission(n)}},{key:"check",value:function(n){return(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.checkPermission(n)}},{key:"requestPermission",value:function(n,s){var o;return t.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),E.next=4;break;case 4:return E.next=6,t.default.awrap(this.request(n,s));case 6:return o=E.sent,E.abrupt("return",o===this.RESULTS.GRANTED);case 8:case"end":return E.stop()}},null,this,null,Promise)}},{key:"request",value:function(n,s){return t.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:o.next=3;break;case 3:if((0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),!s){o.next=10;break}return o.next=7,t.default.awrap(A.default.shouldShowRequestPermissionRationale(n));case 7:if(!o.sent||!u.default){o.next=10;break}return o.abrupt("return",new Promise(function(t,o){var E=S({},s);u.default.showAlert(E,function(){return o(new Error('Error showing rationale'))},function(){return t(A.default.requestPermission(n))})}));case 10:return o.abrupt("return",A.default.requestPermission(n));case 11:case"end":return o.stop()}},null,this,null,Promise)}},{key:"requestMultiple",value:function(n){return(0,c.default)(A.default,'PermissionsAndroid is not installed correctly.'),A.default.requestMultiplePermissions(n)}}]),n})());m.exports=C},383,[1,51,106,29,30,160,384,6,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('PermissionsAndroid');e.default=o},384,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=r(d[4]),c=r(d[5]),s=new u(l.default),f=new Map,v=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,null,[{key:"presentLocalNotification",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){c(l.default,'PushNotificationManager is not available.'),l.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;c('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=s.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=s.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=s.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=s.addListener("remoteNotificationRegistrationError",function(t){n(t)})),f.set(o,l)}},{key:"removeEventListener",value:function(t,o){c('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var n=f.get(t);n&&(n.remove(),f.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),c(l.default,'PushNotificationManager is not available.'),l.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){c(l.default,'PushNotificationManager is not available.'),l.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){c('function'==typeof t,'Must provide a valid callback'),c(l.default,'PushNotificationManager is not available.'),l.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return c(l.default,'PushNotificationManager is not available.'),l.default.getInitialNotification().then(function(o){return o&&new t(o)})}}]),(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,c(l.default,'PushNotificationManager is not available.'),l.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}]),t})();v.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=v},385,[1,29,30,386,145,6]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).get('PushNotificationManager');e.default=o},386,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={get:function(n){return console.warn('Settings is not yet supported on Android'),null},set:function(n){console.warn('Settings is not yet supported on Android')},watchKeys:function(n,t){return console.warn('Settings is not yet supported on Android'),-1},clearWatch:function(n){console.warn('Settings is not yet supported on Android')}};m.exports=n},387,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),o=t(r(d[2])),n=(t(r(d[3])),t(r(d[4]))),l=(r(d[5]),r(d[6])),u=(r(d[7]),(function(){function t(){(0,s.default)(this,t)}return(0,o.default)(t,null,[{key:"share",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l('object'==typeof t&&null!==t,'Content to share must be a valid object'),l('string'==typeof t.url||'string'==typeof t.message,'At least one of URL and message is required'),l('object'==typeof s&&null!==s,'Options must be a valid object'),l(n.default,'ShareModule should be registered on Android.'),l(!t.title||'string'==typeof t.title,'Invalid title: title should be a string.');var o={title:t.title,message:'string'==typeof t.message?t.message:void 0};return n.default.share(o,s.dialogTitle)}}]),t})());u.sharedAction='sharedAction',u.dismissedAction='dismissedAction',m.exports=u},388,[1,29,30,346,389,53,6,80]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).get('ShareModule');e.default=u},389,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),c=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5]));function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=(function(t){(0,u.default)(h,t);var o,s,p=(o=h,s=l(),function(){var t,n=(0,f.default)(o);if(s){var u=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function h(){return(0,n.default)(this,h),p.apply(this,arguments)}return h})(r(d[6]));m.exports=new s(o.default)},390,[1,29,40,42,39,312,145]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),s={SHORT:t.default.getConstants().SHORT,LONG:t.default.getConstants().LONG,TOP:t.default.getConstants().TOP,BOTTOM:t.default.getConstants().BOTTOM,CENTER:t.default.getConstants().CENTER,show:function(s,n){t.default.show(s,n)},showWithGravity:function(s,n,f){t.default.showWithGravity(s,n,f)},showWithGravityAndOffset:function(s,n,f,o,u){t.default.showWithGravityAndOffset(s,n,f,o,u)}};m.exports=s},391,[1,392]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])).getEnforcing('ToastAndroid');e.default=o},392,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,n.useMemo)(function(){return{getCurrentValue:function(){return o.default.getColorScheme()},subscribe:function(t){return o.default.addChangeListener(t),function(){return o.default.removeChangeListener(t)}}}},[]);return(0,u.useSubscription)(t)};var n=r(d[1]),u=r(d[2]),o=t(r(d[3]))},393,[1,59,394,347]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},394,[395]);
__d(function(g,r,i,a,m,e,d){'use strict';var u=r(d[0]),t=r(d[1]);e.useSubscription=function(n){var s=n.getCurrentValue,c=n.subscribe,b=t.useState(function(){return{getCurrentValue:s,subscribe:c,value:s()}});n=b[0];var l=b[1];return b=n.value,n.getCurrentValue===s&&n.subscribe===c||(b=s(),l({getCurrentValue:s,subscribe:c,value:b})),t.useDebugValue(b),t.useEffect(function(){function t(){if(!n){var t=s();l(function(n){return n.getCurrentValue!==s||n.subscribe!==c||n.value===t?n:u({},n,{value:t})})}}var n=!1,b=c(t);return t(),function(){n=!0,b()}},[s,c]),b}},395,[61,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,f.useState)(function(){return u.default.get('window')}),c=(0,n.default)(t,2),o=c[0],l=c[1];return(0,f.useEffect)(function(){function t(t){var n=t.window;o.width===n.width&&o.height===n.height&&o.scale===n.scale&&o.fontScale===n.fontScale||l(n)}return u.default.addEventListener('change',t),t({window:u.default.get('window')}),function(){u.default.removeEventListener('change',t)}},[o]),o};var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3])},396,[1,17,64,59]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n=(r(d[2]),400);var o={vibrate:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if('number'==typeof o)t.default.vibrate(o);else{if(!Array.isArray(o))throw new Error('Vibration pattern should be a number or array');t.default.vibrateByPattern(o,u?0:-1)}},cancel:function(){t.default.cancel()}};m.exports=o},397,[1,398,53]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])).getEnforcing('Vibration');e.default=n},398,[12,14]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=r(d[2]),c=r(d[3]),o=r(d[4]);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var l,s=r(d[5]);r(d[6]);l=(function(l){u(v,l);var s,y,p=(s=v,y=f(),function(){var t,n=o(s);if(y){var u=o(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return c(this,t)});function v(){return t(this,v),p.apply(this,arguments)}return n(v,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(t){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),v})(s.Component),m.exports=l},399,[29,30,40,42,39,59,380]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;e.DynamicColorIOS=function(o){throw new Error('DynamicColorIOS is not available on this platform.')}},400,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.ColorAndroid=void 0;var o=r(d[0]);e.ColorAndroid=function(n){return(0,o.ColorAndroidPrivate)(n)}},401,[70]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),s=n.shape({x:n.number,y:n.number});m.exports=s},402,[72]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=c.NativeModules.RNBackgroundTimer,o=new c.NativeEventEmitter(l),s=new((function(){function t(){var u=this;(0,n.default)(this,t),this.uniqueId=0,this.callbacks={},o.addListener('backgroundTimer.timeout',function(t){if(u.callbacks[t]){var n=u.callbacks[t].callback;u.callbacks[t].interval?l.setTimeout(t,u.callbacks[t].timeout):delete u.callbacks[t],n()}})}return(0,u.default)(t,[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return l.start(t)}},{key:"stop",value:function(){return l.stop()}},{key:"runBackgroundTimer",value:function(t,n){var u=this,l=c.Platform.select({ios:function(){return c.NativeAppEventEmitter},android:function(){return c.DeviceEventEmitter}})();this.start(0),this.backgroundListener=l.addListener('backgroundTimer',function(){u.backgroundListener.remove(),u.backgroundClockMethod(t,n)})}},{key:"backgroundClockMethod",value:function(t,n){var u=this;this.backgroundTimer=this.setTimeout(function(){t(),u.backgroundClockMethod(t,n)},n)}},{key:"stopBackgroundTimer",value:function(){this.stop(),this.clearTimeout(this.backgroundTimer)}},{key:"setTimeout",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!1,timeout:n},l.setTimeout(u,n),u}},{key:"clearTimeout",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}},{key:"setInterval",value:function(t,n){this.uniqueId+=1;var u=this.uniqueId;return this.callbacks[u]={callback:t,interval:!0,timeout:n},l.setTimeout(u,n),u}},{key:"clearInterval",value:function(t){this.callbacks[t]&&delete this.callbacks[t]}}]),t})());e.default=s},403,[1,29,30,5]);
__d(function(g,r,i,a,m,e,d){(0,r(d[0]).setupURLPolyfill)()},404,[405]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={setupURLPolyfill:!0};e.setupURLPolyfill=function(){g.REACT_NATIVE_URL_POLYFILL=o.name+"@"+o.version,(0,n.polyfillGlobal)('URL',function(){return r(d[3]).URL}),(0,n.polyfillGlobal)('URLSearchParams',function(){return r(d[4]).URLSearchParams})},r(d[0]);var n=r(d[1]),o=r(d[2]),l=r(d[3]);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))});var u=r(d[4]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))})},405,[406,120,407,408,423]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=parseInt(t.Platform.Version,10);'ios'===t.Platform.OS&&10===n&&null==Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,'byteLength')&&Object.defineProperty(ArrayBuffer.prototype,'byteLength',{configurable:!0,enumerable:!1,get:function(){return null}})},406,[5]);
__d(function(e,t,i,r,a,l,n){a.exports={_args:[["react-native-url-polyfill@1.2.0","/Users/brajendrakumar/testt/sariska-media-react-native"]],_from:"react-native-url-polyfill@1.2.0",_id:"react-native-url-polyfill@1.2.0",_inBundle:!1,_integrity:"sha512-hpLZ8RyS3oGVyTOe/HjoqVoCOSkeJvrCoEB3bJsY7t9uh7kpQDV6kgvdlECEafYpxe3RzMrKLVcmWRbPU7CuAw==",_location:"/react-native-url-polyfill",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"react-native-url-polyfill@1.2.0",name:"react-native-url-polyfill",escapedName:"react-native-url-polyfill",rawSpec:"1.2.0",saveSpec:null,fetchSpec:"1.2.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/react-native-url-polyfill/-/react-native-url-polyfill-1.2.0.tgz",_spec:"1.2.0",_where:"/Users/brajendrakumar/testt/sariska-media-react-native",author:{name:"Nicolas Charpentier",email:"nicolas.charpentier079@gmail.com"},bugs:{url:"https://github.com/charpeni/react-native-url-polyfill/issues"},dependencies:{"whatwg-url-without-unicode":"8.0.0-3"},description:"A lightweight and trustworthy URL polyfill for React Native",devDependencies:{"@react-native-community/eslint-config":"^2.0.0",chalk:"^4.0.0",eslint:"^7.1.0","eslint-plugin-prettier":"^3.1.3",execa:"^4.0.2",filesize:"^6.1.0",husky:">=1",jest:"^26.0.1","lint-staged":">=8","metro-react-native-babel-preset":"^0.60.0",ora:"^4.0.4","prepend-file":"^1.3.1",prettier:"^2.0.5",react:"16.13.1","react-native":"0.63.1",rmfr:"^2.0.0","source-map-explorer":"^2.4.2",tmp:"^0.2.1",typescript:"^3.9.6",uuid:"^8.1.0"},homepage:"https://github.com/charpeni/react-native-url-polyfill",husky:{hooks:{"pre-commit":"lint-staged"}},jest:{preset:"react-native",testPathIgnorePatterns:["/node_modules/","./detox/"]},keywords:["URL","URLSearchParams","polyfill","react native","whatwg-url"],license:"MIT","lint-staged":{"*.js":["eslint --fix","git add"]},main:"index.js",name:"react-native-url-polyfill",peerDependencies:{"react-native":"*"},repository:{type:"git",url:"git+https://github.com/charpeni/react-native-url-polyfill.git"},scripts:{"bundle-size":"node scripts/bundle-size",lint:"eslint .",test:"jest"},types:"index.d.ts",version:"1.2.0"}},407,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var t=r(d[0]),o=r(d[1]).NativeModules.NativeBlobModule,n=null;if(o&&'string'==typeof o.getConstants().BLOB_URI_SCHEME){var f=o.getConstants();n=f.BLOB_URI_SCHEME+':','string'==typeof f.BLOB_URI_HOST&&(n+="//"+f.BLOB_URI_HOST+"/")}t.URL.createObjectURL=function(t){if(null===n)throw new Error('Cannot create URL for blob!');return""+n+t.data.blobId+"?offset="+t.data.offset+"&size="+t.size},t.URL.revokeObjectURL=function(t){};var s=t.URL;e.URL=s},408,[409,5]);
__d(function(g,r,i,a,m,e,d){"use strict";var s=r(d[0]),t=s.URL,n=s.URLSearchParams,U=r(d[1]),L=r(d[2]),R={};t.install(R),n.install(R),e.URL=R.URL,e.URLSearchParams=R.URLSearchParams,e.parseURL=U.parseURL,e.basicURLParse=U.basicURLParse,e.serializeURL=U.serializeURL,e.serializeHost=U.serializeHost,e.serializeInteger=U.serializeInteger,e.serializeURLOrigin=U.serializeURLOrigin,e.setTheUsername=U.setTheUsername,e.setThePassword=U.setThePassword,e.cannotHaveAUsernamePasswordPort=U.cannotHaveAUsernamePasswordPort,e.percentDecode=L.percentDecode},409,[410,415,420]);
__d(function(g,r,i,a,m,e,d){"use strict";var c=r(d[0]),s=r(d[1]);e.URL=c,e.URLSearchParams=s},410,[411,421]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),o=r(d[1]),n=r(d[2]);function s(t,o){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=l(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function l(t,o){if(t){if("string"==typeof t)return h(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,o):void 0}}function h(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,s=new Array(o);n<o;n++)s[n]=t[n];return s}var p=r(d[3]),u=r(d[4]),c=u.implSymbol,f=u.ctorRegistrySymbol,v={_mixedIntoPredicates:[],is:function(t){if(t){if(u.hasOwn(t,c)&&t[c]instanceof y.implementation)return!0;for(var o,n=s(m.exports._mixedIntoPredicates);!(o=n()).done;){if((0,o.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof y.implementation)return!0;for(var o,n=u.wrapperForImpl(t),l=s(m.exports._mixedIntoPredicates);!(o=l()).done;){if((0,o.value)(n))return!0}}return!1},convert:function(t){var o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,n=void 0===o?"The provided value":o;if(m.exports.is(t))return u.implForWrapper(t);throw new TypeError(n+" is not of type 'URL'.")},create:function(t,o,n){if(void 0===t[f])throw new Error("Internal error: invalid global object");var s=t[f].URL;if(void 0===s)throw new Error("Internal error: constructor URL is not installed on the passed global object");var l=Object.create(s.prototype);return l=v.setup(l,t,o,n)},createImpl:function(t,o,n){var s=v.create(t,o,n);return u.implForWrapper(s)},_internalSetup:function(t){},setup:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s.wrapper=t,v._internalSetup(t),Object.defineProperty(t,c,{value:new y.implementation(o,n,s),configurable:!0}),t[c][u.wrapperSymbol]=t,y.init&&y.init(t[c],s),t},install:function(s){var l=(function(){function t(n){if(o(this,t),arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");var l=[],h=arguments[0];h=p.USVString(h,{context:"Failed to construct 'URL': parameter 1"}),l.push(h);var u=arguments[1];return void 0!==u&&(u=p.USVString(u,{context:"Failed to construct 'URL': parameter 2"})),l.push(u),v.setup(Object.create(this.constructor.prototype),s,l)}return n(t,[{key:"toJSON",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].toJSON()}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].href}},{key:"href",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].href},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'href' property on 'URL': The provided value"}),this[c].href=t}},{key:"origin",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].origin}},{key:"protocol",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].protocol},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'protocol' property on 'URL': The provided value"}),this[c].protocol=t}},{key:"username",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].username},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'username' property on 'URL': The provided value"}),this[c].username=t}},{key:"password",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].password},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'password' property on 'URL': The provided value"}),this[c].password=t}},{key:"host",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].host},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'host' property on 'URL': The provided value"}),this[c].host=t}},{key:"hostname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].hostname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'hostname' property on 'URL': The provided value"}),this[c].hostname=t}},{key:"port",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].port},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'port' property on 'URL': The provided value"}),this[c].port=t}},{key:"pathname",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].pathname},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'pathname' property on 'URL': The provided value"}),this[c].pathname=t}},{key:"search",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].search},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'search' property on 'URL': The provided value"}),this[c].search=t}},{key:"searchParams",get:function(){var t=this;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return u.getSameObject(this,"searchParams",function(){return u.tryWrapperForImpl(t[c].searchParams)})}},{key:"hash",get:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[c].hash},set:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");t=p.USVString(t,{context:"Failed to set the 'hash' property on 'URL': The provided value"}),this[c].hash=t}}]),t})();Object.defineProperties(l.prototype,t({toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0}},Symbol.toStringTag,{value:"URL",configurable:!0})),void 0===s[f]&&(s[f]=Object.create(null)),s[f].URL=l,Object.defineProperty(s,"URL",{configurable:!0,writable:!0,value:l})}};m.exports=v;var y=r(d[5])},411,[51,29,30,412,413,414]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n,t){return(t&&t.context?t.context:"Value")+" "+n+"."}function t(n){if(null===n)return"Null";switch(typeof n){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";case"object":case"function":default:return"Object"}}function o(n){return s(n>0&&n%1==.5&&0==(1&n)||n<0&&n%1==-.5&&1==(1&n)?Math.floor(n):Math.round(n))}function u(n){return s(Math.trunc(n))}function f(n){return n<0?-1:1}function c(n,t){var o=n%t;return f(t)!==f(o)?o+t:o}function s(n){return 0===n?0:n}function l(t,f){var l,y,w=!f.unsigned;64===t?(y=Math.pow(2,53)-1,l=w?1-Math.pow(2,53):0):w?(l=-Math.pow(2,t-1),y=Math.pow(2,t-1)-1):(l=0,y=Math.pow(2,t)-1);var h=Math.pow(2,t),p=Math.pow(2,t-1);return function(t,f){void 0===f&&(f={});var b=+t;if(b=s(b),f.enforceRange){if(!Number.isFinite(b))throw new TypeError(n("is not a finite number",f));if((b=u(b))<l||b>y)throw new TypeError(n("is outside the accepted range of "+l+" to "+y+", inclusive",f));return b}return!Number.isNaN(b)&&f.clamp?b=o(b=Math.min(Math.max(b,l),y)):Number.isFinite(b)&&0!==b?(b=u(b))>=l&&b<=y?b:(b=c(b,h),w&&b>=p?b-h:b):0}}function y(t,o){if("function"!=typeof t)throw new TypeError(n("is not a function",o));return t}e.any=function(n){return n},e.void=function(){},e.boolean=function(n){return!!n},e.byte=l(8,{unsigned:!1}),e.octet=l(8,{unsigned:!0}),e.short=l(16,{unsigned:!1}),e["unsigned short"]=l(16,{unsigned:!0}),e.long=l(32,{unsigned:!1}),e["unsigned long"]=l(32,{unsigned:!0}),e["long long"]=l(64,{unsigned:!1}),e["unsigned long long"]=l(64,{unsigned:!0}),e.double=function(t,o){var u=+t;if(!Number.isFinite(u))throw new TypeError(n("is not a finite floating-point value",o));return u},e["unrestricted double"]=function(n){return+n},e.float=function(t,o){var u=+t;if(!Number.isFinite(u))throw new TypeError(n("is not a finite floating-point value",o));if(Object.is(u,-0))return u;var f=Math.fround(u);if(!Number.isFinite(f))throw new TypeError(n("is outside the range of a single-precision floating-point value",o));return f},e["unrestricted float"]=function(n){var t=+n;return isNaN(t)?t:Object.is(t,-0)?t:Math.fround(t)},e.DOMString=function(t,o){if(void 0===o&&(o={}),o.treatNullAsEmptyString&&null===t)return"";if("symbol"==typeof t)throw new TypeError(n("is a symbol, which cannot be converted to a string",o));return String(t)},e.ByteString=function(t,o){for(var u,f=e.DOMString(t,o),c=0;void 0!==(u=f.codePointAt(c));++c)if(u>255)throw new TypeError(n("is not a valid ByteString",o));return f},e.USVString=function(n,t){for(var o=e.DOMString(n,t),u=o.length,f=[],c=0;c<u;++c){var s=o.charCodeAt(c);if(s<55296||s>57343)f.push(String.fromCodePoint(s));else if(56320<=s&&s<=57343)f.push(String.fromCodePoint(65533));else if(c===u-1)f.push(String.fromCodePoint(65533));else{var l=o.charCodeAt(c+1);if(56320<=l&&l<=57343){var y=1023&s,w=1023&l;f.push(String.fromCodePoint(65536+1024*y+w)),++c}else f.push(String.fromCodePoint(65533))}}return f.join("")},e.object=function(o,u){if("Object"!==t(o))throw new TypeError(n("is not an object",u));return o};var w=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function h(n){try{return w.call(n),!0}catch(n){return!1}}e.ArrayBuffer=function(t,o){if(!h(t))throw new TypeError(n("is not a view on an ArrayBuffer object",o));return t};var p=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;e.DataView=function(t,o){try{return p.call(t),t}catch(t){throw new TypeError(n("is not a view on an DataView object",o))}},[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(function(t){var o=t.name,u=/^[AEIOU]/.test(o)?"an":"a";e[o]=function(t,f){if(!ArrayBuffer.isView(t)||t.constructor.name!==o)throw new TypeError(n("is not "+u+" "+o+" object",f));return t}}),e.ArrayBufferView=function(t,o){if(!ArrayBuffer.isView(t))throw new TypeError(n("is not a view on an ArrayBuffer object",o));return t},e.BufferSource=function(t,o){if(!ArrayBuffer.isView(t)&&!h(t))throw new TypeError(n("is not an ArrayBuffer object or a view on one",o));return t},e.DOMTimeStamp=e["unsigned long long"],e.Function=y,e.VoidFunction=y},412,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=Symbol("wrapper"),o=Symbol("impl"),p=Symbol("SameObject caches"),n=Symbol.for("[webidl2js]  constructor registry");function y(o){return o?o[t]:null}function l(t){return t?t[o]:null}var s=Symbol("internal"),u=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));var c=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;var b=Symbol("supports property index"),S=Symbol("supported property indices"),f=Symbol("supports property name"),x=Symbol("supported property names"),O=Symbol("indexed property get"),w=Symbol("indexed property set new"),j=Symbol("indexed property set existing"),P=Symbol("named property get"),I=Symbol("named property set new"),v=Symbol("named property set existing"),h=Symbol("named property delete");m.exports={isObject:function(t){return"object"==typeof t&&null!==t||"function"==typeof t},hasOwn:function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},wrapperSymbol:t,implSymbol:o,getSameObject:function(t,o,n){return t[p]||(t[p]=Object.create(null)),o in t[p]?t[p][o]:(t[p][o]=n(),t[p][o])},ctorRegistrySymbol:n,wrapperForImpl:y,implForWrapper:l,tryWrapperForImpl:function(t){var o=y(t);return o||t},tryImplForWrapper:function(t){var o=l(t);return o||t},iterInternalSymbol:s,IteratorPrototype:u,isArrayBuffer:function(t){try{return c.call(t),!0}catch(t){return!1}},isArrayIndexPropName:function(t){if("string"!=typeof t)return!1;var o=t>>>0;return o!==Math.pow(2,32)-1&&t===""+o},supportsPropertyIndex:b,supportedPropertyIndices:S,supportsPropertyName:f,supportedPropertyNames:x,indexedGet:O,indexedSetNew:w,indexedSetExisting:j,namedGet:P,namedSetNew:I,namedSetExisting:v,namedDelete:h}},413,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),n=r(d[2]),u=r(d[3]),l=r(d[4]);e.implementation=(function(){function h(s,u){t(this,h);var o=u[0],_=u[1],c=null;if(void 0!==_&&null===(c=n.basicURLParse(_)))throw new TypeError("Invalid base URL: "+_);var f=n.basicURLParse(o,{baseURL:c});if(null===f)throw new TypeError("Invalid URL: "+o);var y=null!==f.query?f.query:"";this._url=f,this._query=l.createImpl(s,[y],{doNotStripQMark:!0}),this._query._url=this}return s(h,[{key:"toJSON",value:function(){return this.href}},{key:"href",get:function(){return n.serializeURL(this._url)},set:function(t){var s=n.basicURLParse(t);if(null===s)throw new TypeError("Invalid URL: "+t);this._url=s,this._query._list.splice(0);var l=s.query;null!==l&&(this._query._list=u.parseUrlencoded(l))}},{key:"origin",get:function(){return n.serializeURLOrigin(this._url)}},{key:"protocol",get:function(){return this._url.scheme+":"},set:function(t){n.basicURLParse(t+":",{url:this._url,stateOverride:"scheme start"})}},{key:"username",get:function(){return this._url.username},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,t)}},{key:"password",get:function(){return this._url.password},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,t)}},{key:"host",get:function(){var t=this._url;return null===t.host?"":null===t.port?n.serializeHost(t.host):n.serializeHost(t.host)+":"+n.serializeInteger(t.port)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"host"})}},{key:"hostname",get:function(){return null===this._url.host?"":n.serializeHost(this._url.host)},set:function(t){this._url.cannotBeABaseURL||n.basicURLParse(t,{url:this._url,stateOverride:"hostname"})}},{key:"port",get:function(){return null===this._url.port?"":n.serializeInteger(this._url.port)},set:function(t){n.cannotHaveAUsernamePasswordPort(this._url)||(""===t?this._url.port=null:n.basicURLParse(t,{url:this._url,stateOverride:"port"}))}},{key:"pathname",get:function(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")},set:function(t){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(t,{url:this._url,stateOverride:"path start"}))}},{key:"search",get:function(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query},set:function(t){var s=this._url;if(""===t)return s.query=null,void(this._query._list=[]);var l="?"===t[0]?t.substring(1):t;s.query="",n.basicURLParse(l,{url:s,stateOverride:"query"}),this._query._list=u.parseUrlencoded(l)}},{key:"searchParams",get:function(){return this._query}},{key:"hash",get:function(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment},set:function(t){if(""!==t){var s="#"===t[0]?t.substring(1):t;this._url.fragment="",n.basicURLParse(s,{url:this._url,stateOverride:"fragment"})}else this._url.fragment=null}}]),h})()},414,[29,30,415,420,421]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,h){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||h&&t&&"number"==typeof t.length){n&&(t=n);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function s(t,s){if(t){if("string"==typeof t)return h(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,s):void 0}}function h(t,s){(null==s||s>t.length)&&(s=t.length);for(var h=0,n=new Array(s);h<s;h++)n[h]=t[h];return n}var n=r(d[0]).Buffer,u=r(d[1]),o=r(d[2]),l=r(d[3]),p=l.percentEncode,f=l.percentDecode,c={ftp:21,file:null,http:80,https:443,ws:80,wss:443},b=Symbol("failure");function v(t){return u.ucs2.decode(t).length}function y(t,s){var h=t[s];return isNaN(h)?void 0:String.fromCodePoint(h)}function A(t){return"."===t||"%2e"===t.toLowerCase()}function w(t){return 2===t.length&&o.isASCIIAlpha(t.codePointAt(0))&&(":"===t[1]||"|"===t[1])}function I(t){return void 0!==c[t]}function S(t){return I(t.scheme)}function E(t){return!I(t.scheme)}function O(t){return c[t]}function C(t){for(var s=n.from(t),h="",u=0;u<s.length;++u)h+=p(s[u]);return h}function q(t){return t<=31||t>126}var N=new Set([47,58,59,61,64,91,92,93,94,124]);function x(t){return B(t)||N.has(t)}var L=new Set([32,34,60,62,96]);function U(t){return q(t)||L.has(t)}var R=new Set([35,63,123,125]);function B(t){return U(t)||R.has(t)}function F(t,s){var h=String.fromCodePoint(t);return s(t)?C(h):h}function P(t){var s=10;if(t.length>=2&&"0"===t.charAt(0)&&"x"===t.charAt(1).toLowerCase()?(t=t.substring(2),s=16):t.length>=2&&"0"===t.charAt(0)&&(t=t.substring(1),s=8),""===t)return 0;var h=/[^0-7]/;return 10===s&&(h=/[^0-9]/),16===s&&(h=/[^0-9A-Fa-f]/),h.test(t)?b:parseInt(t,s)}function H(s){var h=s.split(".");if(""===h[h.length-1]&&h.length>1&&h.pop(),h.length>4)return s;for(var n,u=[],o=t(h);!(n=o()).done;){var l=n.value;if(""===l)return s;var p=P(l);if(p===b)return s;u.push(p)}for(var f=0;f<u.length-1;++f)if(u[f]>255)return b;if(u[u.length-1]>=Math.pow(256,5-u.length))return b;for(var c=u.pop(),v=0,y=0,A=u;y<A.length;y++){c+=A[y]*Math.pow(256,3-v),++v}return c}function k(t){for(var s="",h=t,n=1;n<=4;++n)s=String(h%256)+s,4!==n&&(s="."+s),h=Math.floor(h/256);return s}function D(t){var s=[0,0,0,0,0,0,0,0],h=0,n=null,l=0;if(58===(t=u.ucs2.decode(t))[l]){if(58!==t[l+1])return b;l+=2,n=++h}for(;l<t.length;){if(8===h)return b;if(58!==t[l]){for(var p=0,f=0;f<4&&o.isASCIIHex(t[l]);)p=16*p+parseInt(y(t,l),16),++l,++f;if(46===t[l]){if(0===f)return b;if(l-=f,h>6)return b;for(var c=0;void 0!==t[l];){var v=null;if(c>0){if(!(46===t[l]&&c<4))return b;++l}if(!o.isASCIIDigit(t[l]))return b;for(;o.isASCIIDigit(t[l]);){var A=parseInt(y(t,l));if(null===v)v=A;else{if(0===v)return b;v=10*v+A}if(v>255)return b;++l}s[h]=256*s[h]+v,2!==++c&&4!==c||++h}if(4!==c)return b;break}if(58===t[l]){if(void 0===t[++l])return b}else if(void 0!==t[l])return b;s[h]=p,++h}else{if(null!==n)return b;++l,n=++h}}if(null!==n){var w=h-n;for(h=7;0!==h&&w>0;){var I=s[n+w-1];s[n+w-1]=s[h],s[h]=I,--h,--w}}else if(null===n&&8!==h)return b;return s}function T(t){for(var s="",h=j(t).idx,n=!1,u=0;u<=7;++u){if(!n||0!==t[u])if(n&&(n=!1),h!==u)s+=t[u].toString(16),7!==u&&(s+=":");else s+=0===u?"::":":",n=!0}return s}function z(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("["===t[0])return"]"!==t[t.length-1]?b:D(t.substring(1,t.length-1));if(s)return M(t);var h=_(f(n.from(t)).toString());if(h===b)return b;if(-1!==h.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return b;var u=H(h);return"number"==typeof u||u===b?u:h}function M(t){if(-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return b;for(var s="",h=u.ucs2.decode(t),n=0;n<h.length;++n)s+=F(h[n],q);return s}function j(t){for(var s=null,h=1,n=null,u=0,o=0;o<t.length;++o)0!==t[o]?(u>h&&(s=n,h=u),n=null,u=0):(null===n&&(n=o),++u);return u>h&&(s=n,h=u),{idx:s,len:h}}function $(t){return"number"==typeof t?k(t):t instanceof Array?"["+T(t)+"]":t}function _(t){return null===t?b:t}function Z(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function G(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function J(t){var s,h=t.path;0!==h.length&&("file"===t.scheme&&1===h.length&&(s=h[0],/^[A-Za-z]:$/.test(s))||h.pop())}function K(t){return""!==t.username||""!==t.password}function Q(t,s,h,n,o){if(this.pointer=0,this.input=t,this.base=s||null,this.encodingOverride=h||"utf-8",this.stateOverride=o,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};var l=Z(this.input);l!==this.input&&(this.parseError=!0),this.input=l}var p=G(this.input);for(p!==this.input&&(this.parseError=!0),this.input=p,this.state=o||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=u.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){var f=this.input[this.pointer],c=isNaN(f)?void 0:String.fromCodePoint(f),v=this["parse "+this.state](f,c);if(!v)break;if(v===b){this.failure=!0;break}}}Q.prototype["parse scheme start"]=function(t,s){if(o.isASCIIAlpha(t))this.buffer+=s.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,b;this.state="no scheme",--this.pointer}return!0},Q.prototype["parse scheme"]=function(t,s){if(o.isASCIIAlphanumeric(t)||43===t||45===t||46===t)this.buffer+=s.toLowerCase();else if(58===t){if(this.stateOverride){if(S(this.url)&&!I(this.buffer))return!1;if(!S(this.url)&&I(this.buffer))return!1;if((K(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===O(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):S(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":S(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,b;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},Q.prototype["parse no scheme"]=function(t){return null===this.base||this.base.cannotBeABaseURL&&35!==t?b:(this.base.cannotBeABaseURL&&35===t?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},Q.prototype["parse special relative or authority"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},Q.prototype["parse path or authority"]=function(t){return 47===t?this.state="authority":(this.state="path",--this.pointer),!0},Q.prototype["parse relative"]=function(t){return this.url.scheme=this.base.scheme,isNaN(t)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===t?this.state="relative slash":63===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):S(this.url)&&92===t?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},Q.prototype["parse relative slash"]=function(t){return!S(this.url)||47!==t&&92!==t?47===t?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===t&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},Q.prototype["parse special authority slashes"]=function(t){return 47===t&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},Q.prototype["parse special authority ignore slashes"]=function(t){return 47!==t&&92!==t?(this.state="authority",--this.pointer):this.parseError=!0,!0},Q.prototype["parse authority"]=function(t,s){if(64===t){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;for(var h=v(this.buffer),n=0;n<h;++n){var u=this.buffer.codePointAt(n);if(58!==u||this.passwordTokenSeenFlag){var o=F(u,x);this.passwordTokenSeenFlag?this.url.password+=o:this.url.username+=o}else this.passwordTokenSeenFlag=!0}this.buffer=""}else if(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t){if(this.atFlag&&""===this.buffer)return this.parseError=!0,b;this.pointer-=v(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=s;return!0},Q.prototype["parse hostname"]=Q.prototype["parse host"]=function(t,s){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==t||this.arrFlag)if(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t){if(--this.pointer,S(this.url)&&""===this.buffer)return this.parseError=!0,b;if(this.stateOverride&&""===this.buffer&&(K(this.url)||null!==this.url.port))return this.parseError=!0,!1;var h=z(this.buffer,E(this.url));if(h===b)return b;if(this.url.host=h,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===t?this.arrFlag=!0:93===t&&(this.arrFlag=!1),this.buffer+=s;else{if(""===this.buffer)return this.parseError=!0,b;var n=z(this.buffer,E(this.url));if(n===b)return b;if(this.url.host=n,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},Q.prototype["parse port"]=function(t,s){if(o.isASCIIDigit(t))this.buffer+=s;else{if(!(isNaN(t)||47===t||63===t||35===t||S(this.url)&&92===t||this.stateOverride))return this.parseError=!0,b;if(""!==this.buffer){var h=parseInt(this.buffer);if(h>Math.pow(2,16)-1)return this.parseError=!0,b;this.url.port=h===O(this.url.scheme)?null:h,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};var V=new Set([47,92,63,35]);function W(t,s){var h,n,u=t.length-s;return u>=2&&(h=t[s],n=t[s+1],o.isASCIIAlpha(h)&&(58===n||124===n))&&(2===u||V.has(t[s+2]))}Q.prototype["parse file"]=function(t){return this.url.scheme="file",47===t||92===t?(92===t&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(t)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===t?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(W(this.input,this.pointer)?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),J(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},Q.prototype["parse file slash"]=function(t){var s;return 47===t||92===t?(92===t&&(this.parseError=!0),this.state="file host"):(null===this.base||"file"!==this.base.scheme||W(this.input,this.pointer)||(2===(s=this.base.path[0]).length&&o.isASCIIAlpha(s.codePointAt(0))&&":"===s[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},Q.prototype["parse file host"]=function(t,s){if(isNaN(t)||47===t||92===t||63===t||35===t)if(--this.pointer,!this.stateOverride&&w(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{var h=z(this.buffer,E(this.url));if(h===b)return b;if("localhost"===h&&(h=""),this.url.host=h,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=s;return!0},Q.prototype["parse path start"]=function(t){return S(this.url)?(92===t&&(this.parseError=!0),this.state="path",47!==t&&92!==t&&--this.pointer):this.stateOverride||63!==t?this.stateOverride||35!==t?void 0!==t&&(this.state="path",47!==t&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},Q.prototype["parse path"]=function(t){if(isNaN(t)||47===t||S(this.url)&&92===t||!this.stateOverride&&(63===t||35===t)){if(S(this.url)&&92===t&&(this.parseError=!0),".."===(s=(s=this.buffer).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(J(this.url),47===t||S(this.url)&&92===t||this.url.path.push("")):!A(this.buffer)||47===t||S(this.url)&&92===t?A(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&w(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===t||63===t||35===t))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===t&&(this.url.query="",this.state="query"),35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=F(t,B);var s;return!0},Q.prototype["parse cannot-be-a-base-URL path"]=function(t){return 63===t?(this.url.query="",this.state="query"):35===t?(this.url.fragment="",this.state="fragment"):(isNaN(t)||37===t||(this.parseError=!0),37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(t)||(this.url.path[0]+=F(t,q))),!0},Q.prototype["parse query"]=function(t,s){if(isNaN(t)||!this.stateOverride&&35===t){S(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");for(var h=n.from(this.buffer),u=0;u<h.length;++u)h[u]<33||h[u]>126||34===h[u]||35===h[u]||60===h[u]||62===h[u]||39===h[u]&&S(this.url)?this.url.query+=p(h[u]):this.url.query+=String.fromCodePoint(h[u]);this.buffer="",35===t&&(this.url.fragment="",this.state="fragment")}else 37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=s;return!0},Q.prototype["parse fragment"]=function(t){return isNaN(t)||(0===t?this.parseError=!0:(37!==t||o.isASCIIHex(this.input[this.pointer+1])&&o.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=F(t,U))),!0},m.exports.serializeURL=function(s,h){var n=s.scheme+":";if(null!==s.host?(n+="//",""===s.username&&""===s.password||(n+=s.username,""!==s.password&&(n+=":"+s.password),n+="@"),n+=$(s.host),null!==s.port&&(n+=":"+s.port)):null===s.host&&"file"===s.scheme&&(n+="//"),s.cannotBeABaseURL)n+=s.path[0];else for(var u,o=t(s.path);!(u=o()).done;)n+="/"+u.value;return null!==s.query&&(n+="?"+s.query),h||null===s.fragment||(n+="#"+s.fragment),n},m.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return m.exports.serializeURLOrigin(m.exports.parseURL(t.path[0]))}catch(t){return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return s={scheme:t.scheme,host:t.host,port:t.port},h=s.scheme+"://",h+=$(s.host),null!==s.port&&(h+=":"+s.port),h;case"file":default:return"null"}var s,h},m.exports.basicURLParse=function(t,s){void 0===s&&(s={});var h=new Q(t,s.baseURL,s.encodingOverride,s.url,s.stateOverride);return h.failure?null:h.url},m.exports.setTheUsername=function(t,s){t.username="";for(var h=u.ucs2.decode(s),n=0;n<h.length;++n)t.username+=F(h[n],x)},m.exports.setThePassword=function(t,s){t.password="";for(var h=u.ucs2.decode(s),n=0;n<h.length;++n)t.password+=F(h[n],x)},m.exports.serializeHost=$,m.exports.cannotHaveAUsernamePasswordPort=function(t){return null===t.host||""===t.host||t.cannotBeABaseURL||"file"===t.scheme},m.exports.serializeInteger=function(t){return String(t)},m.exports.parseURL=function(t,s){return void 0===s&&(s={}),m.exports.basicURLParse(t,{baseURL:s.baseURL,encodingOverride:s.encodingOverride})}},415,[416,418,419,420]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),o='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):null;e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50;var f=2147483647;function u(t){if(t>f)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,s.prototype),n}function s(t,n,o){if('number'==typeof t){if('string'==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return h(t,n,o)}function h(t,n,o){if('string'==typeof t)return y(t,n);if(ArrayBuffer.isView(t))return v(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return b(t,n,o);if('undefined'!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return b(t,n,o);if('number'==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var f=t.valueOf&&t.valueOf();if(null!=f&&f!==t)return s.from(f,n,o);var u=E(t);if(u)return u;if('undefined'!=typeof Symbol&&null!=Symbol.toPrimitive&&'function'==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]('string'),n,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function p(t){if('number'!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t,n,o){return p(t),t<=0?u(t):void 0!==n?'string'==typeof o?u(t).fill(n,o):u(t).fill(n):u(t)}function l(t){return p(t),u(t<0?0:0|B(t))}function y(t,n){if('string'==typeof n&&''!==n||(n='utf8'),!s.isEncoding(n))throw new TypeError('Unknown encoding: '+n);var o=0|A(t,n),f=u(o),h=f.write(t,n);return h!==o&&(f=f.slice(0,h)),f}function w(t){for(var n=t.length<0?0:0|B(t.length),o=u(n),f=0;f<n;f+=1)o[f]=255&t[f];return o}function v(t){if(Q(t,Uint8Array)){var n=new Uint8Array(t);return b(n.buffer,n.byteOffset,n.byteLength)}return w(t)}function b(t,n,o){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(o||0))throw new RangeError('"length" is outside of buffer bounds');var f;return f=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),Object.setPrototypeOf(f,s.prototype),f}function E(t){if(s.isBuffer(t)){var n=0|B(t.length),o=u(n);return 0===o.length?o:(t.copy(o,0,0,n),o)}return void 0!==t.length?'number'!=typeof t.length||tt(t.length)?u(0):w(t):'Buffer'===t.type&&Array.isArray(t.data)?w(t.data):void 0}function B(t){if(t>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+' bytes');return 0|t}function A(t,n){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if('string'!=typeof t)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof t);var o=t.length,f=arguments.length>2&&!0===arguments[2];if(!f&&0===o)return 0;for(var u=!1;;)switch(n){case'ascii':case'latin1':case'binary':return o;case'utf8':case'utf-8':return Z(t).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*o;case'hex':return o>>>1;case'base64':return H(t).length;default:if(u)return f?-1:Z(t).length;n=(''+n).toLowerCase(),u=!0}}function U(t,n,o){var f=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return'';if((void 0===o||o>this.length)&&(o=this.length),o<=0)return'';if((o>>>=0)<=(n>>>=0))return'';for(t||(t='utf8');;)switch(t){case'hex':return D(this,n,o);case'utf8':case'utf-8':return k(this,n,o);case'ascii':return j(this,n,o);case'latin1':case'binary':return z(this,n,o);case'base64':return P(this,n,o);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return F(this,n,o);default:if(f)throw new TypeError('Unknown encoding: '+t);t=(t+'').toLowerCase(),f=!0}}function T(t,n,o){var f=t[n];t[n]=t[o],t[o]=f}function I(t,n,o,f,u){if(0===t.length)return-1;if('string'==typeof o?(f=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),tt(o=+o)&&(o=u?0:t.length-1),o<0&&(o=t.length+o),o>=t.length){if(u)return-1;o=t.length-1}else if(o<0){if(!u)return-1;o=0}if('string'==typeof n&&(n=s.from(n,f)),s.isBuffer(n))return 0===n.length?-1:L(t,n,o,f,u);if('number'==typeof n)return n&=255,'function'==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(t,n,o):Uint8Array.prototype.lastIndexOf.call(t,n,o):L(t,[n],o,f,u);throw new TypeError('val must be string, number or Buffer')}function L(t,n,o,f,u){var s,h=1,p=t.length,c=n.length;if(void 0!==f&&('ucs2'===(f=String(f).toLowerCase())||'ucs-2'===f||'utf16le'===f||'utf-16le'===f)){if(t.length<2||n.length<2)return-1;h=2,p/=2,c/=2,o/=2}function l(t,n){return 1===h?t[n]:t.readUInt16BE(n*h)}if(u){var y=-1;for(s=o;s<p;s++)if(l(t,s)===l(n,-1===y?0:s-y)){if(-1===y&&(y=s),s-y+1===c)return y*h}else-1!==y&&(s-=s-y),y=-1}else for(o+c>p&&(o=p-c),s=o;s>=0;s--){for(var w=!0,v=0;v<c;v++)if(l(t,s+v)!==l(n,v)){w=!1;break}if(w)return s}return-1}function S(t,n,o,f){o=Number(o)||0;var u=t.length-o;f?(f=Number(f))>u&&(f=u):f=u;var s=n.length;f>s/2&&(f=s/2);for(var h=0;h<f;++h){var p=parseInt(n.substr(2*h,2),16);if(tt(p))return h;t[o+h]=p}return h}function O(t,n,o,f){return K(Z(n,t.length-o),t,o,f)}function R(t,n,o,f){return K($(n),t,o,f)}function x(t,n,o,f){return K(H(n),t,o,f)}function C(t,n,o,f){return K(G(n,t.length-o),t,o,f)}function P(n,o,f){return 0===o&&f===n.length?t.fromByteArray(n):t.fromByteArray(n.slice(o,f))}function k(t,n,o){o=Math.min(t.length,o);for(var f=[],u=n;u<o;){var s,h,p,c,l=t[u],y=null,w=l>239?4:l>223?3:l>191?2:1;if(u+w<=o)switch(w){case 1:l<128&&(y=l);break;case 2:128==(192&(s=t[u+1]))&&(c=(31&l)<<6|63&s)>127&&(y=c);break;case 3:s=t[u+1],h=t[u+2],128==(192&s)&&128==(192&h)&&(c=(15&l)<<12|(63&s)<<6|63&h)>2047&&(c<55296||c>57343)&&(y=c);break;case 4:s=t[u+1],h=t[u+2],p=t[u+3],128==(192&s)&&128==(192&h)&&128==(192&p)&&(c=(15&l)<<18|(63&s)<<12|(63&h)<<6|63&p)>65535&&c<1114112&&(y=c)}null===y?(y=65533,w=1):y>65535&&(y-=65536,f.push(y>>>10&1023|55296),y=56320|1023&y),f.push(y),u+=w}return _(f)}e.kMaxLength=f,s.TYPED_ARRAY_SUPPORT=(function(){try{var t=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}})(),s.TYPED_ARRAY_SUPPORT||'undefined'==typeof console||'function'!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,'parent',{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,'offset',{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,n,o){return h(t,n,o)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,n,o){return c(t,n,o)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,n){if(Q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),Q(n,Uint8Array)&&(n=s.from(n,n.offset,n.byteLength)),!s.isBuffer(t)||!s.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var o=t.length,f=n.length,u=0,h=Math.min(o,f);u<h;++u)if(t[u]!==n[u]){o=t[u],f=n[u];break}return o<f?-1:f<o?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1}},s.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var o;if(void 0===n)for(n=0,o=0;o<t.length;++o)n+=t[o].length;var f=s.allocUnsafe(n),u=0;for(o=0;o<t.length;++o){var h=t[o];if(Q(h,Uint8Array))u+h.length>f.length?s.from(h).copy(f,u):Uint8Array.prototype.set.call(f,h,u);else{if(!s.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(f,u)}u+=h.length}return f},s.byteLength=A,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var n=0;n<t;n+=2)T(this,n,n+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var n=0;n<t;n+=4)T(this,n,n+3),T(this,n+1,n+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var n=0;n<t;n+=8)T(this,n,n+7),T(this,n+1,n+6),T(this,n+2,n+5),T(this,n+3,n+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?'':0===arguments.length?k(this,0,t):U.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError('Argument must be a Buffer');return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t='',n=e.INSPECT_MAX_BYTES;return t=this.toString('hex',0,n).replace(/(.{2})/g,'$1 ').trim(),this.length>n&&(t+=' ... '),'<Buffer '+t+'>'},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(t,n,o,f,u){if(Q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof t);if(void 0===n&&(n=0),void 0===o&&(o=t?t.length:0),void 0===f&&(f=0),void 0===u&&(u=this.length),n<0||o>t.length||f<0||u>this.length)throw new RangeError('out of range index');if(f>=u&&n>=o)return 0;if(f>=u)return-1;if(n>=o)return 1;if(n>>>=0,o>>>=0,f>>>=0,u>>>=0,this===t)return 0;for(var h=u-f,p=o-n,c=Math.min(h,p),l=this.slice(f,u),y=t.slice(n,o),w=0;w<c;++w)if(l[w]!==y[w]){h=l[w],p=y[w];break}return h<p?-1:p<h?1:0},s.prototype.includes=function(t,n,o){return-1!==this.indexOf(t,n,o)},s.prototype.indexOf=function(t,n,o){return I(this,t,n,o,!0)},s.prototype.lastIndexOf=function(t,n,o){return I(this,t,n,o,!1)},s.prototype.write=function(t,n,o,f){if(void 0===n)f='utf8',o=this.length,n=0;else if(void 0===o&&'string'==typeof n)f=n,o=this.length,n=0;else{if(!isFinite(n))throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');n>>>=0,isFinite(o)?(o>>>=0,void 0===f&&(f='utf8')):(f=o,o=void 0)}var u=this.length-n;if((void 0===o||o>u)&&(o=u),t.length>0&&(o<0||n<0)||n>this.length)throw new RangeError('Attempt to write outside buffer bounds');f||(f='utf8');for(var s=!1;;)switch(f){case'hex':return S(this,t,n,o);case'utf8':case'utf-8':return O(this,t,n,o);case'ascii':case'latin1':case'binary':return R(this,t,n,o);case'base64':return x(this,t,n,o);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return C(this,t,n,o);default:if(s)throw new TypeError('Unknown encoding: '+f);f=(''+f).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function _(t){var n=t.length;if(n<=M)return String.fromCharCode.apply(String,t);for(var o='',f=0;f<n;)o+=String.fromCharCode.apply(String,t.slice(f,f+=M));return o}function j(t,n,o){var f='';o=Math.min(t.length,o);for(var u=n;u<o;++u)f+=String.fromCharCode(127&t[u]);return f}function z(t,n,o){var f='';o=Math.min(t.length,o);for(var u=n;u<o;++u)f+=String.fromCharCode(t[u]);return f}function D(t,n,o){var f=t.length;(!n||n<0)&&(n=0),(!o||o<0||o>f)&&(o=f);for(var u='',s=n;s<o;++s)u+=rt[t[s]];return u}function F(t,n,o){for(var f=t.slice(n,o),u='',s=0;s<f.length-1;s+=2)u+=String.fromCharCode(f[s]+256*f[s+1]);return u}function N(t,n,o){if(t%1!=0||t<0)throw new RangeError('offset is not uint');if(t+n>o)throw new RangeError('Trying to access beyond buffer length')}function Y(t,n,o,f,u,h){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>u||n<h)throw new RangeError('"value" argument is out of bounds');if(o+f>t.length)throw new RangeError('Index out of range')}function q(t,n,o,f,u,s){if(o+f>t.length)throw new RangeError('Index out of range');if(o<0)throw new RangeError('Index out of range')}function V(t,o,f,u,s){return o=+o,f>>>=0,s||q(t,0,f,4),n.write(t,o,f,u,23,4),f+4}function W(t,o,f,u,s){return o=+o,f>>>=0,s||q(t,0,f,8),n.write(t,o,f,u,52,8),f+8}s.prototype.slice=function(t,n){var o=this.length;t=~~t,n=void 0===n?o:~~n,t<0?(t+=o)<0&&(t=0):t>o&&(t=o),n<0?(n+=o)<0&&(n=0):n>o&&(n=o),n<t&&(n=t);var f=this.subarray(t,n);return Object.setPrototypeOf(f,s.prototype),f},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t],u=1,s=0;++s<n&&(u*=256);)f+=this[t+s]*u;return f},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t+--n],u=1;n>0&&(u*=256);)f+=this[t+--n]*u;return f},s.prototype.readUint8=s.prototype.readUInt8=function(t,n){return t>>>=0,n||N(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,n){return t>>>=0,n||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,n){return t>>>=0,n||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,n){return t>>>=0,n||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,n){return t>>>=0,n||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=this[t],u=1,s=0;++s<n&&(u*=256);)f+=this[t+s]*u;return f>=(u*=128)&&(f-=Math.pow(2,8*n)),f},s.prototype.readIntBE=function(t,n,o){t>>>=0,n>>>=0,o||N(t,n,this.length);for(var f=n,u=1,s=this[t+--f];f>0&&(u*=256);)s+=this[t+--f]*u;return s>=(u*=128)&&(s-=Math.pow(2,8*n)),s},s.prototype.readInt8=function(t,n){return t>>>=0,n||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,n){t>>>=0,n||N(t,2,this.length);var o=this[t]|this[t+1]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt16BE=function(t,n){t>>>=0,n||N(t,2,this.length);var o=this[t+1]|this[t]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt32LE=function(t,n){return t>>>=0,n||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,n){return t>>>=0,n||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,o){return t>>>=0,o||N(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,o){return t>>>=0,o||N(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,o){return t>>>=0,o||N(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,o){return t>>>=0,o||N(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,n,o,f){(t=+t,n>>>=0,o>>>=0,f)||Y(this,t,n,o,Math.pow(2,8*o)-1,0);var u=1,s=0;for(this[n]=255&t;++s<o&&(u*=256);)this[n+s]=t/u&255;return n+o},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,n,o,f){(t=+t,n>>>=0,o>>>=0,f)||Y(this,t,n,o,Math.pow(2,8*o)-1,0);var u=o-1,s=1;for(this[n+u]=255&t;--u>=0&&(s*=256);)this[n+u]=t/s&255;return n+o},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,1,255,0),this[n]=255&t,n+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeIntLE=function(t,n,o,f){if(t=+t,n>>>=0,!f){var u=Math.pow(2,8*o-1);Y(this,t,n,o,u-1,-u)}var s=0,h=1,p=0;for(this[n]=255&t;++s<o&&(h*=256);)t<0&&0===p&&0!==this[n+s-1]&&(p=1),this[n+s]=(t/h>>0)-p&255;return n+o},s.prototype.writeIntBE=function(t,n,o,f){if(t=+t,n>>>=0,!f){var u=Math.pow(2,8*o-1);Y(this,t,n,o,u-1,-u)}var s=o-1,h=1,p=0;for(this[n+s]=255&t;--s>=0&&(h*=256);)t<0&&0===p&&0!==this[n+s+1]&&(p=1),this[n+s]=(t/h>>0)-p&255;return n+o},s.prototype.writeInt8=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},s.prototype.writeInt16LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},s.prototype.writeInt16BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},s.prototype.writeInt32LE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},s.prototype.writeInt32BE=function(t,n,o){return t=+t,n>>>=0,o||Y(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},s.prototype.writeFloatLE=function(t,n,o){return V(this,t,n,!0,o)},s.prototype.writeFloatBE=function(t,n,o){return V(this,t,n,!1,o)},s.prototype.writeDoubleLE=function(t,n,o){return W(this,t,n,!0,o)},s.prototype.writeDoubleBE=function(t,n,o){return W(this,t,n,!1,o)},s.prototype.copy=function(t,n,o,f){if(!s.isBuffer(t))throw new TypeError('argument should be a Buffer');if(o||(o=0),f||0===f||(f=this.length),n>=t.length&&(n=t.length),n||(n=0),f>0&&f<o&&(f=o),f===o)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError('targetStart out of bounds');if(o<0||o>=this.length)throw new RangeError('Index out of range');if(f<0)throw new RangeError('sourceEnd out of bounds');f>this.length&&(f=this.length),t.length-n<f-o&&(f=t.length-n+o);var u=f-o;return this===t&&'function'==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,o,f):Uint8Array.prototype.set.call(t,this.subarray(o,f),n),u},s.prototype.fill=function(t,n,o,f){if('string'==typeof t){if('string'==typeof n?(f=n,n=0,o=this.length):'string'==typeof o&&(f=o,o=this.length),void 0!==f&&'string'!=typeof f)throw new TypeError('encoding must be a string');if('string'==typeof f&&!s.isEncoding(f))throw new TypeError('Unknown encoding: '+f);if(1===t.length){var u=t.charCodeAt(0);('utf8'===f&&u<128||'latin1'===f)&&(t=u)}}else'number'==typeof t?t&=255:'boolean'==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<o)throw new RangeError('Out of range index');if(o<=n)return this;var h;if(n>>>=0,o=void 0===o?this.length:o>>>0,t||(t=0),'number'==typeof t)for(h=n;h<o;++h)this[h]=t;else{var p=s.isBuffer(t)?t:s.from(t,f),c=p.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(h=0;h<o-n;++h)this[h+n]=p[h%c]}return this};var X=/[^+/0-9A-Za-z-_]/g;function J(t){if((t=(t=t.split('=')[0]).trim().replace(X,'')).length<2)return'';for(;t.length%4!=0;)t+='=';return t}function Z(t,n){var o;n=n||1/0;for(var f=t.length,u=null,s=[],h=0;h<f;++h){if((o=t.charCodeAt(h))>55295&&o<57344){if(!u){if(o>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(h+1===f){(n-=3)>-1&&s.push(239,191,189);continue}u=o;continue}if(o<56320){(n-=3)>-1&&s.push(239,191,189),u=o;continue}o=65536+(u-55296<<10|o-56320)}else u&&(n-=3)>-1&&s.push(239,191,189);if(u=null,o<128){if((n-=1)<0)break;s.push(o)}else if(o<2048){if((n-=2)<0)break;s.push(o>>6|192,63&o|128)}else if(o<65536){if((n-=3)<0)break;s.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error('Invalid code point');if((n-=4)<0)break;s.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return s}function $(t){for(var n=[],o=0;o<t.length;++o)n.push(255&t.charCodeAt(o));return n}function G(t,n){for(var o,f,u,s=[],h=0;h<t.length&&!((n-=2)<0);++h)f=(o=t.charCodeAt(h))>>8,u=o%256,s.push(u),s.push(f);return s}function H(n){return t.toByteArray(J(n))}function K(t,n,o,f){for(var u=0;u<f&&!(u+o>=n.length||u>=t.length);++u)n[u+o]=t[u];return u}function Q(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function tt(t){return t!=t}var rt=(function(){for(var t=new Array(256),n=0;n<16;++n)for(var o=16*n,f=0;f<16;++f)t[o+f]="0123456789abcdef"[n]+"0123456789abcdef"[f];return t})()},416,[148,417]);
__d(function(g,r,i,a,m,e,d){e.read=function(o,t,h,M,f){var w,p,n=8*f-M-1,N=(1<<n)-1,u=N>>1,s=-7,c=h?f-1:0,l=h?-1:1,v=o[t+c];for(c+=l,w=v&(1<<-s)-1,v>>=-s,s+=n;s>0;w=256*w+o[t+c],c+=l,s-=8);for(p=w&(1<<-s)-1,w>>=-s,s+=M;s>0;p=256*p+o[t+c],c+=l,s-=8);if(0===w)w=1-u;else{if(w===N)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,M),w-=u}return(v?-1:1)*p*Math.pow(2,w-M)},e.write=function(o,t,h,M,f,w){var p,n,N,u=8*w-f-1,s=(1<<u)-1,c=s>>1,l=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,v=M?0:w-1,_=M?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(n=isNaN(t)?1:0,p=s):(p=Math.floor(Math.log(t)/Math.LN2),t*(N=Math.pow(2,-p))<1&&(p--,N*=2),(t+=p+c>=1?l/N:l*Math.pow(2,1-c))*N>=2&&(p++,N/=2),p+c>=s?(n=0,p=s):p+c>=1?(n=(t*N-1)*Math.pow(2,f),p+=c):(n=t*Math.pow(2,c-1)*Math.pow(2,f),p=0));f>=8;o[h+v]=255&n,v+=_,n/=256,f-=8);for(p=p<<f|n,u+=f;u>0;o[h+v]=255&p,v+=_,p/=256,u-=8);o[h+v-_]|=128*b}},417,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(n,t){var u;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(u=o(n))||t&&n&&"number"==typeof n.length){u&&(n=u);var f=0;return function(){return f>=n.length?{done:!0}:{done:!1,value:n[f++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(u=n[Symbol.iterator]()).next.bind(u)}function o(n,t){if(n){if("string"==typeof n)return u(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(n,t):void 0}}function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,u=new Array(t);o<t;o++)u[o]=n[o];return u}var f=2147483647,l=/^xn--/,v=/[^\0-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},p=Math.floor,h=String.fromCharCode;function b(n){throw new RangeError(s[n])}function y(n,t){for(var o=[],u=n.length;u--;)o[u]=t(n[u]);return o}function w(n,t){var o=n.split('@'),u='';return o.length>1&&(u=o[0]+'@',n=o[1]),u+y((n=n.replace(c,'.')).split('.'),t).join('.')}function A(n){for(var t=[],o=0,u=n.length;o<u;){var f=n.charCodeAt(o++);if(f>=55296&&f<=56319&&o<u){var l=n.charCodeAt(o++);56320==(64512&l)?t.push(((1023&f)<<10)+(1023&l)+65536):(t.push(f),o--)}else t.push(f)}return t}var C=function(n,t){return n+22+75*(n<26)-((0!=t)<<5)},S=function(n,t,o){var u=0;for(n=o?p(n/700):n>>1,n+=p(n/t);n>455;u+=36)n=p(n/35);return p(u+36*n/(n+38))},x=function(n){var t,o=[],u=n.length,l=0,v=128,c=72,s=n.lastIndexOf("-");s<0&&(s=0);for(var h=0;h<s;++h)n.charCodeAt(h)>=128&&b('not-basic'),o.push(n.charCodeAt(h));for(var y=s>0?s+1:0;y<u;){for(var w=l,A=1,C=36;;C+=36){y>=u&&b('invalid-input');var x=(t=n.charCodeAt(y++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(x>=36||x>p((f-l)/A))&&b('overflow'),l+=x*A;var I=C<=c?1:C>=c+26?26:C-c;if(x<I)break;var j=36-I;A>p(f/j)&&b('overflow'),A*=j}var E=o.length+1;c=S(l-w,E,0==w),p(l/E)>f-v&&b('overflow'),v+=p(l/E),l%=E,o.splice(l++,0,v)}return String.fromCodePoint.apply(String,o)},I=function(n){for(var o,u=[],l=(n=A(n)).length,v=128,c=0,s=72,y=t(n);!(o=y()).done;){var w=o.value;w<128&&u.push(h(w))}var x=u.length,I=x;for(x&&u.push("-");I<l;){for(var j,E=f,F=t(n);!(j=F()).done;){var O=j.value;O>=v&&O<E&&(E=O)}var k=I+1;E-v>p((f-c)/k)&&b('overflow'),c+=(E-v)*k,v=E;for(var M,P=t(n);!(M=P()).done;){var U=M.value;if(U<v&&++c>f&&b('overflow'),U==v){for(var _=c,L=36;;L+=36){var R=L<=s?1:L>=s+26?26:L-s;if(_<R)break;var T=_-R,$=36-R;u.push(h(C(R+T%$,0))),_=p(T/$)}u.push(h(C(_,0))),s=S(c,k,I==x),c=0,++I}}++c,++v}return u.join('')},j={version:'2.1.0',ucs2:{decode:A,encode:function(t){return String.fromCodePoint.apply(String,n(t))}},decode:x,encode:I,toASCII:function(n){return w(n,function(n){return v.test(n)?'xn--'+I(n):n})},toUnicode:function(n){return w(n,function(n){return l.test(n)?x(n.slice(4).toLowerCase()):n})}};m.exports=j},418,[25]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return n>=48&&n<=57}function t(n){return n>=65&&n<=90||n>=97&&n<=122}m.exports={isASCIIDigit:n,isASCIIAlpha:t,isASCIIAlphanumeric:function(u){return t(u)||n(u)},isASCIIHex:function(t){return n(t)||t>=65&&t<=70||t>=97&&t<=102}}},419,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);function t(n,t){var f;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(f=o(n))||t&&n&&"number"==typeof n.length){f&&(n=f);var u=0;return function(){return u>=n.length?{done:!0}:{done:!1,value:n[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(f=n[Symbol.iterator]()).next.bind(f)}function o(n,t){if(n){if("string"==typeof n)return f(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(n,t):void 0}}function f(n,t){(null==t||t>n.length)&&(t=n.length);for(var o=0,f=new Array(t);o<t;o++)f[o]=n[o];return f}var u=r(d[1]).Buffer,l=r(d[2]).isASCIIHex;function c(n,t){for(var o=[],f=0,u=n.indexOf(t);u>=0;)o.push(n.slice(f,u)),f=u+1,u=n.indexOf(t,f);return f!==n.length&&o.push(n.slice(f)),o}function v(n,t,o){for(var f=n.indexOf(t);f>=0;)n[f]=o,f=n.indexOf(t,f+1);return n}function s(n){var t=n.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function h(n){for(var t=u.alloc(n.byteLength),o=0,f=0;f<n.length;++f)37===n[f]&&l(n[f+1])&&l(n[f+2])?(t[o++]=parseInt(n.slice(f+1,f+3).toString(),16),f+=2):t[o++]=n[f];return t.slice(0,o)}function p(n){for(var o,f=[],l=t(c(n,38));!(o=l()).done;){var s=o.value;if(0!==s.length){var p=void 0,y=void 0,b=s.indexOf(61);b>=0?(p=s.slice(0,b),y=s.slice(b+1)):(p=s,y=u.alloc(0)),p=v(u.from(p),43,32),y=v(u.from(y),43,32),f.push([h(p).toString(),h(y).toString()])}}return f}function y(n){for(var o,f="",u=t(n);!(o=u()).done;){var l=o.value;f+=32===l?"+":42===l||45===l||46===l||l>=48&&l<=57||l>=65&&l<=90||95===l||l>=97&&l<=122?String.fromCodePoint(l):s(l)}return f}m.exports={percentEncode:s,percentDecode:h,parseUrlencoded:function(n){return p(u.from(n))},serializeUrlencoded:function(o){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l="utf-8";void 0!==f&&(l=f);for(var c,v="",s=t(o.entries());!(c=s()).done;){var h=c.value,p=n(h,2),b=p[0],S=p[1],x=y(u.from(S[0])),A=S[1];S.length>2&&void 0!==S[2]&&("hidden"===S[2]&&"_charset_"===x?A=l:"file"===S[2]&&(A=A.name)),A=y(u.from(A)),0!==b&&(v+="&"),v+=x+"="+A}return v}}},420,[17,416,419]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=r(d[2]),l=r(d[3]);function s(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function u(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,l=new Array(n);o<n;o++)l[o]=t[o];return l}var p=r(d[4]),h=r(d[5]),f=h.implSymbol,v=h.ctorRegistrySymbol,y=Object.create(h.IteratorPrototype,o({next:{value:function(){var t=this[h.iterInternalSymbol],n=t.target,o=t.kind,s=t.index,u=Array.from(n[f]);if(s>=u.length)return{value:void 0,done:!0};var c=u[s];t.index=s+1;var p,v=c.map(h.tryWrapperForImpl),y=l(v,2),b=y[0],S=y[1];switch(o){case"key":p=b;break;case"value":p=S;break;case"key+value":p=[b,S]}return{value:p,done:!1}},writable:!0,enumerable:!0,configurable:!0}},Symbol.toStringTag,{value:"URLSearchParams Iterator",configurable:!0})),b={_mixedIntoPredicates:[],is:function(t){if(t){if(h.hasOwn(t,f)&&t[f]instanceof S.implementation)return!0;for(var n,o=s(m.exports._mixedIntoPredicates);!(n=o()).done;){if((0,n.value)(t))return!0}}return!1},isImpl:function(t){if(t){if(t instanceof S.implementation)return!0;for(var n,o=h.wrapperForImpl(t),l=s(m.exports._mixedIntoPredicates);!(n=l()).done;){if((0,n.value)(o))return!0}}return!1},convert:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,o=void 0===n?"The provided value":n;if(m.exports.is(t))return h.implForWrapper(t);throw new TypeError(o+" is not of type 'URLSearchParams'.")},createDefaultIterator:function(t,n){var o=Object.create(y);return Object.defineProperty(o,h.iterInternalSymbol,{value:{target:t,kind:n,index:0},configurable:!0}),o},create:function(t,n,o){if(void 0===t[v])throw new Error("Internal error: invalid global object");var l=t[v].URLSearchParams;if(void 0===l)throw new Error("Internal error: constructor URLSearchParams is not installed on the passed global object");var s=Object.create(l.prototype);return s=b.setup(s,t,n,o)},createImpl:function(t,n,o){var l=b.create(t,n,o);return h.implForWrapper(l)},_internalSetup:function(t){},setup:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.wrapper=t,b._internalSetup(t),Object.defineProperty(t,f,{value:new S.implementation(n,o,l),configurable:!0}),t[f][h.wrapperSymbol]=t,S.init&&S.init(t[f],l),t},install:function(u){var c,y=(function(){function o(){t(this,o);var n=[],l=arguments[0];if(void 0!==l)if(h.isObject(l))if(void 0!==l[Symbol.iterator]){if(!h.isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");for(var c,f=[],v=s(l);!(c=v()).done;){var y=c.value;if(!h.isObject(y))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");for(var S,w=[],x=s(y);!(S=x()).done;){var U=S.value;U=p.USVString(U,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element"}),w.push(U)}y=w,f.push(y)}l=f}else{if(!h.isObject(l))throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");for(var P,I=Object.create(null),E=s(Reflect.ownKeys(l));!(P=E()).done;){var R=P.value,F=Object.getOwnPropertyDescriptor(l,R);if(F&&F.enumerable){var T=R;T=p.USVString(T,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key"});var L=l[R];L=p.USVString(L,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value"}),I[T]=L}}l=I}else l=p.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1"});else l="";return n.push(l),b.setup(Object.create(this.constructor.prototype),u,n)}return n(o,[{key:"append",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var l=[],s=arguments[0];s=p.USVString(s,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1"}),l.push(s);var u=arguments[1];return u=p.USVString(u,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2"}),l.push(u),(o=this[f]).append.apply(o,l)}},{key:"delete",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).delete.apply(n,o)}},{key:"get",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).get.apply(n,o)}},{key:"getAll",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1"}),o.push(l),h.tryWrapperForImpl((n=this[f]).getAll.apply(n,o))}},{key:"has",value:function(t){var n;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only "+arguments.length+" present.");var o=[],l=arguments[0];return l=p.USVString(l,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1"}),o.push(l),(n=this[f]).has.apply(n,o)}},{key:"set",value:function(t,n){var o;if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<2)throw new TypeError("Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only "+arguments.length+" present.");var l=[],s=arguments[0];s=p.USVString(s,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1"}),l.push(s);var u=arguments[1];return u=p.USVString(u,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2"}),l.push(u),(o=this[f]).set.apply(o,l)}},{key:"sort",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[f].sort()}},{key:"toString",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return this[f].toString()}},{key:"keys",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key")}},{key:"values",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"value")}},{key:"entries",value:function(){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");return m.exports.createDefaultIterator(this,"key+value")}},{key:"forEach",value:function(t){if(!this||!m.exports.is(this))throw new TypeError("Illegal invocation");if(arguments.length<1)throw new TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1 is not a function.");for(var n=arguments[1],o=Array.from(this[f]),s=0;s<o.length;){var u=o[s].map(h.tryWrapperForImpl),c=l(u,2),p=c[0],v=c[1];t.call(n,v,p,this),o=Array.from(this[f]),s++}}}]),o})();Object.defineProperties(y.prototype,(o(c={append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0}},Symbol.toStringTag,{value:"URLSearchParams",configurable:!0}),o(c,Symbol.iterator,{value:y.prototype.entries,configurable:!0,writable:!0}),c)),void 0===u[v]&&(u[v]=Object.create(null)),u[v].URLSearchParams=y,Object.defineProperty(u,"URLSearchParams",{configurable:!0,writable:!0,value:y})}};m.exports=b;var S=r(d[6])},421,[29,30,51,17,412,413,422]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);function l(t,n){var l;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(l=s(t))||n&&t&&"number"==typeof t.length){l&&(t=l);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(l=t[Symbol.iterator]()).next.bind(l)}function s(t,n){if(t){if("string"==typeof t)return o(t,n);var l=Object.prototype.toString.call(t).slice(8,-1);return"Object"===l&&t.constructor&&(l=t.constructor.name),"Map"===l||"Set"===l?Array.from(t):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?o(t,n):void 0}}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var l=0,s=new Array(n);l<n;l++)s[l]=t[l];return s}var u=r(d[2]);e.implementation=(function(){function s(n,o,h){var c=h.doNotStripQMark,f=void 0!==c&&c;t(this,s);var v=o[0];if(this._list=[],this._url=null,f||"string"!=typeof v||"?"!==v[0]||(v=v.slice(1)),Array.isArray(v))for(var p,y=l(v);!(p=y()).done;){var _=p.value;if(2!==_.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([_[0],_[1]])}else if("object"==typeof v&&null===Object.getPrototypeOf(v))for(var b=0,S=Object.keys(v);b<S.length;b++){var k=S[b],A=v[k];this._list.push([k,A])}else this._list=u.parseUrlencoded(v)}return n(s,[{key:"_updateSteps",value:function(){if(null!==this._url){var t=u.serializeUrlencoded(this._list);""===t&&(t=null),this._url._url.query=t}}},{key:"append",value:function(t,n){this._list.push([t,n]),this._updateSteps()}},{key:"delete",value:function(t){for(var n=0;n<this._list.length;)this._list[n][0]===t?this._list.splice(n,1):n++;this._updateSteps()}},{key:"get",value:function(t){for(var n,s=l(this._list);!(n=s()).done;){var o=n.value;if(o[0]===t)return o[1]}return null}},{key:"getAll",value:function(t){for(var n,s=[],o=l(this._list);!(n=o()).done;){var u=n.value;u[0]===t&&s.push(u[1])}return s}},{key:"has",value:function(t){for(var n,s=l(this._list);!(n=s()).done;){if(n.value[0]===t)return!0}return!1}},{key:"set",value:function(t,n){for(var l=!1,s=0;s<this._list.length;)this._list[s][0]===t?l?this._list.splice(s,1):(l=!0,this._list[s][1]=n,s++):s++;l||this._list.push([t,n]),this._updateSteps()}},{key:"sort",value:function(){var t,n;this._list=(t=this._list,n=function(t,n){return t[0]>n[0]},t.map(function(t,n){return{item:t,index:n}}).sort(function(t,l){return n(t.item,l.item)||t.index-l.index}).map(function(t){return t.item})),this._updateSteps()}},{key:Symbol.iterator,value:function(){return this._list[Symbol.iterator]()}},{key:"toString",value:function(){return u.serializeUrlencoded(this._list)}}]),s})()},422,[29,30,420]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return n.URLSearchParams}});var n=r(d[0])},423,[409]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4]));function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=s(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function s(t,n){if(t){if("string"==typeof t)return y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var h=(function(){function t(n){var u=this;(0,o.default)(this,t),this._keyPrefix=n;var l=this._initializeAsync();l&&(this._initializing=l,l.finally(function(){u._initializing===l&&(u._initializing=void 0)}))}return(0,u.default)(t,[{key:"clear",value:function(){for(var t=0,n=Object.keys(this);t<n.length;t++){var o=n[t];this.removeItem(o)}}},{key:"getItem",value:function(t){return this.hasOwnProperty(t)?this[t]:null}},{key:"_getItemAsync",value:function(t){var n=this;return(this._initializing||Promise.resolve()).catch(function(){}).then(function(){return n.getItem(t)})}},{key:"_initializeAsync",value:function(){var t=this;if(void 0!==this._keyPrefix)return new Promise(function(o){l.default.getAllKeys().then(function(){for(var u=arguments.length,s=new Array(u),y=0;y<u;y++)s[y]=arguments[y];var h=s[s.length-1].filter(function(n){return n.startsWith(t._keyPrefix)});l.default.multiGet(h).then(function(){for(var u,l,s=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u],y=t._keyPrefix&&t._keyPrefix.length,h=f(s);!(l=h()).done;){var c=l.value,v=(0,n.default)(c,2),k=v[0],_=v[1];k=k.substring(y),t.hasOwnProperty(k)||(t[k]=_)}o()})})})}},{key:"key",value:function(t){var n=Object.keys(this);return t<n.length?n[t]:null}},{key:"removeItem",value:function(t){delete this[t],void 0===this._keyPrefix||l.default.removeItem(""+String(this._keyPrefix)+t)}},{key:"setItem",value:function(t,n){n=String(n),this[t]=n,void 0===this._keyPrefix||l.default.setItem(""+String(this._keyPrefix)+t,n)}},{key:"length",get:function(){return Object.keys(this).length}}]),t})();e.default=h},424,[1,17,29,30,425]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useAsyncStorage",{enumerable:!0,get:function(){return n.useAsyncStorage}}),e.default=void 0;var u=t(r(d[1])),n=r(d[2]),o=u.default;e.default=o},425,[1,426,428]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2]));if(!u.default)throw new Error("[@RNC/AsyncStorage]: NativeModule: AsyncStorage is null.\n\nTo fix this issue try these steps:\n\n  \u2022 Run `react-native link @react-native-async-storage/async-storage` in the project root.\n\n  \u2022 Rebuild and restart the app.\n\n  \u2022 Run the packager with `--reset-cache` flag.\n\n  \u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app.\n\n  \u2022 If this happens while testing with Jest, check out docs how to integrate AsyncStorage with it: https://react-native-async-storage.github.io/async-storage/docs/advanced/jest\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-async-storage/react-native-async-storage/issues\n");function s(t,n){var u=arguments.length>1;if('string'!=typeof t&&console.warn("[AsyncStorage] Using "+typeof t+" type for key is not supported. This can lead to unexpected behavior/errors. Use string instead.\nKey passed: "+t+"\n"),u&&'string'!=typeof n){if(null==n)throw new Error("[AsyncStorage] Passing null/undefined as value is not supported. If you want to remove value, Use .remove method instead.\nPassed value: "+n+"\nPassed key: "+t+"\n");console.warn("[AsyncStorage] The value for key \""+t+"\" is not a string. This can lead to unexpected behavior/errors. Consider stringifying it.\nPassed value: "+n+"\nPassed key: "+t+"\n")}}var o={_getRequests:[],_getKeys:[],_immediate:null,getItem:function(t,n){return new Promise(function(o,c){s(t),u.default.multiGet([t],function(t,u){var s=u&&u[0]&&u[0][1]?u[0][1]:null,f=l(t);n&&n(f&&f[0],s),f?c(f[0]):o(s)})})},setItem:function(t,n,o){return new Promise(function(c,f){s(t,n),u.default.multiSet([[t,n]],function(t){var n=l(t);o&&o(n&&n[0]),n?f(n[0]):c(null)})})},removeItem:function(t,n){return new Promise(function(o,c){s(t),u.default.multiRemove([t],function(t){var u=l(t);n&&n(u&&u[0]),u?c(u[0]):o(null)})})},mergeItem:function(t,n,o){return new Promise(function(c,f){s(t,n),u.default.multiMerge([[t,n]],function(t){var n=l(t);o&&o(n&&n[0]),n?f(n[0]):c(null)})})},clear:function(t){return new Promise(function(n,s){u.default.clear(function(u){var o=c(u);t&&t(o),o?s(o):n(null)})})},getAllKeys:function(t){return new Promise(function(n,s){u.default.getAllKeys(function(u,o){var l=c(u);t&&t(l,o),l?s(l):n(o)})})},flushGetRequests:function(){var t=this._getRequests,s=this._getKeys;this._getRequests=[],this._getKeys=[],u.default.multiGet(s,function(u,s){var o={};s&&s.forEach(function(t){var u=(0,n.default)(t,2),s=u[0],l=u[1];return o[s]=l,l});for(var l=t.length,c=0;c<l;c++){var f=t[c],h=f.keys.map(function(t){return[t,o[t]]});f.callback&&f.callback(null,h),f.resolve&&f.resolve(h)}})},multiGet:function(t,n){var u=this;this._immediate||(this._immediate=setImmediate(function(){u._immediate=null,u.flushGetRequests()}));var s={keys:t,callback:n,keyIndex:this._getKeys.length,resolve:null,reject:null},o=new Promise(function(t,n){s.resolve=t,s.reject=n});return this._getRequests.push(s),t.forEach(function(t){-1===u._getKeys.indexOf(t)&&u._getKeys.push(t)}),o},multiSet:function(t,o){return new Promise(function(c,f){t.forEach(function(t){var u=(0,n.default)(t,2);s(u[0],u[1])}),u.default.multiSet(t,function(t){var n=l(t);o&&o(n),n?f(n):c(null)})})},multiRemove:function(t,n){return new Promise(function(o,c){t.forEach(function(t){return s(t)}),u.default.multiRemove(t,function(t){var u=l(t);n&&n(u),u?c(u):o(null)})})},multiMerge:function(t,n){return new Promise(function(s,o){u.default.multiMerge(t,function(t){var u=l(t);n&&n(u),u?o(u):s(null)})})}};function l(t){return!t||Array.isArray(t)&&0===t.length?null:(Array.isArray(t)?t:[t]).map(function(t){return c(t)})}function c(t){if(!t)return null;var n=new Error(t.message);return n.key=t.key,n}u.default.multiMerge||(delete o.mergeItem,delete o.multiMerge);var f=o;e.default=f},426,[1,17,427]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules,o=t.PlatformLocalStorage||t.RNC_AsyncSQLiteDBStorage||t.RNCAsyncStorage;e.default=o},427,[5]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useAsyncStorage=function(t){return{getItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.getItem.apply(n.default,[t].concat(f))},setItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.setItem.apply(n.default,[t].concat(f))},mergeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.mergeItem.apply(n.default,[t].concat(f))},removeItem:function(){for(var u=arguments.length,f=new Array(u),o=0;o<u;o++)f[o]=arguments[o];return n.default.removeItem.apply(n.default,[t].concat(f))}}};var n=t(r(d[1]))},428,[1,426]);
__d(function(g,r,i,a,m,e,d){function t(t){this.options=t||{locator:{}}}function n(t,n,c){if(!t){if(n instanceof o)return n;t=n}var s={},u=t instanceof Function;function h(n){var o=t[n];!o&&u&&(o=2==t.length?function(o){t(n,o)}:t),s[n]=o&&function(t){o('[xmldom '+n+']\t'+t+l(c))}||function(){}}return c=c||{},h('warning'),h('error'),h('fatalError'),s}function o(){this.cdata=!1}function c(t,n){n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber}function l(t){if(t)return'\n@'+(t.systemId||'')+'#[line:'+t.lineNumber+',col:'+t.columnNumber+']'}function s(t,n,o){return'string'==typeof t?t.substr(n,o):t.length>=n+o||n?new java.lang.String(t,n,o)+'':t}function u(t,n){t.currentElement?t.currentElement.appendChild(n):t.doc.appendChild(n)}t.prototype.parseFromString=function(t,c){var l=this.options,s=new h,u=l.domBuilder||new o,f=l.errorHandler,p=l.locator,D=l.xmlns||{},E={lt:'<',gt:'>',amp:'&',quot:'"',apos:"'"};return p&&u.setDocumentLocator(p),s.errorHandler=n(f,u,p),s.domBuilder=l.domBuilder||u,/\/x?html?$/.test(c)&&(E.nbsp='\xa0',E.copy='\xa9',D['']='http://www.w3.org/1999/xhtml'),D.xml=D.xml||'http://www.w3.org/XML/1998/namespace',t?s.parse(t,D,E):s.errorHandler.error("invalid doc source"),u.doc},o.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,n,o,l){var s=this.doc,h=s.createElementNS(t,o||n),f=l.length;u(this,h),this.currentElement=h,this.locator&&c(this.locator,h);for(var p=0;p<f;p++){t=l.getURI(p);var D=l.getValue(p),E=(o=l.getQName(p),s.createAttributeNS(t,o));this.locator&&c(l.getLocator(p),E),E.value=E.nodeValue=D,h.setAttributeNode(E)}},endElement:function(t,n,o){var c=this.currentElement;c.tagName;this.currentElement=c.parentNode},startPrefixMapping:function(t,n){},endPrefixMapping:function(t){},processingInstruction:function(t,n){var o=this.doc.createProcessingInstruction(t,n);this.locator&&c(this.locator,o),u(this,o)},ignorableWhitespace:function(t,n,o){},characters:function(t,n,o){if(t=s.apply(this,arguments)){if(this.cdata)var l=this.doc.createCDATASection(t);else l=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(l):/^\s*$/.test(t)&&this.doc.appendChild(l),this.locator&&c(this.locator,l)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,n,o){t=s.apply(this,arguments);var l=this.doc.createComment(t);this.locator&&c(this.locator,l),u(this,l)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,n,o){var l=this.doc.implementation;if(l&&l.createDocumentType){var s=l.createDocumentType(t,n,o);this.locator&&c(this.locator,s),u(this,s)}},warning:function(t){console.warn('[xmldom warning]\t'+t,l(this.locator))},error:function(t){console.error('[xmldom error]\t'+t,l(this.locator))},fatalError:function(t){throw console.error('[xmldom fatalError]\t'+t,l(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var h=r(d[0]).XMLReader,f=e.DOMImplementation=r(d[1]).DOMImplementation;e.XMLSerializer=r(d[1]).XMLSerializer,e.DOMParser=t},429,[430,431]);
__d(function(g,r,i,a,m,e,d){var t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp('^'+t.source+n.source+'*(?::'+t.source+n.source+'*)?$'),c=0,u=1,o=2,l=3,f=4,h=5,p=6,w=7;function b(){}function x(t,n,s,c,u){function o(t){if(t>65535){var n=55296+((t-=65536)>>10),s=56320+(1023&t);return String.fromCharCode(n,s)}return String.fromCharCode(t)}function l(t){var n=t.slice(1,-1);return n in s?s[n]:'#'===n.charAt(0)?o(parseInt(n.substr(1).replace('x','0x'))):(u.error('entity not found:'+t),t)}function f(n){if(n>O){var s=t.substring(O,n).replace(/&#?\w+;/g,l);x&&h(O),c.characters(s,0,n-O),O=n}}function h(n,s){for(;n>=w&&(s=b.exec(t));)p=s.index,w=p+s[0].length,x.lineNumber++;x.columnNumber=n-p+1}for(var p=0,w=0,b=/.*(?:\r\n?|\n)|.*$/g,x=c.locator,E=[{currentNSMap:n}],M={},O=0;;){try{var T=t.indexOf('<',O);if(T<0){if(!t.substr(O).match(/^\s*$/)){var S=c.doc,q=S.createTextNode(t.substr(O));S.appendChild(q),c.currentElement=q}return}switch(T>O&&f(T),t.charAt(T+1)){case'/':var y=t.indexOf('>',T+3),_=t.substring(T+2,y),I=E.pop();y<0?(_=t.substring(T+2).replace(/[\s<].*/,''),u.error("end tag name: "+_+' is not complete:'+I.tagName),y=T+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,''),u.error("end tag name: "+_+' maybe not complete'),y=T+1+_.length);var L=I.localNSMap,R=I.tagName==_;if(R||I.tagName&&I.tagName.toLowerCase()==_.toLowerCase()){if(c.endElement(I.uri,I.localName,_),L)for(var P in L)c.endPrefixMapping(P);R||u.fatalError("end tag name: "+_+' is not match the current start tagName:'+I.tagName)}else E.push(I);y++;break;case'?':x&&h(T),y=$(t,T,c);break;case'!':x&&h(T),y=C(t,T,c,u);break;default:x&&h(T);var B=new A,U=E[E.length-1].currentNSMap,X=(y=N(t,T,B,U,l,u),B.length);if(!B.closed&&k(t,y,B.tagName,M)&&(B.closed=!0,s.nbsp||u.warning('unclosed xml attribute')),x&&X){for(var z=v(x,{}),H=0;H<X;H++){var Q=B[H];h(Q.offset),Q.locator=v(x,{})}c.locator=z,F(B,c,U)&&E.push(B),c.locator=x}else F(B,c,U)&&E.push(B);'http://www.w3.org/1999/xhtml'!==B.uri||B.closed?y++:y=D(t,y,B.tagName,l,c)}}catch(t){u.error('element parse error: '+t),y=-1}y>O?O=y:f(Math.max(T,O)+1)}}function v(t,n){return n.lineNumber=t.lineNumber,n.columnNumber=t.columnNumber,n}function N(t,n,s,b,x,v){for(var N,F=++n,D=c;;){var k=t.charAt(F);switch(k){case'=':if(D===u)N=t.slice(n,F),D=l;else{if(D!==o)throw new Error('attribute equal must after attrName');D=l}break;case'\'':case'"':if(D===l||D===u){if(D===u&&(v.warning('attribute value must after "="'),N=t.slice(n,F)),n=F+1,!((F=t.indexOf(k,n))>0))throw new Error('attribute value no end \''+k+'\' match');E=t.slice(n,F).replace(/&#?\w+;/g,x),s.add(N,E,n-1),D=h}else{if(D!=f)throw new Error('attribute value must after "="');E=t.slice(n,F).replace(/&#?\w+;/g,x),s.add(N,E,n),v.warning('attribute "'+N+'" missed start quot('+k+')!!'),n=F+1,D=h}break;case'/':switch(D){case c:s.setTagName(t.slice(n,F));case h:case p:case w:D=w,s.closed=!0;case f:case u:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case'':return v.error('unexpected end of input'),D==c&&s.setTagName(t.slice(n,F)),F;case'>':switch(D){case c:s.setTagName(t.slice(n,F));case h:case p:case w:break;case f:case u:'/'===(E=t.slice(n,F)).slice(-1)&&(s.closed=!0,E=E.slice(0,-1));case o:D===o&&(E=N),D==f?(v.warning('attribute "'+E+'" missed quot(")!!'),s.add(N,E.replace(/&#?\w+;/g,x),n)):('http://www.w3.org/1999/xhtml'===b['']&&E.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+E+'" missed value!! "'+E+'" instead!!'),s.add(E,E,n));break;case l:throw new Error('attribute value missed!!')}return F;case"\x80":k=' ';default:if(k<=' ')switch(D){case c:s.setTagName(t.slice(n,F)),D=p;break;case u:N=t.slice(n,F),D=o;break;case f:var E=t.slice(n,F).replace(/&#?\w+;/g,x);v.warning('attribute "'+E+'" missed quot(")!!'),s.add(N,E,n);case h:D=p}else switch(D){case o:s.tagName;'http://www.w3.org/1999/xhtml'===b['']&&N.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+N+'" missed value!! "'+N+'" instead2!!'),s.add(N,N,n),n=F,D=u;break;case h:v.warning('attribute space is required"'+N+'"!!');case p:D=u,n=F;break;case l:D=f,n=F;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}F++}}function F(t,n,s){for(var c=t.tagName,u=null,o=t.length;o--;){var l=t[o],f=l.qName,h=l.value;if((x=f.indexOf(':'))>0)var p=l.prefix=f.slice(0,x),w=f.slice(x+1),b='xmlns'===p&&w;else w=f,p=null,b='xmlns'===f&&'';l.localName=w,!1!==b&&(null==u&&(u={},E(s,s={})),s[b]=u[b]=h,l.uri='http://www.w3.org/2000/xmlns/',n.startPrefixMapping(b,h))}for(o=t.length;o--;){(p=(l=t[o]).prefix)&&('xml'===p&&(l.uri='http://www.w3.org/XML/1998/namespace'),'xmlns'!==p&&(l.uri=s[p||'']))}var x;(x=c.indexOf(':'))>0?(p=t.prefix=c.slice(0,x),w=t.localName=c.slice(x+1)):(p=null,w=t.localName=c);var v=t.uri=s[p||''];if(n.startElement(v,w,c,t),!t.closed)return t.currentNSMap=s,t.localNSMap=u,!0;if(n.endElement(v,w,c),u)for(p in u)n.endPrefixMapping(p)}function D(t,n,s,c,u){if(/^(?:script|textarea)$/i.test(s)){var o=t.indexOf('</'+s+'>',n),l=t.substring(n+1,o);if(/[&<]/.test(l))return/^script$/i.test(s)?(u.characters(l,0,l.length),o):(l=l.replace(/&#?\w+;/g,c),u.characters(l,0,l.length),o)}return n+1}function k(t,n,s,c){var u=c[s];return null==u&&((u=t.lastIndexOf('</'+s+'>'))<n&&(u=t.lastIndexOf('</'+s)),c[s]=u),u<n}function E(t,n){for(var s in t)n[s]=t[s]}function C(t,n,s,c){switch(t.charAt(n+2)){case'-':return'-'===t.charAt(n+3)?(u=t.indexOf('--\x3e',n+4))>n?(s.comment(t,n+4,u-n-4),u+3):(c.error("Unclosed comment"),-1):-1;default:if('CDATA['==t.substr(n+3,6)){var u=t.indexOf(']]>',n+9);return s.startCDATA(),s.characters(t,n+9,u-n-9),s.endCDATA(),u+3}var o=O(t,n),l=o.length;if(l>1&&/!doctype/i.test(o[0][0])){var f=o[1][0],h=l>3&&/^public$/i.test(o[2][0])&&o[3][0],p=l>4&&o[4][0],w=o[l-1];return s.startDTD(f,h&&h.replace(/^(['"])(.*?)\1$/,'$2'),p&&p.replace(/^(['"])(.*?)\1$/,'$2')),s.endDTD(),w.index+w[0].length}}return-1}function $(t,n,s){var c=t.indexOf('?>',n);if(c){var u=t.substring(n,c).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(u){u[0].length;return s.processingInstruction(u[1],u[2]),c+2}return-1}return-1}function A(t){}function M(t,n){return t.__proto__=n,t}function O(t,n){var s,c=[],u=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(u.lastIndex=n,u.exec(t);s=u.exec(t);)if(c.push(s),s[1])return c}b.prototype={parse:function(t,n,s){var c=this.domBuilder;c.startDocument(),E(n,n={}),x(t,n,s,c,this.errorHandler),c.endDocument()}},A.prototype={setTagName:function(t){if(!s.test(t))throw new Error('invalid tagName:'+t);this.tagName=t},add:function(t,n,c){if(!s.test(t))throw new Error('invalid attribute:'+t);this[this.length++]={qName:t,value:n,offset:c}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},M({},M.prototype)instanceof M||(M=function(t,n){function s(){}for(n in s.prototype=n,s=new s,t)s[n]=t[n];return s}),e.XMLReader=b},430,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n){for(var o in t)n[o]=t[o]}function n(n,o){var u=n.prototype;if(Object.create){var s=Object.create(o.prototype);u.__proto__=s}if(!(u instanceof o)){function l(){}l.prototype=o.prototype,t(u,l=new l),n.prototype=u=l}u.constructor!=n&&('function'!=typeof n&&console.error("unknow Class:"+n),u.constructor=n)}var o='http://www.w3.org/1999/xhtml',u={},s=u.ELEMENT_NODE=1,l=u.ATTRIBUTE_NODE=2,c=u.TEXT_NODE=3,h=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,f=u.ENTITY_NODE=6,N=u.PROCESSING_INSTRUCTION_NODE=7,v=u.COMMENT_NODE=8,w=u.DOCUMENT_NODE=9,E=u.DOCUMENT_TYPE_NODE=10,y=u.DOCUMENT_FRAGMENT_NODE=11,b=u.NOTATION_NODE=12,T={},_={},D=(T.INDEX_SIZE_ERR=(_[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),S=(T.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),T.NOT_FOUND_ERR=(_[8]="Not found",8)),C=(T.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));T.INVALID_STATE_ERR=(_[11]="Invalid state",11),T.SYNTAX_ERR=(_[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),T.NAMESPACE_ERR=(_[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function I(t,n){if(n instanceof Error)var o=n;else o=this,Error.call(this,_[t]),this.message=_[t],Error.captureStackTrace&&Error.captureStackTrace(this,I);return o.code=t,n&&(this.message=this.message+": "+n),o}function A(){}function R(t,n){this._node=t,this._refresh=n,x(this)}function x(n){var o=n._node._inc||n._node.ownerDocument._inc;if(n._inc!=o){var u=n._refresh(n._node);he(n,'length',u.length),t(u,n),n._inc=o}}function O(){}function U(t,n){for(var o=t.length;o--;)if(t[o]===n)return o}function M(t,n,o,u){if(u?n[U(n,u)]=o:n[n.length++]=o,t){o.ownerElement=t;var s=t.ownerDocument;s&&(u&&Y(s,t,u),F(s,t,o))}}function B(t,n,o){var u=U(n,o);if(!(u>=0))throw I(S,new Error(t.tagName+'@'+o));for(var s=n.length-1;u<s;)n[u]=n[++u];if(n.length=s,t){var l=t.ownerDocument;l&&(Y(l,t,o),o.ownerElement=null)}}function P(t){if(this._features={},t)for(var n in t)this._features=t[n]}function L(){}function V(t){return('<'==t?'&lt;':'>'==t&&'&gt;')||'&'==t&&'&amp;'||'"'==t&&'&quot;'||'&#'+t.charCodeAt()+';'}function k(t,n){if(n(t))return!0;if(t=t.firstChild)do{if(k(t,n))return!0}while(t=t.nextSibling)}function j(){}function F(t,n,o){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&(n._nsMap[o.prefix?o.localName:'']=o.value)}function Y(t,n,o,u){t&&t._inc++,'http://www.w3.org/2000/xmlns/'==o.namespaceURI&&delete n._nsMap[o.prefix?o.localName:'']}function z(t,n,o){if(t&&t._inc){t._inc++;var u=n.childNodes;if(o)u[u.length++]=o;else{for(var s=n.firstChild,l=0;s;)u[l++]=s,s=s.nextSibling;u.length=l}}}function $(t,n){var o=n.previousSibling,u=n.nextSibling;return o?o.nextSibling=u:t.firstChild=u,u?u.previousSibling=o:t.lastChild=o,z(t.ownerDocument,t),n}function X(t,n,o){var u=n.parentNode;if(u&&u.removeChild(n),n.nodeType===y){var s=n.firstChild;if(null==s)return n;var l=n.lastChild}else s=l=n;var c=o?o.previousSibling:t.lastChild;s.previousSibling=c,l.nextSibling=o,c?c.nextSibling=s:t.firstChild=s,null==o?t.lastChild=l:o.previousSibling=l;do{s.parentNode=t}while(s!==l&&(s=s.nextSibling));return z(t.ownerDocument||t,t),n.nodeType==y&&(n.firstChild=n.lastChild=null),n}function G(t,n){var o=n.parentNode;if(o){var u=t.lastChild;o.removeChild(n);u=t.lastChild}u=t.lastChild;return n.parentNode=t,n.previousSibling=u,n.nextSibling=null,u?u.nextSibling=n:t.firstChild=n,t.lastChild=n,z(t.ownerDocument,t,n),n}function H(){this._nsMap={}}function W(){}function q(){}function Z(){}function Q(){}function J(){}function K(){}function ee(){}function te(){}function ne(){}function re(){}function ie(){}function oe(){}function ae(t,n){var o=[],u=9==this.nodeType?this.documentElement:this,s=u.prefix,l=u.namespaceURI;if(l&&null==s&&null==(s=u.lookupPrefix(l)))var c=[{namespace:l,prefix:null}];return se(this,o,t,n,c),o.join('')}function ue(t,n,o){var u=t.prefix||'',s=t.namespaceURI;if(!u&&!s)return!1;if("xml"===u&&"http://www.w3.org/XML/1998/namespace"===s||'http://www.w3.org/2000/xmlns/'==s)return!1;for(var l=o.length;l--;){var c=o[l];if(c.prefix==u)return c.namespace!=s}return!0}function se(t,n,u,f,b){if(f){if(!(t=f(t)))return;if('string'==typeof t)return void n.push(t)}switch(t.nodeType){case s:b||(b=[]);b.length;var T=t.attributes,_=T.length,D=t.firstChild,S=t.tagName;u=o===t.namespaceURI||u,n.push('<',S);for(var C=0;C<_;C++){'xmlns'==(I=T.item(C)).prefix?b.push({prefix:I.localName,namespace:I.value}):'xmlns'==I.nodeName&&b.push({prefix:'',namespace:I.value})}for(C=0;C<_;C++){var I;if(ue(I=T.item(C),0,b)){var A=I.prefix||'',R=I.namespaceURI,x=A?' xmlns:'+A:" xmlns";n.push(x,'="',R,'"'),b.push({prefix:A,namespace:R})}se(I,n,u,f,b)}if(ue(t,0,b)){A=t.prefix||'',R=t.namespaceURI,x=A?' xmlns:'+A:" xmlns";n.push(x,'="',R,'"'),b.push({prefix:A,namespace:R})}if(D||u&&!/^(?:meta|link|img|br|hr|input)$/i.test(S)){if(n.push('>'),u&&/^script$/i.test(S))for(;D;)D.data?n.push(D.data):se(D,n,u,f,b),D=D.nextSibling;else for(;D;)se(D,n,u,f,b),D=D.nextSibling;n.push('</',S,'>')}else n.push('/>');return;case w:case y:for(D=t.firstChild;D;)se(D,n,u,f,b),D=D.nextSibling;return;case l:return n.push(' ',t.name,'="',t.value.replace(/[<&"]/g,V),'"');case c:return n.push(t.data.replace(/[<&]/g,V));case h:return n.push('<![CDATA[',t.data,']]>');case v:return n.push("\x3c!--",t.data,"--\x3e");case E:var O=t.publicId,U=t.systemId;if(n.push('<!DOCTYPE ',t.name),O)n.push(' PUBLIC "',O),U&&'.'!=U&&n.push('" "',U),n.push('">');else if(U&&'.'!=U)n.push(' SYSTEM "',U,'">');else{var M=t.internalSubset;M&&n.push(" [",M,"]"),n.push(">")}return;case N:return n.push("<?",t.target," ",t.data,"?>");case p:return n.push('&',t.nodeName,';');default:n.push('??',t.nodeName)}}function le(t,n,o){var u;switch(n.nodeType){case s:(u=n.cloneNode(!1)).ownerDocument=t;case y:break;case l:o=!0}if(u||(u=n.cloneNode(!1)),u.ownerDocument=t,u.parentNode=null,o)for(var c=n.firstChild;c;)u.appendChild(le(t,c,o)),c=c.nextSibling;return u}function ce(t,n,o){var u=new n.constructor;for(var c in n){var h=n[c];'object'!=typeof h&&h!=u[c]&&(u[c]=h)}switch(n.childNodes&&(u.childNodes=new A),u.ownerDocument=t,u.nodeType){case s:var p=n.attributes,f=u.attributes=new O,N=p.length;f._ownerElement=u;for(var v=0;v<N;v++)u.setAttributeNode(ce(t,p.item(v),!0));break;case l:o=!0}if(o)for(var w=n.firstChild;w;)u.appendChild(ce(t,w,o)),w=w.nextSibling;return u}function he(t,n,o){t[n]=o}I.prototype=Error.prototype,t(T,I),A.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,n){for(var o=[],u=0;u<this.length;u++)se(this[u],o,t,n);return o.join('')}},R.prototype.item=function(t){return x(this),this[t]},n(R,A),O.prototype={length:0,item:A.prototype.item,getNamedItem:function(t){for(var n=this.length;n--;){var o=this[n];if(o.nodeName==t)return o}},setNamedItem:function(t){var n=t.ownerElement;if(n&&n!=this._ownerElement)throw new I(C);var o=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,o),o},setNamedItemNS:function(t){var n,o=t.ownerElement;if(o&&o!=this._ownerElement)throw new I(C);return n=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var n=this.getNamedItem(t);return B(this._ownerElement,this,n),n},removeNamedItemNS:function(t,n){var o=this.getNamedItemNS(t,n);return B(this._ownerElement,this,o),o},getNamedItemNS:function(t,n){for(var o=this.length;o--;){var u=this[o];if(u.localName==n&&u.namespaceURI==t)return u}return null}},P.prototype={hasFeature:function(t,n){var o=this._features[t.toLowerCase()];return!(!o||n&&!(n in o))},createDocument:function(t,n,o){var u=new j;if(u.implementation=this,u.childNodes=new A,u.doctype=o,o&&u.appendChild(o),n){var s=u.createElementNS(t,n);u.appendChild(s)}return u},createDocumentType:function(t,n,o){var u=new K;return u.name=t,u.nodeName=t,u.publicId=n,u.systemId=o,u}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,n){return X(this,t,n)},replaceChild:function(t,n){this.insertBefore(t,n),n&&this.removeChild(n)},removeChild:function(t){return $(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ce(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var n=t.nextSibling;n&&n.nodeType==c&&t.nodeType==c?(this.removeChild(n),t.appendData(n.data)):(t.normalize(),t=n)}},isSupported:function(t,n){return this.ownerDocument.implementation.hasFeature(t,n)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var n=this;n;){var o=n._nsMap;if(o)for(var u in o)if(o[u]==t)return u;n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},lookupNamespaceURI:function(t){for(var n=this;n;){var o=n._nsMap;if(o&&t in o)return o[t];n=n.nodeType==l?n.ownerDocument:n.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},t(u,L),t(u,L.prototype),j.prototype={nodeName:'#document',nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,n){if(t.nodeType==y){for(var o=t.firstChild;o;){var u=o.nextSibling;this.insertBefore(o,n),o=u}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),X(this,t,n),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),$(this,t)},importNode:function(t,n){return le(this,t,n)},getElementById:function(t){var n=null;return k(this.documentElement,function(o){if(o.nodeType==s&&o.getAttribute('id')==t)return n=o,!0}),n},createElement:function(t){var n=new H;return n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.childNodes=new A,(n.attributes=new O)._ownerElement=n,n},createDocumentFragment:function(){var t=new re;return t.ownerDocument=this,t.childNodes=new A,t},createTextNode:function(t){var n=new Z;return n.ownerDocument=this,n.appendData(t),n},createComment:function(t){var n=new Q;return n.ownerDocument=this,n.appendData(t),n},createCDATASection:function(t){var n=new J;return n.ownerDocument=this,n.appendData(t),n},createProcessingInstruction:function(t,n){var o=new ie;return o.ownerDocument=this,o.tagName=o.target=t,o.nodeValue=o.data=n,o},createAttribute:function(t){var n=new W;return n.ownerDocument=this,n.name=t,n.nodeName=t,n.localName=t,n.specified=!0,n},createEntityReference:function(t){var n=new ne;return n.ownerDocument=this,n.nodeName=t,n},createElementNS:function(t,n){var o=new H,u=n.split(':'),s=o.attributes=new O;return o.childNodes=new A,o.ownerDocument=this,o.nodeName=n,o.tagName=n,o.namespaceURI=t,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,s._ownerElement=o,o},createAttributeNS:function(t,n){var o=new W,u=n.split(':');return o.ownerDocument=this,o.nodeName=n,o.name=n,o.namespaceURI=t,o.specified=!0,2==u.length?(o.prefix=u[0],o.localName=u[1]):o.localName=n,o}},n(j,L),H.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var n=this.getAttributeNode(t);return n&&n.value||''},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,n){var o=this.ownerDocument.createAttribute(t);o.value=o.nodeValue=""+n,this.setAttributeNode(o)},removeAttribute:function(t){var n=this.getAttributeNode(t);n&&this.removeAttributeNode(n)},appendChild:function(t){return t.nodeType===y?this.insertBefore(t,null):G(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);o&&this.removeAttributeNode(o)},hasAttributeNS:function(t,n){return null!=this.getAttributeNodeNS(t,n)},getAttributeNS:function(t,n){var o=this.getAttributeNodeNS(t,n);return o&&o.value||''},setAttributeNS:function(t,n,o){var u=this.ownerDocument.createAttributeNS(t,n);u.value=u.nodeValue=""+o,this.setAttributeNode(u)},getAttributeNodeNS:function(t,n){return this.attributes.getNamedItemNS(t,n)},getElementsByTagName:function(t){return new R(this,function(n){var o=[];return k(n,function(u){u===n||u.nodeType!=s||'*'!==t&&u.tagName!=t||o.push(u)}),o})},getElementsByTagNameNS:function(t,n){return new R(this,function(o){var u=[];return k(o,function(l){l===o||l.nodeType!==s||'*'!==t&&l.namespaceURI!==t||'*'!==n&&l.localName!=n||u.push(l)}),u})}},j.prototype.getElementsByTagName=H.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,n(H,L),W.prototype.nodeType=l,n(W,L),q.prototype={data:'',substringData:function(t,n){return this.data.substring(t,t+n)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,n){this.replaceData(t,0,n)},appendChild:function(t){throw new Error(_[D])},deleteData:function(t,n){this.replaceData(t,n,"")},replaceData:function(t,n,o){o=this.data.substring(0,t)+o+this.data.substring(t+n),this.nodeValue=this.data=o,this.length=o.length}},n(q,L),Z.prototype={nodeName:"#text",nodeType:c,splitText:function(t){var n=this.data,o=n.substring(t);n=n.substring(0,t),this.data=this.nodeValue=n,this.length=n.length;var u=this.ownerDocument.createTextNode(o);return this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling),u}},n(Z,q),Q.prototype={nodeName:"#comment",nodeType:v},n(Q,q),J.prototype={nodeName:"#cdata-section",nodeType:h},n(J,q),K.prototype.nodeType=E,n(K,L),ee.prototype.nodeType=b,n(ee,L),te.prototype.nodeType=f,n(te,L),ne.prototype.nodeType=p,n(ne,L),re.prototype.nodeName="#document-fragment",re.prototype.nodeType=y,n(re,L),ie.prototype.nodeType=N,n(ie,L),oe.prototype.serializeToString=function(t,n,o){return ae.call(t,n,o)},L.prototype.toString=ae;try{if(Object.defineProperty){function pe(t){switch(t.nodeType){case s:case y:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(pe(t)),t=t.nextSibling;return n.join('');default:return t.nodeValue}}Object.defineProperty(R.prototype,'length',{get:function(){return x(this),this.$$length}}),Object.defineProperty(L.prototype,'textContent',{get:function(){return pe(this)},set:function(t){switch(this.nodeType){case s:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),he=function(t,n,o){t['$$'+n]=o}}}catch(e){}e.DOMImplementation=P,e.XMLSerializer=oe},431,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]),l=r(d[1]),t={},n=[],s=o.levels.TRACE;m.exports={addGlobalTransport:function(l){o.addGlobalTransport(l)},removeGlobalTransport:function(l){o.removeGlobalTransport(l)},setGlobalOptions:function(l){o.setGlobalOptions(l)},getLogger:function(l,v,f){var u=new o(s,l,v,f);return l?(t[l]=t[l]||[],t[l].push(u)):n.push(u),u},setLogLevelById:function(o,l){for(var s=l?t[l]||[]:n,v=0;v<s.length;v++)s[v].setLevel(o)},setLogLevel:function(o){s=o;for(var l=0;l<n.length;l++)n[l].setLevel(o);for(var v in t){var f=t[v]||[];for(l=0;l<f.length;l++)f[l].setLevel(o)}},levels:o.levels,LogCollector:l}},432,[433,434]);
__d(function(g,r,i,a,m,e,d){var t={trace:0,debug:1,info:2,log:3,warn:4,error:5};c.consoleTransport=console;var n=[c.consoleTransport];c.addGlobalTransport=function(t){-1===n.indexOf(t)&&n.push(t)},c.removeGlobalTransport=function(t){var o=n.indexOf(t);-1!==o&&n.splice(o,1)};var o={};function l(){var t={methodName:"",fileLocation:"",line:null,column:null},n=new Error,o=n.stack?n.stack.split("\n"):[];if(!o||o.length<3)return t;var l=null;return o[3]&&(l=o[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!l||l.length<=4?(0===o[2].indexOf("log@")?t.methodName=o[3].substr(0,o[3].indexOf("@")):t.methodName=o[2].substr(0,o[2].indexOf("@")),t):(t.methodName=l[1],t.fileLocation=l[2],t.line=l[3],t.column=l[4],t)}function s(){var s=arguments[0],c=arguments[1],f=Array.prototype.slice.call(arguments,2);if(!(t[c]<s.level))for(var h=!(s.options.disableCallerInfo||o.disableCallerInfo)&&l(),p=n.concat(s.transports),u=0;u<p.length;u++){var v=p[u],b=v[c];if(b&&"function"==typeof b){var O=[];O.push((new Date).toISOString()),s.id&&O.push("["+s.id+"]"),h&&h.methodName.length>1&&O.push("<"+h.methodName+">: ");var N=O.concat(f);b.bind(v).apply(v,N)}}}function c(n,o,l,c){this.id=o,this.options=c||{},this.transports=l,this.transports||(this.transports=[]),this.level=t[n];for(var f=Object.keys(t),h=0;h<f.length;h++)this[f[h]]=s.bind(null,this,f[h])}c.setGlobalOptions=function(t){o=t||{}},c.prototype.setLevel=function(n){this.level=t[n]},m.exports=c,c.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},433,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);function s(s,o){this.logStorage=s,this.stringifyObjects=!(!o||!o.stringifyObjects)&&o.stringifyObjects,this.storeInterval=o&&o.storeInterval?o.storeInterval:3e4,this.maxEntryLength=o&&o.maxEntryLength?o.maxEntryLength:1e4,Object.keys(t.levels).forEach(function(s){this[t.levels[s]]=function(){this._log.apply(this,arguments)}.bind(this,s)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}s.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return'[object with circular refs?]'}},s.prototype.formatLogMessage=function(s){for(var o='',h=1,n=arguments.length;h<n;h++){var u=arguments[h];!this.stringifyObjects&&s!==t.levels.ERROR||'object'!=typeof u||(u=this.stringify(u)),o+=u,h!==n-1&&(o+=' ')}return o.length?o:null},s.prototype._log=function(){var t=arguments[1],s=this.formatLogMessage.apply(this,arguments);if(s){var o=this.queue[this.queue.length-1];(o&&o.text)===s?o.count+=1:(this.queue.push({text:s,timestamp:t,count:1}),this.totalLen+=s.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},s.prototype.start=function(){this._reschedulePublishInterval()},s.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},s.prototype.flush=function(){this._flush(!1,!0)},s.prototype._flush=function(t,s){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),s&&this._reschedulePublishInterval()},s.prototype.stop=function(){this._flush(!1,!1)},m.exports=s},434,[433]);
__d(function(e,r,t,a,i,s,n){i.exports={_args:[["react-native@0.63.4","/Users/brajendrakumar/testt/sariska-media-react-native"]],_from:"react-native@0.63.4",_id:"react-native@0.63.4",_inBundle:!1,_integrity:"sha512-I4kM8kYO2mWEYUFITMcpRulcy4/jd+j9T6PbIzR0FuMcz/xwd+JwHoLPa1HmCesvR1RDOw9o4D+OFLwuXXfmGw==",_location:"/react-native",_phantomChildren:{"@babel/core":"7.12.10","@babel/plugin-proposal-class-properties":"7.12.1","@babel/plugin-proposal-export-default-from":"7.12.1","@babel/plugin-proposal-nullish-coalescing-operator":"7.12.1","@babel/plugin-proposal-object-rest-spread":"7.12.1","@babel/plugin-proposal-optional-catch-binding":"7.12.1","@babel/plugin-proposal-optional-chaining":"7.12.7","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-export-default-from":"7.12.1","@babel/plugin-syntax-flow":"7.12.1","@babel/plugin-transform-arrow-functions":"7.12.1","@babel/plugin-transform-block-scoping":"7.12.12","@babel/plugin-transform-classes":"7.12.1","@babel/plugin-transform-computed-properties":"7.12.1","@babel/plugin-transform-destructuring":"7.12.1","@babel/plugin-transform-exponentiation-operator":"7.12.1","@babel/plugin-transform-flow-strip-types":"7.12.10","@babel/plugin-transform-for-of":"7.12.1","@babel/plugin-transform-function-name":"7.12.1","@babel/plugin-transform-literals":"7.12.1","@babel/plugin-transform-modules-commonjs":"7.12.1","@babel/plugin-transform-object-assign":"7.12.1","@babel/plugin-transform-parameters":"7.12.1","@babel/plugin-transform-react-display-name":"7.12.1","@babel/plugin-transform-react-jsx":"7.12.12","@babel/plugin-transform-react-jsx-source":"7.12.1","@babel/plugin-transform-regenerator":"7.12.1","@babel/plugin-transform-runtime":"7.12.10","@babel/plugin-transform-shorthand-properties":"7.12.1","@babel/plugin-transform-spread":"7.12.1","@babel/plugin-transform-sticky-regex":"7.12.7","@babel/plugin-transform-template-literals":"7.12.1","@babel/plugin-transform-typescript":"7.12.1","@babel/plugin-transform-unicode-regex":"7.12.1","@babel/template":"7.12.7","@babel/traverse":"7.12.12","@babel/types":"7.12.12","@hapi/joi":"15.1.1","@jest/types":"25.5.0","@react-native-community/cli-debugger-ui":"4.13.1","@react-native-community/cli-hermes":"4.13.0","@react-native-community/cli-server-api":"4.13.1","@react-native-community/cli-tools":"4.13.0","@react-native-community/cli-types":"4.10.1","ansi-styles":"4.3.0","babel-preset-fbjs":"3.3.0",chalk:"3.0.0","command-exists":"1.2.9",commander:"2.20.3",cosmiconfig:"5.2.1",deepmerge:"3.3.0",envinfo:"7.7.3",execa:"1.0.0","find-up":"4.1.0","fs-extra":"8.1.0",glob:"7.1.6","graceful-fs":"4.2.4",inquirer:"3.3.0",invariant:"2.2.4",leven:"3.1.0",lodash:"4.17.20",metro:"0.58.0","metro-babel-transformer":"0.58.0","metro-config":"0.58.0","metro-core":"0.58.0","metro-resolver":"0.58.0","metro-symbolicate":"0.58.0",minimist:"1.2.5",mkdirp:"0.5.5","node-stream-zip":"1.12.0",ob1:"0.58.0",ora:"3.4.0","react-is":"16.13.1","react-refresh":"0.4.3",semver:"6.3.0","serve-static":"1.14.1","strip-ansi":"5.2.0","sudo-prompt":"9.2.1",vlq:"1.0.1",wcwidth:"1.0.1"},_requested:{type:"version",registry:!0,raw:"react-native@0.63.4",name:"react-native",escapedName:"react-native",rawSpec:"0.63.4",saveSpec:null,fetchSpec:"0.63.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/react-native/-/react-native-0.63.4.tgz",_spec:"0.63.4",_where:"/Users/brajendrakumar/testt/sariska-media-react-native",bin:{"react-native":"cli.js"},bugs:{url:"https://github.com/facebook/react-native/issues"},dependencies:{"@babel/runtime":"^7.0.0","@react-native-community/cli":"^4.10.0","@react-native-community/cli-platform-android":"^4.10.0","@react-native-community/cli-platform-ios":"^4.10.0","abort-controller":"^3.0.0",anser:"^1.4.9","base64-js":"^1.1.2","event-target-shim":"^5.0.1",fbjs:"^1.0.0","fbjs-scripts":"^1.1.0","hermes-engine":"~0.5.0",invariant:"^2.2.4","jsc-android":"^245459.0.0","metro-babel-register":"0.59.0","metro-react-native-babel-transformer":"0.59.0","metro-source-map":"0.59.0",nullthrows:"^1.1.1","pretty-format":"^24.9.0",promise:"^8.0.3","prop-types":"^15.7.2","react-devtools-core":"^4.6.0","react-refresh":"^0.4.0","regenerator-runtime":"^0.13.2",scheduler:"0.19.1","stacktrace-parser":"^0.1.3","use-subscription":"^1.0.0","whatwg-fetch":"^3.0.0"},description:"A framework for building native apps using React",detox:{"test-runner":"jest","runner-config":"RNTester/e2e/config.json",specs:"",configurations:{"android.emu.release":{binaryPath:"RNTester/android/app/build/outputs/apk/hermes/release/app-hermes-x86-release.apk",testBinaryPath:"RNTester/android/app/build/outputs/apk/androidTest/hermes/release/app-hermes-release-androidTest.apk",build:"./gradlew RNTester:android:app:assembleRelease RNTester:android:app:assembleAndroidTest -DtestBuildType=release",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"android.emu.debug":{binaryPath:"RNTester/android/app/build/outputs/apk/hermes/debug/app-hermes-x86-debug.apk",testBinaryPath:"RNTester/android/app/build/outputs/apk/androidTest/hermes/debug/app-hermes-debug-androidTest.apk",build:"./gradlew RNTester:android:app:assembleDebug RNTester:android:app:assembleAndroidTest -DtestBuildType=debug",type:"android.emulator",device:{avdName:"Nexus_6_API_29"}},"ios.sim.release":{binaryPath:"RNTester/build/Build/Products/Release-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace RNTester/RNTesterPods.xcworkspace -scheme RNTester -configuration Release -sdk iphonesimulator -derivedDataPath RNTester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"},"ios.sim.debug":{binaryPath:"RNTester/build/Build/Products/Debug-iphonesimulator/RNTester.app/",build:"xcodebuild -workspace RNTester/RNTesterPods.xcworkspace -scheme RNTester -configuration Debug -sdk iphonesimulator -derivedDataPath RNTester/build -UseModernBuildSystem=NO -quiet",type:"ios.simulator",name:"iPhone 8"}}},devDependencies:{"@babel/core":"^7.0.0","@babel/generator":"^7.5.0","@react-native-community/eslint-plugin":"file:packages/eslint-plugin-react-native-community","@reactions/component":"^2.0.2",async:"^2.4.0","babel-eslint":"10.0.1","clang-format":"^1.2.4",connect:"^3.6.5",coveralls:"^3.0.2",detox:"16.7.2",eslint:"5.1.0","eslint-config-fb-strict":"^24.9.0","eslint-config-fbjs":"2.1.0","eslint-config-prettier":"^6.0.0","eslint-plugin-babel":"^5.3.0","eslint-plugin-eslint-comments":"^3.1.1","eslint-plugin-flowtype":"2.50.3","eslint-plugin-jest":"22.4.1","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-prettier":"2.6.2","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^3.0.0","eslint-plugin-react-native":"3.8.1","eslint-plugin-relay":"1.7.0","flow-bin":"^0.122.0","flow-remove-types":"1.2.3",jest:"^24.9.0","jest-junit":"^6.3.0",jscodeshift:"^0.7.0",mkdirp:"^0.5.1",prettier:"1.17.0",react:"16.13.1","react-test-renderer":"16.13.1",shelljs:"^0.7.8",signedsource:"^1.0.0",ws:"^6.1.4",yargs:"^14.2.0"},engines:{node:">=10"},files:["!template/node_modules","!template/package-lock.json","!template/yarn.lock",".flowconfig","android","cli.js","flow","index.js","init.sh","interface.js","jest-preset.js","jest","lib","Libraries","LICENSE","local-cli","packager","React-Core.podspec","react-native.config.js","react.gradle","React.podspec","React","ReactAndroid","ReactCommon","README.md","rn-get-polyfills.js","scripts/react_native_pods.rb","scripts/compose-source-maps.js","scripts/ios-configure-glog.sh","scripts/launchPackager.bat","scripts/launchPackager.command","scripts/node-binary.sh","scripts/packager.sh","scripts/react-native-xcode.sh","template.config.js","template","third-party-podspecs"],homepage:"https://github.com/facebook/react-native#readme","jest-junit":{outputDirectory:"reports/junit",outputName:"js-test-results.xml"},license:"MIT",name:"react-native",peerDependencies:{react:"16.13.1"},repository:{type:"git",url:"git+ssh://git@github.com/facebook/react-native.git"},scripts:{"build-ios-e2e":"detox build -c ios.sim.release","clang-format":"clang-format -i --glob=*/**/*.{h,cpp,m,mm}","docker-build-android":"docker build -t reactnativeci/android -f .circleci/Dockerfiles/Dockerfile.android .","docker-setup-android":"docker pull reactnativecommunity/react-native-android",flow:"flow","flow-check-android":"flow check --flowconfig-name .flowconfig.android","flow-check-ios":"flow check",format:"npm run prettier && npm run clang-format","format-check":"prettier --list-different \"./**/*.{js,md,yml}\"",lint:"eslint .","lint-ci":"./scripts/circleci/analyze_code.sh && yarn shellcheck",prettier:"prettier --write \"./**/*.{js,md,yml}\"",shellcheck:"./scripts/circleci/analyze_scripts.sh",start:"react-native start",test:"jest","test-android-all":"yarn run docker-build-android && yarn run test-android-run-unit && yarn run test-android-run-instrumentation && yarn run test-android-run-e2e","test-android-e2e":"yarn run docker-build-android && yarn run test-android-run-e2e","test-android-instrumentation":"yarn run docker-build-android && yarn run test-android-run-instrumentation","test-android-run-e2e":"docker run --privileged -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-ci-e2e-tests.sh --android --js","test-android-run-instrumentation":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-instrumentation-tests.sh","test-android-run-unit":"docker run --cap-add=SYS_ADMIN -it reactnativeci/android bash .circleci/Dockerfiles/scripts/run-android-docker-unit-tests.sh","test-android-unit":"yarn run docker-build-android && yarn run test-android-run-unit","test-ci":"jest --maxWorkers=2 --ci --reporters=\"default\" --reporters=\"jest-junit\"","test-ios":"./scripts/objc-test.sh test","test-ios-e2e":"detox test -c ios.sim.release RNTester/e2e"},version:"0.63.4"}},435,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]),t=n(r(d[2]));!(function(n){void 0===n.MediaStream&&(n.MediaStream=o.MediaStream),void 0===n.MediaStreamTrack&&(n.MediaStreamTrack=o.MediaStreamTrack),void 0===n.RTCIceCandidate&&(n.RTCIceCandidate=o.RTCIceCandidate),void 0===n.RTCPeerConnection&&(n.RTCPeerConnection=t.default),void 0===n.RTCPeerConnection&&(n.webkitRTCPeerConnection=t.default),void 0===n.RTCSessionDescription&&(n.RTCSessionDescription=o.RTCSessionDescription);var s=n.navigator;s&&(void 0===s.mediaDevices&&(s.mediaDevices=o.mediaDevices),void 0===s.permissions&&(s.permissions=o.permissions))})(g||window||this)},436,[1,437,468]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.registerGlobals=function(){if('object'!=typeof navigator)throw new Error('navigator is not an object');navigator.mediaDevices||(navigator.mediaDevices={});navigator.mediaDevices.getUserMedia=s.default.getUserMedia.bind(s.default),navigator.mediaDevices.enumerateDevices=s.default.enumerateDevices.bind(s.default),g.RTCPeerConnection=n.default,g.RTCIceCandidate=u.default,g.RTCSessionDescription=o.default,g.MediaStream=c.default,g.MediaStreamTrack=l.default},Object.defineProperty(e,"RTCPeerConnection",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"RTCIceCandidate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"RTCSessionDescription",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"RTCView",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"MediaStream",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"MediaStreamTrack",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"mediaDevices",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"permissions",{enumerable:!0,get:function(){return b.default}});var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),c=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),b=t(r(d[8]))},437,[1,438,459,458,462,443,449,463,467]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),c=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7])),p=t(r(d[8])),h=r(d[9]),C=t(r(d[10])),v=t(r(d[11])),_=(t(r(d[12])),t(r(d[13]))),S=t(r(d[14])),I=t(r(d[15])),w=t(r(d[16])),y=t(r(d[17])),k=t(r(d[18])),E=t(r(d[19])),O=n(r(d[20])),D=t(r(d[21]));function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var L=h.NativeModules.WebRTCModule,b=0,T=(function(n){(0,u.default)(T,n);var t,p,h=(t=T,p=R(),function(){var n,o=(0,l.default)(t);if(p){var c=(0,l.default)(this).constructor;n=Reflect.construct(o,arguments,c)}else n=o.apply(this,arguments);return(0,f.default)(this,n)});function T(n){var t;return(0,c.default)(this,T),(t=h.call(this)).signalingState='stable',t.iceGatheringState='new',t.connectionState='new',t.iceConnectionState='new',t._localStreams=[],t._remoteStreams=[],t._dataChannelIds=new Set,t._peerConnectionId=b++,L.peerConnectionInit(n,t._peerConnectionId),t._registerEvents(),t}return(0,s.default)(T,[{key:"addStream",value:function(n){-1===this._localStreams.indexOf(n)&&(L.peerConnectionAddStream(n._reactTag,this._peerConnectionId),this._localStreams.push(n))}},{key:"removeStream",value:function(n){var t=this._localStreams.indexOf(n);-1!==t&&(this._localStreams.splice(t,1),L.peerConnectionRemoveStream(n._reactTag,this._peerConnectionId))}},{key:"createOffer",value:function(n){var t=this;return new Promise(function(o,c){L.peerConnectionCreateOffer(t._peerConnectionId,O.normalizeOfferAnswerOptions(n),function(n,t){n?o(new w.default(t)):c(t)})})}},{key:"createAnswer",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(o,c){L.peerConnectionCreateAnswer(n._peerConnectionId,O.normalizeOfferAnswerOptions(t),function(n,t){n?o(new w.default(t)):c(t)})})}},{key:"setConfiguration",value:function(n){L.peerConnectionSetConfiguration(n,this._peerConnectionId)}},{key:"setLocalDescription",value:function(n){var t=this;return new Promise(function(o,c){L.peerConnectionSetLocalDescription(n.toJSON?n.toJSON():n,t._peerConnectionId,function(s,u){s?(t.localDescription=n,o()):c(u)})})}},{key:"setRemoteDescription",value:function(n){var t=this;return new Promise(function(o,c){L.peerConnectionSetRemoteDescription(n.toJSON?n.toJSON():n,t._peerConnectionId,function(s,u){s?(t.remoteDescription=n,o()):c(u)})})}},{key:"addIceCandidate",value:function(n){var t=this;return new Promise(function(o,c){L.peerConnectionAddICECandidate(n.toJSON?n.toJSON():n,t._peerConnectionId,function(n){n?o():c(new Error('Failed to add ICE candidate'))})})}},{key:"getStats",value:function(){return L.peerConnectionGetStats(this._peerConnectionId).then(function(n){return new Map(JSON.parse(n))})}},{key:"getLocalStreams",value:function(){return this._localStreams.slice()}},{key:"getRemoteStreams",value:function(){return this._remoteStreams.slice()}},{key:"close",value:function(){L.peerConnectionClose(this._peerConnectionId)}},{key:"_getTrack",value:function(n,t){var o=this._remoteStreams.find(function(t){return t._reactTag===n});return o&&o._tracks.find(function(n){return n.id===t})}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(n){return n.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var n=this;this._subscriptions=[D.default.addListener('peerConnectionOnRenegotiationNeeded',function(t){t.id===n._peerConnectionId&&n.dispatchEvent(new E.default('negotiationneeded'))}),D.default.addListener('peerConnectionIceConnectionChanged',function(t){t.id===n._peerConnectionId&&(n.iceConnectionState=t.iceConnectionState,n.dispatchEvent(new E.default('iceconnectionstatechange')),'closed'===t.iceConnectionState&&n._unregisterEvents())}),D.default.addListener('peerConnectionStateChanged',function(t){t.id===n._peerConnectionId&&(n.connectionState=t.connectionState,n.dispatchEvent(new E.default('connectionstatechange')),'closed'===t.connectionState&&n._unregisterEvents())}),D.default.addListener('peerConnectionSignalingStateChanged',function(t){t.id===n._peerConnectionId&&(n.signalingState=t.signalingState,n.dispatchEvent(new E.default('signalingstatechange')))}),D.default.addListener('peerConnectionAddedStream',function(t){if(t.id===n._peerConnectionId){var o=new C.default(t);n._remoteStreams.push(o),n.dispatchEvent(new v.default('addstream',{stream:o}))}}),D.default.addListener('peerConnectionRemovedStream',function(t){if(t.id===n._peerConnectionId){var o=n._remoteStreams.find(function(n){return n._reactTag===t.streamId});if(o){var c=n._remoteStreams.indexOf(o);-1!==c&&n._remoteStreams.splice(c,1)}n.dispatchEvent(new v.default('removestream',{stream:o}))}}),D.default.addListener('mediaStreamTrackMuteChanged',function(t){if(t.peerConnectionId===n._peerConnectionId){var o=n._getTrack(t.streamReactTag,t.trackId);if(o){o.muted=t.muted;var c=t.muted?'mute':'unmute';o.dispatchEvent(new _.default(c,{track:o}))}}}),D.default.addListener('peerConnectionGotICECandidate',function(t){if(t.id===n._peerConnectionId){var o=new y.default(t.candidate),c=new k.default('icecandidate',{candidate:o});n.dispatchEvent(c)}}),D.default.addListener('peerConnectionIceGatheringChanged',function(t){t.id===n._peerConnectionId&&(n.iceGatheringState=t.iceGatheringState,'complete'===n.iceGatheringState&&n.dispatchEvent(new k.default('icecandidate',null)),n.dispatchEvent(new E.default('icegatheringstatechange')))}),D.default.addListener('peerConnectionDidOpenDataChannel',function(t){if(t.id===n._peerConnectionId){var o=t.dataChannel,c=o.id;if('number'==typeof c&&-1!==c){var s=new S.default(n._peerConnectionId,o.label,o);n._dataChannelIds.add(c),n.dispatchEvent(new I.default('datachannel',{channel:s}))}}})]}},{key:"createDataChannel",value:function(n,t){var c,s=this._dataChannelIds;if(t&&'id'in t){if('number'!=typeof(c=t.id))throw new TypeError('DataChannel id must be a number: '+c);if(s.has(c))throw new ResourceInUse('DataChannel id already in use: '+c)}else{for(c=1;c<65535&&s.has(c);++c);t=(0,o.default)({id:c},t)}return L.createDataChannel(this._peerConnectionId,n,t),s.add(c),new S.default(this._peerConnectionId,n,t)}}]),T})((0,p.default)(['connectionstatechange','icecandidate','icecandidateerror','iceconnectionstatechange','icegatheringstatechange','negotiationneeded','signalingstatechange','datachannel','addstream','removestream']));e.default=T},438,[12,1,16,29,30,40,42,39,439,5,443,452,449,453,454,456,458,459,460,461,451,457]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),l=r(d[2]),o=t.LISTENERS,u=t.CAPTURE,f=t.BUBBLE,c=t.ATTRIBUTE,s=t.newNode,v=n.defineCustomEventTarget,h=l.createEventWrapper,E=l.STOP_IMMEDIATE_PROPAGATION_FLAG,p="undefined"!=typeof window&&void 0!==window.EventTarget,w=m.exports=function t(){if(!(this instanceof t)){if(1===arguments.length&&Array.isArray(arguments[0]))return v(t,arguments[0]);if(arguments.length>0){for(var n=Array(arguments.length),l=0;l<arguments.length;++l)n[l]=arguments[l];return v(t,n)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,o,{value:Object.create(null)})};w.prototype=Object.create((p?window.EventTarget:Object).prototype,{constructor:{value:w,writable:!0,configurable:!0},addEventListener:{value:function(t,n,l){if(null==n)return!1;if("function"!=typeof n&&"object"!=typeof n)throw new TypeError("\"listener\" is not an object.");var c=l?u:f,v=this[o][t];if(null==v)return this[o][t]=s(n,c),!0;for(var h=null;null!=v;){if(v.listener===n&&v.kind===c)return!1;h=v,v=v.next}return h.next=s(n,c),!0},configurable:!0,writable:!0},removeEventListener:{value:function(t,n,l){if(null==n)return!1;for(var c=l?u:f,s=null,v=this[o][t];null!=v;){if(v.listener===n&&v.kind===c)return null==s?this[o][t]=v.next:s.next=v.next,!0;s=v,v=v.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(t){var n=this[o][t.type];if(null==n)return!0;for(var l=h(t,this);null!=n&&("function"==typeof n.listener?n.listener.call(this,l):n.kind!==c&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(l),!l[E]);)n=n.next;return!l.defaultPrevented},configurable:!0,writable:!0}})},439,[440,441,442]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=e.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(n){return"[["+n+"_"+Math.random().toFixed(8).slice(2)+"]]"};e.LISTENERS=n("listeners"),e.CAPTURE=1,e.BUBBLE=2,e.ATTRIBUTE=3,e.newNode=function(n,t){return{listener:n,kind:t,next:null}}},440,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]),t=n.LISTENERS,u=n.ATTRIBUTE,o=n.newNode;function l(n,o){for(var l=n[t][o];null!=l;){if(l.kind===u)return l.listener;l=l.next}return null}function c(n,l,c){"function"!=typeof c&&"object"!=typeof c&&(c=null);for(var f=null,s=n[t][l];null!=s;)s.kind===u?null==f?n[t][l]=s.next:f.next=s.next:f=s,s=s.next;null!=c&&(null==f?n[t][l]=o(c,u):f.next=o(c,u))}e.defineCustomEventTarget=function(n,t){function u(){n.call(this)}var o={constructor:{value:u,configurable:!0,writable:!0}};return t.forEach(function(n){o["on"+n]={get:function(){return l(this,n)},set:function(t){c(this,n,t)},configurable:!0,enumerable:!0}}),u.prototype=Object.create(n.prototype,o),u}},441,[440]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).createUniqueKey,n=t("stop_immediate_propagation_flag"),l=t("canceled_flag"),u=t("original_event"),o=Object.freeze({stopPropagation:Object.freeze({value:function(){var t=this[u];"function"==typeof t.stopPropagation&&t.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[n]=!0;var t=this[u];"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){!0===this.cancelable&&(this[l]=!0);var t=this[u];"function"==typeof t.preventDefault&&t.preventDefault()},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[l]},enumerable:!0,configurable:!0})});e.STOP_IMMEDIATE_PROPAGATION_FLAG=n,e.createEventWrapper=function(t,b){var c="number"==typeof t.timeStamp?t.timeStamp:Date.now(),p={type:{value:t.type,enumerable:!0},target:{value:b,enumerable:!0},currentTarget:{value:b,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(t.bubbles),enumerable:!0},cancelable:{value:Boolean(t.cancelable),enumerable:!0},timeStamp:{value:c,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return p[n]={value:!1,writable:!0},p[l]={value:!1,writable:!0},p[u]={value:t},void 0!==t.detail&&(p.detail={value:t.detail,enumerable:!0}),Object.create(Object.create(t,o),p)}},442,[440]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),l=r(d[6]),s=t(r(d[7])),v=t(r(d[8])),k=t(r(d[9]));function y(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=h(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function h(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var _=l.NativeModules.WebRTCModule,b=(function(t){(0,c.default)(p,t);var l,s,h=(l=p,s=T(),function(){var t,n=(0,f.default)(l);if(s){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function p(t){var o;if((0,n.default)(this,p),(o=h.call(this)).active=!0,o._tracks=[],o.id=v.default.v4(),o._reactTag=o.id,void 0===t)_.mediaStreamCreate(o.id);else if(t instanceof p){_.mediaStreamCreate(o.id);for(var c,u=y(t.getTracks());!(c=u()).done;){var f=c.value;o.addTrack(f)}}else if(Array.isArray(t)){_.mediaStreamCreate(o.id);for(var l,s=y(t);!(l=s()).done;){var T=l.value;o.addTrack(T)}}else{if(!('object'==typeof t&&t.streamId&&t.streamReactTag&&t.tracks))throw new TypeError("invalid type: "+typeof t);o.id=t.streamId,o._reactTag=t.streamReactTag;for(var b,S=y(t.tracks);!(b=S()).done;){var R=b.value;o._tracks.push(new k.default(R))}}return o}return(0,o.default)(p,[{key:"addTrack",value:function(t){-1===this._tracks.indexOf(t)&&(this._tracks.push(t),_.mediaStreamAddTrack(this._reactTag,t.id))}},{key:"removeTrack",value:function(t){var n=this._tracks.indexOf(t);-1!==n&&(this._tracks.splice(n,1),_.mediaStreamRemoveTrack(this._reactTag,t.id))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTrackById",value:function(t){return this._tracks.find(function(n){return n.id===t})}},{key:"getAudioTracks",value:function(){return this._tracks.filter(function(t){return'audio'===t.kind})}},{key:"getVideoTracks",value:function(){return this._tracks.filter(function(t){return'video'===t.kind})}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"toURL",value:function(){return this._reactTag}},{key:"release",value:function(){for(var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=y(this._tracks);!(t=o()).done;){var c=t.value;this.removeTrack(c),n&&c.release()}_.mediaStreamRelease(this._reactTag)}}]),p})((0,s.default)(['active','inactive','addtrack','removetrack']));e.default=b},443,[1,29,30,40,42,39,5,439,444,449]);
__d(function(g,r,i,a,m,e,d){var v=r(d[0]),n=r(d[1]),o=n;o.v1=v,o.v4=n,m.exports=o},444,[445,448]);
__d(function(g,r,i,a,m,e,d){var n,o,s=r(d[0]),c=r(d[1]),v=0,l=0;m.exports=function(u,t,f){var k=t&&f||0,q=t||[],w=(u=u||{}).node||n,h=void 0!==u.clockseq?u.clockseq:o;if(null==w||null==h){var _=s();null==w&&(w=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==h&&(h=o=16383&(_[6]<<8|_[7]))}var p=void 0!==u.msecs?u.msecs:(new Date).getTime(),x=void 0!==u.nsecs?u.nsecs:l+1,C=p-v+(x-l)/1e4;if(C<0&&void 0===u.clockseq&&(h=h+1&16383),(C<0||p>v)&&void 0===u.nsecs&&(x=0),x>=1e4)throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');v=p,l=x,o=h;var D=(1e4*(268435455&(p+=122192928e5))+x)%4294967296;q[k++]=D>>>24&255,q[k++]=D>>>16&255,q[k++]=D>>>8&255,q[k++]=255&D;var E=p/4294967296*1e4&268435455;q[k++]=E>>>8&255,q[k++]=255&E,q[k++]=E>>>24&15|16,q[k++]=E>>>16&255,q[k++]=h>>>8|128,q[k++]=255&h;for(var M=0;M<6;++M)q[k+M]=w[M];return t||c(q)}},445,[446,447]);
__d(function(g,r,i,a,m,e,d){var n='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);m.exports=function(){return n(t),t}}else{var o=new Array(16);m.exports=function(){for(var n,t=0;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),o[t]=n>>>((3&t)<<3)&255;return o}}},446,[]);
__d(function(g,r,i,a,m,e,d){for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1);m.exports=function(t,o){var u=o||0,f=n;return[f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],'-',f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]],f[t[u++]]].join('')}},447,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);m.exports=function(t,f,u){var l=f&&u||0;'string'==typeof t&&(f='binary'===t?new Array(16):null,t=null);var v=(t=t||{}).random||(t.rng||n)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,f)for(var y=0;y<16;++y)f[l+y]=v[y];return f||o(v)}},448,[446,447]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),c=r(d[6]),f=t(r(d[7])),h=(t(r(d[8])),r(d[9]));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=c.NativeModules.WebRTCModule,k=(function(t){(0,l.default)(p,t);var c,f,k=(c=p,f=v(),function(){var t,n=(0,s.default)(c);if(f){var o=(0,s.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function p(t){var o;(0,n.default)(this,p),(o=k.call(this))._constraints=t.constraints||{},o._enabled=t.enabled,o.id=t.id,o.kind=t.kind,o.label=t.label,o.muted=!1,o.remote=t.remote;var l=t.readyState.toLowerCase();return o.readyState="initializing"===l||"live"===l?"live":"ended",o}return(0,o.default)(p,[{key:"stop",value:function(){y.mediaStreamTrackSetEnabled(this.id,!1),this.readyState='ended'}},{key:"_switchCamera",value:function(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');y.mediaStreamTrackSwitchCamera(this.id)}},{key:"applyConstraints",value:function(){throw new Error('Not implemented.')}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"getCapabilities",value:function(){throw new Error('Not implemented.')}},{key:"getConstraints",value:function(){return(0,h.deepClone)(this._constraints)}},{key:"getSettings",value:function(){throw new Error('Not implemented.')}},{key:"release",value:function(){y.mediaStreamTrackRelease(this.id)}},{key:"enabled",get:function(){return this._enabled},set:function(t){t!==this._enabled&&(y.mediaStreamTrackSetEnabled(this.id,!this._enabled),this._enabled=!this._enabled,this.muted=!this._enabled)}}]),p})((0,f.default)(['ended','mute','unmute','overconstrained']));e.default=k},449,[1,29,30,40,42,39,5,439,450,451]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},450,[1,16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=w,e.normalizeOfferAnswerOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};if(!t)return o;t.mandatory&&(t=t.mandatory);for(var f=0,c=Object.entries(t);f<c.length;f++){var u=c[f],v=(0,n.default)(u,2),s=v[0],l=v[1],w=h[s.toLowerCase()];w&&(o[w]=String(Boolean(l)))}return o},e.normalizeConstraints=function(t){for(var n=w(t),o=0,f=['audio','video'];o<f.length;o++){var c=f[o],h=n[c],v=typeof h;if('undefined'!==v)if('boolean'===v)h&&(n[c]=u(c));else{if('object'!==v)throw new TypeError("constraints."+c+" is neither a boolean nor a dictionary");n[c]=l(h,c)}}return n};var n=t(r(d[1])),o={},f={facingMode:'user',frameRate:30,height:720,width:1280},c=1.7777777777777777,h={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'};function u(t){switch(t){case'audio':return o;case'video':return f;default:throw new TypeError("Invalid media type: "+t)}}function v(t,n){var o=t[n],f=typeof o;if('object'===f)for(var c=0,h=['exact','ideal'];c<h.length;c++){var u=h[c];if(o[u])return o[u]}else if('string'===f)return o}function s(t,n){var o=t[n],f=typeof o;if('number'===f)return Number.parseInt(o);if('object'===f)for(var c=0,h=['exact','ideal','min','max'];c<h.length;c++){var u=h[c];if(o[u])return Number.parseInt(o[u])}}function l(t,n){switch(n){case'audio':return t;case'video':var o;return(o=t.mandatory?{deviceId:v(t.optional||{},'sourceId'),facingMode:v(t,'facingMode'),frameRate:s(t.mandatory,'minFrameRate'),height:s(t.mandatory,'minHeight'),width:s(t.mandatory,'minWidth')}:{deviceId:v(t,'deviceId'),facingMode:v(t,'facingMode'),frameRate:s(t,'frameRate'),height:s(t,'height'),width:s(t,'width')}).deviceId||delete o.deviceId,(!o.facingMode||'user'!==o.facingMode&&'environment'!==o.facingMode)&&(o.facingMode=f.facingMode),o.frameRate||(o.frameRate=f.frameRate),o.height||o.width?o.height?o.width||(o.width=Math.round(o.height*c)):o.height=Math.round(o.width/c):(o.height=f.height,o.width=f.width),o;default:throw new TypeError("Invalid media type: "+n)}}function w(t){return JSON.parse(JSON.stringify(t))}},451,[1,17]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},452,[1,16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},453,[1,16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),l=r(d[7]),h=t(r(d[8])),y=t(r(d[9])),p=t(r(d[10])),v=t(r(d[11])),b=t(r(d[12]));function _(t){var n=C();return function(){var o,s=(0,f.default)(t);if(n){var c=(0,f.default)(this).constructor;o=Reflect.construct(s,arguments,c)}else o=s.apply(this,arguments);return(0,u.default)(this,o)}}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var w=l.NativeModules.WebRTCModule,S=((function(t){(0,s.default)(u,t);var n=_(u);function u(){return(0,o.default)(this,u),n.apply(this,arguments)}})((0,c.default)(Error)),(function(t){(0,s.default)(f,t);var u=_(f);function f(t,n,s){var c;return(0,o.default)(this,f),(c=u.call(this)).binaryType='arraybuffer',c.bufferedAmount=0,c.bufferedAmountLowThreshold=0,c.maxPacketLifeTime=null,c.maxRetransmits=null,c.negotiated=!1,c.ordered=!0,c.protocol='',c.readyState='connecting',c._peerConnectionId=t,c.label=n,c.id='id'in s?s.id:-1,c.ordered=!!s.ordered,c.maxPacketLifeTime=s.maxPacketLifeTime,c.maxRetransmits=s.maxRetransmits,c.protocol=s.protocol||'',c.negotiated=!!s.negotiated,c._registerEvents(),c}return(0,n.default)(f,[{key:"send",value:function(t){if('string'!=typeof t){if(ArrayBuffer.isView(t))t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);else{if(!(t instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');t=new Uint8Array(t)}w.dataChannelSend(this._peerConnectionId,this.id,h.default.fromByteArray(t),'binary')}else w.dataChannelSend(this._peerConnectionId,this.id,t,'text')}},{key:"close",value:function(){'closing'!==this.readyState&&'closed'!==this.readyState&&(this.readyState='closing',w.dataChannelClose(this._peerConnectionId,this.id))}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var t=this;this._subscriptions=[b.default.addListener('dataChannelStateChanged',function(n){n.peerConnectionId===t._peerConnectionId&&n.id===t.id&&(t.readyState=n.state,'open'===t.readyState?t.dispatchEvent(new v.default('open',{channel:t})):'close'===t.readyState&&(t.dispatchEvent(new v.default('close',{channel:t})),t._unregisterEvents()))}),b.default.addListener('dataChannelReceiveMessage',function(n){if(n.peerConnectionId===t._peerConnectionId&&n.id===t.id){var o=n.data;'binary'===n.type&&(o=h.default.toByteArray(n.data).buffer),t.dispatchEvent(new p.default('message',{data:o}))}})]}}]),f})((0,y.default)(['open','message','bufferedamountlow','close','error'])));e.default=S},454,[1,30,29,40,42,39,98,5,148,439,455,456,457]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},455,[1,16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},456,[1,16,29]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=t.NativeModules.WebRTCModule,l=new t.NativeEventEmitter(u);e.default=l},457,[5]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),s=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,sdp:''};(0,u.default)(this,t),this.sdp=n.sdp,this.type=n.type}return(0,n.default)(t,[{key:"toJSON",value:function(){return{sdp:this.sdp,type:this.type}}}]),t})();e.default=s},458,[1,29,30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=(function(){function t(s){(0,n.default)(this,t),this.candidate=s.candidate,this.sdpMLineIndex=s.sdpMLineIndex,this.sdpMid=s.sdpMid}return(0,s.default)(t,[{key:"toJSON",value:function(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}]),t})();e.default=u},459,[1,29,30]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default=function t(u,c){(0,n.default)(this,t),this.type=u.toString(),this.candidate=null,c&&c.candidate&&(this.candidate=c.candidate)}},460,[1,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));e.default=function t(l,n){(0,f.default)(this,t),this.type=l.toString(),(0,u.default)(this,n)}},461,[1,16,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[1]),n=t(r(d[2])),l=(o.NativeModules.WebRTCModule,{name:'RTCVideoView',propTypes:{mirror:n.default.bool,objectFit:n.default.oneOf(['contain','cover']),streamURL:n.default.string,zOrder:n.default.number}}),s=(0,o.requireNativeComponent)('RTCVideoView',l,{nativeOnly:{testID:!0,accessibilityComponentType:!0,renderToHardwareTextureAndroid:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,importantForAccessibility:!0,onLayout:!0,nativeID:!0}});e.default=s},462,[1,5,72]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),c=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),o=r(d[6]),s=t(r(d[7])),v=t(r(d[8])),y=t(r(d[9]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var h=o.NativeModules.WebRTCModule,R=new((function(t){(0,c.default)(D,t);var o,s,R=(o=D,s=p(),function(){var t,u=(0,l.default)(o);if(s){var n=(0,l.default)(this).constructor;t=Reflect.construct(u,arguments,n)}else t=u.apply(this,arguments);return(0,f.default)(this,t)});function D(){return(0,u.default)(this,D),R.apply(this,arguments)}return(0,n.default)(D,[{key:"enumerateDevices",value:function(){return new Promise(function(t){return h.enumerateDevices(t)})}},{key:"getDisplayMedia",value:function(t){return(0,v.default)(t)}},{key:"getUserMedia",value:function(t){return(0,y.default)(t)}}]),D})((0,s.default)(['devicechange'])));e.default=R},463,[1,29,30,40,42,39,5,439,464,466]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if('android'!==n.Platform.OS)return Promise.reject(new Error('Unsupported platform'));if(!t||!t.video)return Promise.reject(new TypeError);return new Promise(function(t,n){f.getDisplayMedia().then(function(n){var u=n.streamId,f=n.track,s={streamId:u,streamReactTag:u,tracks:[f]},c=new o.default(s);t(c)},function(t){n(new u.default(t))})})};var n=r(d[1]),o=t(r(d[2])),u=t(r(d[3])),f=n.NativeModules.WebRTCModule},464,[1,5,443,465]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1]));e.default=function t(n){(0,s.default)(this,t),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName}},465,[1,29]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof t)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==t.audio&&t.audio||void 0!==t.video&&t.video))return Promise.reject(new TypeError('audio and/or video is required'));var n=[];(t=s.normalizeConstraints(t)).audio?n.push(f.default.request({name:'microphone'})):n.push(Promise.resolve(!1));t.video?n.push(f.default.request({name:'camera'})):n.push(Promise.resolve(!1));return new Promise(function(u,f){Promise.all(n).then(function(n){var y=(0,o.default)(n,2),p=y[0],h=y[1];if(p||h){p||delete t.audio,h||delete t.video;b.getUserMedia(t,function(n,o){for(var c,f=v(o);!(c=f()).done;){var y=c.value,p=t[y.kind];'object'==typeof p&&(y.constraints=s.deepClone(p))}var b={streamId:n,streamReactTag:n,tracks:o};u(new l.default(b))},function(t,n){var o;switch(t){case'TypeError':o=new TypeError(n)}o||(o=new c.default({message:n,name:t}));f(o)})}else{f(new c.default({message:'Permission denied.',name:'SecurityError'}))}})})};var o=n(r(d[2])),u=r(d[3]),s=t(r(d[4])),l=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7]));function v(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=y(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function y(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var b=u.NativeModules.WebRTCModule},466,[12,1,17,5,451,443,465,467]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=r(d[3]),u=s.NativeModules.WebRTCModule,P=new((function(){function n(){(0,t.default)(this,n),this.RESULT={DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'},this.VALID_PERMISSIONS=['camera','microphone'],this._lastReq=Promise.resolve()}return(0,o.default)(n,[{key:"_requestPermissionAndroid",value:function(n){return new Promise(function(t,o){s.PermissionsAndroid.request(n).then(function(n){return t(!0===n||n===s.PermissionsAndroid.RESULTS.GRANTED)},function(){return t(!1)})})}},{key:"_validatePermissionDescriptior",value:function(n){if("object"!=typeof n)throw new TypeError("Argument 1 of Permissions.query is not an object.");if(void 0===n.name)throw new TypeError("Missing required 'name' member of PermissionDescriptor.");if(-1===this.VALID_PERMISSIONS.indexOf(n.name))throw new TypeError("'name' member of PermissionDescriptor is not a valid value for enumeration PermissionName.")}},{key:"query",value:function(n){var t=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var o='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;return new Promise(function(n,u){s.PermissionsAndroid.check(o).then(function(o){return n(o?t.RESULT.GRANTED:t.RESULT.PROMPT)},function(){return n(t.RESULT.PROMPT)})})}return'ios'===s.Platform.OS||'macos'===s.Platform.OS?u.checkPermission(n.name):Promise.reject(new TypeError("Unsupported platform."))}},{key:"request",value:function(n){var t=this;try{this._validatePermissionDescriptior(n)}catch(n){return Promise.reject(n)}if('android'===s.Platform.OS){var o='camera'===n.name?s.PermissionsAndroid.PERMISSIONS.CAMERA:s.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,P=function(){return t._requestPermissionAndroid(o)};return this._lastReq=this._lastReq.then(P,P),this._lastReq}return'ios'===s.Platform.OS||'macos'===s.Platform.OS?u.requestPermission(n.name):Promise.reject(new TypeError("Unsupported platform."))}}]),n})());e.default=P},467,[1,29,30,5]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4])),s=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7])),v=t(r(d[8])),p=r(d[9]),h=r(d[10]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var _=(function(t){(0,c.default)(_,t);var n,p,h=(n=_,p=y(),function(){var t,o=(0,v.default)(n);if(p){var u=(0,v.default)(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function _(){var t;(0,u.default)(this,_);for(var n=arguments.length,o=new Array(n),f=0;f<n;f++)o[f]=arguments[f];return(t=h.call.apply(h,[this].concat(o))).onaddstream=function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(t._onaddstreamQueue?t._queueOnaddstream:t._invokeOnaddstream).apply((0,s.default)(t),o)},Object.defineProperty((0,s.default)(t),'onaddstream',{configurable:!0,enumerable:!0,get:function(){return this._onaddstream},set:function(t){this._onaddstream=t}}),t}return(0,f.default)(_,[{key:"_invokeOnaddstream",value:function(){for(var t=this._onaddstream,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t&&t.apply(this,o)}},{key:"_invokeQueuedOnaddstream",value:function(t){var n=this;t&&t.forEach(function(t){try{n._invokeOnaddstream.apply(n,(0,o.default)(t))}catch(t){console.error(t)}})}},{key:"_queueOnaddstream",value:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this._onaddstreamQueue.push(Array.from(n))}},{key:"setRemoteDescription",value:function(t){var n=this;O(t).catch(function(n){return n&&console.error(n),t}).then(function(t){return b.bind(n)(t)})}}]),_})(h.RTCPeerConnection);function b(t){var n=this;return new Promise(function(o,u){n._onaddstreamQueue=[],h.RTCPeerConnection.prototype.setRemoteDescription.call(n,t).then(function(){var t;try{o.apply(void 0,arguments)}finally{t=n._onaddstreamQueue,n._onaddstreamQueue=void 0}n._invokeQueuedOnaddstream(t)},function(){n._onaddstreamQueue=void 0,u.apply(void 0,arguments)})})}e.default=_,_.prototype.setRemoteDescription=function(t){var n=this;return O(t).catch(function(n){return n&&console.log(n),t}).then(function(t){return b.bind(n)(t)})};var k=(function(){var t=p.NativeModules.POSIX;if(t){var o=t.getaddrinfo;if('function'==typeof o)return function(t){return o(t,void 0).then(function(t){return(0,n.default)(t,1)[0].ai_addr})}}var u=p.NativeModules.NAT64AddrInfo;if(u){var f=u.getIPv6Address;if('function'==typeof f)return f}return function(){return Promise.reject("The impossible just happened! No POSIX.getaddrinfo or NAT64AddrInfo.getIPv6Address!")}})();function O(t){return new Promise(function(n){return n(P(t))}).then(function(n){var o=n.ips,u=n.lines;return Promise.all(Array.from(o.values())).then(function(){return A(t,o,u)})})}function P(t){var n=t.sdp,o=0,u=[],f=new Map;do{var s=n.indexOf('\r\n',o),c=void 0;if(-1===s?(c=n.substring(o),o=void 0):(c=n.substring(o,s),o=s+2),c.startsWith('a=candidate:')){var l=c.split(' ');if(l.length>=10&&'typ'===l[6]){for(var v=[l[4]],p=!1,h=8;h<l.length;++h)if('raddr'===l[h]){v.push(l[++h]);break}for(var y=function(t){if(-1!==t.indexOf(':'))return p=!0,"break";f.has(t)||f.set(t,new Promise(function(n,o){var u=f.get(t);u&&'string'==typeof u?n(u):k(t).then(function(o){o&&-1!==o.indexOf(':')&&o!==f.get(t)?f.set(t,o):f.delete(t),n(o)},o)}))},_=0,b=v;_<b.length;_++){if("break"===y(b[_]))break}if(p){f.clear();break}c=l}}u.push(c)}while(o);return{ips:f,lines:u}}function A(t,n,o){if(0===n.size)return t;for(var u=0;u<o.length;++u){var f=o[u];if('string'!=typeof f){var s=f[4],c=n.get(s);c&&(f[4]=c);for(var l=8;l<f.length;++l)if('raddr'===f[l]){s=f[++l],(c=n.get(s))&&(f[l]=c);break}o[u]=f.join(' ')}}return new h.RTCSessionDescription({sdp:o.join('\r\n'),type:t.type})}},468,[1,17,25,29,30,43,40,42,39,5,437]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=r(d[1]);window.csioReactNative=!0,window.RTCPeerConnection||(window.RTCPeerConnection=n.RTCPeerConnection),window.webkitRTCPeerConnection||(window.webkitRTCPeerConnection=n.RTCPeerConnection),window.performance||(window.performance={}),window.performance.timing||(window.performance.timing={},window.performance.timing.navigationStart=0),Date.now=Date.now||function(){return(new Date).getTime()},window.performance.now||(window.performance.now=function(){return Date.now()}),window.location||(window.location={},window.location.href='react-native'),window.atob||(window.atob=r(d[2]).decode),window.btoa||(window.btoa=r(d[2]).encode);window.csiosign=function(n,o,w){var t=new(r(d[3]))('SHA-256','TEXT');t.setHMACKey(o,'TEXT'),t.update(n);var c,f=t.getHMAC('BYTES');return w(null,n+='.'+(c=f,window.btoa(c).replace(/\+/g,'-').replace(/\//g,'_').replace(/\=+$/,'')))},window.csioGetOsName=function(){return o.Platform.OS},window.csioGetOsVer=function(){return o.Platform.Version+''}},469,[437,5,470,471]);
__d(function(g,r,i,a,m,e,d){!(function(t){var n='object'==typeof e&&e,o='object'==typeof m&&m&&m.exports==n&&m,c='object'==typeof g&&g;c.global!==c&&c.window!==c||(t=c);var h=function(t){this.message=t};(h.prototype=new Error).name='InvalidCharacterError';var f=function(t){throw new h(t)},s='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',A=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&f("The string to be encoded contains characters outside of the Latin1 range.");for(var n,o,c,h,A=t.length%3,l='',p=-1,u=t.length-A;++p<u;)n=t.charCodeAt(p)<<16,o=t.charCodeAt(++p)<<8,c=t.charCodeAt(++p),l+=s.charAt((h=n+o+c)>>18&63)+s.charAt(h>>12&63)+s.charAt(h>>6&63)+s.charAt(63&h);return 2==A?(n=t.charCodeAt(p)<<8,o=t.charCodeAt(++p),l+=s.charAt((h=n+o)>>10)+s.charAt(h>>4&63)+s.charAt(h<<2&63)+'='):1==A&&(h=t.charCodeAt(p),l+=s.charAt(h>>2)+s.charAt(h<<4&63)+'=='),l},decode:function(t){var n=(t=String(t).replace(A,'')).length;n%4==0&&(n=(t=t.replace(/==?$/,'')).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(t))&&f('Invalid character: the string to be decoded is not correctly encoded.');for(var o,c,h=0,l='',p=-1;++p<n;)c=s.indexOf(t.charAt(p)),o=h%4?64*o+c:c,h++%4&&(l+=String.fromCharCode(255&o>>(-2*h&6)));return l},version:'0.1.0'};if('function'==typeof define&&'object'==typeof define.amd&&define.amd)define(function(){return l});else if(n&&!n.nodeType)if(o)o.exports=l;else for(var p in l)l.hasOwnProperty(p)&&(n[p]=l[p]);else t.base64=l})(this)},470,[]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function(n){function t(n,t,o){var u,l,p,E,v,H,S,U,R,y=0,k=[],F=0,T=!1,B=[],Y=[],C=!1,I=!1,L=-1;if(u=(o=o||{}).encoding||"UTF8",(R=o.numRounds||1)!==parseInt(R,10)||1>R)throw Error("numRounds must a integer >= 1");if("SHA-1"===n)v=512,H=z,S=Z,E=160,U=function(n){return n.slice()};else if(0===n.lastIndexOf("SHA-",0))if(H=function(t,o){return q(t,o,n)},S=function(t,o,u,f){var w,s;if("SHA-224"===n||"SHA-256"===n)w=15+(o+65>>>9<<4),s=16;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");w=31+(o+129>>>10<<5),s=32}for(;t.length<=w;)t.push(0);for(t[o>>>5]|=128<<24-o%32,o+=u,t[w]=4294967295&o,t[w-1]=o/4294967296|0,u=t.length,o=0;o<u;o+=s)f=q(t.slice(o,o+s),f,n);if("SHA-224"===n)t=[f[0],f[1],f[2],f[3],f[4],f[5],f[6]];else if("SHA-256"===n)t=f;else if("SHA-384"===n)t=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b];else{if("SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");t=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b,f[6].a,f[6].b,f[7].a,f[7].b]}return t},U=function(n){return n.slice()},"SHA-224"===n)v=512,E=224;else if("SHA-256"===n)v=512,E=256;else if("SHA-384"===n)v=1024,E=384;else{if("SHA-512"!==n)throw Error("Chosen SHA variant is not supported");v=1024,E=512}else{if(0!==n.lastIndexOf("SHA3-",0)&&0!==n.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var x=6;if(H=D,U=function(n){var t,o=[];for(t=0;5>t;t+=1)o[t]=n[t].slice();return o},L=1,"SHA3-224"===n)v=1152,E=224;else if("SHA3-256"===n)v=1088,E=256;else if("SHA3-384"===n)v=832,E=384;else if("SHA3-512"===n)v=576,E=512;else if("SHAKE128"===n)v=1344,E=-1,x=31,I=!0;else{if("SHAKE256"!==n)throw Error("Chosen SHA variant is not supported");v=1088,E=-1,x=31,I=!0}S=function(n,t,o,u,f){var w,s=x,c=[],b=(o=v)>>>5,h=0,A=t>>>5;for(w=0;w<A&&t>=o;w+=b)u=D(n.slice(w,w+b),u),t-=o;for(n=n.slice(w),t%=o;n.length<b;)n.push(0);for(n[(w=t>>>3)>>2]^=s<<w%4*8,n[b-1]^=2147483648,u=D(n,u);32*c.length<f&&(n=u[h%5][h/5|0],c.push(n.b),!(32*c.length>=f));)c.push(n.a),0==64*(h+=1)%o&&(D(null,u),h=0);return c}}p=A(t,u,L),l=j(n),this.setHMACKey=function(t,o,f){var w;if(!0===T)throw Error("HMAC key already set");if(!0===C)throw Error("Cannot set HMAC key after calling update");if(!0===I)throw Error("SHAKE is not supported for HMAC");for(t=(o=A(o,u=(f||{}).encoding||"UTF8",L)(t)).binLen,o=o.value,f=(w=v>>>3)/4-1,w<t/8&&(o=S(o,t,0,j(n),E));o.length<=f;)o.push(0);for(t=0;t<=f;t+=1)B[t]=909522486^o[t],Y[t]=1549556828^o[t];l=H(B,l),y=v,T=!0},this.update=function(n){var t,o,u,f=0,w=v>>>5;for(n=(t=p(n,k,F)).binLen,o=t.value,t=n>>>5,u=0;u<t;u+=w)f+v<=n&&(l=H(o.slice(u,u+w),l),f+=v);y+=f,k=o.slice(f>>>5),F=n%v,C=!0},this.getHash=function(t,o){var u,A,p,v;if(!0===T)throw Error("Cannot call getHash after setting HMAC key");if(p=h(o),!0===I){if(-1===p.shakeLen)throw Error("shakeLen must be specified in options");E=p.shakeLen}switch(t){case"HEX":u=function(n){return f(n,E,L,p)};break;case"B64":u=function(n){return w(n,E,L,p)};break;case"BYTES":u=function(n){return s(n,E,L)};break;case"ARRAYBUFFER":try{A=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}u=function(n){return c(n,E,L)};break;case"UINT8ARRAY":try{A=new Uint8Array(0)}catch(n){throw Error("UINT8ARRAY not supported by this environment")}u=function(n){return b(n,E,L)};break;default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}for(v=S(k.slice(),F,y,U(l),E),A=1;A<R;A+=1)!0===I&&0!=E%32&&(v[v.length-1]&=16777215>>>24-E%32),v=S(v,E,0,j(n),E);return u(v)},this.getHMAC=function(t,o){var u,A,p,R;if(!1===T)throw Error("Cannot call getHMAC without first setting HMAC key");switch(p=h(o),t){case"HEX":u=function(n){return f(n,E,L,p)};break;case"B64":u=function(n){return w(n,E,L,p)};break;case"BYTES":u=function(n){return s(n,E,L)};break;case"ARRAYBUFFER":try{u=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}u=function(n){return c(n,E,L)};break;case"UINT8ARRAY":try{u=new Uint8Array(0)}catch(n){throw Error("UINT8ARRAY not supported by this environment")}u=function(n){return b(n,E,L)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return A=S(k.slice(),F,y,U(l),E),R=H(Y,j(n)),u(R=S(A,E,v,R,E))}}function o(n,t){this.a=n,this.b=t}function u(n,t,o,u){var f,w,s,c,b;for(t=t||[0],w=(o=o||0)>>>3,b=-1===u?3:0,f=0;f<n.length;f+=1)s=(c=f+w)>>>2,t.length<=s&&t.push(0),t[s]|=n[f]<<8*(b+c%4*u);return{value:t,binLen:8*n.length+o}}function f(n,t,o,u){var f,w,s,c="";for(t/=8,s=-1===o?3:0,f=0;f<t;f+=1)w=n[f>>>2]>>>8*(s+f%4*o),c+="0123456789abcdef".charAt(w>>>4&15)+"0123456789abcdef".charAt(15&w);return u.outputUpper?c.toUpperCase():c}function w(n,t,o,u){var f,w,s,c,b="",h=t/8;for(c=-1===o?3:0,f=0;f<h;f+=3)for(w=f+1<h?n[f+1>>>2]:0,s=f+2<h?n[f+2>>>2]:0,s=(n[f>>>2]>>>8*(c+f%4*o)&255)<<16|(w>>>8*(c+(f+1)%4*o)&255)<<8|s>>>8*(c+(f+2)%4*o)&255,w=0;4>w;w+=1)b+=8*f+6*w<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>>6*(3-w)&63):u.b64Pad;return b}function s(n,t,o){var u,f,w,s="";for(t/=8,w=-1===o?3:0,u=0;u<t;u+=1)f=n[u>>>2]>>>8*(w+u%4*o)&255,s+=String.fromCharCode(f);return s}function c(n,t,o){t/=8;var u,f,w,s=new ArrayBuffer(t);for(w=new Uint8Array(s),f=-1===o?3:0,u=0;u<t;u+=1)w[u]=n[u>>>2]>>>8*(f+u%4*o)&255;return s}function b(n,t,o){t/=8;var u,f,w=new Uint8Array(t);for(f=-1===o?3:0,u=0;u<t;u+=1)w[u]=n[u>>>2]>>>8*(f+u%4*o)&255;return w}function h(n){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(n=n||{},t.outputUpper=n.outputUpper||!1,!0===n.hasOwnProperty("b64Pad")&&(t.b64Pad=n.b64Pad),!0===n.hasOwnProperty("shakeLen")){if(0!=n.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function A(n,t,o){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(n){case"HEX":n=function(n,t,u){var f,w,s,c,b,h,A=n.length;if(0!=A%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],b=(u=u||0)>>>3,h=-1===o?3:0,f=0;f<A;f+=2){if(w=parseInt(n.substr(f,2),16),isNaN(w))throw Error("String of HEX type contains invalid characters");for(s=(c=(f>>>1)+b)>>>2;t.length<=s;)t.push(0);t[s]|=w<<8*(h+c%4*o)}return{value:t,binLen:4*A+u}};break;case"TEXT":n=function(n,u,f){var w,s,c,b,h,A,l,p,E=0;if(u=u||[0],h=(f=f||0)>>>3,"UTF8"===t)for(p=-1===o?3:0,c=0;c<n.length;c+=1)for(s=[],128>(w=n.charCodeAt(c))?s.push(w):2048>w?(s.push(192|w>>>6),s.push(128|63&w)):55296>w||57344<=w?s.push(224|w>>>12,128|w>>>6&63,128|63&w):(c+=1,w=65536+((1023&w)<<10|1023&n.charCodeAt(c)),s.push(240|w>>>18,128|w>>>12&63,128|w>>>6&63,128|63&w)),b=0;b<s.length;b+=1){for(A=(l=E+h)>>>2;u.length<=A;)u.push(0);u[A]|=s[b]<<8*(p+l%4*o),E+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(p=-1===o?2:0,s="UTF16LE"===t&&1!==o||"UTF16LE"!==t&&1===o,c=0;c<n.length;c+=1){for(w=n.charCodeAt(c),!0===s&&(w=(b=255&w)<<8|w>>>8),A=(l=E+h)>>>2;u.length<=A;)u.push(0);u[A]|=w<<8*(p+l%4*o),E+=2}return{value:u,binLen:8*E+f}};break;case"B64":n=function(n,t,u){var f,w,s,c,b,h,A,l,p=0;if(-1===n.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(w=n.indexOf("="),n=n.replace(/\=/g,""),-1!==w&&w<n.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],h=(u=u||0)>>>3,l=-1===o?3:0,w=0;w<n.length;w+=4){for(b=n.substr(w,4),s=c=0;s<b.length;s+=1)c|=(f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(s)))<<18-6*s;for(s=0;s<b.length-1;s+=1){for(f=(A=p+h)>>>2;t.length<=f;)t.push(0);t[f]|=(c>>>16-8*s&255)<<8*(l+A%4*o),p+=1}}return{value:t,binLen:8*p+u}};break;case"BYTES":n=function(n,t,u){var f,w,s,c,b,h;for(t=t||[0],s=(u=u||0)>>>3,h=-1===o?3:0,w=0;w<n.length;w+=1)f=n.charCodeAt(w),c=(b=w+s)>>>2,t.length<=c&&t.push(0),t[c]|=f<<8*(h+b%4*o);return{value:t,binLen:8*n.length+u}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(n){throw Error("ARRAYBUFFER not supported by this environment")}n=function(n,t,f){return u(new Uint8Array(n),t,f,o)};break;case"UINT8ARRAY":try{n=new Uint8Array(0)}catch(n){throw Error("UINT8ARRAY not supported by this environment")}n=function(n,t,f){return u(n,t,f,o)};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}return n}function l(n,t){return n<<t|n>>>32-t}function p(n,t){return 32<t?(t-=32,new o(n.b<<t|n.a>>>32-t,n.a<<t|n.b>>>32-t)):0!==t?new o(n.a<<t|n.b>>>32-t,n.b<<t|n.a>>>32-t):n}function E(n,t){return n>>>t|n<<32-t}function v(n,t){var u=null;u=new o(n.a,n.b);return 32>=t?new o(u.a>>>t|u.b<<32-t&4294967295,u.b>>>t|u.a<<32-t&4294967295):new o(u.b>>>t-32|u.a<<64-t&4294967295,u.a>>>t-32|u.b<<64-t&4294967295)}function H(n,t){return 32>=t?new o(n.a>>>t,n.b>>>t|n.a<<32-t&4294967295):new o(0,n.a>>>t-32)}function S(n,t,o){return n&t^~n&o}function U(n,t,u){return new o(n.a&t.a^~n.a&u.a,n.b&t.b^~n.b&u.b)}function R(n,t,o){return n&t^n&o^t&o}function y(n,t,u){return new o(n.a&t.a^n.a&u.a^t.a&u.a,n.b&t.b^n.b&u.b^t.b&u.b)}function k(n){return E(n,2)^E(n,13)^E(n,22)}function F(n){var t=v(n,28),u=v(n,34);return n=v(n,39),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function T(n){return E(n,6)^E(n,11)^E(n,25)}function B(n){var t=v(n,14),u=v(n,18);return n=v(n,41),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function Y(n){return E(n,7)^E(n,18)^n>>>3}function C(n){var t=v(n,1),u=v(n,8);return n=H(n,7),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function I(n){return E(n,17)^E(n,19)^n>>>10}function L(n){var t=v(n,19),u=v(n,61);return n=H(n,6),new o(t.a^u.a^n.a,t.b^u.b^n.b)}function x(n,t){var o=(65535&n)+(65535&t);return((n>>>16)+(t>>>16)+(o>>>16)&65535)<<16|65535&o}function N(n,t,o,u){var f=(65535&n)+(65535&t)+(65535&o)+(65535&u);return((n>>>16)+(t>>>16)+(o>>>16)+(u>>>16)+(f>>>16)&65535)<<16|65535&f}function O(n,t,o,u,f){var w=(65535&n)+(65535&t)+(65535&o)+(65535&u)+(65535&f);return((n>>>16)+(t>>>16)+(o>>>16)+(u>>>16)+(f>>>16)+(w>>>16)&65535)<<16|65535&w}function X(n,t){var u,f,w;return u=(65535&n.b)+(65535&t.b),w=(65535&(f=(n.b>>>16)+(t.b>>>16)+(u>>>16)))<<16|65535&u,u=(65535&n.a)+(65535&t.a)+(f>>>16),new o((65535&(f=(n.a>>>16)+(t.a>>>16)+(u>>>16)))<<16|65535&u,w)}function P(n,t,u,f){var w,s,c;return w=(65535&n.b)+(65535&t.b)+(65535&u.b)+(65535&f.b),c=(65535&(s=(n.b>>>16)+(t.b>>>16)+(u.b>>>16)+(f.b>>>16)+(w>>>16)))<<16|65535&w,w=(65535&n.a)+(65535&t.a)+(65535&u.a)+(65535&f.a)+(s>>>16),new o((65535&(s=(n.a>>>16)+(t.a>>>16)+(u.a>>>16)+(f.a>>>16)+(w>>>16)))<<16|65535&w,c)}function M(n,t,u,f,w){var s,c,b;return s=(65535&n.b)+(65535&t.b)+(65535&u.b)+(65535&f.b)+(65535&w.b),b=(65535&(c=(n.b>>>16)+(t.b>>>16)+(u.b>>>16)+(f.b>>>16)+(w.b>>>16)+(s>>>16)))<<16|65535&s,s=(65535&n.a)+(65535&t.a)+(65535&u.a)+(65535&f.a)+(65535&w.a)+(c>>>16),new o((65535&(c=(n.a>>>16)+(t.a>>>16)+(u.a>>>16)+(f.a>>>16)+(w.a>>>16)+(s>>>16)))<<16|65535&s,b)}function K(n,t){return new o(n.a^t.a,n.b^t.b)}function j(n){var t,u=[];if("SHA-1"===n)u=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===n.lastIndexOf("SHA-",0))switch(u=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n){case"SHA-224":break;case"SHA-256":u=t;break;case"SHA-384":u=[new o(3418070365,u[0]),new o(1654270250,u[1]),new o(2438529370,u[2]),new o(355462360,u[3]),new o(1731405415,u[4]),new o(41048885895,u[5]),new o(3675008525,u[6]),new o(1203062813,u[7])];break;case"SHA-512":u=[new o(t[0],4089235720),new o(t[1],2227873595),new o(t[2],4271175723),new o(t[3],1595750129),new o(t[4],2917565137),new o(t[5],725511199),new o(t[6],4215389547),new o(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==n.lastIndexOf("SHA3-",0)&&0!==n.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(n=0;5>n;n+=1)u[n]=[new o(0,0),new o(0,0),new o(0,0),new o(0,0),new o(0,0)]}return u}function z(n,t){var o,u,f,w,s,c,b,h=[];for(o=t[0],u=t[1],f=t[2],w=t[3],s=t[4],b=0;80>b;b+=1)h[b]=16>b?n[b]:l(h[b-3]^h[b-8]^h[b-14]^h[b-16],1),c=20>b?O(l(o,5),u&f^~u&w,s,1518500249,h[b]):40>b?O(l(o,5),u^f^w,s,1859775393,h[b]):60>b?O(l(o,5),R(u,f,w),s,2400959708,h[b]):O(l(o,5),u^f^w,s,3395469782,h[b]),s=w,w=f,f=l(u,30),u=o,o=c;return t[0]=x(o,t[0]),t[1]=x(u,t[1]),t[2]=x(f,t[2]),t[3]=x(w,t[3]),t[4]=x(s,t[4]),t}function Z(n,t,o,u){var f;for(f=15+(t+65>>>9<<4);n.length<=f;)n.push(0);for(n[t>>>5]|=128<<24-t%32,t+=o,n[f]=4294967295&t,n[f-1]=t/4294967296|0,t=n.length,f=0;f<t;f+=16)u=z(n.slice(f,f+16),u);return u}function q(n,t,u){var f,w,s,c,b,h,A,l,p,E,v,H,K,j,z,Z,q,D,Q,V,W,_,$,nn=[];if("SHA-224"===u||"SHA-256"===u)E=64,H=1,_=Number,K=x,j=N,z=O,Z=Y,q=I,D=k,Q=T,W=R,V=S,$=G;else{if("SHA-384"!==u&&"SHA-512"!==u)throw Error("Unexpected error in SHA-2 implementation");E=80,H=2,_=o,K=X,j=P,z=M,Z=C,q=L,D=F,Q=B,W=y,V=U,$=J}for(u=t[0],f=t[1],w=t[2],s=t[3],c=t[4],b=t[5],h=t[6],A=t[7],v=0;v<E;v+=1)16>v?(p=v*H,l=n.length<=p?0:n[p],p=n.length<=p+1?0:n[p+1],nn[v]=new _(l,p)):nn[v]=j(q(nn[v-2]),nn[v-7],Z(nn[v-15]),nn[v-16]),l=z(A,Q(c),V(c,b,h),$[v],nn[v]),p=K(D(u),W(u,f,w)),A=h,h=b,b=c,c=K(s,l),s=w,w=f,f=u,u=K(l,p);return t[0]=K(u,t[0]),t[1]=K(f,t[1]),t[2]=K(w,t[2]),t[3]=K(s,t[3]),t[4]=K(c,t[4]),t[5]=K(b,t[5]),t[6]=K(h,t[6]),t[7]=K(A,t[7]),t}function D(n,t){var u,f,w,s,c=[],b=[];if(null!==n)for(f=0;f<n.length;f+=2)t[(f>>>1)%5][(f>>>1)/5|0]=K(t[(f>>>1)%5][(f>>>1)/5|0],new o(n[f+1],n[f]));for(u=0;24>u;u+=1){for(s=j("SHA3-"),f=0;5>f;f+=1){w=t[f][0];var h=t[f][1],A=t[f][2],l=t[f][3],E=t[f][4];c[f]=new o(w.a^h.a^A.a^l.a^E.a,w.b^h.b^A.b^l.b^E.b)}for(f=0;5>f;f+=1)b[f]=K(c[(f+4)%5],p(c[(f+1)%5],1));for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)t[f][w]=K(t[f][w],b[f]);for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)s[w][(2*f+3*w)%5]=p(t[f][w],Q[f][w]);for(f=0;5>f;f+=1)for(w=0;5>w;w+=1)t[f][w]=K(s[f][w],new o(~s[(f+1)%5][w].a&s[(f+2)%5][w].a,~s[(f+1)%5][w].b&s[(f+2)%5][w].b));t[0][0]=K(t[0][0],V[u])}return t}var G,J,Q,V;J=[new o((G=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])[0],3609767458),new o(G[1],602891725),new o(G[2],3964484399),new o(G[3],2173295548),new o(G[4],4081628472),new o(G[5],3053834265),new o(G[6],2937671579),new o(G[7],3664609560),new o(G[8],2734883394),new o(G[9],1164996542),new o(G[10],1323610764),new o(G[11],3590304994),new o(G[12],4068182383),new o(G[13],991336113),new o(G[14],633803317),new o(G[15],3479774868),new o(G[16],2666613458),new o(G[17],944711139),new o(G[18],2341262773),new o(G[19],2007800933),new o(G[20],1495990901),new o(G[21],1856431235),new o(G[22],3175218132),new o(G[23],2198950837),new o(G[24],3999719339),new o(G[25],766784016),new o(G[26],2566594879),new o(G[27],3203337956),new o(G[28],1034457026),new o(G[29],2466948901),new o(G[30],3758326383),new o(G[31],168717936),new o(G[32],1188179964),new o(G[33],1546045734),new o(G[34],1522805485),new o(G[35],2643833823),new o(G[36],2343527390),new o(G[37],1014477480),new o(G[38],1206759142),new o(G[39],344077627),new o(G[40],1290863460),new o(G[41],3158454273),new o(G[42],3505952657),new o(G[43],106217008),new o(G[44],3606008344),new o(G[45],1432725776),new o(G[46],1467031594),new o(G[47],851169720),new o(G[48],3100823752),new o(G[49],1363258195),new o(G[50],3750685593),new o(G[51],3785050280),new o(G[52],3318307427),new o(G[53],3812723403),new o(G[54],2003034995),new o(G[55],3602036899),new o(G[56],1575990012),new o(G[57],1125592928),new o(G[58],2716904306),new o(G[59],442776044),new o(G[60],593698344),new o(G[61],3733110249),new o(G[62],2999351573),new o(G[63],3815920427),new o(3391569614,3928383900),new o(3515267271,566280711),new o(3940187606,3454069534),new o(4118630271,4000239992),new o(116418474,1914138554),new o(174292421,2731055270),new o(289380356,3203993006),new o(460393269,320620315),new o(685471733,587496836),new o(852142971,1086792851),new o(1017036298,365543100),new o(1126000580,2618297676),new o(1288033470,3409855158),new o(1501505948,4234509866),new o(1607167915,987167468),new o(1816402316,1246189591)],V=[new o(0,1),new o(0,32898),new o(2147483648,32906),new o(2147483648,2147516416),new o(0,32907),new o(0,2147483649),new o(2147483648,2147516545),new o(2147483648,32777),new o(0,138),new o(0,136),new o(0,2147516425),new o(0,2147483658),new o(0,2147516555),new o(2147483648,139),new o(2147483648,32905),new o(2147483648,32771),new o(2147483648,32770),new o(2147483648,128),new o(0,32778),new o(2147483648,2147483658),new o(2147483648,2147516545),new o(2147483648,32896),new o(0,2147483649),new o(2147483648,2147516424)],Q=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],"function"==typeof define&&define.amd?define(function(){return t}):void 0!==e?(void 0!==m&&m.exports&&(m.exports=t),e=t):n.jsSHA=t})(this)},471,[]);
__d(function(e,t,n,r,i,a,o){var s=t(o[0]);!(function(){return function e(n,r,i){function a(s,c){if(!r[s]){if(!n[s]){var u="function"==typeof t&&t;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){return a(n[s][1][e]||e)},d,d.exports,e,n,r,i)}return r[s].exports}for(var o="function"==typeof t&&t,s=0;s<i.length;s++)a(i[s]);return a}})()({1:[function(t,n,r){(function(e,t,i){(function(){!(function(e){if("object"==typeof r&&void 0!==n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;"undefined"!=typeof window?i=window:void 0!==t?i=t:"undefined"!=typeof self&&(i=self),i.Promise=e()}})(function(){return(function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function a(e){for(;e.length()>0;)o(e)}function o(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),r=e.shift();t.call(n,r)}}var s;try{throw new Error}catch(e){s=e}var c=t("./schedule"),u=t("./queue");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},i.prototype.invokeLater=function(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()},i.prototype.invoke=function(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()},i.prototype.settlePromises=function(e){this._normalQueue._pushOne(e),this._queueTick()},i.prototype._drainQueues=function(){a(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,a(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=s},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,a=function(e,t){this._reject(t)},o=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(a,a,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(a){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var u=n(a),l=new e(t);l._propagateFrom(this,1);var d=this._target();if(l._setBoundTo(u),u instanceof e){var f={promiseRejectionQueued:!1,promise:l,target:d,bindingPromise:u};d._then(t,o,void 0,l,f),u._then(s,c,void 0,l,f),l._setOnCancel(u)}else l._resolveCallback(d);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),a=r(null);i[" size"]=a[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+o.classString(e)+" has no method '"+o.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){return n(e,this.pop()).apply(e,this)}function i(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var o=e("./util"),s=o.canEvaluate;o.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(s){var n=(void 0)(e);t=null!==n?n:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var a=e("./util"),o=a.tryCatch,s=a.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(a.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=o(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,a=n.errorObj;return function(e,o,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var d=e[l];if(d===Error||null!=d&&d.prototype instanceof Error){if(c instanceof d)return i(o).call(u,c)}else if("function"==typeof d){var f=i(d).call(u,c);if(f===a)return f;if(f)return i(o).call(u,c)}else if(n.isObject(c)){for(var h=r(d),p=0;p<h.length;++p){var v=h[p];if(d[v]!=c[v])continue e}return i(o).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function n(){var e=i.length-1;if(e>=0)return i[e]}var r=!1,i=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){if(r)return new t},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var i=e.prototype._pushContext,a=e.prototype._popContext,o=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=a,e._peekContext=o,e.prototype._peekContext=s,e.prototype._promiseCreated=c,r=!1},r=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r,i,a){function o(e,t){return{promise:t}}function s(){return!1}function c(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+B.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function u(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?B.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function l(){return this._onCancelField}function d(e){this._onCancelField=e}function f(){this._cancellationParent=void 0,this._onCancelField=void 0}function h(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function v(){this._trace=new M(this._peekContext())}function g(e,t){if(U(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=T(e);B.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(e,"__stackCleaned__",!0)}}}function y(){this._trace=void 0}function m(e,t,r){if(se.warnings){var i,a=new L(e);if(t)r._attachExtraTrace(a);else if(se.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(a);else{var o=T(a);a.stack=o.message+"\n"+o.stack.join("\n")}ne("warning",a)||_(a,"",!0)}}function b(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function S(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function k(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,a=t[i],o=-1,s=r.length-1;s>=0;--s)if(r[s]===a){o=s;break}for(s=o;s>=0;--s){var c=r[s];if(t[i]!==c)break;t.pop(),i--}t=r}}function w(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||G.test(r),a=i&&ie(r);i&&!a&&(z&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||G.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function T(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:w(t)}}function _(e,t,n){if("undefined"!=typeof console){var r;if(B.isObject(e)){var i=e.stack;r=t+q(i,e)}else r=t+String(e);"function"==typeof A?A(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function P(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){x.throwLater(e)}"unhandledRejection"===e?ne(e,n,r)||i||_(n,"Unhandled rejection "):ne(e,r)}function E(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():B.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+I(t)+">, no stack trace)"}function I(e){return e.length<41?e:e.substr(0,38)+"..."}function R(){return"function"==typeof oe}function O(e){var t=e.match(ae);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function M(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,M),t>32&&this.uncycle()}var F,j,A,D,x=n._async,L=t("./errors").Warning,B=t("./util"),H=t("./es5"),U=B.canAttachTrace,N=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,V=/\((?:timers\.js):\d+:\d+\)/,W=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,G=null,q=null,z=!1,Q=!(0==B.env("BLUEBIRD_DEBUG")),J=!(0==B.env("BLUEBIRD_WARNINGS")||!Q&&!B.env("BLUEBIRD_WARNINGS")),K=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!Q&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),X=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(J||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!(function(){function e(){for(var e=0;e<r.length;++e)r[e]._notifyUnhandledRejection();t()}function t(){r.length=0}var r=[];D=function(t){r.push(t),setTimeout(e,1)},H.defineProperty(n,"_unhandledRejectionCheck",{value:e}),H.defineProperty(n,"_unhandledRejectionClear",{value:t})})(),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),D(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){P("rejectionHandled",F,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),P("unhandledRejection",j,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return m(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();j=B.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();F=B.contextBind(t,e)};var $=function(){};n.longStackTraces=function(){if(x.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!se.longStackTraces&&R()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,i=n.prototype._dereferenceTrace;se.longStackTraces=!0,$=function(){if(x.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),se.longStackTraces=!1},n.prototype._captureStackTrace=v,n.prototype._attachExtraTrace=g,n.prototype._dereferenceTrace=y,r.activateLongStackTraces()}},n.hasLongStackTraces=function(){return se.longStackTraces&&R()};var Y={unhandledrejection:{before:function(){var e=B.global.onunhandledrejection;return B.global.onunhandledrejection=null,e},after:function(e){B.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=B.global.onrejectionhandled;return B.global.onrejectionhandled=null,e},after:function(e){B.global.onrejectionhandled=e}}},Z=(function(){var e=function(e,t){if(!e)return!B.global.dispatchEvent(t);var n;try{return n=e.before(),!B.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new CustomEvent(t,{detail:n,cancelable:!0});return H.defineProperty(r,"promise",{value:n.promise}),H.defineProperty(r,"reason",{value:n.reason}),e(Y[t],r)}}if("function"==typeof Event){t=new Event("CustomEvent");return B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=new Event(t,{cancelable:!0});return r.detail=n,H.defineProperty(r,"promise",{value:n.promise}),H.defineProperty(r,"reason",{value:n.reason}),e(Y[t],r)}}return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,!1,!0,n),e(Y[t],r)}}catch(e){}return function(){return!1}})(),ee=B.isNode?function(){return e.emit.apply(e,arguments)}:B.global?function(e){var t="on"+e.toLowerCase(),n=B.global[t];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1},te={promiseCreated:o,promiseFulfilled:o,promiseRejected:o,promiseResolved:o,promiseCancelled:o,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:o},ne=function(e){var t=!1;try{t=ee.apply(null,arguments)}catch(e){x.throwLater(e),t=!0}var n=!1;try{n=Z(e,te[e].apply(null,arguments))}catch(e){x.throwLater(e),n=!0}return n||t};n.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&$()),"warnings"in e){var t=e.warnings;se.warnings=!!t,X=se.warnings,B.isObject(t)&&"wForgottenReturn"in t&&(X=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!se.cancellation){if(x.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=f,n.prototype._propagateFrom=h,n.prototype._onCancel=l,n.prototype._setOnCancel=d,n.prototype._attachCancellationCallback=u,n.prototype._execute=c,re=h,se.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!se.monitoring?(se.monitoring=!0,n.prototype._fireEvent=ne):!e.monitoring&&se.monitoring&&(se.monitoring=!1,n.prototype._fireEvent=s)),"asyncHooks"in e&&B.nodeSupportsAsyncResource){var r=se.asyncHooks,o=!!e.asyncHooks;r!==o&&(se.asyncHooks=o,o?i():a())}return n},n.prototype._fireEvent=s,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var re=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},ie=function(){return!1},ae=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(M,Error),r.CapturedTrace=M,M.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var a=t[r].stack;void 0===n[a]&&(n[a]=r)}for(r=0;r<e;++r){var o=n[t[r].stack];if(void 0!==o&&o!==r){o>0&&(t[o-1]._parent=void 0,t[o-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var s=r>0?t[r-1]:this;o<e-1?(s._parent=t[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=r-2;u>=0;--u)t[u]._length=c,c++;return}}}},M.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=T(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;k(r),S(r),B.notEnumerableProp(e,"stack",b(n,r)),B.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=(function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():E(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,G=e,q=t;var n=Error.captureStackTrace;return ie=function(e){return N.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return G=/@/,q=t,z=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(q=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?E(t):t.toString()},null):(G=e,q=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})})();"undefined"!=typeof console&&void 0!==console.warn&&(A=function(e){console.warn(e)},B.isNode&&e.stderr.isTTY?A=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(A=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var se={warnings:J,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return K&&n.longStackTraces(),{asyncHooks:function(){return se.asyncHooks},longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return re},boundValueFunction:function(){return p},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&X){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var a="",o="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=w(s),u=c.length-1;u>=0;--u){var l=c[u];if(!V.test(l)){var d=l.match(W);d&&(a="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(c.length>0){var f=c[0];for(u=0;u<s.length;++u)if(s[u]===f){u>0&&(o="\n"+s[u-1]);break}}}var h="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r._warn(h,!0,t)}},setBounds:function(e,t){if(R()){for(var n,r,i=(e.stack||"").split("\n"),a=(t.stack||"").split("\n"),o=-1,s=-1,c=0;c<i.length;++c)if(u=O(i[c])){n=u.fileName,o=u.line;break}for(c=0;c<a.length;++c){var u;if(u=O(a[c])){r=u.fileName,s=u.line;break}}o<0||s<0||!n||!r||n!==r||o>=s||(ie=function(e){if(N.test(e))return!0;var t=O(e);return!!(t&&t.fileName===n&&o<=t.line&&t.line<=s)})}},warn:m,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),m(n)},CapturedTrace:M,fireDomEvent:Z,fireGlobalEvent:ee}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();return this.caught(n,function(){return r})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return i(this)}var r=e.reduce,i=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return r(e,n,t,t)}}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){if(!(this instanceof n))return new n(r);d(this,"message","string"==typeof r?r:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(e){if(!(this instanceof i))return new i(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var a,o,s=e("./es5"),c=s.freeze,u=e("./util"),l=u.inherits,d=u.notEnumerableProp,f=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch(e){a=r("TypeError","type error"),o=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(v.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var m=0;v.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),a=0;a<i.length;++a)i[a]=e+i[a];t+=(r=i.join("\n"))+"\n"}return m--,t},l(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=(function(){"use strict";return void 0===this})();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,a={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===a.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function a(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function c(e){if(!o(this,e))return f.e=e,f}function u(e){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),e);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var h=n(l,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var p=new d("late cancellation observer");return i._attachExtraTrace(p),f.e=p,f}h.isPending()&&h._attachCancellationCallback(new a(this))}return h._then(s,c,void 0,this,void 0)}}}return i.isRejected()?(o(this),f.e=e,f):(o(this),e)}var l=e("./util"),d=t.CancellationError,f=l.errorObj,h=e("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,u);var r,i=new Array(n-1),a=0;for(r=0;r<n-1;++r){var o=arguments[r];if(!l.isObject(o))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(o)));i[a++]=o}i.length=a;var s=arguments[r];return this._passThrough(h(i,s,this),1,void 0,u)},i}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,n,r){for(var a=0;a<n.length;++a){r._pushContext();var o=f(n[a])(e);if(r._popContext(),o===d){r._pushContext();var s=t.reject(d.e);return r._popContext(),s}var c=i(o,r);if(c instanceof t)return c}return null}function c(e,n,i,a){if(o.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=a,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var u=e("./errors").TypeError,l=e("./util"),d=l.errorObj,f=l.tryCatch,h=[];l.inherits(c,a),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=f(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===d)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var a=i(r,this._promise);if(a instanceof t||null!==(a=s(a,this._yieldHandlers,this._promise))){var o=(a=a._target())._bitField;0==(50397184&o)?(this._yieldedPromise=a,a._proxy(this,null)):0!=(33554432&o)?t._async.invoke(this._promiseFulfilled,this,a._value()):0!=(16777216&o)?t._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=c,i=(new Error).stack;return function(){var t=e.apply(this,arguments),a=new r(void 0,void 0,n,i),o=a.promise();return a._generator=t,a._promiseFulfilled(void 0),o}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+l.classString(e));h.push(e)},t.spawn=function(e){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a){var o=e("./util");o.canEvaluate,o.tryCatch,o.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,n,r,i){this.constructor$(e),this._promise._captureStackTrace();var o=t._getContext();if(this._callback=u.contextBind(o,n),this._preservedValues=i===a?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0),u.isArray(e))for(var s=0;s<e.length;++s){var c=e[s];c instanceof t&&c.suppressUnhandledRejections()}}function c(e,n,i,a){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var o=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));o=i.concurrency}return new s(e,n,o="number"==typeof o&&isFinite(o)&&o>=1?o:0,a).promise()}var u=e("./util"),l=u.tryCatch,d=u.errorObj,f=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,a=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(r[n=-1*n-1]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,f=this._callback,h=u._boundValue();u._pushContext();var p=l(f).call(h,e,n,a),v=u._popContext();if(o.checkForgottenReturns(p,v,null!==s?"Promise.filter":"Promise.map",u),p===d)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof t){var y=(g=g._target())._bitField;if(0==(50397184&y))return c>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}r[n]=p}return++this._totalResolved>=a&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,a=0;a<n;++a)e[a]&&(r[i++]=t[a]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,r){return c(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a){var o=e("./util"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+o.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),o=r._popContext();return a.checkForgottenReturns(i,o,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+o.classString(e));var r,c=new t(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){a.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];r=o.isArray(u)?s(e).apply(l,u):s(e).call(l,u)}else r=s(e)();var d=c._popContext();return a.checkForgottenReturns(r,d,"Promise.try",c),c._resolveFromSyncValue(r),c},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){(t=new s(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),i=0;i<n.length;++i){var o=n[i];u.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}var a=e("./util"),o=a.maybeWrapAsError,s=e("./errors").OperationalError,c=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(n,r){if(null!==e){if(n){var a=i(o(n));e._attachExtraTrace(a),e._reject(a)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(r);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){if(!a.isArray(e))return r.call(this,e,t);var n=s(t).apply(this._boundValue(),[null].concat(e));n===c&&o.throwLater(n.e)}function r(e,t){var n=this._boundValue(),r=void 0===e?s(t).call(n,null):s(t).call(n,null,e);r===c&&o.throwLater(r.e)}function i(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var r=s(t).call(this._boundValue(),e);r===c&&o.throwLater(r.e)}var a=e("./util"),o=t._async,s=a.tryCatch,c=a.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var a=r;void 0!==t&&Object(t).spread&&(a=n),this._then(a,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(e,t){if(null==e||e.constructor!==a)throw new C("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new C("expecting a function but got "+h.classString(t))}function a(e){e!==_&&i(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function c(e){var t=new a(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var u=function(){return new C("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},l=function(){return new a.PromiseInspection(this._target())},d=function(e){return a.reject(new C(e))},f={},h=t("./util");h.setReflectHandler(l);var p=function(){var t=e.domain;return void 0===t?null:t},v=function(){return{domain:p(),async:null}},g=h.isNode&&h.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,y=function(){return{domain:p(),async:new g("Bluebird::Promise")}},m=h.isNode?v:function(){return null};h.notEnumerableProp(a,"_getContext",m);var b=t("./es5"),S=t("./async"),k=new S;b.defineProperty(a,"_async",{value:k});var w=t("./errors"),C=a.TypeError=w.TypeError;a.RangeError=w.RangeError;var T=a.CancellationError=w.CancellationError;a.TimeoutError=w.TimeoutError,a.OperationalError=w.OperationalError,a.RejectionError=w.OperationalError,a.AggregateError=w.AggregateError;var _=function(){},P={},E={},I=t("./thenables")(a,_),R=t("./promise_array")(a,_,I,d,r),O=t("./context")(a),M=O.create,F=t("./debuggability")(a,O,function(){m=y,h.notEnumerableProp(a,"_getContext",y)},function(){m=v,h.notEnumerableProp(a,"_getContext",v)}),j=(F.CapturedTrace,t("./finally")(a,I,E)),A=t("./catch_filter")(E),D=t("./nodeback"),x=h.errorObj,L=h.tryCatch;return a.prototype.toString=function(){return"[object Promise]"},a.prototype.caught=a.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!h.isObject(a))return d("Catch statement predicate: expecting an object but got "+h.classString(a));r[i++]=a}if(r.length=i,"function"!=typeof(e=arguments[n]))throw new C("The last argument to .catch() must be a function, got "+h.toString(e));return this.then(void 0,A(r,e,this))}return this.then(void 0,e)},a.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},a.prototype.then=function(e,t){if(F.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},a.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},a.prototype.spread=function(e){return"function"!=typeof e?d("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,P,void 0)},a.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},a.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new R(this).promise()},a.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},a.getNewLibraryCopy=n.exports,a.is=function(e){return e instanceof a},a.fromNode=a.fromCallback=function(e){var t=new a(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=L(e)(D(t,n));return r===x&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},a.all=function(e){return new R(e).promise()},a.cast=function(e){var t=I(e);return t instanceof a||((t=new a(_))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},a.resolve=a.fulfilled=a.cast,a.reject=a.rejected=function(e){var t=new a(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},a.setScheduler=function(e){if("function"!=typeof e)throw new C("expecting a function but got "+h.classString(e));return k.setScheduler(e)},a.prototype._then=function(e,t,n,r,i){var o=void 0!==i,s=o?i:new a(_),c=this._target(),u=c._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&u)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var l=m();if(0!=(50397184&u)){var d,f,p=c._settlePromiseCtx;0!=(33554432&u)?(f=c._rejectionHandler0,d=e):0!=(16777216&u)?(f=c._fulfillmentHandler0,d=t,c._unsetRejectionIsUnhandled()):(p=c._settlePromiseLateCancellationObserver,f=new T("late cancellation observer"),c._attachExtraTrace(f),d=t),k.invoke(p,c,{handler:h.contextBind(l,d),promise:s,receiver:r,value:f})}else c._addCallbacks(e,t,s,r,l);return s},a.prototype._length=function(){return 65535&this._bitField},a.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},a.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},a.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},a.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},a.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},a.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},a.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},a.prototype._isFinal=function(){return(4194304&this._bitField)>0},a.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},a.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},a.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},a.prototype._setAsyncGuaranteed=function(){if(!k.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},a.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},a.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==f)return void 0===t&&this._isBound()?this._boundValue():t},a.prototype._promiseAt=function(e){return this[4*e-4+2]},a.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},a.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},a.prototype._boundValue=function(){},a.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(t,n,r,i,null)},a.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),a=e._receiverAt(t);void 0===a&&(a=f),this._addCallbacks(n,r,i,a,null)},a.prototype._addCallbacks=function(e,t,n,r,i){var a=this._length();if(a>=65531&&(a=0,this._setLength(0)),0===a)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=h.contextBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=h.contextBind(i,t));else{var o=4*a-4;this[o+2]=n,this[o+3]=r,"function"==typeof e&&(this[o+0]=h.contextBind(i,e)),"function"==typeof t&&(this[o+1]=h.contextBind(i,t))}return this._setLength(a+1),a},a.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},a.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(u(),!1);var n=I(e,this);if(!(n instanceof a))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(u());var i=r._bitField;if(0==(50397184&i)){var o=this._length();o>0&&r._migrateCallback0(this);for(var s=1;s<o;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var c=new T("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},a.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),i=r===e;if(!i&&!n&&F.warnings()){var a="a promise was rejected with a non-error: "+h.classString(e);this._warn(a,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},a.prototype._resolveFromExecutor=function(e){if(e!==_){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},a.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var a;r._pushContext(),t===P?n&&"number"==typeof n.length?a=L(e).apply(this._boundValue(),n):(a=x).e=new C("cannot .spread() a non-array: "+h.classString(n)):a=L(e).call(t,n);var o=r._popContext();0==(65536&(i=r._bitField))&&(a===E?r._reject(n):a===x?r._rejectCallback(a.e,!1):(F.checkForgottenReturns(a,o,"",r,this),r._resolveCallback(a)))}},a.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},a.prototype._followee=function(){return this._rejectionHandler0},a.prototype._setFollowee=function(e){this._rejectionHandler0=e},a.prototype._settlePromise=function(e,t,n,i){var o=e instanceof a,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),n instanceof j&&n.isFinallyHandler()?(n.cancelPromise=e,L(t).call(n,i)===x&&e._reject(x.e)):t===l?e._fulfill(l.call(n)):n instanceof r?n._promiseCancelled(e):o||e instanceof R?e._cancel():n.cancel()):"function"==typeof t?o?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):o&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},a.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof a?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof a&&n._reject(i)},a.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},a.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},a.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},a.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=u();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():k.settlePromises(this),this._dereferenceTrace())}},a.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return k.fatalError(e,h.isNode);(65535&t)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled()}},a.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,a,t)}},a.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,a,t)}},a.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},a.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&b.defineProperty(a.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),a.defer=a.pending=function(){return F.deprecated("Promise.defer","new Promise"),{promise:new a(_),resolve:o,reject:s}},h.notEnumerableProp(a,"_makeSelfResolutionError",u),t("./method")(a,_,I,d,F),t("./bind")(a,_,I,F),t("./cancel")(a,R,d,F),t("./direct_resolve")(a),t("./synchronous_inspection")(a),t("./join")(a,R,I,_,k),a.Promise=a,a.version="3.7.2",t("./call_get.js")(a),t("./generators.js")(a,d,_,I,r,F),t("./map.js")(a,R,d,I,_,F),t("./nodeify.js")(a),t("./promisify.js")(a,_),t("./props.js")(a,R,I,d),t("./race.js")(a,_,I,d),t("./reduce.js")(a,R,d,I,_,F),t("./settle.js")(a,R,F),t("./some.js")(a,R,d),t("./timers.js")(a,_,F),t("./using.js")(a,d,I,M,_,F),t("./any.js")(a),t("./each.js")(a,_),t("./filter.js")(a,_),h.toFastProperties(a),h.toFastProperties(a.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new a(_)),F.setBounds(S.firstLineError,h.lastLineError),a}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a){function o(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function s(e){var r=this._promise=new t(n);e instanceof t&&(r._propagateFrom(e,3),e.suppressUnhandledRejections()),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");return c.isArray,c.inherits(s,a),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,a){var s=r(this._values,this._promise);if(s instanceof t){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,a);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=c.asArray(s)))0!==s.length?this._iterate(s):-5===a?this._resolveEmptyArray():this._resolve(o(a));else{var l=i("expecting an array or an iterable object but got "+c.classString(s)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,a=!1,o=null,s=0;s<n;++s){var c=r(e[s],i);c instanceof t?o=(c=c._target())._bitField:o=null,a?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c._proxy(this,s),this._values[s]=c):a=0!=(33554432&o)?this._promiseFulfilled(c._value(),s):0!=(16777216&o)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):a=this._promiseFulfilled(c,s)}a||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!m.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function a(e,t,n){var r=d.getDataPropertyOrDefault(e,t+n,y);return!!r&&i(r)}function o(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var a=i.replace(n,""),o=0;o<e.length;o+=2)if(e[o]===a)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,r){for(var s=d.inheritedDataKeys(e),c=[],u=0;u<s.length;++u){var l=s[u],f=e[l],h=r===b||b(l,f,e);"function"!=typeof f||i(f)||a(e,l,t)||!r(l,f,e,h)||c.push(l,f)}return o(c,t,n),c}function c(e,t,n,r,i){for(var a=new RegExp(S(t)+"$"),o=s(e,t,a,n),c=0,u=o.length;c<u;c+=2){var f=o[c],h=o[c+1],p=f+t;if(r===k)e[p]=k(f,l,f,h,t,i);else{var v=r(h,function(){return k(f,l,f,h,t,i)});d.notEnumerableProp(v,"__isPromisified__",!0),e[p]=v}}return d.toFastProperties(e),e}function u(e,t,n){return k(e,t,void 0,e,null,n)}var l={},d=e("./util"),f=e("./nodeback"),h=d.withAppended,p=d.maybeWrapAsError,v=d.canEvaluate,g=e("./errors").TypeError,y={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),b=function(e){return d.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},S=function(e){return e.replace(/([$])/,"\\$")},k=v?void 0:function(e,r,i,a,o,s){function c(){var i=r;r===l&&(i=this);var a=new t(n);a._captureStackTrace();var o="string"==typeof v&&this!==u?this[v]:e,c=f(a,s);try{o.apply(i,h(arguments,c))}catch(e){a._rejectCallback(p(e),!0,!0)}return a._isFateSealed()||a._setAsyncGuaranteed(),a}var u=(function(){return this})(),v=e;return"string"==typeof v&&(e=a),d.notEnumerableProp(c,"__isPromisified__",!0),c};t.promisify=function(e,t){if("function"!=typeof e)throw new g("expecting a function but got "+d.classString(e));if(i(e))return e;var n=u(e,void 0===(t=Object(t)).context?l:t.context,!!t.multiArgs);return d.copyDescriptors(e,n,r),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var i=t.filter;"function"!=typeof i&&(i=b);var a=t.promisifier;if("function"!=typeof a&&(a=k),!d.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=d.inheritedDataKeys(e),s=0;s<o.length;++s){var u=e[o[s]];"constructor"!==o[s]&&d.isClass(u)&&(c(u.prototype,r,i,a,n),c(u,r,i,a,n))}return c(e,r,i,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function a(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=d(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var o=r[a];t[a]=e[o],t[a+i]=o}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function o(e){var n,o=r(e);return u(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new a(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),u=c.isObject,l=e("./es5");"function"==typeof Map&&(s=Map);var d=(function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}})(),f=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t};c.inherits(a,n),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=f(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return o(this)},t.props=function(e){return o(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var a=0;a<i;++a)n[a+r]=e[a+t],e[a+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var a=this._capacity-1;this[i+0&a]=e,this[i+1&a]=t,this[i+2&a]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,r(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function a(e,a){var c=r(e);if(c instanceof t)return s(c);if(null===(e=o.asArray(e)))return i("expecting an array or an iterable object but got "+o.classString(e));var u=new t(n);void 0!==a&&u._propagateFrom(a,3);for(var l=u._fulfill,d=u._reject,f=0,h=e.length;f<h;++f){var p=e[f];(void 0!==p||f in e)&&t.cast(p)._then(l,d,void 0,u,null)}return u}var o=e("./util"),s=function(e){return e.then(function(t){return a(t,e)})};t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e,n,r,i){this.constructor$(e);var o=t._getContext();this._fn=f.contextBind(o,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===a?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+f.classString(t)):new s(e,t,n,i).promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n,r=this.array,i=r._promise,a=h(r._fn);i._pushContext(),(n=void 0!==r._eachValues?a.call(i._boundValue(),e,this.index,this.length):a.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var s=i._popContext();return o.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}var f=e("./util"),h=f.tryCatch;f.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==a&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n;for(var a=r;a<i;++a){var o=e[a];o instanceof t&&o.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var s={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,s,void 0),0==(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],29:[function(n,r,a){"use strict";var o,s=n("./util"),c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var u=t.setImmediate,l=e.nextTick;o=s.isRecentNode?function(e){u.call(t,e)}:function(t){l.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var d=c.resolve();o=function(e){d.then(e)}}else o="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),i()}})():void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};r.exports=o},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e)}var a=t.PromiseInspection;e("./util").inherits(i,n),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new a;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new a;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},t.allSettled=function(e){return new i(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function a(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),a=n.promise();return n.setHowMany(t),n.init(),a}var o=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,u=o.isArray,l={};o.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return a(e,t)},t.prototype.some=function(e){return a(this,e)},t._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},a=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return a.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return e.then}function i(e){try{return r(e)}catch(e){return c.e=e,c}}function a(e){try{return l.call(e,"_promise0")}catch(e){return!1}}function o(e,r,i){var a=new t(n),o=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var u=!0,l=s.tryCatch(r).call(e,function(e){a&&(a._resolveCallback(e),a=null)},function(e){a&&(a._rejectCallback(e,u,!0),a=null)});return u=!1,a&&l===c&&(a._rejectCallback(l.e,!0,!0),a=null),o}var s=e("./util"),c=s.errorObj,u=s.isObject,l={}.hasOwnProperty;return function(e,r){if(u(e)){if(e instanceof t)return e;var s=i(e);if(s===c){r&&r._pushContext();var l=t.reject(s.e);return r&&r._popContext(),l}if("function"==typeof s)return a(e)?(l=new t(n),e._then(l._fulfill,l._reject,void 0,l,null),l):o(e,s,r)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.handle=e}function a(e){return clearTimeout(this.handle),e}function o(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,a){var o,s;return void 0!==a?(o=t.resolve(a)._then(u,null,null,e,void 0),r.cancellation()&&a instanceof t&&o._setOnCancel(a)):(o=new t(n),s=setTimeout(function(){o._fulfill()},+e),r.cancellation()&&o._setOnCancel(new i(s)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};t.prototype.delay=function(e){return l(e,this)};var d=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new i(setTimeout(function(){n.isPending()&&d(n,t,s)},e));return r.cancellation()?(s=this.then(),(n=s._then(a,o,void 0,c,void 0))._setOnCancel(c)):n=this._then(a,o,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,a,o){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,n){var i=0,o=e.length,u=new t(a);return(function a(){if(i>=o)return u._fulfill();var l=c(e[i++]);if(l instanceof t&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),e.promise)}catch(e){return s(e)}if(l instanceof t)return l._then(a,s,null,null,null)}a()})(),u}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function f(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var p=e("./util"),v=e("./errors").TypeError,g=e("./util").inherits,y=p.errorObj,m=p.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,l),d.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("expecting a function but got "+p.classString(i));var a,s=!0;2===e&&Array.isArray(arguments[0])?(e=(a=arguments[0]).length,s=!1):(a=arguments,e--);for(var c=new h(e),d=0;d<e;++d){var v=a[d];if(l.isDisposer(v)){var g=v;(v=v.promise())._setDisposable(g)}else{var b=r(v);b instanceof t&&(v=b._then(f,null,null,{resources:c,index:d},void 0))}c[d]=v}var S=new Array(c.length);for(d=0;d<S.length;++d)S[d]=t.resolve(c[d]).reflect();var k=t.all(S).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void k.cancel();e[t]=n.value()}w._pushContext(),i=m(i);var r=s?i.apply(void 0,e):i(e),a=w._popContext();return o.checkForgottenReturns(r,a,"Promise.using",w),r}),w=k.lastly(function(){var e=new t.PromiseInspection(k);return u(c,e)});return c.promise=w,w._setOnCancel(c),w},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(n,r,i){"use strict";function a(){try{var e=f;return f=null,e.apply(this,arguments)}catch(e){return v.e=e,v}}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function s(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return h.defineProperty(e,t,r),e}function c(e){try{return e+""}catch(e){return"[no string representation]"}}function u(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function l(e){return u(e)&&h.propertyIsWritable(e,"stack")}function d(e){return{}.toString.call(e)}var f,h=n("./es5"),p="undefined"==typeof navigator,v={e:{}},g="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==this?this:null,y=(function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(h.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return r}for(var o=0;o<a.length;++o){var s=a[o];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}e=h.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var a in n)if(r.call(n,a))i.push(a);else{for(var o=0;o<e.length;++o)if(r.call(e[o],a))continue e;i.push(a)}return i}})(),m=/this\s*\.\s*\S+\s*=/,b=/^[a-z$_][a-z$_0-9]*$/i,S="stack"in new Error?function(e){return l(e)?e:new Error(c(e))}:function(e){if(l(e))return e;try{throw new Error(c(e))}catch(e){return e}},k=function(e){return h.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};k=function(e){return h.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?w(e):null}}var C,T=void 0!==e&&"[object process]"===d(e).toLowerCase(),_=void 0!==e&&void 0!==e.env,P={setReflectHandler:function(e){C=e},isClass:function(e){try{if("function"==typeof e){var t=h.names(e.prototype),n=h.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=m.test(e+"")&&h.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return b.test(e)},inheritedDataKeys:y,getDataPropertyOrDefault:function(e,t,n){if(!h.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:h.isArray,asArray:k,notEnumerableProp:s,isPrimitive:o,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:u,canEvaluate:p,errorObj:v,tryCatch:function(e){return f=e,a},inherits:function(e,t){function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},maybeWrapAsError:function(e){return o(e)?new Error(c(e)):e},toFastProperties:function(e){function t(){}function n(){return typeof r.foo}t.prototype=e;var r=new t;return n(),n(),e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:c,canAttachTrace:l,ensureErrorObject:S,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{s(e,"isOperational",!0)}catch(e){}},classString:d,copyDescriptors:function(e,t,n){for(var r=h.names(e),i=0;i<r.length;++i){var a=r[i];if(n(a))try{h.defineProperty(t,a,h.getDescriptor(e,a))}catch(e){}}},isNode:T,hasEnvVariables:_,env:function(t){return _?e.env[t]:void 0},global:g,getNativePromise:function(){if("function"==typeof Promise)try{if("[object Promise]"===d(new Promise(function(){})))return Promise}catch(e){}},contextBind:function(e,t){if(null===e||"function"!=typeof t||t===C)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var r=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=r,e[1]=this,n.runInAsyncScope.apply(n,e)}}return t}};P.isRecentNode=P.isNode&&(function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0})(),P.nodeSupportsAsyncResource=P.isNode&&(function(){var e=!1;try{e="function"==typeof n("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e})(),P.isNode&&P.toFastProperties(e);try{throw new Error}catch(e){P.lastLineError=e}r.exports=P},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:15,timers:16}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PreCallTest=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./turnConnection"),o=e("./tests/rttTest"),s=e("./tests/throughputTest"),c=e("./utility/resultsHandler"),u=e("./utility/onlineCheck"),l=e("./utility/stats/detectbrowser"),d=e("bluebird"),f={RTT:"rtt",THROUGHPUT:"throughput"},h=(function(){function e(){r(this,e),this.browserInfo=(0,l.detect)(),this.onlineCheck=new u.OnlineCheck,this.callsInProgress=0,this.turnTests=[f.RTT,f.THROUGHPUT],this.active=!1,this.rtt=null,this.resultsHandler=null}return i(e,[{key:"start",value:function(e,t,n,r){if(this.browserInfo.browserName!==l.Constants.browserName.msie)if(this.iceServers=e,this.callback=r,this.active)this.callback&&this.callback(null,"Not started: already in progress");else if(0<this.callsInProgress)this.callback&&this.callback(null,"Not started: call in progress");else if(e){this.turnTestCounter=0,this.resultsHandler=new c.ResultsHandler,this.resultsHandler.setProvider(t),this.resultsHandler.setisRunManually(n);var i={type:"browser",os:this.browserInfo.os,osVersion:this.browserInfo.osVersion,buildName:this.browserInfo.browserName,buildVersion:this.browserInfo.browserVersion,userAgent:this.browserInfo.userAgent};this.resultsHandler.add("endpointInfo",i),this.onlineCheck.start(),this.active=!0,this._start()}else this.callback&&this.callback(null,"Not started: no ICE servers given");else this.callback&&this.callback(null,"Not started: disabled for IE")}},{key:"_start",value:function(){var e=this;this.active&&(this.turnConnection=new a.TurnConnection(this.browserInfo),this.turnConnection.connect(this.iceServers).then(function(){e.active?(e.resultsHandler&&e.resultsHandler.setStatusSuccess(),e.startTurnTests().then(function(){e.stop()},function(t){e.stop()})):e.stop()},function(t){var n=t.continueFlag;if(e.resultsHandler&&e.resultsHandler.failure(t),!n){e.turnConnection.disconnect(),e.active=!1;var r="";try{r=t.stack}catch(n){r=t.toString()}return r&&""!==r||(r=t.toString()),e.resultsHandler&&e.resultsHandler.setStatusFailed(),void e.callback(null,r)}e.resultsHandler?(e.resultsHandler.setStatusFailed(),e.resultsHandler.getFailureNumber()>=10?e.stop():(e.turnConnection.disconnect(),setTimeout(function(){e._start()},0))):e.stop()}))}},{key:"stop",value:function(){var e=this;if(this.browserInfo.browserName!==l.Constants.browserName.msie&&this.active){this.active=!1,this.activeTurnTest&&this.activeTurnTest.forceStop();var t=this.onlineCheck.stop();this.resultsHandler&&this.resultsHandler.add("onlineStatus",t),this.turnConnection.getIceResults().then(function(t){e.resultsHandler&&e.resultsHandler.add("ice",t),e.turnConnection.disconnect(),e.sendResults()},function(t){e.resultsHandler&&e.resultsHandler.failure(t),e.turnConnection.disconnect(),e.sendResults()})}}},{key:"sendResults",value:function(){if(this.resultsHandler){var e=this.resultsHandler.getResults();this.resultsHandler=null,this.callback&&this.callback(e,null)}else this.callback&&this.callback(null,"No results present")}},{key:"callStarts",value:function(){this.callsInProgress+=1,this.resultsHandler&&this.resultsHandler.setStatusStopped(),this.stop()}},{key:"callFinished",value:function(){this.callsInProgress-=1}},{key:"getId",value:function(){return this.resultsHandler?this.resultsHandler.getId():null}},{key:"crashDisconnect",value:function(){try{this.turnConnection.disconnect()}catch(e){}}},{key:"startTurnTests",value:function(){var e=this;if(this.turnTestCounter>=this.turnTests.length)return new d(function(e,t){e()});var t=this.turnTests[this.turnTestCounter],n=null;switch(t){case f.RTT:n=new o.RttTest(this.turnConnection);break;case f.THROUGHPUT:n=new s.ThroughputTest(this.turnConnection,this.rtt);break;default:return new d(function(e,n){n(new Error("Unknown test: "+t))})}return this.activeTurnTest=n,this.active?n.start().then(function(){return e.handleTestResults(t,n.getResults()),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()},function(r){return e.handleTestResults(t,n.getResults(),r),e.turnTestCounter+=1,e.activeTurnTest=null,e.startTurnTests()}):new d(function(e,t){t(new Error("Test trying to start while testing is not active"))})}},{key:"handleTestResults",value:function(e,t){null==(2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)&&e==f.RTT&&(this.rtt=t.median),this.resultsHandler&&this.resultsHandler.add(e,t)}}]),e})();n.PreCallTest=h},{"./tests/rttTest":3,"./tests/throughputTest":4,"./turnConnection":6,"./utility/onlineCheck":8,"./utility/resultsHandler":10,"./utility/stats/detectbrowser":11,bluebird:1}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RttTest=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("./turnTest"),l=(function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sendTimer=null,n.countSent=0,n.rtts=[],n}return a(t,u.TurnTest),o(t,[{key:"initiate",value:function(){this.results.startTimestamp=c.getCurrent(),this.sendPing()}},{key:"handleMessage",value:function(e){if(this.isActive()){var t=parseInt(e,10),n=this.calculateRtt(t);this.rtts.push(n),this.countSent<10?this.sendPing():this.calculateMetrics()}}},{key:"handleError",value:function(e){this.fillResults(),this.failed(e)}},{key:"sendPing",value:function(){if(this.isActive()){var e=c.getCurrent();this.send(e.toString()),this.countSent+=1,this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.countSent<10?this.sendTimer=setTimeout(this.sendPing.bind(this),100):this.sendTimer=setTimeout(this.calculateMetrics.bind(this),500)}}},{key:"calculateRtt",value:function(e){return c.getCurrent()-e}},{key:"calculateMetrics",value:function(){this.sendTimer&&(clearTimeout(this.sendTimer),this.sendTimer=null),this.fillResults(),this.finished()}},{key:"fillResults",value:function(){this.results.sentMessages=this.countSent,this.results.unAckedMessages=this.countSent-this.rtts.length,this.results.maxMessages=10,this.results.forceStopped=this.forceStopped,this.results.median=this.median(),this.results.average=this.average(),this.results.variance=this.variance(),this.results.endTimestamp=c.getCurrent()}},{key:"median",value:function(){if(0==this.rtts.length)return null;this.rtts.sort();var e=Math.floor(this.rtts.length/2);return this.rtts[e]}},{key:"average",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=0;t<this.rtts.length;t++)e+=this.rtts[t];return e/this.rtts.length}},{key:"variance",value:function(){if(0==this.rtts.length)return null;for(var e=0,t=this.average(),n=0;n<this.rtts.length;n++){var r=this.rtts[n];e+=Math.pow(r-t,2)}return e/this.rtts.length}},{key:"stop",value:function(){this.isActive()&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.RttTest=l},{"../utility/timestamps":14,"./turnTest":5}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputTest=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),u=e("../utility/messageMaker"),l=e("./turnTest"),d=(function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(a.sentBytes=0,a.receivedBytes=0,a.secondHalfBytes=0,a.secondHalfStart=null,a.bufferEmpty=0,a.chunkSize=1200,a.messageMaker=new u.MessageMaker(a.chunkSize),a.duration=5e3,null!=n){var o=50*n;a.duration=Math.max(Math.min(o,1e4),1e3)}return a.sendTimer=null,a.lastMessage=null,a.intervals=[],a.intervalStart=0,a.intervalLength=100,a.intervalBytes=0,a}return a(t,l.TurnTest),o(t,[{key:"initiate",value:function(){window&&window.csioReactNative?this.handleError(new Error("Not running throughput test for react-native")):this.startSend()}},{key:"handleMessage",value:function(e){var t=this;if(this.isActive()){this.lastMessage=e,this.receivedBytes+=e.length;var n=c.getCurrent();if(this.sendTimer||(this.results.startTimestamp=n,this.sendTimer=setTimeout(function(){t.stop(),t.finished()},this.duration)),0==this.intervalStart&&(this.intervalStart=n),this.intervalBytes+=e.length,n-this.intervalStart>=this.intervalLength){var r=n-this.intervalStart,i=this.averageThroughput(this.intervalBytes,r),a=null;try{a=n-JSON.parse(this.lastMessage).timestamp}catch(e){}this.intervals.push({startTimestamp:this.intervalStart,endTimestamp:n,bytesReceived:this.intervalBytes,average:i,rtt:a}),this.intervalStart=n,this.intervalBytes=0}this.results.startTimestamp&&n-this.results.startTimestamp>this.duration/2&&(this.secondHalfStart||(this.secondHalfStart=n),this.secondHalfBytes+=e.length)}}},{key:"handleError",value:function(e){this.stop(),this.failed(e)}},{key:"averageThroughput",value:function(e,t){return 0===t?0:e/(t/1e3)*8/1024}},{key:"bufferListener",value:function(){this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this)),this.fillBuffer()}},{key:"fillBuffer",value:function(){for(0==this.sendChannel.bufferedAmount&&(this.bufferEmpty+=1);this.isActive();){if(this.sendChannel.bufferedAmount>this.bufferFullThreshold)return void(this.usePolling?setTimeout(this.fillBuffer.bind(this),250):this.sendChannel.addEventListener("bufferedamountlow",this.bufferListener.bind(this)));var e=this.messageMaker.make(this.sentBytes);this.sentBytes+=e.length,this.send(e)}this.sendChannel.removeEventListener("bufferedamountlow",this.bufferListener.bind(this))}},{key:"startSend",value:function(){this.isActive()&&(this.bufferFullThreshold=1e3*this.chunkSize,this.sendChannel=this.connection.sendChannel,this.usePolling=!0,"number"==typeof this.sendChannel.bufferedAmountLowThreshold&&(this.usePolling=!1,this.sendChannel.bufferedAmountLowThreshold=this.bufferFullThreshold/10),setTimeout(this.fillBuffer.bind(this),0))}},{key:"fillResults",value:function(){this.results.endTimestamp=c.getCurrent(),this.results.maxDuration=this.duration,this.results.forceStopped=this.forceStopped,this.results.bufferEmpty=this.bufferEmpty,this.results.intervals=this.intervals,this.results.bytesPrepared=this.sentBytes,this.results.bytesReceived=this.receivedBytes,this.results.startTimestamp||(this.results.startTimestamp=this.results.endTimestamp);var e=0,t=0;this.secondHalfStart&&(e=this.results.endTimestamp-this.secondHalfStart,t=this.averageThroughput(this.secondHalfBytes,e));var n=this.results.endTimestamp-this.results.startTimestamp,r=this.averageThroughput(this.receivedBytes,n);t<r&&(t=r),this.results.average=t;var i=null;try{i=JSON.parse(this.lastMessage)}catch(e){return}if(i){var a=i.sentBytes+this.lastMessage.length;this.results.bytesSent=a,this.results.fractionLostBytes=1-this.receivedBytes/a}else this.results.bytesSent=-1,this.results.fractionLostBytes=-1}},{key:"stop",value:function(){this.isActive()&&(clearTimeout(this.sendTimer),this.sendTimer=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stop",this).call(this),this.fillResults())}}]),t})();n.ThroughputTest=d},{"../utility/messageMaker":7,"../utility/timestamps":14,"./turnTest":5}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("bluebird"),o=(function(){function e(t){r(this,e),this.connection=t,this.active=!1,this.results={}}return i(e,[{key:"getResults",value:function(){return this.results}},{key:"start",value:function(){var e=this,t=new a(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.connection.setMessageCallback(this.handleMessage.bind(this)),this.connection.setErrorCallback(this.handleError.bind(this)),this.active=!0,this.forceStopped=!1,this.initiate(),t}},{key:"stop",value:function(){this.active=!1}},{key:"forceStop",value:function(){this.forceStopped=!0,this.stop(),this.finished()}},{key:"isActive",value:function(){return this.active}},{key:"initiate",value:function(){}},{key:"handleMessage",value:function(e){}},{key:"handleError",value:function(e){}},{key:"send",value:function(e){this.connection.send(e)}},{key:"finished",value:function(){this.active=!1,this.resolveCb&&(this.resolveCb(),this.resolveCb=null)}},{key:"failed",value:function(e){this.active=!1,this.rejectCb&&(this.rejectCb(e),this.rejectCb=null)}}]),e})();n.TurnTest=o},{bluebird:1}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TurnConnection=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./utility/parsedIceCandidate"),o=e("./utility/stats/getstatshandler"),s=e("./utility/stats/detectbrowser"),c=e("bluebird"),u=(function(){function e(t){r(this,e),this.reset(),this.statshandler=new o.GetStatsHandler(t)}return i(e,[{key:"reset",value:function(){this.disconnect(),this.iceServers=null,this.pctpc1=null,this.pctpc2=null,this.sendChannel=null,this.messageCallback=null,this.errorCallback=null,this.parsedIceResults={},this.resolveCb=null,this.rejectCb=null,this.localIpAddressInfo=[],this.localIpAddresses=[]}},{key:"setMessageCallback",value:function(e){this.messageCallback=e}},{key:"setErrorCallback",value:function(e){this.errorCallback=e}},{key:"send",value:function(e){if(this.sendChannel&&"open"===this.sendChannel.readyState)try{this.sendChannel.send(e)}catch(e){this.raiseSendError(new Error("Send channel Error"))}else this.raiseSendError(new Error("No send channel"))}},{key:"raiseSendError",value:function(e){this.errorCallback&&this.errorCallback(e)}},{key:"assignEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n.bind(this),!1):e.attachEvent&&(t="on"+t,e.attachEvent(t,n.bind(this)))}},{key:"connect",value:function(e){var t=this;this.reset();var n=new c(function(e,n){t.resolveCb=e,t.rejectCb=n});this.iceServers=e;var r=null;try{if(RTCPeerConnection?r=RTCPeerConnection:webkitRTCPeerConnection?r=webkitRTCPeerConnection:mozRTCPeerConnection?r=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(r=window.RTCPeerConnection),!r){var i=new Error("RTCPeerConnection not found");return i.continueFlag=!1,this.rejectCb(i),n}}catch(i){return i.continueFlag=!1,this.rejectCb(i),n}var a={iceTransportPolicy:"all",iceServers:this.iceServers};try{this.pctpc1=new r(a),this.pctpc2=new r(a)}catch(i){return this.rejectDisconnect(!1,new Error("Error creating PCs")),n}this.connectionTimer=setTimeout(function(){delete t.connectionTimer,t.rejectDisconnect(!1,new Error("Connection timeout"))},3e4);try{this.sendChannel=this.pctpc1.createDataChannel("precalltest",{ordered:!1,maxRetransmits:0}),this.sendChannel.binaryType="arraybuffer",this.assignEvent(this.sendChannel,"error",function(e){t.raiseSendError(new Error("Datachannel error")),t.rejectDisconnect(!0,new Error("Datachannel error"))}),this.assignEvent(this.pctpc2,"datachannel",function(e){var n=e.channel;t.assignEvent(n,"open",function(e){t.resolveCb&&(t.resolveCb(),t.resolveCb=null)}),t.assignEvent(n,"close",function(e){t&&t.disconnect&&t.disconnect()}),t.assignEvent(n,"message",function(e){t.messageCallback&&t.messageCallback(e.data)}),t.assignEvent(n,"error",function(e){t.errorCallback&&t.errorCallback(e),t.rejectDisconnect(!0,new Error("receiveChannel error"))})})}catch(i){return this.rejectDisconnect(!1,new Error("Error adding datachannel")),n}try{this.assignEvent(this.pctpc1,"icecandidate",function(e){t.onIceCandidate(t.pctpc1,e)}),this.assignEvent(this.pctpc1,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc1,e)}),this.assignEvent(this.pctpc2,"icecandidate",function(e){t.onIceCandidate(t.pctpc2,e)}),this.assignEvent(this.pctpc2,"iceconnectionstatechange",function(e){t.onIceStateChange(t.pctpc2,e)}),this.pctpc1.createOffer().then(function(e,n){t.onCreateOfferSuccess(e)},function(e){t.onCreateOfferError(t.pctpc1,e)})}catch(i){return this.rejectDisconnect(!1,new Error("Error starting connection")),n}return n}},{key:"rejectDisconnect",value:function(e,t){this.disconnect(),this.rejectCb&&(t.continueFlag=e,this.rejectCb(t)),this.resolveCb=null,this.rejectCb=null}},{key:"disconnect",value:function(){if(clearTimeout(this.connectionTimer),clearTimeout(this.iceTimer),this.sendChannel)try{this.sendChannel.close()}catch(e){}if(this.pctpc1)try{this.pctpc1.close()}catch(e){}if(this.pctpc1=null,this.pctpc2)try{this.pctpc2.close()}catch(e){}this.pctpc2=null}},{key:"getName",value:function(e){return e===this.pctpc1?"pctpc1":"pctpc2"}},{key:"getOtherPc",value:function(e){return e===this.pctpc1?this.pctpc2:this.pctpc1}},{key:"onCreateOfferError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create offer"))}},{key:"onCreateAnswerError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to create answer"))}},{key:"onCreateOfferSuccess",value:function(e){var t=this;try{this.pctpc1.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc1)},function(e){t.onSetSessionDescriptionError(t.pctpc1,e)}),this.pctpc2.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc2)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc2,e)}),this.pctpc2.createAnswer().then(function(e){t.onCreateAnswerSuccess(e)},function(e){t.onCreateAnswerError(t.pctpc2,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing offer"))}}},{key:"onSetLocalSuccess",value:function(e){}},{key:"onSetRemoteSuccess",value:function(e){}},{key:"onSetSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onSetRemoteSessionDescriptionError",value:function(e,t){this.rejectDisconnect(!1,new Error("Failed to set session description"))}},{key:"onCreateAnswerSuccess",value:function(e){var t=this;try{this.pctpc2.setLocalDescription(e).then(function(){t.onSetLocalSuccess(t.pctpc2)},function(e){t.onSetSessionDescriptionError(t.pctpc2,e)}),this.pctpc1.setRemoteDescription(e).then(function(){t.onSetRemoteSuccess(t.pctpc1)},function(e){t.onSetRemoteSessionDescriptionError(t.pctpc1,e)})}catch(e){this.rejectDisconnect(!1,new Error("Error processing answer"))}}},{key:"onIceCandidate",value:function(e,t){var n=this;try{if(!t.candidate)return;if(!t.candidate.candidate)return;var r=new a.ParsedIceCandidate(t.candidate);if(e==this.pctpc1&&this.statshandler.codeBase==s.Constants.codeBaseType.chrome&&(r.isRelay()&&(r.isTypeTransportUdp()&&(this.parsedIceResults.relayUdpGathered=!0),r.isTypeTransportTcp()&&(this.parsedIceResults.relayTcpGathered=!0),r.isTypeTransportTls()&&(this.parsedIceResults.relayTlsGathered=!0)),r.isServerReflexive()&&(this.parsedIceResults.srflxGathered=!0)),!r.isRelay())return void(this.localIpAddresses.includes(r.getIpAddress())||(this.localIpAddresses.push(r.getIpAddress()),this.localIpAddressInfo.push({ip:r.getIpAddress(),candidateType:r.getType(),networkType:"unknown"})));this.getOtherPc(e).addIceCandidate(t.candidate).then(function(){n.onAddIceCandidateSuccess(e)},function(t){n.onAddIceCandidateError(e,t,r.isRelay())})}catch(t){this.rejectDisconnect(!1,t)}}},{key:"onAddIceCandidateSuccess",value:function(e){}},{key:"onAddIceCandidateError",value:function(e,t,n){n&&this.rejectDisconnect(!1,new Error("failed to add ICE Candidate"))}},{key:"onIceStateChange",value:function(e,t){var n=this;try{var r="(?)";e&&(r=e.iceConnectionState),"failed"===r&&this.rejectDisconnect(!0,new Error("ICE failure")),"checking"!==r||this.iceTimer||(this.iceTimer=setTimeout(function(){delete n.iceTimer,n.rejectDisconnect(!0,new Error("ICE timeout"))},1e4)),"completed"!==r&&"connected"!==r||(clearTimeout(this.iceTimer),delete this.iceTimer)}catch(e){this.rejectDisconnect(!1,new Error("Error processing ICE state change"))}}},{key:"getIceResults",value:function(){var e=this;return new c(function(t,n){for(var r=JSON.parse(JSON.stringify(e.iceServers)),i=0;i<r.length;i++){var a=r[i];r.hasOwnProperty(a)||delete a.credential}var o={turnIpAddress:"",turnIpVersion:"",turnTransport:"",iceServers:r,ipv6Supported:!1,ipv4Supported:!1,relayTlsGathered:!1,relayTcpGathered:!1,relayUdpGathered:!1,srflxGathered:!1,relayTlsSuccess:!1,relayTcpSuccess:!1,relayUdpSuccess:!1,srflxSuccess:!1,localIpAddressInfo:[]};for(var s in e.parsedIceResults)e.parsedIceResults.hasOwnProperty(s)&&(o[s]=e.parsedIceResults[s]);e.pctpc1?e.statshandler.getIceCandidates(e.pctpc1).then(function(n){for(var r=0;r<e.localIpAddressInfo.length;r++){for(var i=e.localIpAddressInfo[r],a=0;a<n.localCandidates.length;a++){var s=n.localCandidates[a];(s.ip?s.ip:s.address?s.address:s.ipAddress)===i.ip&&"unknown"!==s.networkType&&(i.networkType=s.networkType)}o.localIpAddressInfo.push(i)}for(var c=0;c<n.iceCandidatePairs.length;c++){var u=n.iceCandidatePairs[c],l="string"==typeof u.googActiveConnection?"true"===u.googActiveConnection:u.googActiveConnection,d="string"==typeof u.selected?"true"===u.selected:u.selected;if(l||d)for(var f=0;f<n.localCandidates.length;f++){var h=n.localCandidates[f],p=null;if(p=h.ip?h.ip:h.address?h.address:h.ipAddress,h.id==u.localCandidateId){o.turnIpAddress=p,o.turnNetworkType=h.networkType;var v=-1!==p.indexOf(":");o.turnIpVersion=v?"ipv6":"ipv4",o.turnTransport=h.mozLocalTransport}"relay"!==h.candidateType&&"relayed"!==h.candidateType||("udp"===h.mozLocalTransport&&(o.relayUdpSuccess=!0),"tcp"===h.mozLocalTransport&&(o.relayTcpSuccess=!0),"tls"===h.mozLocalTransport&&(o.relayTlsSuccess=!0)),p&&(-1!==p.indexOf(":")?o.ipv6Supported=!0:o.ipv4Supported=!0)}}for(var g=0;g<n.localCandidates.length;g++){var y=n.localCandidates[g];"relay"!==y.candidateType&&"relayed"!==y.candidateType||("udp"===y.mozLocalTransport&&(o.relayUdpGathered=!0),"tcp"===y.mozLocalTransport&&(o.relayTcpGathered=!0),"tls"===y.mozLocalTransport&&(o.relayTlsGathered=!0)),"srflx"!==y.candidateType&&"serverreflexive"!==y.candidateType||(o.srflxGathered=!0)}for(var m=0;m<n.iceCandidatePairs.length;m++){var b=n.iceCandidatePairs[m];if("succeeded"===b.state)for(var S=0;S<n.localCandidates.length;S++){var k=n.localCandidates[S];k.id==b.localCandidateId&&("relay"!==k.candidateType&&"relayed"!==k.candidateType||("udp"===k.mozLocalTransport&&(o.relayUdpSuccess=!0),"tcp"===k.mozLocalTransport&&(o.relayTcpSuccess=!0),"tls"===k.mozLocalTransport&&(o.relayTlsSuccess=!0)),"srflx"!==k.candidateType&&"serverreflexive"!==k.candidateType||(o.srflxSuccess=!0))}}t(o)},function(e){n(e)}):n(new Error("PC not available for stats"))},function(e){reject(e)})}}]),e})();n.TurnConnection=u},{"./utility/parsedIceCandidate":9,"./utility/stats/detectbrowser":11,"./utility/stats/getstatshandler":12,bluebird:1}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(35+58*Math.random());return t}Object.defineProperty(n,"__esModule",{value:!0}),n.randomAsciiString=n.MessageMaker=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1200;r(this,e),this.message={timestamp:"",sentBytes:1e4,padding:""};var n=i(t-o.getCurrent().toString().length-JSON.stringify(this.message).length);this.message.padding=n}return a(e,[{key:"make",value:function(e){return this.message.timestamp=o.getCurrent(),this.message.sentBytes=e,JSON.stringify(this.message)}}]),e})();n.MessageMaker=s,n.randomAsciiString=i},{"../utility/timestamps":14}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OnlineCheck=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),o=(function(){function e(){r(this,e),this.active=!1}return i(e,[{key:"start",value:function(){var e=this;this.active=!0,this.onlineCheck=[],window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("offline",function(){e.addEntry()}),window.addEventListener("online",function(){e.addEntry()}),this.addEntry())}},{key:"addEntry",value:function(){if(this.active){var e=a.getCurrent();if(navigator&&navigator.onLine){var t=navigator.onLine;this.onlineCheck.push({timestamp:e,online:t})}}}},{key:"stop",value:function(){var e=this;return this.active=!1,window&&window.removeEventListener&&"function"==typeof window.removeEventListener&&(window.removeEventListener("offline",function(){e.addEntry()}),window.removeEventListener("online",function(){e.addEntry()})),this.onlineCheck}}]),e})();n.OnlineCheck=o},{"./timestamps":14}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){r(this,e),this.iceCandidateStr=t.candidate,this.parse()}return i(e,[{key:"parse",value:function(){var e=this.iceCandidateStr.split(" ");e.length<8||(this.protocol="1"===e[1]?"rtp":"rtcp",this.transport=e[2],this.typeTransport=this.extractTypeTransport(e[3]),this.ipv6=-1!==e[4].indexOf(":"),this.ipAddress=e[4],this.port=e[5],this.type=e[7])}},{key:"extractTypeTransport",value:function(e){var t="None",n=e>>24;if("rtp"===this.protocol&&0<=n&&n<=2)switch(n){case 0:t="TLS";break;case 1:t="TCP";break;case 2:t="UDP"}return t}},{key:"getString",value:function(){return this.iceCandidateStr}},{key:"getType",value:function(){return this.type}},{key:"isHost",value:function(){return"host"===this.type.toLowerCase()}},{key:"isServerReflexive",value:function(){return"srflx"===this.type.toLowerCase()}},{key:"isPeerReflexive",value:function(){return"prflx"===this.type.toLowerCase()}},{key:"isRelay",value:function(){return"relay"===this.type.toLowerCase()||"relayed"===this.type.toLowerCase()}},{key:"getTypeTransport",value:function(){return this.typeTransport}},{key:"isTypeTransportUdp",value:function(){return"UDP"===this.typeTransport}},{key:"isTypeTransportTcp",value:function(){return"TCP"===this.typeTransport}},{key:"isTypeTransportTls",value:function(){return"TLS"===this.typeTransport}},{key:"getTransport",value:function(){return this.transport}},{key:"isUdp",value:function(){return"udp"===this.transport.toLowerCase()}},{key:"isTcp",value:function(){return"tcp"===this.transport.toLowerCase()}},{key:"getProtocol",value:function(){return this.protocol}},{key:"isRtp",value:function(){return"rtp"===this.protocol}},{key:"isRtcp",value:function(){return"rtcp"===this.protocol}},{key:"isIpv6",value:function(){return this.ipv6}},{key:"getIpAddress",value:function(){return this.ipAddress}},{key:"getPort",value:function(){return this.port}}]),e})();n.ParsedIceCandidate=a},{}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ResultsHandler=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./timestamps")),s=e("./messageMaker"),c={success:"success",stopped:"stopped",failed:"failed"},u=(function(){function e(){r(this,e),this.start=o.getCurrent(),this.id=Math.trunc(this.start)+"-"+(0,s.randomAsciiString)(20),this.version="1.5.7",this.failures=[],this.results={},this.status=c.success,this.provider="callstats"}return a(e,[{key:"setStatusStopped",value:function(){this.status!==c.failed&&(this.status=c.stopped)}},{key:"setStatusFailed",value:function(){this.status=c.failed}},{key:"setStatusSuccess",value:function(){this.status!==c.stopped&&(this.status=c.success)}},{key:"setProvider",value:function(e){e&&(this.provider=e)}},{key:"setisRunManually",value:function(e){this.isRunManually=e}},{key:"getResults",value:function(){return{id:this.id,version:this.version,status:this.status,startTimestamp:this.start,endTimestamp:o.getCurrent(),failures:this.failures,tests:this.results,provider:this.provider,runManually:this.isRunManually}}},{key:"getFailureNumber",value:function(){return this.failures.length}},{key:"getId",value:function(){return this.id}},{key:"add",value:function(e,t){(this.results[e]=t).hasOwnProperty("forceStopped")&&1==t.forceStopped&&this.setStatusStopped()}},{key:"failure",value:function(e){"object"===(void 0===e?"undefined":i(e))&&(e=e.toString());var t={timestamp:o.getCurrent(),reason:e};this.failures.push(t)}}]),e})();n.ResultsHandler=u},{"./messageMaker":7,"./timestamps":14}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,a=null,o=r.codeBaseType.chrome;if(window&&(!window.navigator||!window.navigator.userAgent||window.csioReactNative))return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:o,os:t,osVersion:n,userAgent:i};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(a=navigator.appVersion)&&(c=a.toLowerCase(),u=""+parseFloat(c));var l=void 0,d="version";if(-1!==(l=s.indexOf("opera")))e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("opr")))e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("msie")))e=r.browserName.msie,u=s.substring(l+5),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("edge")))e=r.browserName.edge,u=s.substring(l+5),o=r.codeBaseType.edge;else if(-1!==(l=s.indexOf("chrome")))e=r.browserName.chrome,u=s.substring(l+7),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("safari"))){if(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf(d))&&(u=s.substring(l+8))){var f=u.split(" ");f&&0<f.length&&(u=f[0])}o=r.codeBaseType.chrome}else-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),o=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),o=r.codeBaseType.chrome);var h=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],p=void 0,v=void 0;for(p in h)if(h.hasOwnProperty(p)&&(v=h[p]).r.test(s)){t=v.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:if(!(n=/mac os x (1[\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.android:if(!(n=/android ([\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}return{browserName:e,browserVersion:u.toString(),os:t,osVersion:n,codeBase:o,userAgent:i}};var r=n.Constants={codeBaseType:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},browserName:{chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari"},osName:{windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"}}},{}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./detectbrowser"),o=e("./statsadapter"),s=e("bluebird"),c=(function(){function e(t){r(this,e),this.codeBase=t.codeBase,this.browserName=t.browserName,this.adapter=new o.StatsAdapter(this.codeBase,this.browserName),this.isPromiseBased=!0}return i(e,[{key:"getIceCandidates",value:function(e){var t=this;return new s(function(n,r){t.csioGetStats(t.iceCandidatesHandler.bind(t),e,function(e){n(e)})})}},{key:"iceCandidatesHandler",value:function(e,t){t(this.adapter.getIceCandidates(e))}},{key:"csioGetStats",value:function(e,t,n){var r=a.Constants.codeBaseType.firefox,i=a.Constants.codeBaseType.chrome,o=a.Constants.codeBaseType.edge,s=a.Constants.browserName.safari;t&&(this.codeBase===r?this.getStatsFirefox(e,t,n):this.browserName===s?this.getStatsSafari(e,t,n):this.codeBase===i?this.getStatsChrome(e,t,n):this.codeBase===o&&this.getStatsEdge(e,t,n))}},{key:"getStatsFirefox",value:function(e,t,n){var r=this;if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})})}catch(i){r.isPromiseBased=!1,t.getStats(null,function(t){e(t,n)},function(){})}else t.getStats(null,function(t){e(t,n)},function(){})}},{key:"getStatsChrome",value:function(e,t,n){var r=this;if(window&&window.csioReactNative)t.getStats(null,function(t){e(t,n)},function(e){});else if(r.isPromiseBased)try{t.getStats().then(function(t){e(t,n)}).catch(function(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})})}catch(i){r.isPromiseBased=!1,t.getStats(function(t){e(t,n)})}else t.getStats(function(t){e(t,n)})}},{key:"getStatsEdge",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}},{key:"getStatsSafari",value:function(e,t,n){t.getStats().then(function(t){e(t,n)}).catch(function(e){})}}]),e})();n.GetStatsHandler=c},{"./detectbrowser":11,"./statsadapter":13,bluebird:1}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./detectbrowser"),o=(function(){function e(t,n){r(this,e),this.codeBase=t,this.browser=n}return i(e,[{key:"getIceCandidates",value:function(e){if(!e)return{localCandidates:[],remoteCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[],n=void 0,r=a.Constants.codeBaseType.firefox,i=a.Constants.codeBaseType.chrome,o=a.Constants.browserName.safari;if(this.codeBase===r&&this.browser!==o)e.forEach(function(e){t.push(e)});else if(this.codeBase===i&&this.browser!==o)e&&e.result?t=e.result():e&&e.forEach&&(t=[],e.forEach(function(e){t.push(e)}));else for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r};for(var a=0;a<e.length;++a){var o=this.getParsedStats(e[a]),s=this.statsClassifier(o);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else if(s.localCandidate){var c=s.localCandidate;if("relay"==c.candidateType||"relayed"==c.candidateType){if(!c.mozLocalTransport){var u=c.priority>>24;c.mozLocalTransport=this.formatRelayType(u)}c.mozLocalTransport=c.mozLocalTransport.toLowerCase()}t.push(c)}else s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var l=0;l<r.length;++l)r[l].id===i&&(r[l].googActiveConnection="true");return{localCandidates:t,remoteCandidates:n,iceCandidatePairs:r}}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names)for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);else s(t,e);if(t.values){for(var i=0;i<t.values.length;i++){var a=t.values[i];s(t,a)}delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var a=n[i];if(e.type===a)return!0}return!1},r=n("inbound-rtp","inboundrtp"),i="true"===e.isRemote||!0===e.isRemote;return r||n("outbound-rtp","outboundrtp")?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType="local",void 0!==e.isRemote&&(t.tracks.reportType=i?"remote":"local")):n("candidatepair")&&e.selected?t.transportStats=e:n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport","googCandidatePair")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"formatRelayType",value:function(e){var t="none";switch(e){case 0:t="tls";break;case 1:t="tcp";break;case 2:t="udp"}return t}}]),e})();n.StatsAdapter=o},{"./detectbrowser":11}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}},{}],15:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?v=p.concat(v):y=-1,v.length&&c())}function c(){if(!g){var e=a(s);g=!0;for(var t=v.length;t;){for(p=v,v=[];++y<t;)p&&p[y].run();y=-1,t=v.length}p=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var d,f,h=t.exports={};!(function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}})();var p,v=[],g=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||g||a(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],16:[function(e,t,n){(function(t,r){(function(){function i(e,t){this._id=e,this._clearFn=t}var a=e("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,c={},u=0;n.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return c[t]=!0,a(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":15,timers:16}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){var t=this;r(this,e),this.batteryManager=null,"function"==typeof navigator.getBattery&&navigator.getBattery().then(function(e){t.batteryManager=e})}return i(e,[{key:"getLevel",value:function(){return this.batteryManager?this.batteryManager.level:-1}},{key:"getCharging",value:function(){return this.batteryManager?this.batteryManager.charging:null}}]),e})();n.Battery=a},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detect=function(){var e=r.browserName.chrome,t=null,n=null,i=null,a=null,o=r.codeBaseType.chrome;if(!window.navigator.userAgent||window.csioReactNative)return window&&window.csioGetOsName&&(t=window.csioGetOsName()),window&&window.csioGetOsVer&&(n=window.csioGetOsVer()),window&&window.csioReactNative&&(i="react-native"),{browserName:e,codeBase:o,os:t,osVersion:n,userAgent:i,browserVersion:null};var s=(i=navigator.userAgent).toLowerCase(),c=void 0,u=void 0;(a=navigator.appVersion)&&(c=a.toLowerCase(),u=""+parseFloat(c));var l=void 0;if(-1!==(l=s.indexOf("opera")))e=r.browserName.opera,u=s.substring(l+6),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("opr")))e=r.browserName.opera,u=s.substring(l+4),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8)),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("msie")))e=r.browserName.msie,u=s.substring(l+5),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("edge")))e=r.browserName.edge,u=s.substring(l+5),o=r.codeBaseType.edge;else if(-1!==(l=s.indexOf("chrome")))e=r.browserName.chrome,u=s.substring(l+7),o=r.codeBaseType.chrome;else if(-1!==(l=s.indexOf("safari"))){if(e=r.browserName.safari,u=s.substring(l+7),-1!==(l=s.indexOf("version"))&&(u=s.substring(l+8))){var d=u.split(" ");d&&d.length>0&&(u=d[0])}o=r.codeBaseType.chrome}else-1!==(l=s.indexOf("firefox"))?(e=r.browserName.firefox,u=s.substring(l+8),o=r.codeBaseType.firefox):-1!==(l=s.indexOf("trident"))&&(e=r.browserName.msie,l=s.indexOf("rv"),u=s.substring(l+3,l+7),o=r.codeBaseType.chrome);var f=[{s:"Windows 3.11",r:/win16/},{s:"Windows 95",r:/(windows 95|win95|windows_95)/},{s:"Windows ME",r:/(win 9x 4.90|windows me)/},{s:"Windows 98",r:/(windows 98|win98)/},{s:"Windows CE",r:/windows ce/},{s:"Windows 2000",r:/(windows nt 5.0|windows 2000)/},{s:"Windows XP",r:/(windows nt 5.1|windows xp)/},{s:"Windows Server 2003",r:/windows nt 5.2/},{s:"Windows Vista",r:/windows nt 6.0/},{s:"Windows 7",r:/(windows 7|windows nt 6.1)/},{s:"Windows 8.1",r:/(windows 8.1|windows nt 6.3)/},{s:"Windows 8",r:/(windows 8|windows nt 6.2)/},{s:"Windows 10",r:/(windows 10|windows nt 10.0)/},{s:"Windows NT 4.0",r:/(windows nt 4.0|winnt4.0|winnt|windows nt)/},{s:"Windows ME",r:/windows me/},{s:"Android",r:/android/},{s:"Open BSD",r:/openbsd/},{s:"Sun OS",r:/sunos/},{s:"Linux",r:/(linux|x11)/},{s:"iOS",r:/(iphone|ipad|ipod)/},{s:"Mac OS X",r:/mac os x/},{s:"Mac OS",r:/(macppc|macintel|mac_powerpc|macintosh)/},{s:"QNX",r:/qnx/},{s:"UNIX",r:/unix/},{s:"BeOS",r:/beos/},{s:"OS/2",r:/os\/2/},{s:"Search Bot",r:/(nuhk|googlebot|yammybot|openbot|slurp|msnbot|ask jeeves\/teoma|ia_archiver)/}],h=void 0,p=void 0;for(h in f)if(f.hasOwnProperty(h)&&(p=f[h]).r.test(s)){t=p.s;break}switch(t&&/Windows/.test(t)&&(n=/Windows (.*)/.exec(t)[1],t=r.osName.windows),t){case r.osName.mac:if(!(n=/mac os x (1[\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.android:if(!(n=/android ([\.\_\d]+)/.exec(s)))break;n=n[1];break;case r.osName.ios:if(!c)break;if(!(n=/os (\d+)_(\d+)_?(\d+)?/.exec(c)))break;n=n[1]+"."+n[2]+"."+(0|n[3])}return{browserName:e,browserVersion:u.toString(),os:t,osVersion:n,codeBase:o,userAgent:i}};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants"))},{"../config/constants":36}],19:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Devices=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/csiologger")),u=r(e("../utility/utils")),l=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.pc=n,this.devices=null,this.emb=s.Registry.getEventMessageBuilder()}return a(e,[{key:"collectConnected",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){var t=this;navigator.mediaDevices.enumerateDevices().then(function(n){var r=u.normalizeMediaDeviceList(n);t.sendConnected(r),setTimeout(e.collectConnected.bind(t),1e4)}).catch(function(n){setTimeout(e.collectConnected.bind(t),1e4)})}}},{key:"sendConnected",value:function(e){this.devices&&this.compare(e)||(this.devices=e,this.send())}},{key:"compare",value:function(e){return self.devices.sort().toString()===e.sort().toString()}},{key:"send",value:function(){var e={mediaDeviceList:this.devices};c.log("sending connectedDevice",o.internalFabricEvent.connectedDeviceList,e),this.emb.make(o.internalFabricEvent.connectedDeviceList,this.conferenceId,this.pc,e)}}]),e})();n.Devices=l},{"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114,"../utility/utils":120}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.store=function(e,t){if(t)try{window&&window.localStorage&&window.localStorage.setItem(e,t)}catch(e){return}},n.get=function(e){try{if(window&&window.localStorage)return window.localStorage.getItem(e)}catch(e){return null}return null},n.remove=function(e){try{window&&window.localStorage&&window.localStorage.removeItem(e)}catch(e){return}}},{}],21:[function(e,t,n){"use strict";function r(e,t){if(t)try{window&&window.sessionStorage&&window.sessionStorage.setItem(e,t)}catch(e){return}}function i(e){try{if(window&&window.sessionStorage)return window.sessionStorage.getItem(e)}catch(e){return null}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.store=r,n.get=i,n.remove=function(e){try{window&&window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return}},n.storeUcId=function(e,t){if(e){var n=JSON.parse(i("csio_ucid_data"));n||(n={}),n[e]||(n[e]={}),n[e].ucID=t,r("csio_ucid_data",JSON.stringify(n))}},n.getUcId=function(e){if(!e)return null;var t=JSON.parse(i("csio_ucid_data"));return t&&t[e]?t[e].ucID:null}},{}],22:[function(t,n,r){(function(e){(function(){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n={};return n.status=e,t&&(n.message=t),n}function o(e,t){return e+": "+t+" "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")}function s(){var e=null,t=v.Registry.getEndpoint().getBrowserName();return"Firefox"===t?e=mozRTCPeerConnection:"Chrome"===t||"Opera"===t?e=webkitRTCPeerConnection:"Safari"===t?g.log("Browser type Safari"):"Edge"===t&&(e=window.RTCPeerConnection),e}function c(e){if(null===e)return!1;var t=v.Registry.getEndpoint().getCodeBase();if(t===d.codeBaseType.firefox)return"undefined"!=typeof mozRTCPeerConnection&&e instanceof mozRTCPeerConnection||"undefined"!=typeof RTCPeerConnection&&e instanceof RTCPeerConnection;if(t===d.codeBaseType.edge||"function"==typeof e)return!0;var n=s();return null!==n&&e instanceof n||void 0!==e.createOffer}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(t("./config/constants")),f=n(t("./config/settings")),h=t("./config/callstatserrors"),p=t("./fsm/mainfsm"),v=t("./utility/registry"),g=n(t("./utility/csiologger")),y=n(t("./utility/onerroreventlistner")),m=n(t("./utility/utils")),b=t("./services/authenticator");y.setErrorEventListener(),m.assignPollyfill(),m.isIntegerPollyfill();var S=null,k=(function(){function e(){r(this,e),S=new p.MainFSM}return l(e,[{key:"initialize",value:function(e,t,n,r,i,s){if(!e||!n||!t){var c=o("initialize",h.csErrorStrings.argumentError);return g.error(c),a(d.callstatsAPIReturnStatus.failure,c)}if(r&&"function"!=typeof r){var u=o("initialize",h.csErrorStrings.argumentError);g.warn(u),r=null}if(i&&"function"!=typeof i){var l=o("initialize",h.csErrorStrings.argumentError);g.warn(l),i=null}if("function"!=typeof t&&!(window.crypto&&(window.crypto.subtle||window.crypto.webkitSubtle)||window.msCrypto&&window.msCrypto.subtle||window.csioReactNative)){var f=o("initialize",h.csErrorStrings.cryptoError);return g.error(f),r&&r(h.csError.tokenGenerationError,h.csErrorStrings.cryptoError),a(d.callstatsAPIReturnStatus.failure,f)}try{S.fire(p.MainEvents.onInitialize,e,n,t,r,i,s),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"initialize: Error",error:e.message+":"+e.stack}),g.error("initialize: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"addNewFabric",value:function(e,t,n,r,i,s){var u=null,l=d.endpointType.peer,f=d.transmissionDirection.sendrecv;if(void 0===t){var y=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(y),a(d.callstatsAPIReturnStatus.failure,y)}if(void 0===r){var m=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(m),a(d.callstatsAPIReturnStatus.failure,m)}if(r||(r=d.tmpConferenceId),!e||!n){var b=o("addNewFabric",h.csErrorStrings.argumentError);return g.error(b),a(d.callstatsAPIReturnStatus.failure,b)}if(s&&"function"==typeof s&&(u=s),i&&"function"==typeof i&&(u=i),i&&"function"!=typeof i){if(i.remoteEndpointType){if(!d.endpointType.hasOwnProperty(i.remoteEndpointType)){var k=o("addNewFabric",h.csErrorStrings.invalidEndPointType,i.remoteEndpointType);return g.error(k),a(d.callstatsAPIReturnStatus.failure,k)}l=i.remoteEndpointType}if(i.fabricTransmissionDirection){if(!d.transmissionDirection.hasOwnProperty(i.fabricTransmissionDirection)){var w=o("addNewFabric",h.csErrorStrings.invalidTransmissionDirection,i.fabricTransmissionDirection);return g.error(w),a(d.callstatsAPIReturnStatus.failure,w)}f=i.fabricTransmissionDirection}}if(!d.fabricUsage.hasOwnProperty(n)||n instanceof Function){var C=o("addNewFabric",h.csErrorStrings.fabricUsageInvalid,n);return g.error(C),a(d.callstatsAPIReturnStatus.failure,C)}if(!c(e)){var T=o("addNewFabric",h.csErrorStrings.pcInvalid);return g.error(T),a(d.callstatsAPIReturnStatus.failure,T)}var _=v.Registry.getConferenceManager().get(r);if(_&&_.getPeerConnectionManager().getPcHandler(e))return a(d.callstatsAPIReturnStatus.success);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var P=o("addNewFabric",h.csErrorStrings.notInitialized);return g.error(P),a(d.callstatsAPIReturnStatus.failure,P)}try{S.fire(p.MainEvents.onAddNewFabric,e,t,n,r,l,f,u),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"addNewFabric: Error",error:e.message+":"+e.stack}),g.error("addNewFabric: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"sendFabricEvent",value:function(e,t,n,r){if(g.log("sendFabricEvent ",t),n||(n=d.tmpConferenceId),!e||!t){var i=o("sendFabricEvent",h.csErrorStrings.argumentError);return g.error(i),a(d.callstatsAPIReturnStatus.failure,i)}if(t===d.fabricEvent.fabricSetupFailed){var s=o("sendFabricEvent",h.csErrorStrings.fabricEventUnsupported,t);return g.error(s),a(d.callstatsAPIReturnStatus.failure,s)}if(!d.fabricEvent.hasOwnProperty(t)&&!d.internalFabricEvent.hasOwnProperty(t)){var c=o("sendFabricEvent",h.csErrorStrings.fabricEventInvalid,t);return g.error(c),a(d.callstatsAPIReturnStatus.failure,c)}if(!(t!==d.fabricEvent.activeDeviceList||r&&r.deviceList)){var u=o("sendFabricEvent ",h.csErrorStrings.argumentError);return g.error(u),a(d.callstatsAPIReturnStatus.failure,u)}var l=v.Registry.getConferenceManager().get(n);if(!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()||!l){var f=o("sendFabricEvent ",h.csErrorStrings.notInitialized);return g.error(f),a(d.callstatsAPIReturnStatus.failure,f)}if(!l.getPeerConnectionManager().getPcHandler(e)){var y=o("sendFabricEvent ",h.csErrorStrings.pcInvalid);return g.error(y),a(d.callstatsAPIReturnStatus.failure,y)}try{S.fire(p.MainEvents.onSendFabricEvent,e,t,n,r),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendFabricEvent: Error",error:e.message+":"+e.stack}),g.error("sendFabricEvent: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"sendCustomEvent",value:function(e,t,n){if(!t||!n){console.log("sendCustomEvent invalid conferenceId or eventData");var r=o("sendCustomEvent",h.csErrorStrings.argumentError);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}if("object"!==(void 0===n?"undefined":u(n))){console.log("sendCustomEvent invalid eventList");var i=o("sendCustomEvent",h.csErrorStrings.argumentError);return g.error(i),a(d.callstatsAPIReturnStatus.failure,i)}if(0===n.length){console.log("sendCustomEvent invalid eventList");var s=o("sendCustomEvent",h.csErrorStrings.argumentError);return g.error(s),a(d.callstatsAPIReturnStatus.failure,s)}try{S.fire(p.MainEvents.onSendCustomEvent,e,t,n),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCustomEvent: Error",error:e.message+":"+e.stack}),g.error("sendCustomEvent: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"sendCustomStats",value:function(e,t,n){if(!t||!n){console.log("sendCustomStats invalid conferenceId or stats");var r=o("sendCustomStats",h.csErrorStrings.argumentError);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}try{S.fire(p.MainEvents.onSendCustomStats,e,t,n),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCustomStats: Error",error:e.message+":"+e.stack}),g.error("sendCustomStats: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"sendCallDetails",value:function(e,t,n){if(g.log("sendCallDetails "),t||(t=d.tmpConferenceId),!e||!n){console.log("sendCallDetails invalid pc eventData");var r=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}if(n.callType||(n.callType=d.callType.unknown),!n.role){console.log("sendCallDetails invalid pc eventData");var i=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(i),a(d.callstatsAPIReturnStatus.failure,i)}if(n.callType&&!d.callType.hasOwnProperty(n.callType)){console.log("sendCallDetails invalid eventData",n);var s=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(s),a(d.callstatsAPIReturnStatus.failure,s)}if(n.role&&!d.roles.hasOwnProperty(n.role)){console.log("sendCallDetails invalid eventData",n);var c=o("sendCallDetails",h.csErrorStrings.argumentError);return g.error(c),a(d.callstatsAPIReturnStatus.failure,c)}try{S.fire(p.MainEvents.onSendCallDetails,e,t,n),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendCallDetails: Error",error:e.message+":"+e.stack}),g.error("sendCallDetails: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"sendUserFeedback",value:function(e,t,n){if(!t||!e){var r=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(r),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,r),a(d.callstatsAPIReturnStatus.failure,r)}if("object"!==(void 0===t?"undefined":u(t))){var i=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(i),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,i),a(d.callstatsAPIReturnStatus.failure,i)}if(0===Object.keys(t).length){var s=o("sendUserFeedback",h.csErrorStrings.argumentError);return g.error(s),n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.failure,s),a(d.callstatsAPIReturnStatus.failure,s)}try{S.fire(p.MainEvents.onSendUserFeedback,e,t,n),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"sendUserFeedback: Error",error:e.message+":"+e.stack}),g.error("sendUserFeedback: Error",e)}return n&&"function"==typeof n&&n(d.callstatsAPIReturnStatus.success,"userFeedback Event sent successfully"),a(d.callstatsAPIReturnStatus.success)}},{key:"associateMstWithUserID",value:function(e,t,n,r,i,s){if(n||(n=d.tmpConferenceId),!e||!r||!i){var u=o("associateMstWithUserID",h.csErrorStrings.argumentError);return g.error(u),a(d.callstatsAPIReturnStatus.failure,u)}if(!c(e)){var l=o("associateMstWithUserID",h.csErrorStrings.pcInvalid);return g.error(l),a(d.callstatsAPIReturnStatus.failure,l)}var f=v.Registry.getConferenceManager().get(n);if(!f){var y=o("associateMstWithUserID",h.csErrorStrings.confereneDoesNotExist);return g.error(y),a(d.callstatsAPIReturnStatus.failure,y)}if(!f.getPeerConnectionManager().getPcHandler(e)){var m=o("associateMstWithUserID",h.csErrorStrings.pcInvalid);return g.error(m),a(d.callstatsAPIReturnStatus.failure,m)}s&&"string"!=typeof s&&(g.error("associateMstWithUserID: Invalid videoTag"),s=null);try{S.fire(p.MainEvents.onAssociateMstWithUserID,e,t,n,r,i,s),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"associateMstWithUserID: Error",error:e.message+":"+e.stack}),g.error("associateMstWithUserID: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"reportError",value:function(e,t,n,r,i,s){if(t||(t=d.tmpConferenceId),void 0===e||!n){var c=o("reportError",h.csErrorStrings.argumentError);return g.error(c),a(d.callstatsAPIReturnStatus.failure,c)}if(!d.webRTCFunctions.hasOwnProperty(n)){var u=o("reportError",h.csErrorStrings.webRTCFunctionsInvalid,n);return g.error(u),a(d.callstatsAPIReturnStatus.failure,u)}if(void 0===r&&g.warn("reportError: Missing DOM error parameter"),!v.Registry.getCredentials().getAppId()||!v.Registry.getCredentials().getUserId()){var l=o("reportError",h.csErrorStrings.notInitialized);return g.error(l),a(d.callstatsAPIReturnStatus.failure,l)}try{S.fire(p.MainEvents.onReportError,e,t,n,r,i,s),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"reportError: Error",error:e.message+":"+e.stack}),g.error("reportError: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"setProxyConfig",value:function(e){if(window&&!window.csioproxy){var t=o("setProxyConfig",h.csErrorStrings.setProxyConfigInvokeError);return g.error(t),a(d.callstatsAPIReturnStatus.failure,t)}if(!e){var n=o("setProxyConfig",h.csErrorStrings.argumentError);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}try{S.fire(p.MainEvents.onSetProxyConfig,e),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"setProxyConfig: Error",error:e.message+":"+e.stack}),g.error("setProxyConfig: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"resetWifiStatsHandler",value:function(){try{S.fire(p.MainEvents.onResetWifiStatsHandler),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"resetWifiStatsHandler: Error",error:e.message+":"+e.stack}),g.error("resetWifiStatsHandler: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"attachWifiStatsHandler",value:function(e){if(!e){var t=o("attachWifiStatsHandler",h.csErrorStrings.argumentError);return g.error(t),a(d.callstatsAPIReturnStatus.failure,t)}if("function"!=typeof e){var n=o("attachWifiStatsHandler",h.csErrorStrings.argumentError);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}try{S.fire(p.MainEvents.onAttachWifiStatsHandler,e),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"attachWifiStatsHandler: Error",error:e.message+":"+e.stack}),g.error("attachWifiStatsHandler: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"setIdentifiers",value:function(e,t){if(!e){var n=o("setIdentifiers",h.csErrorStrings.argumentError);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}try{S.fire(p.MainEvents.onSetIdentifiers,e,t),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"setIdentifiers: Error",error:e.message+":"+e.stack}),g.error("setIdentifiers: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"getTurnCredentials",value:function(e,t){return e&&t?new Promise(function(n,r){var i=new b.Authenticator;i.setGenerateTurnCredentials(!0),i.initiate(e,t,"turnUser").then(function(){i.getTaasEnabled()?n(i.getTurnServers()):r(new Error("getTurnCredentials: Invalid API Access"))},function(e){r(e)})}):new Promise(function(e,t){t(new Error("getTurnCredentials: Empty credentials"))})}},{key:"makePrecallTest",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=o("makePrecallTest",h.csErrorStrings.notInitialized);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=o("makePrecallTest",h.csErrorStrings.notInitialized);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=o("makePrecallTest",h.csErrorStrings.apiaccesserror);return g.error(i),a(d.callstatsAPIReturnStatus.failure,i)}try{S.fire(p.MainEvents.onMakePrecallTest,e,t),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"makePrecallTest: Error",error:e.message+":"+e.stack}),g.error("makePrecallTest: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"stopPrecallTests",value:function(){v.Registry.getPCTRunnerService().stop()}},{key:"startPrecallTests",value:function(e,t){if(!v.Registry.getAuthenticator().getToken()||!v.Registry.getCredentials().getAppId()){var n=o("startPrecallTests",h.csErrorStrings.notInitialized);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}if(!v.Registry.getAuthenticator().getIceServers()){var r=o("startPrecallTests",h.csErrorStrings.notInitialized);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}if(!v.Registry.getCredentials().getCollectSDP()){var i=o("startPrecallTests",h.csErrorStrings.apiaccesserror);return g.error(i),a(d.callstatsAPIReturnStatus.failure,i)}if(!e){var s=o("startPrecallTests",h.csErrorStrings.argumentError);return g.error(s),a(d.callstatsAPIReturnStatus.failure,s)}t*=1e3;try{t=(t=t||6e4)<3e4?3e4:t,S.fire(p.MainEvents.onStartPrecallTests,e,t),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"startPrecallTests: Error",error:e.message+":"+e.stack}),g.error("startPrecallTests: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"on",value:function(e,t){if(!t||"function"!=typeof t){var n=o("on",h.csErrorStrings.argumentError);return g.error(n),a(d.callstatsAPIReturnStatus.failure,n)}if(!e||!d.callbackFunctions.hasOwnProperty(e)){var r=o("on",h.csErrorStrings.argumentError);return g.error(r),a(d.callstatsAPIReturnStatus.failure,r)}try{S.fire(p.MainEvents.onOn,e,t),S.run()}catch(e){v.Registry.getGenericEventHandler().sendEvent(d.logEvents.error,{msg:"on: Error",error:e.message+":"+e.stack}),g.error("on: Error",e)}return a(d.callstatsAPIReturnStatus.success)}},{key:"fabricUsage",get:function(){return this.constructor.fabricUsage}},{key:"fabricEvent",get:function(){return this.constructor.fabricEvent}},{key:"webRTCFunctions",get:function(){return this.constructor.webRTCFunctions}},{key:"csError",get:function(){return this.constructor.csError}},{key:"qualityRating",get:function(){return this.constructor.qualityRating}},{key:"callStatsAPIReturnStatus",get:function(){return this.constructor.callStatsAPIReturnStatus}},{key:"version",get:function(){return this.constructor.version}},{key:"userIDType",get:function(){return this.constructor.userIDType}},{key:"transmissionDirection",get:function(){return this.constructor.transmissionDirection}},{key:"endpointType",get:function(){return this.constructor.endpointType}},{key:"callType",get:function(){return this.constructor.callType}},{key:"roles",get:function(){return this.constructor.roles}}]),e})();k.fabricUsage=d.fabricUsage,k.fabricEvent=d.fabricEvent,k.webRTCFunctions=d.webRTCFunctions,k.csError=h.csError,k.qualityRating=d.qualityRating,k.callStatsAPIReturnStatus=d.callstatsAPIReturnStatus,k.version=f.version,k.userIDType=d.userIdType,k.endpointType=d.endpointType,k.transmissionDirection=d.transmissionDirection,k.callType=d.callType,k.roles=d.roles,(function(){function t(){return new k}"function"==typeof define&&define.amd?define("callstats",[],t):e.callstats=t,i.exports=t})("undefined"!=typeof window&&window)}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config/callstatserrors":35,"./config/constants":36,"./config/settings":37,"./fsm/mainfsm":38,"./services/authenticator":46,"./utility/csiologger":105,"./utility/onerroreventlistner":112,"./utility/registry":114,"./utility/utils":120}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Cache=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),o=(function(){function e(){r(this,e),this.queue=[],this.priority=[]}return i(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.length()>1e6?a.error("Maximum cached items reached, dropping."):t?this.priority.push(e):this.queue.push(e)}},{key:"pop",value:function(){return this.priority.length>0?this.priority.shift():this.queue.shift()}},{key:"peak",value:function(){return this.priority.length>0?this.priority[0]:this.queue.length>0?this.queue[0]:null}},{key:"length",value:function(){return this.queue.length+this.priority.length}},{key:"updateConferenceId",value:function(e){for(var t=0;t<this.queue.length;++t)this.queue[t].updateConferenceId(e);for(var n=0;n<this.priority.length;++n)this.priority[n].updateConferenceId(e)}}]),e})();n.Cache=o},{"../utility/csiologger":105}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Component=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./port"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown";r(this,e),this.name=t,this.ports=new Map}return i(e,[{key:"bindPort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,new a.Port(t,n))}},{key:"declarePort",value:function(e){this.ports.has(e)?o.warn("Port ("+e+") for "+this.name+" already exists."):this.ports.set(e,null)}},{key:"getPort",value:function(e){return this.ports.get(e)}},{key:"isConnected",value:function(e){return!!this.ports.has(e)&&null!==this.ports.get(e)}},{key:"connect",value:function(e,t){this.ports.has(e)?this.ports.set(e,t):o.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"transmit",value:function(e){var t=this.ports.get(e);if(void 0!==t)if(null!==t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.transmit(r)}else o.warn("Port ("+e+") for "+this.name+" is not connected.");else o.warn("Port ("+e+") for "+this.name+" does not exists.")}},{key:"request",value:function(e){var t=this.ports.get(e);if(void 0===t)return o.warn("Port ("+e+") for "+this.name+" does not exists."),null;if(null===t)return o.warn("Port ("+e+") for "+this.name+" is not connected."),null;for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.request(r)}}]),e})();n.Component=s},{"../utility/csiologger":105,"./port":27}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTAggregator=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),o=(function(){function e(){r(this,e),this.pctMeasurements=[],this.pctMeasurementsMap=new Map}return i(e,[{key:"getPCTMeasurements",value:function(){return this.pctMeasurements}},{key:"addPCTMeasurement",value:function(e){this.pctMeasurements.length>=a.pctSampleSize&&this.pctMeasurements.shift(),this.pctMeasurements.push(e);var t=e.getProvider();this.pctMeasurementsMap.has(t)||this.pctMeasurementsMap.set(t,[]),this.pctMeasurementsMap.get(t).push(e)}},{key:"clearPCTMeasurements",value:function(){this.pctMeasurements=[],this.pctMeasurementsMap=new Map}},{key:"doStats",value:function(e){var t={};return t.min=this.findMin(e),t.max=this.findMax(e),t.mean=this.calculateAverage(e),t.median=this.calculateMedian(e),t.stddev=this.calculateStandardDeviation(e,t.mean),t}},{key:"findMax",value:function(e){return e&&e.length?Math.max.apply(null,e):null}},{key:"findMin",value:function(e){return e&&e.length?Math.min.apply(null,e):null}},{key:"calculateAverage",value:function(e){return e&&e.length?e.reduce(function(e,t){return e+t},0)/e.length:0}},{key:"calculateMedian",value:function(e){if(!e)return 0;if(!e.length)return 0;var t=e.slice(0).sort(function(e,t){return e-t}),n=Math.floor(t.length/2);return t.length%2==0?(t[n]+t[n-1])/2:t[n]}},{key:"calculateStandardDeviation",value:function(e,t){if(!e)return 0;if(!e.length)return 0;var n=e.map(function(e){var n=e-t;return n*n}).reduce(function(e,t){return e+t},0);return Math.sqrt(n/(e.length-1))}},{key:"setAcceptability",value:function(e){var t=[];return t.push(e.throughput.median<30),t.push(e.loss.median>.05),t.push(e.rtt.median>400),e.acceptable=!t.reduce(function(e,t){return e||t},!1),e}},{key:"doInternalMeasurement",value:function(e){var t={},n=[],r=[],i=[],a=[];if(e)for(var o=0;o<e.length;o++)n.push(e[o].getRttMedian()),a.push(e[o].getRttVariance()),r.push(e[o].getThroughput()),i.push(e[o].getFractionLost());return t.rtt=this.doStats(n),t.loss=this.doStats(i),t.jitter=this.doStats(a),t.throughput=this.doStats(r),t}},{key:"scoreRtt",value:function(e){var t=0;if(!e||!e.rtt)return t;var n=e.rtt.max,r=e.rtt.median;return t=n<350?t+=1:t,t=n<250?t+=2:t,t=n<150?t+=3:t,t=n<100?t+=5:t,t=r<200?t+=1:t,t=r<150?t+=3:t,r<100?t+=5:t}},{key:"scoreLosses",value:function(e){var t=15;if(!e||!e.loss)return 0;var n=e.loss.max,r=e.loss.median;return t=n>=.04?t-=3:t,t=n>=.025?t-=1:t,t=n>=.01?t-=1:t,t=r>=.04?t-=5:t,t=r>=.025?t-=3:t,r>=.005?t-=2:t}},{key:"scoreThroughPut",value:function(e){var t=0;if(!e||!e.throughput)return t;var n=e.throughput.median,r=e.throughput.min;return t=n>5e3?t+=5:t,t=n>2e3?t+=2:t,t=n>200?t+=1:t,t=r<100?t-=3:t,t=r<1e3?t-=2:t,(t=r<2e3?t-=1:t)>0?t:0}},{key:"aggregate",value:function(){var e=this,t=[];return e.pctMeasurementsMap.forEach(function(n,r){var i={};i.provider=r;var a=e.doInternalMeasurement(n);i.rtt=a.rtt,i.jitter=a.jitter,i.loss=a.loss,i.throughput=a.throughput,(i=e.setAcceptability(i)).rttScore=e.scoreRtt(),i.lossesScore=e.scoreLosses(),i.throughputScore=e.scoreThroughPut(),t.push(i)}),t}},{key:"getAggregate",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={},i=e[n];r.provider=i.provider,r.roundTripTime=i.rtt.median,r.jitter=i.jitter.median,r.fractionLost=i.loss.median,r.throughput=i.throughput.median,t.push(r)}return t}},{key:"getSummary",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.provider=e[n].provider,r.acceptable=e[n].acceptable,t.push(r)}return t}},{key:"getRanking",value:function(){var e=this.aggregate().sort(function(e,t){if(!e.acceptable&&!t.acceptable)return 0;if(e.acceptable&&!t.acceptable)return-1;if(t.acceptable&&!e.acceptable)return 1;var n=e.rttScore+e.lossesScore+e.throughputScore;return t.rttScore+t.lossesScore+t.throughputScore-n}),t=this.getAggregate(e),n=this.getSummary(e),r={};return r.aggregatedStats=t,r.providerRanking=n,r}}]),e})();n.PCTAggregator=o},{"../config/constants":36}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i,a,o,s){r(this,e),this.throughput=t,this.rttMedian=n,this.rttVariance=i,this.fractionLost=a,this.provider=o,this.timestamp=s}return i(e,[{key:"getThroughput",value:function(){return this.throughput}},{key:"getRttMedian",value:function(){return this.rttMedian}},{key:"getRttVariance",value:function(){return this.rttVariance}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getProvider",value:function(){return this.provider}}]),e})();n.PCTMeasurement=a},{}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.target=t,this.object=n}return i(e,[{key:"transmit",value:function(e){this.target.apply(this.object,e)}},{key:"request",value:function(e){return this.target.apply(this.object,e)}}]),e})();n.Port=a},{}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;r(this,e),this.value=t,this.next=n}return a(e,[{key:"setNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.next=e}}]),e})(),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,e),this.capacity=t,this.root=n,this.tail=i,this.currentLength=0}return a(e,[{key:"size",value:function(){return this.currentLength}},{key:"isEmpty",value:function(){return this.currentLength<1}},{key:"isOverflow",value:function(){return this.size()>this.capacity}},{key:"push",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.tail;this.tail=new o(e),this.isEmpty()?this.root=this.tail:t.setNext(this.tail),this.currentLength+=1;var n=void 0;return this.isOverflow()&&(n=this.pop()),n}},{key:"pop",value:function(){if(!this.isEmpty()){var e=this.root.value;return this.root=this.root.next,this.currentLength-=1,e}}},{key:"getFront",value:function(){return this.root}},{key:"getBack",value:function(){return this.tail}},{key:"clear",value:function(){this.root=void 0,this.tail=void 0,this.currentLength=0}},{key:"toArray",value:function(){for(var e=i({},this.root),t=[];e;){var n=e,r=n.value;e=n.next,t.push(r)}return t}}]),e})();n.Queue=s},{}],29:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SizedBalancedTree=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./sizedbalancedtreenode"),s=r(e("../config/constants")),c=e("../collections/queue"),u=r(e("../statspipeline/validator")),l=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.maxSBTTreeSize;i(this,e),this.comparator=this.comparatorAsc,this.root=void 0,this.sizedQueue=new c.Queue(t)}return a(e,[{key:"comparatorAsc",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"getSize",value:function(){return this.size(this.root)}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getKey(this.root,e);return t&&t.key}},{key:"getMin",value:function(){var e=this.selectFirst(this.root);return e&&e.key}},{key:"getMax",value:function(){var e=this.selectLast(this.root);return e&&e.key}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.root=this.addKey(this.root,e);var t=this.sizedQueue.push(e);u.isNumber(t)&&(this.root=this.removeKey(this.root,t))}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.root=this.removeKey(this.root,e),this.sizedQueue.pop()}},{key:"addKey",value:function(e,t){if(!e)return new o.SizedBalancedTreeNode(t);var n=this.comparator(t,e.key);return e.size=this.size(e)+1,n<0?e.left=this.addKey(e.left,t):e.right=this.addKey(e.right,t),this.maintain(e,t>=e.key)}},{key:"removeKey",value:function(e,t){if(e){var n=this.comparator(t,e.key);if(n<0)e.left=this.removeKey(e.left,t);else if(n>0)e.right=this.removeKey(e.right,t);else{if(!e.left)return e.right;if(!e.right)return e.left;var r=this.selectFirst(e.right),i=e.key;e.key=r.key,e.value=r.value,r.key=i,e.right=this.removeKey(e.right,i)}return(e=this.maintain(e)).size=this.size(e.left)+this.size(e.right)+1,e}}},{key:"maintain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(t)if(e.right&&this.size(e.right.right)>this.size(e.left))e=this.rotateLeft(e);else{if(!(e.right&&this.size(e.right.left)>this.size(e.left)))return e;e.right=this.rotateRight(e.right),e=this.rotateLeft(e)}else if(e.left&&this.size(e.left.left)>this.size(e.right))e=this.rotateRight(e);else{if(!(e.left&&this.size(e.left.right)>this.size(e.right)))return e;e.left=this.rotateLeft(e.left),e=this.rotateRight(e)}return e.left=this.maintain(e.left,!1),e.right=this.maintain(e.right,!0),e=this.maintain(e,!1),this.maintain(e,!0)}}},{key:"size",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?e.size:0}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return 0;var t=this.height(e.left),n=this.height(e.right);return Math.max(t,n)+1}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.right;return e.right=t.left,t.left=e,t.size=this.size(e),e.size=this.size(e.left)+this.size(e.right)+1,t}}},{key:"rotateRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.left;return e.left=t.right,t.right=e,t.size=this.size(e),e.size=this.size(e.left)+this.size(e.right)+1,t}}},{key:"getKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e)return t===this.size(e.left)+1?e:t<=this.size(e.left)?this.getKey(e.left,t):this.getKey(e.right,t-1-this.size(e.left))}},{key:"selectLast",value:function(e){if(e){for(;e.right;)e=e.right;return e}}},{key:"selectFirst",value:function(e){if(e){for(;e.left;)e=e.left;return e}}},{key:"traverse",value:function(){this.print(this.root," ",!1)}},{key:"print",value:function(e,t,n){if(e){var r=n?"\u2514\u2500\u2500":"\u251c\u2500\u2500";console.log(""+t+r,e.key);var i=t+(n?"    ":"\u2502   ");e.left&&this.print(e.left,i,!1),e.right&&this.print(e.right,i,!0)}}}]),e})();n.SizedBalancedTree=l},{"../collections/queue":28,"../config/constants":36,"../statspipeline/validator":100,"./sizedbalancedtreenode":30}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.SizedBalancedTreeNode=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this.key=t,this.left=n,this.right=i,this.size=a}},{}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SlidingWindow=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./switem"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),s=(function(){function e(t,n){r(this,e),this.items=[],this.plugins=[],this.postProcesses=[],this.preProcesses=[],this.timeoutInMs=n,this.maxItemsNum=t,this.minItemsNum=0}return i(e,[{key:"setMaxItemsNum",value:function(e){this.maxItemsNum=e}},{key:"setTimeoutInMs",value:function(e){this.timeoutInMs=e}},{key:"setMinItemsNum",value:function(e){this.minItemsNum=e}},{key:"refresh",value:function(){var e=o.getCurrent();if(!(this.items.length<=this.minItemsNum)){for(;0<this.maxItemsNum&&this.maxItemsNum<=this.items.length;)this.remove();this.timeoutInMs&&this.timeoutInMs<e-this.items[0].getCreated()&&(this.remove(),this.refresh())}}},{key:"getLength",value:function(){return this.items.length}},{key:"add",value:function(e){this.refresh(),this.items.push(new a.SWItem(e));for(var t=0;t<this.preProcesses.length;t++)(0,this.preProcesses[t])(e);for(var n=0;n<this.plugins.length;n++)this.plugins[n].add(e);for(var r=0;r<this.postProcesses.length;r++)(0,this.postProcesses[r])(e)}},{key:"remove",value:function(){for(var e=this.items.shift(),t=0;t<this.plugins.length;t++)this.plugins[t].remove(e.value)}},{key:"peek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.items.length<=e?null:this.items[this.items.length-e-1].getValue()}},{key:"attach",value:function(e){this.plugins.push(e)}},{key:"addPreProcess",value:function(e){this.preProcesses.push(e)}},{key:"addPostProcess",value:function(e){this.postProcesses.push(e)}},{key:"detach",value:function(e){this.plugins=this.plugins.filter(function(t){return t!==e})}}]),e})();n.SlidingWindow=s},{"../utility/timestamps":118,"./switem":32}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWItem=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps")),o=(function(){function e(t){r(this,e),this.value=t,this.created=a.getCurrent()}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"getCreated",value:function(){return this.created}},{key:"toString",value:function(){return""}}]),e})();n.SWItem=o},{"../utility/timestamps":118}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Conference=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../peerconnection/peerconnectionmanager"),s=r(e("../config/settings")),c=e("../utility/registry"),u=r(e("../browserapi/sessionstorage")),l=r(e("../config/constants")),d=(function(){function e(t,n){i(this,e),this.conferenceId=t,this.startTime,this.peerConnectionManager=new o.PeerConnectionManager,this.credentials=n,this.ucId=null,this.url=null,this.userJoinedSent=!1}return a(e,[{key:"getCredentials",value:function(){return this.credentials}},{key:"getUcId",value:function(){return this.ucId}},{key:"setUcId",value:function(e){this.ucId=e,this.url=s.conferenceBaseUrl+c.Registry.getCredentials().getAppId()+"/conferences/"+encodeURIComponent(this.conferenceId)+"/"+e+"/general",u.storeUcId(this.conferenceId,e)}},{key:"resetUcId",value:function(){this.ucId=null}},{key:"getPeerConnectionManager",value:function(){return this.peerConnectionManager}},{key:"getUrl",value:function(){return this.url}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.peerConnectionManager.updateConferenceId(e)}},{key:"updateState",value:function(){this.peerConnectionManager.getPeerConnectionStatus()===l.fabricState.terminated&&this.setUserJoinedSent(!1)}},{key:"isUserJoinedSent",value:function(){return this.userJoinedSent}},{key:"setUserJoinedSent",value:function(e){this.userJoinedSent=e}},{key:"close",value:function(e){}}]),e})();n.Conference=d},{"../browserapi/sessionstorage":21,"../config/constants":36,"../config/settings":37,"../peerconnection/peerconnectionmanager":44,"../utility/registry":114}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./conference"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.conferenceMap=new Map}return i(e,[{key:"add",value:function(e,t){if(!this.get(e)){var n=new a.Conference(e,t);this.conferenceMap.set(e,n)}}},{key:"get",value:function(e){return this.conferenceMap.get(e)}},{key:"getConferenceForPc",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandler(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"getConferenceForPcHash",value:function(e){var t=null;return e?(this.conferenceMap.forEach(function(n,r){var i=n.getPeerConnectionManager().getPcHandlerByHash(e);i&&i.getConferenceId()===r&&(t=n)}),t):t}},{key:"updateConferenceId",value:function(e){var t=o.tmpConferenceId,n=this.get(t);n&&(n.updateConferenceId(e),this.conferenceMap.set(e,n),this.conferenceMap.delete(t))}},{key:"getConferenceIds",value:function(){var e=[];return this.conferenceMap.forEach(function(t,n){e.push(n)}),e}}]),e})();n.ConferenceManager=s},{"../config/constants":36,"./conference":33}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.csError={httpError:"httpError",authError:"authError",wsChannelFailure:"wsChannelFailure",success:"success",csProtoError:"csProtoError",appConnectivityError:"appConnectivityError",tokenGenerationError:"tokenGenerationError",ok:"OK",authOngoing:"authOngoing",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction"},n.csErrorStrings={argumentError:"Argument missing/invalid",cryptoError:"Browser does not support Web Cryptography API. App secret based authentication requires Web Cryptography API",fabricEventUnsupported:"Unsupported fabricEvent",fabricEventInvalid:"Invalid fabricEvents value",fabricUsageInvalid:"Invalid fabricUsage value",notInitialized:"SDK is not initialized or no Fabrics added",pcInvalid:"Invalid PeerConnection object passed",confereneDoesNotExist:"conferenceId does not exist",webRTCFunctionsInvalid:"Invalid webRTC functionName value",setProxyConfigInvokeError:"cannot be called if window.csioproxy is false",invalidWebRTCFunctionName:"Invalid WebRTC function name",invalidEndPointType:"Invalid EndPoint Type",invalidTransmissionDirection:"Invalid fabric transmission direction",apiaccesserror:"API access Error"},n.csErrorReason={csProtoError:"Protocol fields cannot be empty.",csNoAuthState:"Authentication state unavailable in server."},n.internalErrors={authOngoing:"authOngoing"},n.authErrorActions={RETRY:0,GET_NEW_TOKEN:1,REPORT_ERROR:2}},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.logEvents={stateMachine:"stateMachine",log:"log",timing:"timing",error:"error",getStatsError:"getStatsError",restResponseError:"restResponseError"},n.fabricEvent={fabricSetupFailed:"fabricSetupFailed",fabricHold:"fabricHold",fabricResume:"fabricResume",audioMute:"audioMute",audioUnmute:"audioUnmute",videoPause:"videoPause",videoResume:"videoResume",fabricUsageEvent:"fabricUsageEvent",fabricTerminated:"fabricTerminated",screenShareStart:"screenShareStart",screenShareStop:"screenShareStop",dominantSpeaker:"dominantSpeaker",activeDeviceList:"activeDeviceList",applicationErrorLog:"applicationErrorLog",callDetails:"callDetails",callUnAnswered:"callUnAnswered"},n.callType={unknown:"unknown",inbound:"inbound",outbound:"outbound",monitoring:"monitoring"},n.roles={agent:"agent",participant:"participant"},n.internalFabricEvent={fabricSetup:"fabricSetup",fabricSetupFailed:"fabricSetupFailed",userJoined:"userJoined",userLeft:"userLeft",userAlive:"userAlive",ssrcMap:"ssrcMap",mediaPlaybackStart:"mediaPlaybackStart",mediaPlaybackSuspended:"mediaPlaybackSuspended",mediaPlaybackStalled:"mediaPlaybackStalled",oneWayMedia:"oneWayMedia",oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",fabricStateChange:"fabricStateChange",iceDisruptionStart:"iceDisruptionStart",iceDisruptionEnd:"iceDisruptionEnd",fabricTransportSwitch:"fabricTransportSwitch",iceConnectionDisruptionStart:"iceConnectionDisruptionStart",iceConnectionDisruptionEnd:"iceConnectionDisruptionEnd",iceAborted:"iceAborted",iceTerminated:"iceTerminated",iceFailed:"iceFailed",iceRestarted:"iceRestarted",fabricDropped:"fabricDropped",connectedDeviceList:"connectedDeviceList",sdpSubmission:"sdpSubmissionEvent",sendingThroughputObservations:"sendingThroughputObservations",limitationObservations:"limitationObservations",userDetails:"userDetails",circuitBreaker:"circuitBreaker"},n.callstatsChannels={sdpSubmission:"sdpSubmissionEvent",processedStats:"processedStats",callstatsEvent:"callStatsEvent",userFeedback:"userFeedbackEvent",preCallTest:"preCallTest",senderConfiguration:"senderConfiguration"},n.urlType={events:"events",stats:"stats"},n.precalltestEvents={results:"preCallTestResults",associate:"preCallTestAssociate"},n.customEvents={event:"customEvent",stats:"customStats",conferenceSummary:"conferenceSummary"},n.callstatsAPIReturnStatus={success:"success",failure:"failure"},n.fabricUsage={audio:"audio",video:"video",data:"data",screen:"screen",multiplex:"multiplex",unbundled:"unbundled"},n.userIdType={local:"local",remote:"remote"},n.qualityRating={excellent:5,good:4,fair:3,poor:2,bad:1},n.reportType={local:"local",remote:"remote"},n.avQualityRatings={excellent:"excellent",fair:"fair",bad:"bad",unknown:"unknown"},n.fabricState={established:"established",initializing:"initializing",failed:"failed",disrupted:"disrupted",hold:"hold",checkingDisrupted:"checkingDisrupted",terminated:"terminated"},n.webRTCFunctions={createOffer:"createOffer",createAnswer:"createAnswer",setLocalDescription:"setLocalDescription",setRemoteDescription:"setRemoteDescription",addIceCandidate:"addIceCandidate",getUserMedia:"getUserMedia",iceConnectionFailure:"iceConnectionFailure",signalingError:"signalingError",applicationError:"applicationError",applicationLog:"applicationLog"},n.callFailureReasons={mediaConfigError:"MediaConfigError",negotiationFailure:"NegotiationFailure",sdpError:"SDPGenerationError",iceFailure:"IceConnectionFailure",transportFailure:"TransportFailure",signalingError:"SignalingError",applicationError:"ApplicationError",applicationLog:"ApplicationLog",invalidWebRTCFunctionName:"Invalid WebRTC function name"},n.throughputThreshold={video:{green:1024,red:256},audio:{green:30,red:8}},n.currOverPrevFrameRateThreshold={video:{green:.8,red:.3}},n.rttThreshold={video:{green:400,red:1e3}},n.fractionalLossThreshold={video:{green:.1,red:.5},audio:{green:.15,red:.3}},n.eModelThreshold={audio:{green:240,red:400}},n.codeBaseType={chrome:"Chrome",firefox:"Firefox",edge:"Edge",plugin:"Plugin"},n.browserName={chrome:"Chrome",firefox:"Firefox",edge:"Edge",msie:"Microsoft Internet Explorer",safari:"Safari",opera:"Opera"},n.osName={windows:"Windows",mac:"Mac OS X",android:"Android",ios:"iOS"},n.mediaType={audio:"audio",video:"video"},n.streamType={inbound:"inbound",outbound:"outbound"},n.fabricStateChangeType={signalingState:"signalingState",iceConnectionState:"iceConnectionState",iceGatheringState:"iceGatheringState"},n.wsConnectionState={initiated:"initiated",connected:"connected",closed:"closed"},n.csCallBackMessages={authSuccessful:"SDK authentication successful.",authFailed:"SDK authentication failed.",authProtocolInvalid:"Fatal authentication error. Invalid auth protocol message.",authOngoing:"Authentication on going.",wsConnected:"WebSocket establishment successful.",wsClosed:"WebSocket server closed.",wsFailed:"WebSocket establishment failed."},n.oneWayMediaTypes={audio:"audio",video:"video",screen:"screen"},n.limitationType={cpu:"cpu",network:"network"},n.qualityDisruptionTypes={qpchange:"qpchange"},n.callbackFunctions={stats:"stats",defaultConfig:"defaultConfig",recommendedConfig:"recommendedConfig",preCallTestResults:"preCallTestResults",preCallTest:"preCallTest",connectionRecommendation:"connectionRecommendation",mediaDisruption:"mediaDisruption",pctConnectionQualityChange:"pctConnectionQualityChange"},n.mediaDisruptionCallbackType={oneWayMediaStart:"oneWayMediaStart",oneWayMediaStop:"oneWayMediaStop",circuitBreaker:"circuitBreaker"},n.circuitBreakerDisruptionType={mediaTimeout:"mediaTimeout",congestion:"congestion",mediaUsability:"mediaUsability",RTCPTimeout:"RTCPTimeout"},n.endpointType={peer:"peer",server:"server"},n.transmissionDirection={sendonly:"sendonly",receiveonly:"receiveonly",sendrecv:"sendrecv",inactive:"inactive"},n.adaptiveStatsIntervalsInMs={min:2e3,max:3e4},n.adaptiveStatsThresholds={maxMarginFactor:15,marginReductionFactor:.5,marginIncreaseFactor:2,maxGradualCounter:4,rippleBase:2,marginDecreaseIntervalInMs:3e3,minIntervalInMs:2e3,maxIntervalInMs:3e4,windowSize:100,resetThreshold:3,minThreshold:{rtt:100,throughput:200,fractionalLoss:.1},eps:9e-5,maxInitialTimeoutInMs:3e4,initialNotifyIntervalTimeoutInMs:5e3},n.statsDestination={callback:"callback",backend:"backend"},n.echoDetectionLabel={unacceptable:"unacceptable",limitingCase:"limitingCase",acceptable:"acceptable"},n.tmpConferenceId="csio-conf-id-tmp",n.pctSampleSize=100,n.maxSBTTreeSize=600},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setConfigServiceUrl=function(e){n.configServiceUrl=e},n.setAuthServiceUrl=function(e){n.authServiceUrl=e},n.setConferenceBaseUrl=function(e){n.conferenceBaseUrl=e},n.setRestEventUrl=function(e){n.restEventUrl=e},n.setRestStatsUrl=function(e){n.restStatsUrl=e},n.setBaseUrl=function(e){n.baseUrl=e},n.setQmodelThresholdsAPIUrl=function(e){n.qmodelThresholdsAPIUrl=e},n.setCollectLegacyStats=function(e){n.collectLegacyStats=e},n.setCollectIP=function(e){n.collectIP=e};n.version="3.70.0",n.configServiceUrl="https://appsettings.callstats.io/v1/apps/",n.authServiceUrl="https://auth.callstats.io/",n.authRetryTimeout=5e3,n.conferenceBaseUrl="https://dashboard.callstats.io/apps/",n.restEventUrl="https://events.callstats.io/v1/apps/",n.restStatsUrl="https://stats.callstats.io/v1/apps/",n.baseUrl="https://collector.callstats.io:443/",n.qmodelThresholdsAPIUrl="https://dashboard.callstats.io/api-internal/v1/qmodelthresholds",n.csioDebug="false",n.collectLegacyStats=!0,n.collectIP=!0},{}],38:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainFSM=n.MainEvents=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("./statemachine"),d=e("../utility/registry"),f=r(e("../utility/csiologger")),h=r(e("../utility/utils")),p=r(e("../utility/ipdiscovery")),v=r(e("../utility/timestamps")),g=r(e("../config/constants")),y=r(e("../config/settings")),m=e("../statspipeline/statsadapter"),b=e("../statspipeline/statsparser"),S=e("../statspipeline/statsmonitor"),k=e("../statspipeline/statstransmitter"),w=e("../statspipeline/statsassembler"),C={Created:"Created",Initializing:"Initializing",Idle:"Idle",Run:"Run"},T=n.MainEvents={onStart:"onStart",onInitialize:"onInitialize",onAddNewFabric:"onAddNewFabric",onSendFabricEvent:"onSendFabricEvent",onReportError:"onReportError",onAssociateMstWithUserID:"onAssociateMstWithUserID",onSetProxyConfig:"onSetProxyConfig",onAttachWifiStatsHandler:"onAttachWifiStatsHandler",onResetWifiStatsHandler:"onResetWifiStatsHandler",onSendUserFeedback:"onSendUserFeedback",onOn:"onOn",onSetIdentifiers:"onSetIdentifiers",onMakePrecallTest:"onMakePrecallTest",onStartPrecallTests:"onStartPrecallTests",onSendCallDetails:"onSendCallDetails",onSendCustomStats:"onSendCustomStats",onSendCustomEvent:"onSendCustomEvent"},_="onServicesFinished",P=(function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,C.Created));return f.log("FSM:",e.getState()),e.fire(T.onStart),e.run(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=void 0,a=0;a<n;a++)if(i=t[a],e.call(r,i,a,t))return i}}),e}return s(t,l.StateMachine),u(t,[{key:"proceed",value:function(e,t){switch(this.getState()){case C.Created:switch(e){case T.onStart:this.onStart.apply(this,i(t));break;case T.onInitialize:this.setState(C.Initializing),f.log("FSM:",this.getState()),this.onInitialize.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case C.Initializing:switch(e){case _:this.onServicesFinished()&&(this.setState(C.Idle),f.log("FSM:",this.getState()));break;case T.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case T.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case T.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case T.onSendCustomEvent:this.onSendCustomEvent.apply(this,i(t));break;case T.onSendCustomStats:this.onSendCustomStats.apply(this,i(t));break;case T.onReportError:this.onReportError.apply(this,i(t));break;case T.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case T.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case T.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case T.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case T.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}break;case C.Idle:case C.Run:switch(e){case T.onAddNewFabric:this.onAddNewFabric.apply(this,i(t));break;case T.onSendFabricEvent:this.onSendFabricEvent.apply(this,i(t));break;case T.onSendCallDetails:this.onSendCallDetails.apply(this,i(t));break;case T.onSendCustomEvent:this.onSendCustomEvent.apply(this,i(t));break;case T.onSendCustomStats:this.onSendCustomStats.apply(this,i(t));break;case T.onReportError:this.onReportError.apply(this,i(t));break;case T.onAssociateMstWithUserID:this.onAssociateMstWithUserID.apply(this,i(t));break;case T.onSendUserFeedback:this.onSendUserFeedback.apply(this,i(t));break;case T.onAttachWifiStatsHandler:this.onAttachWifiStatsHandler.apply(this,i(t));break;case T.onResetWifiStatsHandler:this.onResetWifiStatsHandler.apply(this,i(t));break;case T.onOn:this.onOn.apply(this,i(t));break;case T.onSetProxyConfig:this.onSetProxyConfig.apply(this,i(t));break;case T.onMakePrecallTest:this.onMakePrecallTest.apply(this,i(t));break;case T.onSetIdentifiers:this.onSetIdentifiers.apply(this,i(t));break;case T.onStartPrecallTests:this.onStartPrecallTests.apply(this,i(t))}}}},{key:"onStart",value:function(){d.Registry.getEndpoint().setup(),this.authenticator=d.Registry.getAuthenticator(),this.configservicewrapper=d.Registry.getConfigServiceWrapper(),this.precalltest=d.Registry.getPreCallTest();var e=d.Registry.getStatsAdapter(),t=d.Registry.getStatsParser(),n=d.Registry.getStatsMonitor(),r=d.Registry.getStatsTransmitter(),i=d.Registry.getStatsAssembler();e.connect(m.StatsAdapterIO.RawStatsOut,t.getPort(b.StatsParserIO.RawStatsIn)),t.connect(b.StatsParserIO.PcStatsTupleOut,n.getPort(S.StatsMonitorIO.PcStatsTupleIn)),n.connect(S.StatsMonitorIO.StatsTupleOut,i.getPort(w.StatsAssemblerIO.StatsTupleIn)),i.connect(w.StatsAssemblerIO.CallstatsOut,r.getPort(k.StatsTransmitterIO.CallstatsIn)),e.connect(m.StatsAdapterIO.UnprocessedOut,r.getPort(k.StatsTransmitterIO.UnprocessedIn))}},{key:"setupConnection",value:function(){var e=this;this.connectionManager=d.Registry.getConnectionManager(),this.connectionManager.setupCollectorConnection(),this.connectionManager.setup().then(function(){f.log("Connected to connectionManager"),e.fire(_),e.run()}).catch(function(e){return f.log("Could not connect to connectionManager",e)})}},{key:"setup",value:function(){var e=this;this.clocksync=d.Registry.getClockSync(),d.Registry.getGenericEventHandler().sendEvent(g.logEvents.log,{msg:"Starting clockSync"}),this.clocksync.initiate().then(function(){f.log("Clocksync completed"),e.fire(_),e.run()}).catch(function(e){return f.log("Could not finish ClockSync",e)})}},{key:"onInitialize",value:function(e,t,n,r,i,a){var o=this,s=d.Registry.getCredentials();s.setAppId(e),s.setUserId(t),d.Registry.getCallbacks().set(g.callbackFunctions.stats,i),this.doPrecalltest=!0,a&&(!0===a.disableBeforeUnloadHandler&&this.setBeforeUnloadHandler(),a.applicationVersion&&d.Registry.getEndpoint().setAppVersion(a.applicationVersion),a.disablePrecalltest&&(this.doPrecalltest=!1),a.siteID&&("string"!=typeof a.siteID?f.error("Invalid configParams: siteId must be string"):s.setSiteId(a.siteID)),a.additionalIDs&&("object"!==c(a.additionalIDs)?f.error("Invalid configParams: additionalIDs must be object"):(console.log("Setting application IDs",a.additionalIDs),s.setAdditionalIDs(a.additionalIDs))),"boolean"==typeof a.collectLegacyStats&&y.setCollectLegacyStats(a.collectLegacyStats),"boolean"==typeof a.collectIP&&y.setCollectIP(a.collectIP)),this.setup(),this.authenticator.initiate(e,n,t,r).then(function(e){if(f.log("Authentication complete"),o.setupConnection(),!0===d.Registry.getCredentials().isAdaptiveStatsEnabled())d.Registry.getStatsMonitor().setIntervals(g.adaptiveStatsIntervalsInMs.min,g.adaptiveStatsIntervalsInMs.max);else{var t=d.Registry.getCredentials().getStatsSubmissionInterval();d.Registry.getStatsMonitor().setIntervals(t,t)}o.fire(_),o.run();var n=o.authenticator.getIceServers();n&&o.doPrecalltest&&d.Registry.getPCTRunnerService().doPrecalltest(n,"callstats",!1),o.configservicewrapper.initiateInternalConfig().then(function(){f.log("ConfigService internal config:",o.configservicewrapper.getInternalConfig()),o.fire(_),o.run()},function(e){return f.log(e)}),o.configservicewrapper.initiateAppConfig().then(function(){var e=d.Registry.getCallbacks().get(g.callbackFunctions.defaultConfig),t=o.configservicewrapper.getAppDefaultConfig();e&&t&&e(t);var n=d.Registry.getCallbacks().get(g.callbackFunctions.recommendedConfig),r=o.configservicewrapper.getAppRecommendedConfig();n&&r&&n(r),o.fire(_),o.run()},function(e){return f.log(e)})},function(e){f.log(e)})}},{key:"setBeforeUnloadHandler",value:function(){window&&window.addEventListener&&(f.log("setBeforeUnloadHandler"),window.addEventListener("beforeunload",function(e){return d.Registry.getConferenceManager().conferenceMap.forEach(function(e,t){e&&e.getPeerConnectionManager().pcHandlers.forEach(function(e,t){d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.userLeft,e.getConferenceId(),e.getPeerConnection())})}),"Are you sure you want to close the call?"}))}},{key:"onServicesFinished",value:function(){return!!(this.connectionManager&&this.connectionManager.isReady()&&this.clocksync.isCompleted()&&this.authenticator.isCompleted())&&(d.Registry.getTransmissionManager().trySend(),!0)}},{key:"onAddNewFabric",value:function(e,t,n,r,i,a,o){f.warn("FSM onAddNewFabric"),d.Registry.getConferenceManager().add(r,d.Registry.getCredentials());var s=d.Registry.getConferenceManager().get(r);s.getPeerConnectionManager().addPcHandler(e,t,n,r,i,a,o);var c={endpointInfo:d.Registry.getEndpoint().serialize()};if(d.Registry.getCredentials().getUserIdObject()&&(c.localUserIDObject=d.Registry.getCredentials().getUserIdObject()),!s.isUserJoinedSent()){s.resetUcId(),d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.userJoined,r,e,c),s.setUserJoinedSent(!0);var u=c.localUserIDObject?String(c.localUserIDObject.userName):null;y.collectIP?p.getRemoteAddress(function(t){d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.userDetails,r,e,{userName:u,localIpAddressInfo:t,collectIP:!0})}):d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.userDetails,r,e,{userName:u,localIpAddressInfo:[],collectIP:!1})}var l=d.Registry.getPCTRunnerService().getPrecallTestIds();d.Registry.getPCTRunnerService().resetPrecallTestIds();var h=this.precalltest.getId();h&&l.push(h),l.length>0&&d.Registry.getEventMessageBuilder().make(g.precalltestEvents.associate,r,e,{ids:l})}},{key:"onStartPrecallTests",value:function(e,t){var n=d.Registry.getAuthenticator().getIceServers();n[0].label="callstats",e.push(n[0]),d.Registry.getPCTRunnerService().start(e,t)}},{key:"onSendCallDetails",value:function(e,t,n){f.warn("FSM onSendCallDetails");var r={};r.callType=n.callType,r.role=n.role,n.contactQueue&&(r.contactQueue=n.contactQueue),n.contactQueueID&&(r.contactQueueID=n.contactQueueID),n.routingProfile&&(r.routingProfile=n.routingProfile),n.routingProfileID&&(r.routingProfileID=n.routingProfileID),n.contactID&&(r.contactID=n.contactID),n.acceptedTimestamp&&(r.acceptedAt=n.acceptedTimestamp),n.connectedTimestamp&&(r.connectedAt=n.connectedTimestamp),n.originalContactID&&(r.originalContactID=n.originalContactID),n.siteID&&(r.siteID=n.siteID,d.Registry.getCredentials().setSiteId(n.siteID)),n.extensionVersion&&(r.extensionVersion=n.extensionVersion,d.Registry.getCredentials().setExtensionVersion(n.extensionVersion)),n.shimVersion&&(r.shimVersion=n.shimVersion,d.Registry.getCredentials().setShimVersion(n.shimVersion)),d.Registry.getEventMessageBuilder().make(g.fabricEvent.callDetails,t,e,r)}},{key:"onSendCustomEvent",value:function(e,t,n){if(f.warn("FSM onSendCustomEvent"),n&&1===n.length){var r=n[0];if("conferenceSummary"===r.type)return void d.Registry.getEventMessageBuilder().make(g.customEvents.conferenceSummary,t,e,r)}d.Registry.getEventMessageBuilder().make(g.customEvents.event,t,e,{eventList:n})}},{key:"onSendCustomStats",value:function(e,t,n){f.warn("FSM onSendCustomStats");var r={};r.stats=n,d.Registry.getEventMessageBuilder().make(g.customEvents.stats,t,e,r)}},{key:"onSendFabricEvent",value:function(e,t,n,r){f.warn("FSM onSendFabricEvent");var i={};r&&((i=r).ssrc&&(i.ssrc=String(i.ssrc))),t===g.fabricEvent.activeDeviceList&&(i={mediaDeviceList:h.normalizeMediaDeviceList(r.deviceList)}),d.Registry.getEventMessageBuilder().make(t,n,e,i);var a=d.Registry.getConferenceManager().get(n);if(a){var o=a.getPeerConnectionManager().getPcHandler(e);t!==g.fabricEvent.fabricTerminated&&t!==g.internalFabricEvent.fabricSetupFailed||(o.stopUserAliveHandler(),o.setPcState(g.fabricState.terminated),o.stopStatsPolling(),o.stopPCStateMonitoring(),a.getPeerConnectionManager().removePcStats(o&&o.getPcHash()),a.updateState()),t===g.fabricEvent.fabricHold&&(o.setPcState(g.fabricState.hold),o.stopStatsPolling()),t===g.fabricEvent.fabricResume&&(o.setPcState(g.fabricState.established),o.startStatsPolling())}}},{key:"onReportError",value:function(e,t,n,r,i,a){f.warn("FSM onReportError");var o={delay:0,reason:this.callFailureClassifier(n),function:n,magicKey:d.Registry.getEndpoint().getMagicKey(),endpoint:d.Registry.getEndpoint().serialize(),level:"debug"};if(r){var s=this.formatDomError(r);o.message=s.message,o.messageType=s.messageType,o.name=r.name,o.stack=r.stack}if(e){var c=d.Registry.getConferenceManager().get(t),u=void 0;if(c&&(u=c.getPeerConnectionManager().getPcHandler(e)),!u)return void f.error("onReportError: No handler found for given PeerConnection!");if(o.delay=v.getCurrent()-u.getStartTime(),o.fabricState=u.getPcState(),o.iceConnectionState=u.getIceConnectionState(),(i||a||e&&"closed"!==e.signalingState)&&d.Registry.getCredentials().getCollectSDP()&&n!==g.webRTCFunctions.applicationLog){var l={};l.localSDP=this.pickSDP(e,i,"localDescription"),l.remoteSDP=this.pickSDP(e,a,"remoteDescription"),d.Registry.getEventMessageBuilder().make(g.callstatsChannels.sdpSubmission,t,e,l)}}n===g.webRTCFunctions.applicationLog||n===g.webRTCFunctions.applicationError?d.Registry.getEventMessageBuilder().make(g.fabricEvent.applicationErrorLog,t,e,o):n===g.webRTCFunctions.iceConnectionFailure?this.handleIceConnectionFailure(e,t,o):(d.Registry.getEventMessageBuilder().make(g.fabricEvent.fabricSetupFailed,t,e,o),n===g.webRTCFunctions.getUserMedia&&this.handleGUMErrors(t))}},{key:"onAssociateMstWithUserID",value:function(e,t,n,r,i,a){var o=d.Registry.getConferenceManager().get(n);if(o){var s=o.getPeerConnectionManager().getPcHandler(e);"string"!=typeof r&&(r+=""),s.updateSSRCInfo(r,t,i,a)}}},{key:"onResetWifiStatsHandler",value:function(){d.Registry.getWifiStatsExecutor().resetGetWifiStatsMethod()}},{key:"onAttachWifiStatsHandler",value:function(e){d.Registry.getWifiStatsExecutor().setGetWifiStatsMethod(e)}},{key:"onSetProxyConfig",value:function(e){f.warn("FSM onSetProxyConfig"),e.collectorURL&&y.setBaseUrl(e.collectorURL),e.authServiceURL&&y.setAuthServiceUrl(e.authServiceURL),e.csioInternalAPIURL&&y.setQmodelThresholdsAPIUrl(e.csioInternalAPIURL),e.restEventURL&&y.setRestEventUrl(e.restEventURL),e.restStatsURL&&y.setRestStatsUrl(e.restStatsURL),e.appSettingsURL&&y.setConfigServiceUrl(e.appSettingsURL)}},{key:"onSendUserFeedback",value:function(e,t,n){var r={feedback:{overallRating:t.overall}};t.video&&(r.feedback.videoQualityRating=t.video),t.audio&&(r.feedback.audioQualityRating=t.audio),t.comment&&(r.feedback.comments=t.comment),d.Registry.getEventMessageBuilder().make(g.callstatsChannels.userFeedback,e,null,r)}},{key:"onOn",value:function(e,t){d.Registry.getCallbacks().set(e,t)}},{key:"onSetIdentifiers",value:function(e,t){if(e.conferenceID&&(d.Registry.getConferenceManager().updateConferenceId(e.conferenceID),d.Registry.getTransmissionManager().updateConferenceId(e.conferenceID),d.Registry.getTransmissionManager().trySend()),e.remoteUserID&&t){var n=d.Registry.getConferenceManager().getConferenceForPc(t);if(!n)return void f.log("onSetIdentifiers conference not found");var r=n.getPeerConnectionManager().getPcHandler(t);if(!r)return void f.log("pcHandler not found");r.updateRemoteId(e.remoteUserID),d.Registry.getTransmissionManager().trySend()}}},{key:"onMakePrecallTest",value:function(e,t){var n=e,r=t||"callstats";e||(n=this.authenticator.getIceServers(),r="callstats"),d.Registry.getPCTRunnerService().doPrecalltest(n,r,!0)}},{key:"handleIceConnectionFailure",value:function(e,t,n){if(e){var r=d.Registry.getConferenceManager().get(t),i=void 0;if(r&&(i=r.getPeerConnectionManager().getPcHandler(e)),i)if(i.isFabricSetupSent()){var a={localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};a.delay=v.getCurrent()-i.getStartTime(),a.currIceConnectionState="failed",a.prevIceConnectionState="disconnected",d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.iceFailed,t,e,a)}else n.delay=v.getCurrent()-i.getStartTime(),n.fabricState=i.getPcState(),n.iceConnectionState=i.getIceConnectionState(),d.Registry.getEventMessageBuilder().make(g.fabricEvent.fabricSetupFailed,t,e,n)}}},{key:"handleGUMErrors",value:function(e){var t=d.Registry.getConferenceManager().get(e);if(t||(d.Registry.getConferenceManager().add(e,d.Registry.getCredentials()),t=d.Registry.getConferenceManager().get(e)),!t.getUcId()){var n={endpointInfo:d.Registry.getEndpoint().serialize()};d.Registry.getEventMessageBuilder().make(g.internalFabricEvent.userJoined,e,null,n),t.setUserJoinedSent(!0)}}},{key:"callFailureClassifier",value:function(e){var t=void 0;return g.webRTCFunctions.hasOwnProperty(e)?e===g.webRTCFunctions.createOffer||e===g.webRTCFunctions.createAnswer||e===g.webRTCFunctions.setRemoteDescription?t=g.callFailureReasons.negotiationFailure:e===g.webRTCFunctions.setLocalDescription?t=g.callFailureReasons.sdpError:e===g.webRTCFunctions.addIceCandidate?t=g.callFailureReasons.sdpError:e===g.webRTCFunctions.getUserMedia?t=g.callFailureReasons.mediaConfigError:e===g.webRTCFunctions.iceConnectionFailure?t=g.callFailureReasons.iceFailure:e===g.webRTCFunctions.signalingError?t=g.callFailureReasons.signalingError:(e===g.webRTCFunctions.applicationLog||g.webRTCFunctions.applicationError)&&(t=g.callFailureReasons.applicationLog):t=g.callFailureReasons.invalidWebRTCFunctionName,t}},{key:"formatDomError",value:function(e){var t={},n={};e&&(window.DOMException&&e instanceof window.DOMException?(n.message=e.message,n.name=e.name,t.messageType="domError"):"object"===(void 0===e?"undefined":c(e))?(e.message&&(n.message=e.message),e.name&&(n.name=e.name),e.constraintName&&(n.name=e.constraintName),e.stack&&(n.stack=e.stack),t.messageType="json"):(n=e,t.messageType="text"));var r=this.truncateLog(n);return"object"===(void 0===r?"undefined":c(r))?t.message=JSON.stringify(r):t.message=r,t}},{key:"pickSDP",value:function(e,t,n){return t||(e&&e[n]?e[n].sdp:"")}},{key:"truncateString",value:function(e){return e.length>2e4&&(f.log("Log exceeds 20kb, It will be truncated"),e=e.substring(0,2e4)),e}},{key:"truncateLog",value:function(e){return e?("string"==typeof e?e=this.truncateString(e):"object"===(void 0===e?"undefined":c(e))&&e.message&&(e.message=this.truncateString(e.message)),e):e}}]),t})();n.MainFSM=P},{"../config/constants":36,"../config/settings":37,"../statspipeline/statsadapter":85,"../statspipeline/statsassembler":86,"../statspipeline/statsmonitor":88,"../statspipeline/statsparser":89,"../statspipeline/statstransmitter":90,"../utility/csiologger":105,"../utility/ipdiscovery":110,"../utility/registry":114,"../utility/timestamps":118,"../utility/utils":120,"./statemachine":40}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n){r(this,e),this.type=t,this.args=void 0!==n?n:null}return i(e,[{key:"getType",value:function(){return this.type}},{key:"getArgs",value:function(){return this.args}}]),e})();n.ProgramEvent=a},{}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StateMachine=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./programevent"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=(function(){function e(t){r(this,e),this.events=[],this.state=t}return i(e,[{key:"fire",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new a.ProgramEvent(e,n);this.events.push(i)}},{key:"proceed",value:function(e,t){o.warn("You need to overwrite the proceed function inan extended StateMachine")}},{key:"setState",value:function(e){this.state=e}},{key:"getState",value:function(){return this.state}},{key:"run",value:function(){if(!(this.events.length<1)){var e=this.events.shift();this.proceed(e.getType(),e.getArgs())}}}]),e})();n.StateMachine=s},{"../utility/csiologger":105,"./programevent":39}],41:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GetStatsHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../statspipeline/statsadapter"),c=e("../utility/registry"),u=r(e("../config/settings")),l=r(e("../utility/csiologger")),d=(function(){function e(t,n,r,a,o){i(this,e),this.pc=t,this.interval=r,this.codeBase=a,this.browserName=o,this.getStatsTimer=null,this.isPromiseBased=!0,this.pcHash=n,this.genericevent=c.Registry.getGenericEventHandler()}return a(e,[{key:"startStatsPolling",value:function(){var e=this;e.getStatsTimer||(l.log("startStatsPolling for ",e.pcHash),this.getStatsTimer=setInterval(function(){e.csioGetStats(e.statsHandler,e.pcHash)},e.interval))}},{key:"stopStatsPolling",value:function(){this.getStatsTimer&&(clearInterval(this.getStatsTimer),this.getStatsTimer=null)}},{key:"csioGetStats",value:function(e,t){var n=o.codeBaseType.firefox,r=o.codeBaseType.chrome,i=o.codeBaseType.edge,a=o.browserName.safari,s=this.pc;if(s){if("closed"===s.iceConnectionState)return void this.stopStatsPolling();try{this.isTemaSys()?this.getStatsTemasys(e,t):this.codeBase===n?this.getStatsFirefox(e,t):this.browserName===a?this.getStatsSafari(e,t):this.codeBase===r?this.getStatsChrome(e,t):this.codeBase===i&&this.getStatsEdge(e,t)}catch(e){l.log("csioGetStats: Error ",e)}}}},{key:"getStatsTemasys",value:function(e,t){this.pc.getStats(null,function(n){e(n,t)},function(e){l.log("getStatsTemasys error",e)})}},{key:"getStatsFirefox",value:function(e,t){var n=this,r=this.pc;if(n.isPromiseBased)try{r.getStats().then(function(n){e(n,t)}).catch(function(i){console.log("getstats error ",i),n.isPromiseBased=!1,r.getStats(null,function(n){e(n,t)})})}catch(i){n.isPromiseBased=!1,n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Firefox getStats reports error ",error:i.message+":"+i.stack}),r.getStats(null,function(n){e(n,t)})}else r.getStats(null,function(n){e(n,t)})}},{key:"getStatsChrome",value:function(e,t){var n=this,r=this,i=r.pc;if(window&&window.csioReactNative)i.getStats().then(function(n){e(n,t)}).catch(function(e){l.error("Chrome getStats Error [react-native]",e)});else if(r.isPromiseBased)try{i.getStats().then(function(r){u.collectLegacyStats?n.getLegacyStatsChrome().then(function(n){e(r,t,n)}):e(r,t)}).catch(function(n){l.log("Chrome getStats Error ",n),r.isPromiseBased=!1,r.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})})}catch(n){r.isPromiseBased=!1,r.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Chrome getStats reports error",error:n.message+":"+n.stack}),i.getStats(function(n){e(n,t)})}else i.getStats(function(n){e(n,t)})}},{key:"getLegacyStatsChrome",value:function(){var e=this.pc;return new Promise(function(t,n){e.getStats(function(e){for(var n=[],r=e.result(),i=0;i<r.length;++i){var a=r[i];"ssrc"!==a.type&&"VideoBwe"!==a.type||n.push(a)}t(n)})})}},{key:"getStatsEdge",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(r){e({},t),r?n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Edge getStats reports error",error:r.message+":"+r.stack}):n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Edge getStats reports error"})})}},{key:"getStatsSafari",value:function(e,t){var n=this;n.pc.getStats().then(function(n){e(n,t)}).catch(function(e){n.genericevent.sendEvent(o.logEvents.getStatsError,{msg:"Safari getStats reports error",error:e.message+":"+e.stack})})}},{key:"statsHandler",value:function(e,t,n){var r=c.Registry.getStatsAdapter();if(e&&r)try{r.transmit(s.StatsAdapterIO.RawStatsIn,e,t,n)}catch(e){l.log("statsHandler: Error ",e),c.Registry.getGenericEventHandler().sendEvent(o.logEvents.error,{msg:"statsHandler: Error",error:e.message+":"+e.stack})}}},{key:"iceCandidatesHandler",value:function(e,t){t(c.Registry.getStatsAdapter().getIceCandidates(e))}},{key:"getIceCandidates",value:function(){var e=this;return new Promise(function(t,n){e.csioGetStats(e.iceCandidatesHandler,function(e){t(e)})})}},{key:"isTemaSys",value:function(){return!!(window&&window.AdapterJS&&window.AdapterJS.WebRTCPlugin&&window.AdapterJS.WebRTCPlugin.plugin)}}]),e})();n.GetStatsHandler=d},{"../config/constants":36,"../config/settings":37,"../statspipeline/statsadapter":85,"../utility/csiologger":105,"../utility/registry":114}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PcCallbackHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("../utility/registry"),c=r(e("../utility/timestamps")),u=r(e("../config/callstatserrors")),l=r(e("../utility/csiologger")),d=(function(){function e(t,n,r,a,u,d){var f=this;if(i(this,e),n){if(this.conferenceId=t,this.pc=n,this.getStatsHandler=r,this.userAlive=a,this.callback=d,this.remoteId=u,this.clocksync=s.Registry.getClockSync(),this.emb=s.Registry.getEventMessageBuilder(),this.precalltest=s.Registry.getPreCallTest(),this.genericevent=s.Registry.getGenericEventHandler(),this.iceCandidates=[],this.iceConnectionState=n.iceConnectionState,this.iceGatheringState=n.iceGatheringState,this.signalingState=n.signalingState,this.oldIceConnectionState="",this.oldIceGatheringState="",this.iceConnectionStateTS="",this.negotiationNeeded=0,this.pcState=o.fabricState.initializing,this.disruptedTS=0,this.connectionDisruptedTS=0,this.startTime=c.getCurrent(),this.established=!1,this.activeIceCandidatePair=null,this.prevActiveIceCandidatePair=null,this.localIceCandidates=[],this.remoteIceCandidates=[],this.iceCandidatePairs=[],this.iceConnectivityDelay=0,this.iceGatheringDelay=0,this.fabricSetupSent=!1,this.pcMonitoringTimer=null,this.pc&&this.pc.addEventListener?(this.pc.addEventListener("icecandidate",this.iceCandidateCallback.bind(this),!1),this.pc.addEventListener("iceconnectionstatechange",this.handleIceState.bind(this),!1),this.pc.addEventListener("signalingstatechange",this.handleSignallingState.bind(this),!1),this.pc.addEventListener("negotiationneeded",this.pcNegotiationNeededCallback.bind(this),!1)):this.pc&&this.pc.attachEvent?(l.info("attachEvent"),this.pc.attachEvent("onicecandidate",this.iceCandidateCallback.bind(this)),this.pc.attachEvent("oniceconnectionstatechange",this.handleIceState.bind(this)),this.pc.attachEvent("onsignalingstatechange",this.handleSignallingState.bind(this)),this.pc.attachEvent("onnegotiationneeded",this.pcNegotiationNeededCallback.bind(this))):l.error("callstats cannot monitor or collect stats"),n.getConfiguration){var h=n.getConfiguration();h&&(this.iceServersURLs=this.getIceServerURLs(h.iceServers),this.sdpSemantics=h.sdpSemantics)}!n||"connected"!==n.iceConnectionState&&"completed"!==n.iceConnectionState||(this.pcState=o.fabricState.established,this.getStatsHandler.getIceCandidates().then(function(e){f.localIceCandidates=e.localIceCandidates,f.remoteIceCandidates=e.remoteIceCandidates,f.iceCandidatePairs=e.iceCandidatePairs,f.prevActiveIceCandidatePair=f.activeIceCandidatePair,f.activeIceCandidatePair=f.getActiveIceCandidatePair(),f.sendfabricSetup(),f.startStatsPolling()})),this.startPCStateMonitoring()}}return a(e,[{key:"getPcState",value:function(){return this.pc||(this.pcState=o.fabricState.terminated),"closed"===this.pc.iceConnectionState&&(this.pcState=o.fabricState.terminated),this.pcState}},{key:"checkPCStates",value:function(){this.pc||this.stopPCStateMonitoring(),this.handleIceState(),this.handleSignallingState()}},{key:"startPCStateMonitoring",value:function(){var e=this;this.pcMonitoringTimer||(this.pcMonitoringTimer=setInterval(function(){e.checkPCStates()},1e3))}},{key:"stopPCStateMonitoring",value:function(){this.pcMonitoringTimer&&(clearInterval(this.pcMonitoringTimer),this.pcMonitoringTimer=null)}},{key:"getIceServerURLs",value:function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];if(r&&r.urls)for(var i=0;i<r.urls.length;i++)t.push(r.urls[i])}return t}},{key:"iceCandidateCallback",value:function(e){if(e&&e.candidate&&e.candidate.candidate){var t=e.candidate.candidate.split(" ");if("0"!==t[4]&&"0"!==t[5]){var n=!!t[4]&&-1!==t[4].indexOf(":"),r="1"===t[1]?"rtp":"rtcp",i={transport:t[2],protocol:r,typePreference:t[3],address:n?"["+t[4]+"]:"+t[5]:t[4]+":"+t[5],type:t[7],media:e.candidate.sdpMid};-1===this.iceCandidates.indexOf(i)&&(this.iceCandidates.push(i),l.warn("CALLBACK: ICE candidate",i))}}}},{key:"sendFabricStateChange",value:function(e){this.emb.make(o.internalFabricEvent.fabricStateChange,this.conferenceId,this.pc,e)}},{key:"handleIceState",value:function(){var e=this;if(this.handleIceGatheringState(),this.handleIceConnectionState()){this.iceConnectionStateTS=this.clocksync.getSynchronizedTimestamp(),"complete"===this.iceGatheringState&&"checking"===this.iceConnectionState&&this.handleIceChecking();var t={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState},n=this.iceConnectionState;this.getStatsHandler.getIceCandidates().then(function(r){e.localIceCandidates=r.localIceCandidates,e.remoteIceCandidates=r.remoteIceCandidates,e.iceCandidatePairs=r.iceCandidatePairs,e.prevActiveIceCandidatePair=e.activeIceCandidatePair,e.activeIceCandidatePair=e.getActiveIceCandidatePair(),"connected"===n||"completed"===n?e.handleIceConnectedOrCompleted(t):"failed"===n?e.handleIceFailed(t):"disconnected"===n?e.handleIceDisconnected(t):"closed"===n?e.handleIceClosed(t):"new"===n&&e.handleIceRestart(t)})}}},{key:"handleIceConnectionState",value:function(){if(this.pc&&this.iceConnectionState===this.pc.iceConnectionState)return!1;this.oldIceConnectionState=this.iceConnectionState,this.iceConnectionState=this.pc.iceConnectionState,l.warn("CALLBACK: ICE connection state change",this.oldIceConnectionState,"->",this.iceConnectionState);var e={changedState:o.fabricStateChangeType.iceConnectionState,prevState:this.oldIceConnectionState,newState:this.iceConnectionState};return this.sendFabricStateChange(e),!0}},{key:"handleIceGatheringState",value:function(){if("closed"!==this.pc.iceConnectionState&&"closed"!==this.pc.signalingState&&(!this.pc||this.iceGatheringState!==this.pc.iceGatheringState)){"complete"===this.pc.iceGatheringState&&(this.iceGatheringDelay=c.getCurrent()-this.startTime),this.oldIceGatheringState=this.iceGatheringState,this.iceGatheringState=this.pc.iceGatheringState,l.warn("CALLBACK: ICE gathering state change",this.oldIceGatheringState,"->",this.iceGatheringState);var e={changedState:o.fabricStateChangeType.iceGatheringState,prevState:this.oldIceGatheringState,newState:this.iceGatheringState};this.sendFabricStateChange(e)}}},{key:"handleIceChecking",value:function(){var e=c.getCurrent();if("disconnected"===this.oldIceConnectionState&&(this.pcState===o.fabricState.checkingDisrupted||this.pcState===o.fabricState.disrupted)){var t={prevIceConnectionState:this.oldIceConnectionState,currIceConnectionState:this.iceConnectionState,delay:e-this.connectionDisruptedTS};this.pcState===o.fabricState.disrupted&&(t.prevIceCandidatePair=this.prevActiveIceCandidatePair,t.currIceCandidatePair=this.activeIceCandidatePair,t.delay=e-this.disruptedTS,this.emb.make(o.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,t)),this.pcState=o.fabricState.initializing,this.emb.make(o.internalFabricEvent.iceConnectionDisruptionEnd,this.conferenceId,this.pc,t)}}},{key:"handleIceConnectedOrCompleted",value:function(e){var t=c.getCurrent();this.pcState===o.fabricState.disrupted&&(e.prevIceCandidatePair=this.prevActiveIceCandidatePair,e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=t-this.disruptedTS,this.emb.make(o.internalFabricEvent.iceDisruptionEnd,this.conferenceId,this.pc,e)),this.iceConnectivityDelay=t-this.startTime,this.established=!0,this.pcState=o.fabricState.established,this.sendfabricSetup(),this.startStatsPolling()}},{key:"sendfabricSetup",value:function(){if(this.fabricSetupSent)l.log("fabricSetup has been sent already");else{var e={delay:c.getCurrent()-this.startTime,iceGatheringDelay:this.iceGatheringDelay,iceConnectivityDelay:this.iceConnectivityDelay,localIceCandidates:this.localIceCandidates,remoteIceCandidates:this.remoteIceCandidates,iceCandidatePairs:this.iceCandidatePairs,remoteEndpointType:o.endpointType.peer,fabricTransmissionDirection:o.transmissionDirection.sendrecv,iceServers:this.iceServersURLs,sdpSemantics:this.sdpSemantics},t=this.getActiveIceCandidatePair();t&&(e.selectedCandidatePairID=t.id),this.fabricSetupSent=!0;var n=void 0;if(this.conferenceId){var r=s.Registry.getConferenceManager().get(this.conferenceId);r&&r.getPeerConnectionManager()&&(n=r.getPeerConnectionManager().getPcHandler(this.pc),e.remoteEndpointType=n.getRemoteEndpointType(),e.fabricTransmissionDirection=n.getFabricTransmissionDirection())}this.pcState=o.fabricState.established,this.emb.make(o.internalFabricEvent.fabricSetup,this.conferenceId,this.pc,e)}}},{key:"isFabricSetupSent",value:function(){return this.fabricSetupSent}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"handleIceFailed",value:function(e){e.currIceCandidatePair=this.activeIceCandidatePair,e.delay=c.getCurrent()-this.startTime,this.pcState=o.fabricState.failed,"checking"===e.prevIceConnectionState?this.sendIceFailed(e):"completed"===e.prevIceConnectionState||"connected"===e.prevIceConnectionState?this.emb.make(o.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.established?this.emb.make(o.internalFabricEvent.fabricDropped,this.conferenceId,this.pc,e):"disconnected"===e.prevIceConnectionState&&this.sendIceFailed(e)}},{key:"getActiveIceCandidatePair",value:function(){var e=null,t=this.iceCandidatePairs;if(t&&t.length>0){var n=t.filter(function(e){return"true"===e.selected||"true"===e.googActiveConnection||!0===e.selected||!0===e.googActiveConnection});n.length>0&&(e=n[0])}return e}},{key:"sendIceFailed",value:function(e){e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,l.log("sending icefailed ",e),this.emb.make(o.internalFabricEvent.iceFailed,this.conferenceId,this.pc,e)}},{key:"sendFabricTransportSwitch",value:function(e){var t=this,n={};n.prevIceCandidatePair=t.activeIceCandidatePair,n.relayType=e,n.currIceConnectionState=t.iceConnectionState,n.prevIceConnectionState=t.oldIceConnectionState,n.switchDelay=null,t.getStatsHandler.getIceCandidates().then(function(e){t.localIceCandidates=e.localIceCandidates,t.remoteIceCandidates=e.remoteIceCandidates,t.iceCandidatePairs=e.iceCandidatePairs,t.activeIceCandidatePair=t.getActiveIceCandidatePair(),n.currIceCandidatePair=t.activeIceCandidatePair,n.localIceCandidates=t.localIceCandidates,n.remoteIceCandidates=t.remoteIceCandidates,l.log("sending fabric transport switch ",n),"completed"!==n.currIceConnectionState&&"connected"!==n.currIceConnectionState||"completed"!==n.prevIceConnectionState&&"connected"!==n.prevIceConnectionState||t.emb.make(o.internalFabricEvent.fabricTransportSwitch,t.conferenceId,t.pc,n)})}},{key:"handleIceDisconnected",value:function(e){var t=c.getCurrent();this.startTime=t,e.prevIceConnectionStateTs=this.iceConnectionStateTS,e.currIceCandidatePair=this.activeIceCandidatePair,"connected"===e.prevIceConnectionState||"completed"===e.prevIceConnectionState?(this.pcState=o.fabricState.disrupted,this.disruptedTS=t,this.emb.make(o.internalFabricEvent.iceDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed.")):"checking"===e.prevIceConnectionState&&(this.pcState=o.fabricState.checkingDisrupted,this.connectionDisruptedTS=t,this.emb.make(o.internalFabricEvent.iceConnectionDisruptionStart,this.conferenceId,this.pc,e),this.callback&&this.callback(u.csError.appConnectivityError,"Connectivity check for PC object to "+this.remoteId+" failed."))}},{key:"handleIceClosed",value:function(e){"new"===e.prevIceConnectionState||"checking"===e.prevIceConnectionState?(e.delay=c.getCurrent()-this.startTime,e.localIceCandidates=this.localIceCandidates,e.remoteIceCandidates=this.remoteIceCandidates,e.iceCandidatePairs=this.iceCandidatePairs,this.emb.make(o.internalFabricEvent.iceAborted,this.conferenceId,this.pc,e)):"connected"!==e.prevIceConnectionState&&"completed"!==e.prevIceConnectionState||(e.prevIceCandidatePair=this.activeIceCandidatePair,this.emb.make(o.internalFabricEvent.iceTerminated,this.conferenceId,this.pc,e)),this.pcState=o.fabricState.terminated,this.conferenceId&&s.Registry.getConferenceManager().get(this.conferenceId).updateState(),this.stopStatsPolling()}},{key:"handleIceRestart",value:function(e){e.prevIceCandidatePair=this.prevActiveIceCandidatePair,"new"!==e.prevIceConnectionState&&(l.log("iceRestarted sending"),this.established=!1,this.emb.make(o.internalFabricEvent.iceRestarted,this.conferenceId,this.pc,e))}},{key:"handleSignallingState",value:function(){var e=this;if(this.signalingState!==this.pc.signalingState){var t=this.signalingState;this.signalingState=this.pc.signalingState,l.warn("CALLBACK: signaling state change",t,"->",this.signalingState);var n={changedState:o.fabricStateChangeType.signalingState,prevState:t,newState:this.signalingState};if(this.sendFabricStateChange(n),"have-remote-offer"!==this.signalingState&&"stable"!==this.signalingState||(this.precalltest.callStarts(),s.Registry.getPCTRunnerService().setCallInProgress(!0),this.genericevent.sendEvent(o.logEvents.log,{msg:"precalltest told to stop "})),"closed"===this.signalingState&&(this.emb.make(o.fabricEvent.fabricTerminated,this.conferenceId,this.pc),this.userAlive.stop(),this.precalltest.callFinished(),s.Registry.getPCTRunnerService().setCallInProgress(!1),this.stopStatsPolling(),this.stopPCStateMonitoring(),this.pcState=o.fabricState.terminated,this.conferenceId)){var r=s.Registry.getConferenceManager().get(this.conferenceId);if(r&&r.getPeerConnectionManager()){var i=r.getPeerConnectionManager().getPcHandler(this.pc);r.getPeerConnectionManager().removePcStats(i&&i.getPcHash())}r.updateState()}"have-local-offer"!==this.signalingState&&"have-local-pranswer"!==this.signalingState&&"stable"!==this.signalingState||(l.log(this.signalingState,".. requesting sender config."),s.Registry.getConfigServiceWrapper().initiateSenderConfig(this.pc).then(function(){var t=s.Registry.getConfigServiceWrapper().getSenderConfig();l.log("Sender config:",t);var n=o.callstatsChannels.senderConfiguration;t&&s.Registry.getEventMessageBuilder().make(n,e.conferenceId,e.pc,t)}).catch(function(e){l.warn(e)}))}}},{key:"pcNegotiationNeededCallback",value:function(e){e&&(this.negotiationNeeded++,this.startTime=c.getCurrent(),l.warn("CALLBACK: negotiation needed",this.negotiationNeeded))}}]),e})();n.PcCallbackHandler=d},{"../config/callstatserrors":35,"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114,"../utility/timestamps":118}],43:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/registry"),s=e("../peerconnection/pccallbackhandler"),c=e("../browserapi/devices"),u=e("./useralivehandler"),l=e("./getstatshandler"),d=r(e("../config/constants")),f=r(e("../utility/timestamps")),h=r(e("../utility/csiologger")),p=(function(){function e(t){i(this,e),this.pc=t.pc,this.remoteId=t.remoteId,this.fabricUsage=t.fabricUsage,this.callback=t.callback,this.conferenceId=t.conferenceId,this.remoteEndpointType=t.remoteEndpointType,this.fabricTransmissionDirection=t.fabricTransmissionDirection,this.clocksync=o.Registry.getClockSync(),this.startTime=this.clocksync.getSynchronizedTimestamp(),this.credentials=o.Registry.getCredentials(),this.pcHash=this.generatePcHash(),this.ssrcMap=new Map,this.localSdp=null,this.remoteSdp=null,this.transportInfo=null,this.userAliveHandler=new u.UserAliveHandler(this.conferenceId,this.pc),this.userAliveHandler.start(),this.emb=o.Registry.getEventMessageBuilder(),this.devices=new c.Devices(this.conferenceId,this.pc);var n=o.Registry.getEndpoint();this.getStatsHandler=new l.GetStatsHandler(this.pc,this.pcHash,t.interval,n.getCodeBase(),n.getBrowserName()),this.pcCallbackHandler=new s.PcCallbackHandler(this.conferenceId,this.pc,this.getStatsHandler,this.userAliveHandler,this.remoteId,this.callback),this.devices.collectConnected(),this.fabricTransmissionDirection||(this.fabricTransmissionDirection="sendrecv"),this.remoteEndpointType||(this.remoteEndpointType="peer")}return a(e,[{key:"getFabricTransmissionDirection",value:function(){return this.fabricTransmissionDirection}},{key:"getRemoteEndpointType",value:function(){return this.remoteEndpointType}},{key:"stopUserAliveHandler",value:function(){this.userAliveHandler.stop()}},{key:"getPcState",value:function(){return this.pcCallbackHandler.getPcState()}},{key:"stopStatsPolling",value:function(){this.getStatsHandler.stopStatsPolling()}},{key:"stopPCStateMonitoring",value:function(){this.pcCallbackHandler.stopPCStateMonitoring()}},{key:"startStatsPolling",value:function(){this.getStatsHandler.startStatsPolling()}},{key:"setPcState",value:function(e){e in d.fabricState?this.pcCallbackHandler.pcState=e:h.error("setPcState: Invalid state")}},{key:"getAppId",value:function(){return this.credentials.getAppId()}},{key:"getLocalId",value:function(){return this.credentials.getUserId()}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getPeerConnection",value:function(){return this.pc}},{key:"getRemoteId",value:function(){return this.remoteId}},{key:"isFabricSetupSent",value:function(){return this.pcCallbackHandler.isFabricSetupSent()}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getCallback",value:function(){return this.callback}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getIceCandidates",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceCandidates:null}},{key:"getIceConnectionState",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.iceConnectionState:null}},{key:"getNegotiationsNumber",value:function(){return this.pcCallbackHandler?this.pcCallbackHandler.negotiationNeeded:0}},{key:"sendFabricTransportSwitch",value:function(e){this.pcCallbackHandler&&this.pcCallbackHandler.sendFabricTransportSwitch(e)}},{key:"getSdp",value:function(){return{localSdp:this.localSdp,remoteSdp:this.remoteSdp}}},{key:"setSdp",value:function(e,t){this.localSdp=e,this.remoteSdp=t}},{key:"generatePcHash",value:function(){var e=(Math.random()+1).toString(36);return e.substring(2,e.length)}},{key:"getTransportInfo",value:function(){return this.transportInfo}},{key:"setTransportInfo",value:function(e){this.transportInfo=e}},{key:"updateSDP",value:function(e){var t=this,n=void 0,r=void 0;if(this.pc&&this.pc.localDescription&&(n=this.pc.localDescription.sdp),this.pc&&this.pc.remoteDescription&&(r=this.pc.remoteDescription.sdp),n&&r&&(n!==this.localSdp||r!==this.remoteSdp)){this.parseSDP(n,d.streamType.outbound),this.parseSDP(r,d.streamType.inbound);var i={localSDP:n!==this.localSdp?n:"",remoteSDP:r!==this.remoteSdp?r:""};""===n&&""===remoteSDP||!o.Registry.getCredentials().getCollectSDP()||this.emb.make(d.internalFabricEvent.sdpSubmission,this.conferenceId,this.pc,i),e&&e.forEach(function(e){var n=String(e.data.ssrc),r=t.ssrcMap.get(n);r||(r={}),r.mediaType=e.data.mediaType,r.reportType=e.reportType,r.ssrc=n,t.ssrcMap.set(n,r)});var a=[];this.ssrcMap.forEach(function(e,t){e.msid&&e.mslabel&&e.label&&a.push(e)});for(var s={ssrcData:a},c=0;c<s.ssrcData.length;c+=1)s.ssrcData[c].userID=o.Registry.getCredentials().getUserId();this.emb.make(d.internalFabricEvent.ssrcMap,this.conferenceId,this.pc,s),this.setSdp(n,r)}}},{key:"parseSDP",value:function(e,t){var n=this,r=RegExp.prototype.test.bind(/^([a-z])=(.*)/),i=/^ssrc:(\d*) ([\w_]*):(.*)/,a=/^ssrc-group:SIM (\d*)/;e.split(/(\r\n|\r|\n)/).filter(r).forEach(function(e){var r=e[0],o=e.slice(2);if("a"===r&&i.test(o)){var s=o.match(i),c=s[1],u=s[2],l=s[3],d=n.ssrcMap.get(c);if(d||(d={}),d.ssrc=c,d[u]=l,d.localStartTime=f.getCurrent(),d.syncedStartTime=n.clocksync.getSynchronizedTimestamp(),d.streamType=t,!a.test(o))return void n.ssrcMap.set(c,d);d.ssrcGroup={},d.ssrcGroup[t]={},d.ssrcGroup[t].simulcastGroup=o.match(/\d+/g),n.ssrcMap.set(c,d)}})}},{key:"getSSRCInfo",value:function(e){return this.ssrcMap.get(e)}},{key:"setupVideoTagMethods",value:function(e,t){var n=this,r=document.getElementById(e);if(r){r.addEventListener&&(r.addEventListener("canplay",function(){var e={ssrc:String(t),highResTs:o.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(d.internalFabricEvent.mediaPlaybackStart,n.conferenceId,n.pc,e)}),r.addEventListener("suspend",function(){var e={ssrc:String(t),highResTs:o.Registry.getClockSync().getSynchronizedTimestamp()};n.emb.make(d.internalFabricEvent.mediaPlaybackSuspended,n.conferenceId,n.pc,e)}))}}},{key:"updateSSRCInfo",value:function(e,t,n,r){var i=this.ssrcMap.get(e);i||(i={}),i.ssrc=e,i.remoteUserID=t,i.usageLabel=n,i.associatedVideoTag=r,this.ssrcMap.set(e,i),r&&t!==this.credentials.getUserId()&&this.setupVideoTagMethods(r,e)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e,this.userAliveHandler.updateConferenceId(e)}},{key:"updateRemoteId",value:function(e){this.remoteId=e}}],[{key:"Builder",get:function(){return(function(){function t(){i(this,t)}return a(t,[{key:"withPc",value:function(e){return this.pc=e,this}},{key:"withInterval",value:function(e){return this.interval=e,this}},{key:"withRemoteId",value:function(e){return this.remoteId=e,this}},{key:"withFabricUsage",value:function(e){return this.fabricUsage=e,this}},{key:"withConferenceId",value:function(e){return this.conferenceId=e,this}},{key:"withRemoteEndpointType",value:function(e){return this.remoteEndpointType=e,this}},{key:"withFabricTransmissionDirection",value:function(e){return this.fabricTransmissionDirection=e,this}},{key:"withCallback",value:function(e){return this.callback=e,this}},{key:"make",value:function(){return new e(this)}}]),t})()}}]),e})();n.PeerConnectionHandler=p},{"../browserapi/devices":19,"../config/constants":36,"../peerconnection/pccallbackhandler":42,"../utility/csiologger":105,"../utility/registry":114,"../utility/timestamps":118,"./getstatshandler":41,"./useralivehandler":45}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PeerConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./peerconnectionhandler"),o=e("../utility/registry"),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=(function(){function e(){r(this,e),this.pcHandlers=new Map}return i(e,[{key:"removePcHandler",value:function(e){var t=this.getPcHandler(e);if(t){var n=t.getPcHash();this.pcHandlers.delete(n)}}},{key:"removePcStats",value:function(e){e&&o.Registry.getStatsMonitor().delete(e)}},{key:"addPcHandler",value:function(e,t,n,r,i,s,c){if(!this.getPcHandler(e)){var u=5e3;o.Registry.getCredentials().isAdaptiveStatsEnabled()&&(u=1e3);var l=(new a.PeerConnectionHandler.Builder).withPc(e).withRemoteId(t).withFabricUsage(n).withConferenceId(r).withRemoteEndpointType(i).withFabricTransmissionDirection(s).withCallback(c).withInterval(u).make();this.pcHandlers.set(l.getPcHash(),l)}}},{key:"getPcHandler",value:function(e){var t=null;return e?(this.pcHandlers.forEach(function(n,r){n&&n.getPeerConnection()===e&&(t=n)}),t):t}},{key:"getPcHandlerByHash",value:function(e){return e&&this.pcHandlers.has(e)?this.pcHandlers.get(e):null}},{key:"getPeerConnectionStatus",value:function(){return this.pcHandlers.forEach(function(e,t){if(e.getPcState()!==s.fabricState.terminated)return e.getPcState()}),s.fabricState.terminated}},{key:"updateConferenceId",value:function(e){this.pcHandlers.forEach(function(t,n){t.updateConferenceId(e)})}}]),e})();n.PeerConnectionManager=c},{"../config/constants":36,"../utility/registry":114,"./peerconnectionhandler":43}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.UserAliveHandler=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),c=e("../utility/timeoutprocess"),u=e("../utility/registry"),l=1e4,d=(function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,l));return a.emb=u.Registry.getEventMessageBuilder(),a.pc=n,a.conferenceId=e,a.setCallback(a.send),a}return a(t,c.TimeoutProcess),o(t,[{key:"send",value:function(){this.conferenceId!==s.tmpConferenceId&&this.pc&&this.emb.make(s.internalFabricEvent.userAlive,this.conferenceId,this.pc)}},{key:"updateConferenceId",value:function(e){this.conferenceId=e}}]),t})();n.UserAliveHandler=d},{"../config/constants":36,"../utility/registry":114,"../utility/timeoutprocess":117}],46:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Authenticator=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=e("./jwt/jwt"),d=e("./jwt/jwttoken"),f=r(e("../config/settings")),h=r(e("../utility/base64")),p=r(e("../config/callstatserrors")),v=r(e("../config/constants")),g=r(e("../browserapi/localstorage")),y=r(e("../utility/json")),m=e("./xmlhttp"),b=e("./xmlhttpservice"),S=e("../utility/registry"),k=r(e("../utility/csiologger")),w=f.authRetryTimeout,C=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Authenticator"));return e.clockSync=S.Registry.getClockSync(),e.credentials=S.Registry.getCredentials(),e.generateTurnCredentials=!1,e}return o(t,b.XMLHttpService),c(t,[{key:"initiate",value:function(e,n,r,i){var a=this;return this.inProgress?(i&&i(p.csError.authOngoing,null),new Promise(function(e,t){t(new Error(a.name+": in progress"))})):e&&r?(this.appId=e,"object"===(void 0===r?"undefined":s(r))?this.userId=r.aliasName:this.userId=r,this.initCallback=i,"function"==typeof n?(this.setTokenGenerator(n),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)):new Promise(function(e,r){a.createTokenGenerator(n).then(function(n){a.setTokenGenerator(n),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",a).call(a).then(function(){e()},function(e){r(e)})},function(e){i&&i(p.csError.authError,e.toString()),r(new Error(a.name+": tokenGenerator creation problem ("+e+")"))})})):new Promise(function(e,t){t(new Error(a.name+": Empty credentials"))})}},{key:"setGenerateTurnCredentials",value:function(e){this.generateTurnCredentials=e}},{key:"getToken",value:function(){var e=null;return this.token&&(e=this.token.getToken()),e}},{key:"getTaasEnabled",value:function(){var e=!1;return this.token&&(e=this.token.getTaasEnabled()),e}},{key:"isTokenValid",value:function(){return!!this.token&&this.token.isValid(this.credentials)}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"getIceServers",value:function(){return this.iceServers}},{key:"getTurnServers",value:function(){return this.turnServers}},{key:"reset",value:function(){this.token=null,this.reauthTimer=null,this.renew=!1,this.credentials=null,this.jwt=new l.Jwt,this.tokenGenerator=function(e,t){t("Token generator is not set")},this.elapsed=0,this.iceServers=null,this.turnServers=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"setupToken",value:function(e){g.store("csio_auth_data",JSON.stringify(e)),this.token=new d.JwtToken(e,this.clockSync)}},{key:"clearReauthTimer",value:function(){null!==this.reauthTimer&&(clearTimeout(this.reauthTimer),this.reauthTimer=null)}},{key:"setupReauthTimer",value:function(e){var t=this;t.clearReauthTimer(),t.reauthTimer=setTimeout(function(){t.reAuthenticate()},e)}},{key:"reAuthenticate",value:function(){this.inProgress||(this.inProgress=!0,this.token=null,this.sendRequest())}},{key:"handleErrorActions",value:function(e){if(0!==e.length){var t=e.shift();if(t.action===p.authErrorActions.RETRY){var n=t.params.timeout?t.params.timeout:f.authRetryTimeout;this.setupReauthTimer(n),this.handleErrorActions(e)}t.action===p.authErrorActions.GET_NEW_TOKEN&&(this.renew=!0,this.handleErrorActions(e)),t.action===p.authErrorActions.REPORT_ERROR&&(k.error(this.name+": "+t.params.errorReason),this.initCallback&&this.initCallback(p.csError.authError,this.name+": "+t.params.errorReason),this.handleErrorActions(e))}}},{key:"setTokenGenerator",value:function(e){this.tokenGenerator=e}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=y.parse(t.response);if(!r)return k.error(this.name+": invalid authentication response"),void this.sendNextRequest();if(r["urn:x-callstats:auth:errorActions"]&&r["urn:x-callstats:auth:errorActions"].length>0)this.handleErrorActions(r["urn:x-callstats:auth:errorActions"]);else{if(200===t.status){if("bearer"!==r.token_type)return k.error(this.name+": successful, but token type was not bearer. Scheduling retry."),void this.sendNextRequest();this.setupToken(r.access_token),r.iceServers&&(this.iceServers=r.iceServers),r.turnServers&&(this.turnServers=r.turnServers),r.metadata&&r.metadata.urls&&!window.csioproxy&&(this.backendURLs=r.metadata.urls,this.backendURLs.events&&f.setRestEventUrl(this.backendURLs.events+"/"),this.backendURLs.stats&&f.setRestStatsUrl(this.backendURLs.stats+"/"),this.backendURLs.config&&f.setConfigServiceUrl(this.backendURLs.config+"/"));var i=parseInt(1e3*parseInt(r.expires_in)*.9);return this.setupReauthTimer(i),this.renew=!1,this.initCallback&&this.initCallback(p.csError.success,v.csCallBackMessages.authSuccessful),this.elapsed=n,void this.completeProcess()}k.error("Authentication failed, but no error actions were defined in response."),this.sendNextRequest()}}},{key:"request",value:function(){var e=this;this.clearReauthTimer();var t=new Promise(function(t,n){e.tempResolve=t,e.tempReject=n});return this.tokenGenerator(this.renew,function(t,n){if(null!==t)return e.initCallback&&e.initCallback(p.csError.tokenGenerationError,t.toString()),e.rejectCb(new Error(e.name+": tokenGenerationError")),k.error("tokenGenerationError ",t),null;var r=f.authServiceUrl+"authenticate",i={client_id:e.userId+"@"+e.appId,code:n,grant_type:"authorization_code"};(0,m.sendPostRequest)(r,{"Content-Type":"application/x-www-form-urlencoded"},w,i).then(function(t){e.tempResolve(t)},function(t){e.tempReject(t)})}),t}},{key:"tokenGeneratorCreator",value:function(e,t){var n=this;return function(r,i){var a=null;if(!r&&null!==a)return i(null,a);var o={userID:n.userId,appID:n.appId,generateTurnCredentials:n.generateTurnCredentials};t&&(o.keyId=t),n.jwt.sign({alg:"HS256"},o,e).then(function(e){a=e,i(null,e)}).catch(function(e){i(e)})}}},{key:"createTokenGenerator",value:function(e){var t=this;return new Promise(function(n,r){var i=null;e.indexOf(":")>-1&&(i=h.strtohex(e.split(":")[0]),e=e.split(":")[1]),t.jwt.importKey(e).then(function(r){e=null;var a=t.tokenGeneratorCreator(r,i);n(a)}).catch(function(e){k.error(t.name+": could not import key ("+e+")"),r(e)})})}}]),t})();n.Authenticator=C},{"../browserapi/localstorage":20,"../config/callstatserrors":35,"../config/constants":36,"../config/settings":37,"../utility/base64":102,"../utility/csiologger":105,"../utility/json":111,"../utility/registry":114,"./jwt/jwt":54,"./jwt/jwttoken":55,"./xmlhttp":61,"./xmlhttpservice":62}],47:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GenericEventHandler=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/settings")),s=e("./xmlhttp"),c=e("../utility/registry"),u=r(e("../utility/csiologger")),l=(function(){function e(){i(this,e),this.credentials=c.Registry.getCredentials(),this.enabled=!1}return a(e,[{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"sendEvent",value:function(e,t){this.send(e,t).then(function(e){u.log("Got generic response: %o",e)}).catch(function(e){u.log("Got error for generic request",e)})}},{key:"send",value:function(e,t){if(!this.enabled)return new Promise(function(e,t){t(new Error("GenericEvent Error: not enabled"))});var n=this;return new Promise(function(r,i){var a={appID:n.credentials.appId,userID:encodeURIComponent(n.credentials.userId),version:o.version,eventType:e,data:t},c=o.baseUrl+"generics";(0,s.sendPostRequest)(c,{"Content-Type":"application/json"},5e3,a).then(function(e){r(e.getXhr().response)},function(e){i(e)})})}}]),e})();n.GenericEventHandler=l},{"../config/settings":37,"../utility/csiologger":105,"../utility/registry":114,"./xmlhttp":61}],48:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ClockSync=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},u=r(e("../config/settings")),l=e("./xmlhttp"),d=r(e("../utility/timestamps")),f=e("./xmlhttpservice"),h=e("../utility/registry"),p=r(e("../config/constants")),v=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ClockSync"));return e.currentOffset=0,e.completed=!1,e}return o(t,f.XMLHttpService),s(t,[{key:"initiate",value:function(){return this.startTime=d.getCurrent(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this)}},{key:"getSynchronizedTimestamp",value:function(){return d.getCurrent()+this.currentOffset}},{key:"getElapsed",value:function(){return this.isCompleted()?this.endTime-this.startTime:null}},{key:"getOffset",value:function(){return this.currentOffset}},{key:"reset",value:function(){this.currentOffset=0,this.offsetResults=[],this.startTime=0,this.endTime=0,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e=u.baseUrl+"clockSync";return(0,l.sendGetRequest)(e,null,5e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed(),r=JSON.parse(t.response),i=d.getCurrent();this.handleMessage(r,n,i)}},{key:"handleMessage",value:function(e,t,n){var r=t/2;r>6e4?(h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"latency > MAX_ALLOWED_LATENCY: clockSync reset"}),this.offsetResults=[]):this.addOffset(e,r,n),this.offsetResults.length>=5?(this.calculateOffset(),this.endTime=d.getCurrent(),this.completeProcess()):this.sendRequest()}},{key:"isCompleted",value:function(){return this.completed}},{key:"addOffset",value:function(e,t,n){var r=e.now+t-n;this.offsetResults.push(r)}},{key:"calculateOffset",value:function(){var e=this.offsetResults.reduce(function(e,t){return e+t});this.currentOffset=e/this.offsetResults.length,this.currentOffset=isNaN(this.currentOffset)?0:this.currentOffset,h.Registry.getGenericEventHandler().sendEvent(p.logEvents.log,{msg:"clockSync Done, offset is: "+this.currentOffset+"results length"+this.offsetResults.length}),this.offsetResults=[],this.completed=!0}}]),t})();n.ClockSync=v},{"../config/constants":36,"../config/settings":37,"../utility/registry":114,"../utility/timestamps":118,"./xmlhttp":61,"./xmlhttpservice":62}],49:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){r(this,e),this.connected=!1,this.reconnected=!1,this.conferenceUrl={}}return i(e,[{key:"setup",value:function(){return new Promise(function(e,t){e()})}},{key:"isReady",value:function(){return this.connected}},{key:"send",value:function(e){}}]),e})();n.CollectorConnection=a},{}],50:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceGet=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=e("../xmlhttp"),u=e("../xmlhttpservice"),l=e("../../utility/registry"),d=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ConfigService"))}return a(t,u.XMLHttpService),o(t,[{key:"initiate",value:function(e){var n=this;return this.url=e,this.authToken=l.Registry.getAuthenticator().getToken(),this.authToken?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this):new Promise(function(e,t){t(new Error(n.name+": authToken has to be string"))})}},{key:"getConfig",value:function(){return this.config}},{key:"getElapsed",value:function(){return this.isCompleted()?this.elapsed:null}},{key:"reset",value:function(){this.authToken=null,this.url=null,this.config=null,this.elapsed=0,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken};return(0,c.sendGetRequest)(this.url,e,2e3)}},{key:"handleResponse",value:function(e){var t=e.getXhr(),n=e.getElapsed();this.config=JSON.parse(t.response),this.elapsed=n,this.completeProcess()}}]),t})();n.ConfigServiceGet=d},{"../../utility/registry":114,"../xmlhttp":61,"../xmlhttpservice":62}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServicePost=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=e("../xmlhttp"),u=e("./configserviceget"),l=(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,u.ConfigServiceGet),o(t,[{key:"initiate",value:function(e,n){return this.body=n,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initiate",this).call(this,e)}},{key:"request",value:function(){var e={Authorization:"Bearer "+this.authToken,"Content-Type":"application/json"};return(0,c.sendPostRequest)(this.url,e,2e3,this.body)}}]),t})();n.ConfigServicePost=l},{"../xmlhttp":61,"./configserviceget":50}],52:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigServiceWrapper=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./configserviceget"),c=e("./configservicepost"),u=r(e("../../config/settings")),l=e("../../utility/registry"),d=r(e("../../utility/csiologger")),f=(function(){function e(){i(this,e),this.internalConfigService=new s.ConfigServiceGet,this.appConfigService=new s.ConfigServiceGet,this.senderConfigService=new c.ConfigServicePost,this.defaultSenderConfig=null}return o(e,[{key:"initiateInternalConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){d.log("appId has to be string"),n(new Error(e.internalConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.internalConfigService.initiate(n+"/configurations/internal")}},{key:"initiateAppConfig",value:function(){var e=this,t=l.Registry.getCredentials().getAppId();if(!t)return new Promise(function(t,n){d.log("appId has to be string"),n(new Error(e.appConfigService.name+": appId has to be string"))});var n=u.configServiceUrl+t;return this.appConfigService.initiate(n+"/configurations")}},{key:"initiateSenderConfig",value:function(e){var t=this;if(this.senderConfigService.getConfig())return new Promise(function(e,n){d.log("sender config already present"),n(new Error(t.senderConfigService.name+": sender config already present"))});var n=l.Registry.getCredentials().getAppId(),r=l.Registry.getCredentials().getUserId();if(!n||!r)return new Promise(function(e,n){d.log("appId and userId have to be string"),n(new Error(t.senderConfigService.name+": appId and userId have to be string"))});if(this.defaultSenderConfig=this.getCurrentVideoSenderConfig(e),!this.defaultSenderConfig)return new Promise(function(e,n){d.log("Could not obtain a sender config"),n(new Error(t.senderConfigService.name+": Could not obtain a sender config"))});var i=u.configServiceUrl+n,a={app_id:n,local_id:r,rtc_rtp_parameters:this.defaultSenderConfig};return this.senderConfigService.initiate(i+"/configurations",a)}},{key:"getInternalConfig",value:function(){return this.internalConfigService.getConfig()}},{key:"getAppDefaultConfig",value:function(){var e=this.appConfigService.getConfig(),t={peerConnection:null,media:null};return e.default?(e.default.peerConnection&&(t.peerConnection=e.default.peerConnection),e.default.media&&(t.media=e.default.media),t):t}},{key:"getAppRecommendedConfig",value:function(){var e=this.appConfigService.getConfig(),t={};return e.recommended?(e.recommended.peerConnection&&(t.peerConnection=e.recommended.peerConnection),e.recommended.media&&(t.media=e.recommended.media),t):t}},{key:"getSenderConfig",value:function(){var e=this.senderConfigService.getConfig();return e&&e.recommended&&e.recommended.sender?e.recommended.sender:null}},{key:"getDefaultSenderConfig",value:function(){return this.defaultSenderConfig?this.defaultSenderConfig:null}},{key:"getInternalElapsed",value:function(){return this.internalConfigService.getElapsed()}},{key:"getAppElapsed",value:function(){return this.appConfigService.getElapsed()}},{key:"getSenderElapsed",value:function(){return this.senderConfigService.getElapsed()}},{key:"getCurrentVideoSenderConfig",value:function(e){var t={encodings:[{maxBitrate:0}]},n=l.Registry.getConferenceManager().getConferenceForPc(e);if(!n)return d.warn("No conference found for PC, skipping"),null;if(n.getPeerConnectionManager().pcHandlers.size>1)return d.warn("Multiple PCs found, skipping"),null;if(!e.getSenders||"function"!=typeof e.getSenders)return d.warn("Get senders error"),t;for(var r=e.getSenders(),i=void 0,o=0;o<r.length;o+=1){var s=r[o];if("object"!==(void 0===s?"undefined":a(s))||!s.track||"object"!==a(s.track)||!s.track.kind)return d.warn("Access senders error"),null;if("video"===s.track.kind){if(i)return d.warn("Multiple video sender, skipping"),null;i=s}}if(!i)return d.warn("No video sender found"),null;if(!i.getParameters||"function"!=typeof i.getParameters)return d.warn("Sender getParameters error"),t;var c=i.getParameters();return"object"!==(void 0===c?"undefined":a(c))?null:("encodings"in c||(c.encodings=[]),0===c.encodings.length&&c.encodings.push({maxBitrate:0}),c)}}]),e})();n.ConfigServiceWrapper=f},{"../../config/settings":37,"../../utility/csiologger":105,"../../utility/registry":114,"./configserviceget":50,"./configservicepost":51}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionManager=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),o=e("./restcollectorconnection"),s=e("../utility/registry"),c=(function(){function e(){r(this,e),this.connection=null}return i(e,[{key:"setupCollectorConnection",value:function(){this.connection=new o.RestCollectorConnection}},{key:"setup",value:function(){return this.connection?this.connection.setup():new Promise(function(e,t){t()})}},{key:"isReady",value:function(){return!!this.connection&&this.connection.isReady()}},{key:"send",value:function(e){this.connection?this.connection.send(e):s.Registry.getGenericEventHandler().sendEvent(a.logEvents.error,{msg:"Connection not available to the collector"})}}]),e})();n.ConnectionManager=c},{"../config/constants":36,"../utility/registry":114,"./restcollectorconnection":58}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Jwt=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../utility/base64")),s=r(e("../../utility/csiologger")),c=e("../../utility/registry"),u=r(e("../../config/constants")),l=(function(){function e(){i(this,e),this.cryptotype=null,window.crypto&&window.crypto.subtle?(this.cryptotype="standard",this.subtlecrypto=window.crypto.subtle):window.crypto&&!window.crypto.subtle&&window.crypto.webkitSubtle?(this.cryptotype="webkit",this.subtlecrypto=window.crypto.webkitSubtle):window.msCrypto&&window.msCrypto.subtle?(this.cryptotype="ie",this.subtlecrypto=window.msCrypto.subtle):(this.subtlecrypto=null,s.info("WebCryptography API not supported in this browser.")),this.browserName=c.Registry.getEndpoint().getBrowserName()}return a(e,[{key:"sign",value:function(e,t,n){var r=this;return new Promise(function(i,a){"HS256"!==e.alg&&a("Use header.alg=HS256"),e=JSON.stringify(e),"string"!=typeof t&&(t=JSON.stringify(t));var c=o.urlencodeUnicode(e)+"."+o.urlencodeUnicode(t);window.csioReactNative&&window.csiosign(c,n,function(e,t){if(e)return s.log("Token sign error",e),void a(error);i(t)});var l=new ArrayBuffer(c.length),d=new Uint8Array(l),f={name:"HMAC"};"ie"!==r.cryptotype&&"webkit"!==r.cryptotype&&r.browserName!==u.browserName.edge||(f.hash={name:"sha-256"});for(var h=c.length-1;h>=0;h--)d[h]=c.charCodeAt(h);var p=r.subtlecrypto.sign(f,n,d);"ie"===r.cryptotype?(p.onerror=a,p.oncomplete=function(e){c=r.buildToken(e.target.result,c),i(c)}):p.then(function(e){c=r.buildToken(e,c),i(c)}).catch(function(e){a(e)})})}},{key:"buildToken",value:function(e,t){for(var n="",r=new Uint8Array(e),i=r.byteLength,a=0;a<i;a++)n+=String.fromCharCode(r[a]);return t+"."+o.urlencode(n)}},{key:"decode",value:function(e){try{var t=e.split(".")[1],n=o.decode(t);return JSON.parse(n)}catch(e){return s.error("Could not decode token. "),null}}},{key:"importKey",value:function(e){var t=this;return new Promise(function(n,r){if(window.csioReactNative)n(e);else{if("webkit"===t.cryptotype)for(;e.length<32;)e+="\0";var i={kty:"oct",k:o.urlencode(e),alg:"HS256"},a={name:"HMAC",hash:{name:"SHA-256"}};if("ie"===t.cryptotype?i.extractable=!1:i.ext=!1,"webkit"===t.cryptotype&&(a=null,i.use="sig"),"ie"===t.cryptotype||"webkit"===t.cryptotype){var s=JSON.stringify(i);i=new Uint8Array(s.length);for(var c=0;c<s.length;c++)i[c]=s.charCodeAt(c)}var u=t.subtlecrypto.importKey("jwk",i,a,!1,["sign"]);"ie"===t.cryptotype?(u.onerror=r,u.oncomplete=function(e){n(e.target.result)}):u.then(n).catch(r)}})}}]),e})();n.Jwt=l},{"../../config/constants":36,"../../utility/base64":102,"../../utility/csiologger":105,"../../utility/registry":114}],55:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.JwtToken=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./jwt"),o=e("../../utility/registry"),s=(function(){function e(t){r(this,e),this.token=t,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.appId=null,this.userId=null,this.tokenPayload=null,this.jwt=new a.Jwt,this.expires=null,this.clockSync=o.Registry.getClockSync(),this.adaptiveStatsEnabled=!1,this.taasEnabled=!1,this.setupTokenPayload()}return i(e,[{key:"getToken",value:function(){return this.token}},{key:"getTaasEnabled",value:function(){return this.taasEnabled}},{key:"setupTokenPayload",value:function(){var e=this.jwt.decode(this.token);if(e){if(this.statsSubmissionInterval=parseInt(e.submissionInterval,10),this.collectSDP=e.collectSDP,this.adaptiveStatsEnabled=e.adaptiveStatsEnabled,this.taasEnabled=e.taasEnabled,this.appId=e.appID,this.userId=e.userID,navigator.mozGetUserMedia){var t=e.expiry.split(" ").join("T");this.expires=Date.parse(t)}else this.expires=new Date(e.expiry);o.Registry.getCredentials().setStatsSubmissionInterval(this.statsSubmissionInterval),o.Registry.getCredentials().setCollectSDP(this.collectSDP),o.Registry.getCredentials().setAdaptiveStatsEnabled(this.adaptiveStatsEnabled)}}},{key:"isValid",value:function(e){var t=this,n=!1;return null!==t.token&&t.appId===e.appId&&t.userId===encodeURIComponent(e.userId)&&new Date(this.clockSync.getSynchronizedTimestamp())<t.expires&&(n=!0),n}}]),e})();n.JwtToken=s},{"../../utility/registry":114,"./jwt":54}],56:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a={NO_INTERNET_CONNECTIVITY:{notificationCode:1e3,notification:"No Internet Connectivity."},NO_MEDIA_CONNECTIVITY:{notificationCode:1001,notification:"No Media Connectivity."},AWESOME_CALL:{notificationCode:3e3,notification:"The call quality will be awesome (Both Audio and Video)."},GOOD_AUDIO_VIDEO_CALL:{notificationCode:3001,notification:"The Audio call quality will be good, video quality will be ok."},GOOD_AUDIO_VIDEO_ISSUES:{notificationCode:3002,notification:"The Audio call quality will be good, video quality will be terrible."},GOOD_AUDIO_VIDEO_LOW:{notificationCode:3003,notification:"The Audio call quality will be good, video quality will be low."},POOR_AUDIO_VIDEO:{notificationCode:3004,notification:"The Audio call quality is poor, video call will have issues."},AVG_AUDIO_VIDEO_LOW:{notificationCode:3005,notification:"The Audio Quality can be poor with low video quality."},TERRIBLE_CALL:{notificationCode:3006,notification:"Terrible Call Quality."}},o=[.33,.05],s=[.33,.1,.05],c=[8,20],u=[60,750],l=(function(){function e(){r(this,e)}return i(e,[{key:"getIndex",value:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.length,i=0;i<r;){var a=e[i];if(n){if(t>a)return i}else if(t<a)return i;i++}return e.length}},{key:"getNotificationSummary",value:function(e,t){if("success"!==t)return null;if(!this.getInternetConnectivityStatus(e.onlineStatus))return a.NO_INTERNET_CONNECTIVITY;if(!this.getMediaConnectivityStatus(e.ice,e.throughput))return a.NO_MEDIA_CONNECTIVITY;var n=this.getThroughputQuality(e.throughput),r=this.getFractionLossQuality(e.throughput);return 0===n.audioQuality||0===r.audioQuality?a.TERRIBLE_CALL:2===n.audioQuality&&2===n.videoQuality&&2===r.audioQuality&&3===r.videoQuality?a.AWESOME_CALL:1===n.audioQuality?a.POOR_AUDIO_VIDEO:2===r.audioQuality?0===n.videoQuality||0===r.videoQuality?a.GOOD_AUDIO_VIDEO_LOW:1===n.videoQuality?a.GOOD_AUDIO_VIDEO_ISSUES:1===r.videoQuality?a.GOOD_AUDIO_VIDEO_ISSUES:2===r.videoQuality?a.GOOD_AUDIO_VIDEO_ISSUES:a.GOOD_AUDIO_VIDEO_CALL:1===r.audioQuality?a.AVG_AUDIO_VIDEO_LOW:null}},{key:"getInternetConnectivityStatus",value:function(e){for(var t=0,n=!1,r=0;r<e.length;++r)e[r].timestamp>t&&(t=e[r].timeStamp,n=e[r].online);return n}},{key:"getMediaConnectivityStatus",value:function(e,t){return!(!e||!t)&&(e.relayTcpSuccess||e.relayTlsSuccess||e.relayUdpSuccess||t.average>0)}},{key:"getThroughputQuality",value:function(e){var t={};return t.audioQuality=this.getIndex(c,e.average,!1),t.videoQuality=this.getIndex(u,e.average,!1),t}},{key:"getFractionLossQuality",value:function(e){var t={};return t.audioQuality=this.getIndex(o,e.fractionLostBytes),t.videoQuality=this.getIndex(s,e.fractionLostBytes),t}}]),e})();n.PCTNotificationService=l},{}],57:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.PCTRunnerService=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../utility/registry"),s=r(e("../utility/pctutility")),c=e("../config/constants"),u=r(c),l=r(c),d=r(e("../utility/csiologger")),f=r(e("../utility/timestamps")),h=(function(){function e(){i(this,e),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null,this.precalltest=o.Registry.getPreCallTest(),this.callInProgress=!1,this.precalltestIds=[],this.pctNotificationService=o.Registry.getPCTNotificationService()}return a(e,[{key:"handlePrecallTestResults",value:function(e,t){var n=o.Registry.getCallbacks().get(u.callbackFunctions.preCallTestResults),r=o.Registry.getCallbacks().get(u.callbackFunctions.preCallTest),i=o.Registry.getCallbacks().get(u.callbackFunctions.pctConnectionQualityChange);if(e&&(this.precalltestIds.push(e.id),e.tests&&e.tests.ice&&(""===e.tests.ice.turnIpAddress&&delete e.tests.ice.turnIpAddress,""===e.tests.ice.turnIpVersion&&delete e.tests.ice.turnIpVersion,""===e.tests.ice.turnTransport&&delete e.tests.ice.turnTransport),s.addPctMeasurementToAggregator(e),o.Registry.getEventMessageBuilder().make(u.precalltestEvents.results,null,null,{results:e})),r&&r(e),n){if(t){var a={msg:"precalltest error: "+t};return d.warn("precalltest error:",a),o.Registry.getGenericEventHandler().sendEvent(u.logEvents.log,a),void n(u.callstatsAPIReturnStatus.failure,null)}var c=s.getPublicPrecalltestResults(e);n(e.status,c)}if(i&&e){var l=this.pctNotificationService.getNotificationSummary(e.tests,e.status);null!==l&&(l.timestamp=f.getCurrent(),i(l))}}},{key:"precalltestRunnerCallback",value:function(e,t){this.handlePrecallTestResults(e,t),this.iceServersIndex++,this.startPrecallTest()}},{key:"doPrecalltestCallback",value:function(e,t){this.handlePrecallTestResults(e,t)}},{key:"start",value:function(e,t){this.iceServers=e,this.interval=t,this.iceServersIndex=0,this.timer&&clearTimeout(this.timer),this.startPrecallTest()}},{key:"startPrecallTest",value:function(){var e=this,t=o.Registry.getEndpoint().serialize();if(!(t.buildName===l.browserName.safari&&t.buildVersion.startsWith("13.")||this.callInProgress)){var n=this.iceServers[this.iceServersIndex];if(!n){var r=o.Registry.getCallbacks().get(u.callbackFunctions.connectionRecommendation);return r&&r(o.Registry.getPCTAggregator().getRanking()),void setTimeout(function(){e.start(e.iceServers,e.interval)},this.interval)}var i={};i.urls=n.urls,i.username=n.username,i.credential=n.credential;var a=n.label;this.precalltest.start([i],a,!0,this.precalltestRunnerCallback.bind(this))}}},{key:"doPrecalltest",value:function(e,t,n){var r=o.Registry.getEndpoint().serialize();r.buildName===l.browserName.safari&&r.buildVersion.startsWith("13.")||this.precalltest.start(e,t,n,this.doPrecalltestCallback.bind(this))}},{key:"setCallInProgress",value:function(e){this.callInProgress=e,this.callInProgress?this.timer&&clearTimeout(this.timer):(this.iceServersIndex=0,this.startPrecallTest())}},{key:"stop",value:function(){this.timer&&clearTimeout(this.timer),this.interval=6e4,this.iceServers=[],this.iceServersIndex=0,this.timer=null}},{key:"getPrecallTestIds",value:function(){return this.precalltestIds}},{key:"resetPrecallTestIds",value:function(){this.precalltestIds=[]}}]),e})();n.PCTRunnerService=h},{"../config/constants":36,"../utility/csiologger":105,"../utility/pctutility":113,"../utility/registry":114,"../utility/timestamps":118}],58:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.RestCollectorConnection=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../utility/registry"),u=e("./xmlhttp"),l=e("./collectorconnection"),d=e("./restrelays"),f=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.relays=new d.RestRelays,e}return o(t,l.CollectorConnection),s(t,[{key:"isReady",value:function(){return!0}},{key:"send",value:function(e){var t={"Content-Type":"application/json",Authorization:"Bearer "+c.Registry.getAuthenticator().getToken()},n=e.eventType,r=e.confID,i=e.ucID,a=this.relays,o=a.getRequestUrl(n,r,i);if(o){var s=this.getMessage(n,e);h.log("sending ",o,e),(0,u.sendPostRequest)(o,t,5e3,s).then(function(t){if(t&&t.xhr){var i=JSON.parse(t.xhr.response);i&&"success"!==i.status&&(c.Registry.getGenericEventHandler().sendEvent(f.logEvents.restResponseError,{msg:"response failure "+r+":"+n+":"+i.msg+":"+i.status+JSON.stringify(e)}),h.error("Response error:",i.msg,e),"Token has expired"===i.msg&&c.Registry.getAuthenticator().reAuthenticate()),a.handleResponse(n,i,r)}else h.log("Response for request is null")},function(e){h.error(e)})}else h.warn("No action for message type: "+n)}},{key:"getMessage",value:function(e,t){delete t.confID,delete t.channel,delete t.token,delete t.appID,delete t.action,delete t.ucID,delete t.version,delete t.timeShift;var n=decodeURIComponent(t.localID);t.localID=n;var r=decodeURIComponent(t.remoteID);return t.remoteID=r,e===f.callstatsChannels.processedStats&&(t.eventType="stats"),t}}]),t})();n.RestCollectorConnection=p},{"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114,"./collectorconnection":49,"./restrelays":59,"./xmlhttp":61}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r,i){"success"===n.status?e&&e(n,r):t&&t(n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.RestRelays=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../config/constants")),c=r(e("../config/settings")),u=e("../utility/registry"),l=e("../utility/url"),d=r(e("../utility/csiologger")),f=(function(){function e(){var t;i(this,e),this.items=(t=a(),new Map([[s.fabricEvent.fabricTerminated,new h(s.urlType.events,"/events/fabric/terminated",t)],[s.fabricEvent.audioMute,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.audioUnmute,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.videoPause,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.videoResume,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.screenShareStart,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.screenShareStop,new h(s.urlType.events,"/events/media/actions",t)],[s.fabricEvent.activeDeviceList,new h(s.urlType.events,"/events/devices/list",t)],[s.fabricEvent.applicationErrorLog,new h(s.urlType.events,"/events/app/logs",t)],[s.fabricEvent.dominantSpeaker,new h(s.urlType.events,"/events/dominantspeaker",t)],[s.fabricEvent.fabricHold,new h(s.urlType.events,"/events/fabric/actions",t)],[s.fabricEvent.fabricResume,new h(s.urlType.events,"/events/fabric/actions",t)],[s.fabricEvent.callUnAnswered,new h(s.urlType.events,"/events/fabric/actions",t)],[s.internalFabricEvent.oneWayMediaStart,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.oneWayMediaStop,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.circuitBreaker,new h(s.urlType.events,"/events/fabric/disruptions",t)],[s.internalFabricEvent.fabricSetup,new h(s.urlType.events,"/events/fabric/setup",t)],[s.fabricEvent.callDetails,new h(s.urlType.events,"/events/fabric/details",t)],[s.fabricEvent.fabricSetupFailed,new h(s.urlType.events,"/events/fabric/setupfailed",t)],[s.internalFabricEvent.userJoined,new h(s.urlType.events,"",a(function(e,t){t=decodeURIComponent(t);var n=u.Registry.getConferenceManager().get(t);n&&(d.log("UcId is - ",e.ucID,t),n.setUcId(e.ucID),u.Registry.getTransmissionManager().trySend())}))],[s.internalFabricEvent.userLeft,new h(s.urlType.events,"/events/user/left",t)],[s.internalFabricEvent.userAlive,new h(s.urlType.events,"/events/user/alive",t)],[s.internalFabricEvent.fabricTransportSwitch,new h(s.urlType.events,"/events/fabric/transportchange",t)],[s.internalFabricEvent.mediaPlaybackStart,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackSuspended,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.mediaPlaybackStalled,new h(s.urlType.events,"/events/media/pipeline",t)],[s.internalFabricEvent.ssrcMap,new h(s.urlType.events,"/events/ssrcmap",t)],[s.internalFabricEvent.connectedDeviceList,new h(s.urlType.events,"/events/devices/list",t)],[s.internalFabricEvent.sdpSubmission,new h(s.urlType.events,"/events/sdp",t)],[s.internalFabricEvent.iceDisruptionStart,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceDisruptionEnd,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionStart,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceConnectionDisruptionEnd,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceAborted,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceTerminated,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceFailed,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.iceRestarted,new h(s.urlType.events,"/events/ice/status",t)],[s.internalFabricEvent.fabricDropped,new h(s.urlType.events,"/events/fabric/status",t)],[s.customEvents.event,new h(s.urlType.events,"/events/customevent",t)],[s.customEvents.conferenceSummary,new h(s.urlType.events,"/events/conferencesummary",t)],[s.callstatsChannels.processedStats,new h(s.urlType.stats,"/stats",t)],[s.customEvents.stats,new h(s.urlType.stats,"/customstats",t)],[s.internalFabricEvent.fabricStateChange,new h(s.urlType.events,"/events/fabric/statechange",t)],[s.callstatsChannels.userFeedback,new h(s.urlType.events,"/events/feedback",t)],[s.precalltestEvents.results,new h(s.urlType.events,"/events/precall",t)],[s.precalltestEvents.associate,new h(s.urlType.events,"/events/precall",t)],[s.internalFabricEvent.userDetails,new h(s.urlType.events,"/events/userdetails",t)]]))}return o(e,[{key:"getRequestUrl",value:function(e,t,n){return this.items.has(e)?this.items.get(e).getRequestUrl(e,t,n):(d.warn("EventType Unsupported ",e),null)}},{key:"handleResponse",value:function(e,t,n){this.items.has(e)?this.items.get(e).handleResponse(t,n,e):d.warn("No response handler for event type "+e)}}]),e})(),h=(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.baseUrlType=t,this.urlAppendix=n,this.responseHandler=r}return o(e,[{key:"getRequestUrl",value:function(e,t,n){return this.makeRequestUrl(e,t,n),this.requestUrl.toString()}},{key:"makeRequestUrl",value:function(e,t,n){var r=this.baseUrlType===s.urlType.events?c.restEventUrl:c.restStatsUrl;e===s.precalltestEvents.results?this.requestUrl=new l.Url(r,u.Registry.getCredentials().getAppId(),this.urlAppendix):(e===s.internalFabricEvent.userJoined&&n&&(n=""),this.requestUrl=new l.Url(r,u.Registry.getCredentials().getAppId()+"/conferences/"+t,n,this.urlAppendix))}},{key:"handleResponse",value:function(e,t,n){this.responseHandler(e,t,n)}}]),e})();n.RestRelays=f},{"../config/constants":36,"../config/settings":37,"../utility/csiologger":105,"../utility/registry":114,"../utility/url":119}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransmissionManager=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../utility/timestamps")),s=e("../collections/cache"),c=e("../utility/registry"),u=r(e("../config/constants")),l=r(e("../utility/csiologger")),d=(function(){function e(){i(this,e),this.cache=[],this.connectionManager=c.Registry.getConnectionManager(),this.lastTS=0,this.timerStarted=!1,this.lastUserAliveTS={}}return a(e,[{key:"send",value:function(e){(e.isCachable()||e.canBeSent())&&(this.cache[e.getConferenceId()]||(this.cache[e.getConferenceId()]=new s.Cache),this.cache[e.getConferenceId()].add(e,e.isPriority()),this.trySend())}},{key:"trySend",value:function(){if(this.connectionManager.isReady())return this.timerStarted?void 0:this.timeToSend()?void(this.sendMessage()&&this.startTimer()):void(this.getCacheLength()>0&&this.startTimer());this.setupConnection()}},{key:"setupConnection",value:function(){this.connectionManager.setup().then(function(){l.log("Connected to connectionManager")}).catch(function(e){return l.log("Could not connect to connectionManager",e)})}},{key:"canSendUserAlive",value:function(e,t){return!(this.lastUserAliveTS[t]&&e-this.lastUserAliveTS[t]<9e3)}},{key:"sendMessage",value:function(){var e=void 0,t=void 0;if(0===this.getCacheLength())return!1;for(var n in this.cache)if(this.cache.hasOwnProperty(n)&&(t=n,(e=this.cache[t].peak())&&e.canBeSent()))break;if(!e||!e.canBeSent())return!1;if(e=this.cache[t].pop(),this.lastTS=o.getCurrent(),e.eventType===u.internalFabricEvent.userAlive){if(!this.canSendUserAlive(this.lastTS,t))return!0;this.lastUserAliveTS[t]=this.lastTS}return l.log("sending message type :",e.eventType,e.toJson()),this.connectionManager.send(e.toJson()),!0}},{key:"startTimer",value:function(){var e=this;this.timerStarted||0!=this.getCacheLength()&&(this.timerStarted=!0,setTimeout(function(){e.timerStarted=!1,e.trySend()},200))}},{key:"timeToSend",value:function(){return o.getCurrent()>=this.lastTS+200}},{key:"getCacheLength",value:function(){var e=0;for(var t in this.cache)this.cache.hasOwnProperty(t)&&(e+=this.cache[t].length());return e}},{key:"updateConferenceId",value:function(e){var t=u.tmpConferenceId;this.cache[t]&&this.cache[t].updateConferenceId(e)}}]),e})();n.TransmissionManager=d},{"../collections/cache":23,"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114,"../utility/timestamps":118}],61:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r,i){return new Promise(function(a,o){var d,f=null,h=new XMLHttpRequest,p=u.Registry.getEndpoint().getBrowserName();if(h){for(var v in d=s.getCurrent(),h.open(e,t),p!==c.browserName.msie&&(h.timeout=r),n)n.hasOwnProperty(v)&&h.setRequestHeader(v,n[v]);var g=null;if("POST"===e){if("application/x-www-form-urlencoded"===n["Content-Type"]){var y=[];for(var m in i)i.hasOwnProperty(m)&&y.push(encodeURIComponent(m)+"="+encodeURIComponent(i[m]));g=y.join("&")}"application/json"===n["Content-Type"]&&(g=JSON.stringify(i))}h.onload=function(){f=s.getCurrent();var e=new l(h,f-d);a(e)},h.ontimeout=function(){o(new Error("connection timeout"))},h.onreadystatechange=function(){4===h.readyState&&0===h.status&&o(new Error("no server response received"))},h.send(g)}else o(new Error("creating instance failed"))})}Object.defineProperty(n,"__esModule",{value:!0});var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();n.sendGetRequest=function(e,t,n){return a("GET",e,t,n,null)},n.sendPostRequest=function(e,t,n,r){return a("POST",e,t,n,r)};var s=r(e("../utility/timestamps")),c=r(e("../config/constants")),u=e("../utility/registry"),l=(function(){function e(t,n){i(this,e),this.xhr=t,this.elapsed=n}return o(e,[{key:"getXhr",value:function(){return this.xhr}},{key:"getElapsed",value:function(){return this.elapsed}}]),e})()},{"../config/constants":36,"../utility/registry":114,"../utility/timestamps":118}],62:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.XMLHttpService=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/sigmoid"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/csiologger")),s=100,c=1e4,u=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XMLHttpService",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;r(this,e),this.name=t,this.minRetryTimeout=n,this.sigmoid=new a.Sigmoid(i-n,15,.5),this.reset()}return i(e,[{key:"reset",value:function(){this.inProgress=!1,this.completed=!1,this.resolveCb&&this.rejectCb(new Error(this.name+": resetting")),this.resolveCb=null,this.rejectCb=null}},{key:"initiate",value:function(){var e=this;if(this.inProgress)return new Promise(function(t,n){n(new Error(e.name+": in progress"))});var t=new Promise(function(t,n){e.resolveCb=t,e.rejectCb=n});return this.inProgress=!0,this.sendRequest(),t}},{key:"isCompleted",value:function(){return this.completed}},{key:"handleSendError",value:function(e){o.log(this.name+": send next request ("+e+")"),this.sendNextRequest()}},{key:"handleResponseProxy",value:function(e){this.handleResponse(e),this.resetTimeout()}},{key:"handleResponse",value:function(e){o.error(this.name+": handleResponse() not implemented"),this.completeProcess()}},{key:"completeProcess",value:function(){this.inProgress=!1,this.completed=!0,this.resolveCb.apply(this,arguments)}},{key:"request",value:function(){return o.error(this.name+": request() not implemented!"),new Promise(function(e,t){e()})}},{key:"sendRequest",value:function(){if(this.inProgress){var e=this.request();e&&e.then(this.handleResponseProxy.bind(this),this.handleSendError.bind(this))}}},{key:"sendNextRequest",value:function(){setTimeout(this.sendRequest.bind(this),this.getTimeout())}},{key:"resetTimeout",value:function(){this.sigmoid.reset()}},{key:"getTimeout",value:function(){return this.minRetryTimeout+this.sigmoid.getActual()}}]),e})();n.XMLHttpService=u},{"../utility/csiologger":105,"../utility/sigmoid":116}],63:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerEvent=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),o=(function(){function e(t,n){r(this,e),this.circuitBreakerType=t,this.ssrc=n}return i(e,[{key:"getCircuitBreakerType",value:function(){return this.circuitBreakerType}},{key:"getContent",value:function(){return{disruptionType:this.circuitBreakerType,ssrc:this.ssrc.toString()}}}],[{key:"isBadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!0;var t=e.getRequestedMeasurement();return!t||t.getReportType()===a.reportType.remote&&e.getStreamType()===a.streamType.outbound}}]),e})();n.CircuitBreakerEvent=o},{"../config/constants":36}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.IntervalStatsMonitor=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=r(e("../utility/timestamps")),l=r(e("../config/constants")),d=r(e("./validator")),f=(function(){function e(t){o(this,e),this.hasMultipleRecords=!1,this.currentStats=t,this.previousStats=t,this.previousCallBackStats=t,this.previousStatsTime=u.getCurrent(),this.previousCallBackStatsTime=u.getCurrent()}return c(e,[{key:"setCurrent",value:function(e){this.currentStats=e,this.hasMultipleRecords=!0}},{key:"outdate",value:function(e){e===l.statsDestination.backend?(this.previousStats=this.currentStats,this.previousStatsTime=u.getCurrent()):(this.previousCallBackStats=this.currentStats,this.previousCallBackStatsTime=u.getCurrent())}},{key:"getCurrent",value:function(){return this.currentStats}},{key:"multipleRecords",value:function(){return this.hasMultipleRecords}},{key:"getPrevious",value:function(e){return e===l.statsDestination.backend?this.previousStats:this.previousCallBackStats}},{key:"getElapsedTime",value:function(e){return u.getCurrent()-(e===l.statsDestination.backend?this.previousStatsTime:this.previousCallBackStatsTime)}}]),e})(),h=(function(){function e(){o(this,e),this.measurementsHolderMap=new Map}return c(e,[{key:"set",value:function(e,t){if(this.measurementsHolderMap.has(e))this.measurementsHolderMap.get(e).setCurrent(t);else{var n=new f(t);this.measurementsHolderMap.set(e,n)}}},{key:"delete",value:function(e){e&&this.measurementsHolderMap.has(e)&&this.measurementsHolderMap.delete(e)}},{key:"getIntervalStats",value:function(e){for(var t=new Map,n=[].concat(a(this.measurementsHolderMap.keys())),r=0,i=n.length;r<i;r+=1){var o=n[r],s=this.measurementsHolderMap.get(o);if(s){var c=this.getIntervalStat(s,e);t.set(o,c),s.outdate(e)}}return t}},{key:"getTotalBytes",value:function(e){var t=e.getStreamType()===l.streamType.inbound?e.getReceivedBytes():e.getSentBytes();return d.checkForPositiveValue(t)?t:null}},{key:"getTotalPackets",value:function(e){var t=e.getStreamType()===l.streamType.inbound?e.getReceivedPackets():e.getSentPackets();return d.checkForPositiveValue(t)?t:null}},{key:"getTotalLostPackets",value:function(e){var t=e.getLostPackets();return d.checkForPositiveValue(t)?t:null}},{key:"getIntervalBitrate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getTotalBytes(e),i=this.getTotalBytes(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i)||!d.checkForPositiveValue(n))return null;var a=(8*r-8*i)/Math.max(n,1);return d.checkForPositiveValue(a)?a:null}},{key:"getIntervalPacketLoss",value:function(e,t,n){var r=this.getTotalLostPackets(e);if(!n)return d.checkForPositiveValue(r)?r:null;var i=this.getTotalLostPackets(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i))return null;var a=r-i;return d.checkForPositiveValue(a)?a:null}},{key:"getIntervalPacketRate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!d.checkForPositiveValue(n))return null;var r=this.getTotalPackets(e),i=this.getTotalPackets(t);if(!d.checkForPositiveValue(r)<0||!d.checkForPositiveValue(i))return null;var a=(r-i)/(Math.max(n,1)/1e3);return d.checkForPositiveValue(a)?a:null}},{key:"getIntervalFractionLost",value:function(e,t,n){var r=this.getIntervalPacketLoss(e,t,n),i=this.getTotalPackets(e)-this.getTotalPackets(t);if(!d.checkForPositiveValue(r)||!d.checkForPositiveValue(i))return null;var a=r/Math.max(i+r,1);return d.checkForPositiveValue(a)?a:null}},{key:"getIntervalStat",value:function(e,t){var n=this,r=e.getPrevious(t),i=e.getCurrent();if(!r||!i)return[];for(var a=[],o=e.getElapsedTime(t),s=0,c=i.length;s<c;s+=1)!(function(t,s){var c=i[t],u=r.find(function(e){return e.getSSRC()===c.getSSRC()&&e.getStreamType()===c.getStreamType()&&e.getReportType()===c.getReportType()});if(u){var l={csioIntMs:o,csioIntBRKbps:n.getIntervalBitrate(c,u,o),csioIntPktLoss:n.getIntervalPacketLoss(c,u,e.multipleRecords()),csioIntPR:n.getIntervalPacketRate(c,u,o),csioIntFL:n.getIntervalFractionLost(c,u,e.multipleRecords()),ssrc:c.getSSRC(),streamType:c.getStreamType(),reportType:c.getReportType()};a.push(l)}})(s);return a}}],[{key:"mergeIntervalStats",value:function(e,t){for(var n=function(e){return e.ssrc,e.streamType,e.reportType,i(e,["ssrc","streamType","reportType"])},r=0,a=e.length;r<a;r+=1){var o=e[r];t.has(o.pcHash)&&(function(){var e=t.get(o.pcHash)||[],r=o.ssrc?o.ssrc:o.data&&o.data.ssrc,i=o.streamType?o.streamType:o.streamType&&o.data.streamType,a=o.reportType?o.reportType:o.reportType&&o.data.reportType,c=e.find(function(e){return e.ssrc===r&&e.streamType===i&&e.reportType===a});c&&(o.data=s({},o.data,n(c)))})()}return e}}]),e})();n.IntervalStatsMonitor=h},{"../config/constants":36,"../utility/timestamps":118,"./validator":100}],65:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Measurement=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./resolution"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./validator")),s=(function(){function e(){r(this,e),this.pcHash=null,this.ssrc=null,this.streamType=null,this.mediaType=null,this.reportType=null,this.resolution=null,this.frameRateReceived=null,this.frameHeight=null,this.frameWidth=null,this.droppedFramesNum=null,this.framesReceived=null,this.rtt=null,this.jitter=null,this.lostPackets=-1,this.receivedPackets=-1,this.sentPackets=-1,this.discardedPackets=-1,this.sentBytes=-1,this.receivedBytes=-1,this.fractionLost=-1,this.googEchoCancellationReturnLoss=-1,this.googEchoCancellationReturnLossEnhancement=-1,this.track=null}return i(e,null,[{key:"make",value:function(t,n,r,i,a,s,c,u,l,d,f,h,p,v,g,y,m,b,S,k,w,C){var T=new e,_=function(e,t){-1===[void 0,null].indexOf(t)&&(T[e]=t)};return _("pcHash",t),_("ssrc",n),_("streamType",r),_("mediaType",i),_("reportType",a),_("frameRateReceived",s),_("frameHeight",o.checkForNan(parseInt(c,10))),_("frameWidth",o.checkForNan(parseInt(u,10))),_("droppedFramesNum",l),_("framesReceived",d),_("rtt",f),_("jitter",h),_("lostPackets",p),_("receivedPackets",v),_("sentPackets",g),_("discardedPackets",y),_("sentBytes",m),_("receivedBytes",b),_("fractionLost",S),_("googEchoCancellationReturnLoss",k),_("googEchoCancellationReturnLossEnhancement",w),_("track",C),T.setFrameRateReceived(s),T}}]),i(e,[{key:"getPcHash",value:function(){return this.pcHash}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getReportType",value:function(){return this.reportType}},{key:"getResolution",value:function(){return this.resolution?this.resolution.toString():null}},{key:"getFrameRateReceived",value:function(){return this.frameRateReceived}},{key:"getFrameHeight",value:function(){return this.frameHeight}},{key:"getFrameWidth",value:function(){return this.frameWidth}},{key:"getDroppedFramesNum",value:function(){return this.droppedFramesNum}},{key:"getFramesReceived",value:function(){return this.framesReceived}},{key:"setFrameRateReceived",value:function(e){this.frameRateReceived=e,void 0!==this.frameRateReceived&&void 0!==this.frameWidth&&void 0!==this.frameHeight&&this.frameWidth>0&&this.frameHeight>0?this.resolution=new a.Resolution(this.frameWidth,this.frameHeight,this.frameRateReceived):this.resolution=null}},{key:"getJitter",value:function(){return this.jitter}},{key:"getRTT",value:function(){return this.rtt}},{key:"getLostPackets",value:function(){return this.lostPackets}},{key:"getDiscardedPackets",value:function(){return this.discardedPackets}},{key:"getReceivedPackets",value:function(){return this.receivedPackets}},{key:"getSentPackets",value:function(){return this.sentPackets}},{key:"getSentBytes",value:function(){return this.sentBytes}},{key:"getReceivedBytes",value:function(){return this.receivedBytes}},{key:"setFractionLost",value:function(e){this.fractionLost=void 0===e?null:e}},{key:"getFractionLost",value:function(){return this.fractionLost}},{key:"getGoogEchoCancellationReturnLoss",value:function(){return this.googEchoCancellationReturnLoss}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(){return this.googEchoCancellationReturnLossEnhancement}},{key:"extractTrack",value:function(){var e=this.track;return this.track=null,e}},{key:"toString",value:function(){return"pcHash: "+this.pcHash+", ssrc: "+this.ssrc+", streamType: "+this.streamType+", mediaType: "+this.mediaType+", reportType: "+this.reportType+", frameRateReceived: "+this.frameRateReceived+", frameHeight: "+this.frameHeight+", frameWidth: "+this.frameWidth+", droppedFramesNum: "+this.droppedFramesNum+", rtt: "+this.rtt+", jitter: "+this.jitter+", lostPackets: "+this.lostPackets+", receivedPackets: "+this.receivedPackets+", sentPackets: "+this.sentPackets+", discardedPackets: "+this.discardedPackets+", sentBytes: "+this.sentBytes+", receivedBytes: "+this.receivedBytes+", fractionLost: "+this.fractionLost+", googEchoCancellationReturnLoss: "+this.googEchoCancellationReturnLoss+", googEchoCancellationReturnLossEnhancement: "+this.googEchoCancellationReturnLossEnhancement}}]),e})();n.Measurement=s},{"./resolution":84,"./validator":100}],66:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.audioSsrc=t,this.videoSsrc=n,this.estimatedAudioDelay=i,this.estimatedVideoDelay=a}return i(e,[{key:"getAudioSSRC",value:function(){return this.audioSsrc}},{key:"getVideoSSRC",value:function(){return this.videoSsrc}},{key:"setAudioDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.audioSsrc=e,this.estimatedAudioDelay=t}},{key:"setVideoDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.videoSsrc=e,this.estimatedVideoDelay=t}},{key:"getAudioDelay",value:function(){return this.estimatedAudioDelay}},{key:"getVideoDelay",value:function(){return this.estimatedVideoDelay}},{key:"getContent",value:function(){return{audioSsrc:this.audioSsrc.toString(),videoSsrc:this.videoSsrc.toString(),estimatedAudioDelay:this.estimatedAudioDelay,estimatedVideoDelay:this.estimatedVideoDelay}}}]),e})();n.AvDeSyncHolder=a},{}],67:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AVDeSyncObserver=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../../config/constants")),c=r(e("../validator")),u=e("./avdesync/avdesyncholder"),l=(function(){function e(){a(this,e),this.avEstimatedDelays=new Map}return o(e,[{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!1;var t=e.getRequestedMeasurement();return!!t&&t.getReportType()===s.reportType.local&&e.getStreamType()===s.streamType.inbound}},{key:"getPCHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return null;var t=e.getRequestedMeasurement();return t?t.getPcHash():null}},{key:"getEstimatedDelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return null;var t=e.getTrack();if(!t||!t.data)return null;var n=parseFloat(t.data.googCurrentDelayMs);return c.isNumber(n)?n:null}},{key:"isAVDeSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.abs(e-t);return e>t?n>90:t>e&&n>185}},{key:"accept",value:function(){for(var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return e.isValidTrack(t)}),n=0,r=t.length;n<r;n+=1){var a=t[n],o=this.getPCHash(a),l=a.getSSRC(),d=this.getEstimatedDelay(a);this.avEstimatedDelays.has(o)||this.avEstimatedDelays.set(o,new u.AvDeSyncHolder);var f=this.avEstimatedDelays.get(o);a.getMediaType()===s.mediaType.audio?f.setAudioDelay(l,d):a.getMediaType()===s.mediaType.video&&f.setVideoDelay(l,d)}for(var h=[].concat(i(this.avEstimatedDelays.values())),p=0,v=h.length;p<v;p+=1)!(function(n,r){var i=h[p],a=i.getAudioDelay(),o=i.getVideoDelay();if(!c.isNumber(a)||!c.isNumber(o))return"continue";var s=e.isAVDeSync(a,o),u=t.find(function(e){return e.getSSRC()===i.getAudioSSRC()}),l=t.find(function(e){return e.getSSRC()===i.getVideoSSRC()});u&&l&&(u.metrics&&(u.metrics.csioAvDesync=s),l.metrics&&(l.metrics.csioAvDesync=s))})()}},{key:"toString",value:function(){return"AVDeSyncObserver"}}]),e})();n.AVDeSyncObserver=l},{"../../config/constants":36,"../validator":100,"./avdesync/avdesyncholder":66}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CircuitBreakerObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver"),s=e("./circuitbreakerobserver/mediatimeout/mediatimeoutobserver"),c=e("./circuitbreakerobserver/mediausability/mediausabilityobserver"),u=e("./circuitbreakerobserver/congestion/congestionobserver"),l=r(e("../../utility/timestamps")),d=e("../../utility/registry"),f=r(e("../../config/constants")),h=(function(){function e(t){i(this,e),this.notifierCallback=t,this.rtcpTimeoutObserver=new o.RTCPTimeoutObserver,this.mediaTimeoutObserver=new s.MediaTimoutObserver,this.mediaUsabilityObserver=new c.MediaUsabilityObserver,this.congestionObserver=new u.CongestionObserver,this.lastReportTime=l.getCurrent()}return a(e,[{key:"isDeadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===f.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"accept",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t){var n=t.filter(function(t){return!1===e.isDeadTrack(t)}),r=l.getCurrent(),i=this.rtcpTimeoutObserver.check(n),a=this.mediaTimeoutObserver.check(n),o=this.mediaUsabilityObserver.check(n),s=this.congestionObserver.check(n);i&&i.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(i),this.notifierCallback(i)),a&&a.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(a),this.notifierCallback(a)),o&&o.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(o),this.notifierCallback(o)),s&&s.length>0&&r-this.lastReportTime>3e4&&(this.lastReportTime=r,this.handleUserCallbackEvent(s),this.notifierCallback(s))}}},{key:"handleUserCallbackEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=d.Registry.getCallbacks().get(f.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){var n={type:f.mediaDisruptionCallbackType.circuitBreaker,payload:e.getContent()};t(n)})}}]),e})();n.CircuitBreakerObserver=h},{"../../config/constants":36,"../../utility/registry":114,"../../utility/timestamps":118,"./circuitbreakerobserver/congestion/congestionobserver":69,"./circuitbreakerobserver/mediatimeout/mediatimeoutobserver":71,"./circuitbreakerobserver/mediausability/mediausabilityobserver":73,"./circuitbreakerobserver/rtcptimeout/rtcptimeoutobserver":75}],69:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CongestionObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../../../config/constants")),s=e("../../../circuitbreakerevent"),c=r(e("../../../validator")),u=(function(){function e(){i(this,e),this.name="CongestionObserver"}return a(e,[{key:"check",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.hasTraffic()&&e.getStreamType()===o.streamType.outbound&&!1===s.CircuitBreakerEvent.isBadTrack(e)});if(!(t.length<1)){var n=[];return t.forEach(function(t){var r=t.getTrack();if(r&&r.data){var i=e.getTFRC(r);if(e.isGood(i,r.data.csioAvgBRKbps)){var a=new s.CircuitBreakerEvent(o.circuitBreakerDisruptionType.congestion,t.getSSRC());n.push(a)}}}),n.length>0?n:void 0}}}],[{key:"getTFRC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e||!e.data)return 0;if(e.data.csioIntFLRate<.001||e.data.csioAvgRtt<.01)return 0;var t=8*e.data.csioAvgPacketSize,n=e.data.csioAvgRtt*Math.sqrt(2*e.data.csioIntFLRate/3);if(!c.checkForPositiveValue(t)||!c.checkForPositiveValue(n))return 0;var r=t/Math.max(n,1);return c.checkForPositiveValue(r)?r:0}},{key:"isGood",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!(e<1||t<=10*e)}}]),e})();n.CongestionObserver=u},{"../../../../config/constants":36,"../../../circuitbreakerevent":63,"../../../validator":100}],70:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimeout=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../utility/timestamps")),o=(function(){function e(){r(this,e),this.started=null,this.totalPackets=0}return i(e,[{key:"update",value:function(e){this.totalPackets=e}},{key:"getTotalPackets",value:function(){return this.totalPackets}},{key:"getStarted",value:function(){return this.started}},{key:"doReset",value:function(){this.started=null}},{key:"doStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.started=e||a.getCurrent()}}]),e})();n.MediaTimeout=o},{"../../../../utility/timestamps":118}],71:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaTimoutObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=e("../../../circuitbreakerevent"),u=e("./mediatimeout"),l=(function(){function e(){i(this,e),this.name="MediaTimeoutObserver",this.mediaTimeouts=new Map}return a(e,[{key:"observeMediaTimeout",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!t)return null;var r=e.getTotalPackets(t),i=this.mediaTimeouts.get(t.getSSRC());return i?r>i.getTotalPackets()?(i.update(r,n?n.startTime:void 0),i.doReset(),null):i.getStarted()?(n?n.now:o.getCurrent())-i.getStarted()<1e4?null:new c.CircuitBreakerEvent(s.circuitBreakerDisruptionType.mediaTimeout,t.getSSRC()):(i.doStart(n?n.startTime:void 0),null):((i=new u.MediaTimeout).update(r,n?n.startTime:void 0),this.mediaTimeouts.set(t.getSSRC(),i),null)}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.hasTraffic()&&t.getReportType()===s.reportType.remote&&!1===c.CircuitBreakerEvent.isBadTrack(e)});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var a=e.observeMediaTimeout(t,n?n[r]:void 0);a&&i.push(a)}),i.length>0?i:void 0}}}],[{key:"getTotalPackets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return 0;var t=e.getTrack();return t&&t.data?e.getStreamType()===s.streamType.inbound?t.data.packetsReceived:t.data.packetsSent:0}}]),e})();n.MediaTimoutObserver=l},{"../../../../config/constants":36,"../../../../utility/timestamps":118,"../../../circuitbreakerevent":63,"./mediatimeout":70}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsability=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=r(e("../../../validator")),u=(function(){function e(){i(this,e),this.flDistortedTime=null,this.rttDistortedTime=null}return a(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e){var n=e.getTrack();n&&n.data&&(this.checkFL(n.data.csioIntFLRate,e.getMediaType(),t),this.checkRTT(n.data.csioAvgRtt,e.getMediaType(),t))}}},{key:"checkFL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0);c.checkForPositiveValue(e)&&(.99<e?null===this.flDistortedTime&&(this.flDistortedTime=t||o.getCurrent()):this.flDistortedTime=null)}},{key:"checkRTT",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;c.checkForPositiveValue(e)&&((t===s.mediaType.video?2e3:1500)<e?null===this.rttDistortedTime&&(this.rttDistortedTime=n||o.getCurrent()):this.rttDistortedTime=null)}},{key:"isDistorted",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||o.getCurrent();return!!(this.flDistortedTime&&e-this.flDistortedTime>5e3)||!!(this.rttDistortedTime&&e-this.rttDistortedTime>15e3)}}]),e})();n.MediaUsability=u},{"../../../../config/constants":36,"../../../../utility/timestamps":118,"../../../validator":100}],73:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.MediaUsabilityObserver=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../config/constants")),o=e("../../../circuitbreakerevent"),s=e("./mediausability"),c=(function(){function e(){r(this,e),this.name="MediaUsabilityObserver",this.mediaUsabilities=new Map}return i(e,[{key:"observeMediaUsability",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.mediaUsabilities.get(e.getSSRC());return n?(n.update(e,t?t.startTime:void 0),n.isDistorted(t?t.now:void 0)?new o.CircuitBreakerEvent(a.circuitBreakerDisruptionType.mediaUsability,e.getSSRC()):null):(n=new s.MediaUsability,this.mediaUsabilities.set(e.getSSRC(),n),null)}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){return!1===o.CircuitBreakerEvent.isBadTrack(e)&&e.hasTraffic()});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var a=e.observeMediaUsability(t,n?n[r]:void 0);a&&i.push(a)}),i.length>0?i:void 0}}}]),e})();n.MediaUsabilityObserver=c},{"../../../../config/constants":36,"../../../circuitbreakerevent":63,"./mediausability":72}],74:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeout=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../../../utility/timestamps")),o=(function(){function e(){r(this,e),this.lastApproved=null,this.lastRTCPTimestamp=null,this.networkRoundTripTime=5}return i(e,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e.getTrack();if(!n)return!1;if(!n.data.timestamp)return!0;if(!this.lastRTCPTimestamp)return this.lastRTCPTimestamp=n.data.timestamp,this.lastApproved=t||a.getCurrent(),!0;if(!n.data.timestamp)return!0;if(this.lastRTCPTimestamp<n.data.timestamp){var r=n.data.timestamp-this.lastRTCPTimestamp;return this.lastRTCPTimestamp=n.data.timestamp,this.networkRoundTripTime=.8*this.networkRoundTripTime+.2*r,this.lastApproved=t||a.getCurrent(),!0}return!1}},{key:"getLastApproved",value:function(){return this.lastApproved}},{key:"getLastRTCPTimestamp",value:function(){return this.lastRTCPTimestamp}},{key:"getNetworkRoundTripTime",value:function(){return this.networkRoundTripTime}}]),e})();n.RTCPTimeout=o},{"../../../../utility/timestamps":118}],75:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RTCPTimeoutObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../../../utility/timestamps")),s=r(e("../../../../config/constants")),c=e("../../../circuitbreakerevent"),u=e("./rtcptimeout"),l=(function(){function e(){i(this,e),this.name="RTCPTimeoutObserver",this.rtcpTimeouts=new Map}return a(e,[{key:"observeRTCPTimeouts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.rtcpTimeouts.get(e.getSSRC());if(!n)return(n=new u.RTCPTimeout).update(e,t?t.lastApproved:void 0),this.rtcpTimeouts.set(e.getSSRC(),n),null;if(n.update(e,t?t.lastApproved:void 0))return null;var r=Math.max(3e4,5*n.getNetworkRoundTripTime());return(t?t.now:o.getCurrent())-n.getLastApproved()<r?null:new c.CircuitBreakerEvent(s.circuitBreakerDisruptionType.RTCPTimeout,e.getSSRC())}},{key:"check",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.filter(function(e){var t=e.getRequestedMeasurement();return t&&e.getStreamType()===s.streamType.inbound&&t.getReportType()===s.reportType.remote});if(!(r.length<1)){var i=[];return r.forEach(function(t,r){var a=e.observeRTCPTimeouts(t,n?n[r]:void 0);a&&i.push(a)}),i.length>0?i:void 0}}}]),e})();n.RTCPTimeoutObserver=l},{"../../../../config/constants":36,"../../../../utility/timestamps":118,"../../../circuitbreakerevent":63,"./rtcptimeout":74}],76:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CPULimitationObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(){i(this,e),this.ewmaDiscardedPackets=0,this.ewmaLostPackets=0,this.ewmaDroppedFrames=0,this.last=0,this.noticed=0}return a(e,[{key:"test",value:function(e){var t=e.discardedPackets,n=e.lostPackets;if(!n||n<1||!t||t<1)return!1;if(0===this.last)return this.last=s.getCurrent(),this.ewmaLostPackets=n,this.ewmaDiscardedPackets=t,!1;var r=s.getCurrent(),i=Math.max(r-this.last,1),a=Math.min((5e3-i)/5e3,.9),o=e.droppedFrames;return this.ewmaLostPackets=this.ewmaLostPackets*a+n,this.ewmaDroppedFrames=this.ewmaDroppedFrames*a+o,this.ewmaDiscardedPackets=this.ewmaDiscardedPackets*a+t,!(!o||o<1||1<this.ewmaLostPackets||1<this.ewmaDiscardedPackets||r-this.noticed<1e4||this.ewmaDroppedFrames<1||(this.noticed=r,0))}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.inbVideoTesters=new Map}return a(e,[{key:"accept",value:function(e){for(var t=e.filter(function(e){return e.getMediaType()===o.mediaType.video&&e.getStreamType()===o.streamType.inbound}),n=0;n<t.length;++n){var r=t[n];this.checkInboundVideo(r)}}},{key:"checkInboundVideo",value:function(e){var t=e.peek(),n=e.getSSRC();if(this.inbVideoTesters.has(n)||this.inbVideoTesters.set(n,new c),this.inbVideoTesters.get(n).test(t)){var r={reason:o.limitationType.cpu,ssrc:n};this.notifyCallback(r)}}},{key:"toString",value:function(){return"CPULimitationObserver"}}]),e})();n.CPULimitationObserver=u},{"../../config/constants":36,"../../utility/timestamps":118}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.OneWayMediaObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=e("../onewaymediadisruption"),s=e("../../utility/registry"),c=r(e("../../config/constants")),u=r(e("../../utility/timestamps")),l=Math.max(5,5)+5,d="STARTED",f="ENDED",h="NOOP",p=(function(){function e(t){i(this,e),this.startTime=u.getCurrent(),this.notifierCallback=t,this.oneWayInbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.oneWayOutbAudioDisruption={started:!1,disruptionCount:0,recoveryCount:0,disruption:void 0},this.browserName=s.Registry.getEndpoint().getBrowserName()}return a(e,[{key:"isDeadTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e&&e.getRequestedMeasurement();if(!t)return!0;if(e.getStreamType()===c.streamType.inbound){if(t.getReceivedBytes()<1)return!0}else if(t.getSentBytes()<1)return!0;return!e.lastTrack||!e.lastTrack.data||!e.lastTrack.data.mimeType&&!e.lastTrack.data.googCodecName}},{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.streamType.inbound;if(!e)return!1;var n=e.getRequestedMeasurement();return!!n&&n.getReportType()===c.reportType.local&&e.getStreamType()===t&&e.getMediaType()===c.mediaType.audio}},{key:"handleUserCallbackEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s.Registry.getCallbacks().get(c.callbackFunctions.mediaDisruption);t&&"function"==typeof t&&e.forEach(function(e){var n={type:e.isStarted()?c.mediaDisruptionCallbackType.oneWayMediaStart:c.mediaDisruptionCallbackType.oneWayMediaStop,payload:e.getContent()};t(n)})}},{key:"accept",value:function(e){var t=this,n=e.filter(function(e){return t.isValidTrack(e,c.streamType.inbound)}),r=e.filter(function(e){return t.isValidTrack(e,c.streamType.outbound)}),i=this.getDisruptions(n,r);i.length>0&&(this.handleUserCallbackEvent(i),this.notifierCallback(i))}},{key:"toString",value:function(){return"DisruptionObserver"}},{key:"getDisruptedTrack",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(t){return t&&!1===t.hasTraffic()&&!1===e.isDeadTrack(t)})}},{key:"isStartedAndHasTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return 0===e.getStartTime()}).length<1,n=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t&&n}},{key:"hasTracksAndTraffic",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(function(e){return!e.hasTraffic()}).length<1;return e.length>0&&t}},{key:"isInitialSetupDelayPassed",value:function(){return u.getCurrent()>this.startTime+15e3}},{key:"isInbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(t)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(e)){var r=this.getDisruptedTrack(e),i=r&&r.getSSRC();i&&(n=new o.OneWayMediaDisruption(c.oneWayMediaTypes.audio,i,c.streamType.inbound))}return n}}},{key:"isOutbOneWayAudioDisruption",value:function(e,t){if(this.isStartedAndHasTraffic(e)&&this.isInitialSetupDelayPassed()){var n=void 0;if(!this.hasTracksAndTraffic(t)){var r=this.getDisruptedTrack(t),i=r&&r.getSSRC();i&&(n=new o.OneWayMediaDisruption(c.oneWayMediaTypes.audio,i,c.streamType.outbound))}return n}}},{key:"updateDisruptionAndRecoveryCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?(t=Math.min(t+1,l),n=0):(n=Math.min(n+1,l),t=0),{disruptionCount:t,recoveryCount:n}}},{key:"getDisruptionState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!1===n&&e>=5?d:!0===n&&t>=5?f:h}},{key:"getAudioDisruption",value:function(e,t,n){var r=void 0,i=void 0;if(n===c.streamType.inbound?(r=this.isInbOneWayAudioDisruption(e,t),i=this.oneWayInbAudioDisruption):n===c.streamType.outbound&&(r=this.isOutbOneWayAudioDisruption(e,t),i=this.oneWayOutbAudioDisruption),i){var a=this.updateDisruptionAndRecoveryCount(r,i.disruptionCount,i.recoveryCount),o=a.disruptionCount,s=a.recoveryCount,u=this.getDisruptionState(o,s,i.started);return u===d?(i.started=!0,i.disruption=r.setStart(),i.disruptionCount=0,i.recoveryCount=0):u===f?(i.started=!1,i.disruption=i.disruption.setEnd(),i.disruptionCount=0,i.recoveryCount=0):(i.recoveryCount=s,i.disruptionCount=o),u!==h?i.disruption:void 0}}},{key:"getDisruptions",value:function(e,t){var n=[],r=this.getAudioDisruption(e,t,c.streamType.inbound),i=this.getAudioDisruption(e,t,c.streamType.outbound);return r&&n.push(r),i&&n.push(i),n}}]),e})();n.OneWayMediaObserver=p},{"../../config/constants":36,"../../utility/registry":114,"../../utility/timestamps":118,"../onewaymediadisruption":81}],78:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QPSumObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.lastQpSum=null,this.qpAvg=null,this.noticed=0}return a(e,[{key:"test",value:function(e){var t=e.getTrack();if(!t||!t.data||!t.data.qpSum)return!1;if(!this.lastQpSum)return this.lastQpSum=t.data.qpSum,!1;var n=t.data.qpSum-this.lastQpSum;this.lastQpSum=t.data.qpSum,null===this.qpAvg?this.qpAvg=n:this.qpAvg=.2*n+.8*this.qpAvg;var r=Math.max(2*this.qpAvg,1);if(n<this.qpAvg+r)return!1;var i=s.getCurrent();return this.noticed<i-1e4}}]),e})(),u=(function(){function e(t){i(this,e),this.notifyCallback=t,this.testers=new Map}return a(e,[{key:"accept",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.getMediaType()===o.mediaType.video){var r=n.getSSRC();if(this.testers.has(r)||this.testers.set(r,new c(n)),this.testers.get(r).test(n)){var i={reason:o.qualityDisruptionTypes.qpchange};this.notifyCallback(i)}}}}},{key:"toString",value:function(){return"QPSumObserver"}}]),e})();n.QPSumObserver=u},{"../../config/constants":36,"../../utility/timestamps":118}],79:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SendingTrigger=n.TrackMonitorTester=n.TestHelper=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=r(e("../../utility/timestamps")),c=e("../../utility/runningstats"),u=r(e("../validator")),l=e("../../config/constants"),d=r(l),f=r(e("../../utility/csiologger")),h=(function(){function e(t,n,r,a){return i(this,e),n?r?a?(this.consecutivePositive=0,this.name=t,this.minThreshold=n,this.resetThreshold=a,void(this.runningStats=new c.RunningStats(r))):void f.warn("resetThreshold was null or undefined : "+a):void f.warn("windowLength was null or undefined : "+r):void f.warn("minThreshold was null or undefined : "+n)}return o(e,[{key:"doTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null===e||void 0===e)return!1;this.runningStats.add(e);var n=this.runningStats.getMean(),r=this.runningStats.getStd();if(!n||!r)return!1;var i=Math.max(this.minThreshold,2*r)*t,a=Math.abs(n-e)>i;return a?(this.consecutivePositive+=1,this.consecutivePositive>this.resetThreshold&&this.runningStats.reset()):this.consecutivePositive=0,a}}]),e})(),p=(function(){function e(t){var n=t.maxMarginFactor,r=void 0===n?l.adaptiveStatsThresholds.maxMarginFactor:n,a=t.marginReductionFactor,o=void 0===a?l.adaptiveStatsThresholds.marginReductionFactor:a,s=t.marginIncreaseFactor,c=void 0===s?l.adaptiveStatsThresholds.marginIncreaseFactor:s,u=t.marginDecreaseIntervalInMs,d=void 0===u?l.adaptiveStatsThresholds.marginDecreaseIntervalInMs:u,f=t.maxGradualCounter,p=void 0===f?l.adaptiveStatsThresholds.maxGradualCounter:f,v=t.minIntervalInMs,g=void 0===v?l.adaptiveStatsThresholds.minIntervalInMs:v,y=t.rippleBase,m=void 0===y?l.adaptiveStatsThresholds.rippleBase:y,b=t.windowSize,S=void 0===b?l.adaptiveStatsThresholds.windowSize:b,k=t.resetThreshold,w=void 0===k?l.adaptiveStatsThresholds.resetThreshold:k,C=t.minThreshold,T=void 0===C?l.adaptiveStatsThresholds.minThreshold:C;i(this,e),this.rttTester=new h("RTT Tester",T.rtt,S,w),this.throughputTester=new h("Throughput Tester",T.throughput,S,w),this.FLTester=new h("FL Tester",T.fractionalLoss,S,w),this.marginFactor=1,this.lastDecreased=0,this.lastTriggering=0,this.maxMarginFactor=r,this.marginReductionFactor=o,this.marginIncreaseFactor=c,this.marginDecreaseIntervalInMs=d,this.maxGradualCounter=p,this.gradualCounter=p,this.minIntervalInMs=g,this.rippleBase=m}return o(e,[{key:"test",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?{}:e.peek();if(!n)return!1;var r=(t?{}:e.getTrack()).data,i=t?t.rtt:n.getRTT(),a=u.checkForNan(parseInt(t?t.throughput:r.intervalBandwidth,10)),o=t?t.loss:n.getFractionLost(),c=t?t.time:s.getCurrent(),l=this.rttTester.doTest(i,this.marginFactor),d=this.throughputTester.doTest(a,this.marginFactor),f=this.FLTester.doTest(o,this.marginFactor);if(l||d||f)return this.marginFactor=Math.min(this.marginFactor*this.marginIncreaseFactor,this.maxMarginFactor),this.lastTriggering=c,this.lastDecreased=c,this.gradualCounter=0,!0;if(c-this.lastDecreased>this.marginDecreaseIntervalInMs&&(this.marginFactor=Math.max(this.marginFactor*this.marginReductionFactor,1),this.lastDecreased=c),this.gradualCounter<this.maxGradualCounter){var h=this.minIntervalInMs*Math.pow(this.rippleBase,this.gradualCounter);if(this.lastTriggering<c-h)return this.lastTriggering=c,this.gradualCounter+=1,!0}return!1}}]),e})(),v=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),t?(this.notifyCallback=t,this.minIntervalInMs=n.minIntervalInMs||l.adaptiveStatsThresholds.minIntervalInMs,this.maxIntervalInMs=n.maxIntervalInMs||l.adaptiveStatsThresholds.maxIntervalInMs,this.config=n,this.notified=0,this.testers=new Map):f.warn("notifyCallback was null or undefined : "+t)}return o(e,[{key:"setup",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"getMostRecentTrackStartTime",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return!!t&&"function"==typeof t.getCreationTime&&Math.max(t.getCreationTime(),e)},Number.MIN_VALUE)}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?t.time:s.getCurrent(),r=n-this.notified,i=this.doSend(e,t);if(this.minIntervalInMs===this.maxIntervalInMs)return f.log("Elapsed time in fix intervalset: "+r),void(r>this.minIntervalInMs&&(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n));if(!(r<this.minIntervalInMs)){var a=t?void 0:this.getMostRecentTrackStartTime(e);if(a&&n-a<l.adaptiveStatsThresholds.maxInitialTimeoutInMs&&r>l.adaptiveStatsThresholds.initialNotifyIntervalTimeoutInMs)return this.notifyCallback&&this.notifyCallback(t?n:null),void(this.notified=n);r<this.maxIntervalInMs&&!1===i||(this.notifyCallback&&this.notifyCallback(t?n:null),this.notified=n)}}},{key:"setIntervals",value:function(e,t){this.minIntervalInMs=e,this.maxIntervalInMs=t}},{key:"toString",value:function(){return"SendingTrigger"}},{key:"getTrackIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var t=e.getRequestedMeasurement();if(t)return t.getSSRC()+"-"+t.getStreamType()+"-"+t.getReportType()}}},{key:"isGoodTracks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!e)return!1;var t=e.getRequestedMeasurement();return!!t&&t.getReportType()===d.reportType.local&&(t.getStreamType()===d.streamType.inbound||t.getStreamType()===d.streamType.outbound)}},{key:"doSend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t){if(this.testers.has("test-ssrc")||this.testers.set("test-ssrc",new p(a({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get("test-ssrc").test(e,t))return!0}else for(var n=0;n<e.length;n+=1){var r=e[n];if(this.isGoodTracks(r)){var i=this.getTrackIdentifier(r);if(i)if(this.testers.has(i)||this.testers.set(i,new p(a({},this.config,{minIntervalInMs:this.minIntervalInMs,maxIntervalInMs:this.maxIntervalInMs}))),this.testers.get(i).test(r))return!0}}return!1}}]),e})();n.TestHelper=h,n.TrackMonitorTester=p,n.SendingTrigger=v},{"../../config/constants":36,"../../utility/csiologger":105,"../../utility/runningstats":115,"../../utility/timestamps":118,"../validator":100}],80:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ThroughputObserver=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../../config/constants")),s=r(e("../../utility/timestamps")),c=(function(){function e(t){i(this,e),this.notifierCallback=t,this.observations=new Map}return a(e,[{key:"accept",value:function(e){var t=e.filter(function(e){return e.getMediaType()===o.mediaType.video&&e.getStreamType()===o.streamType.outbound});if(!(t.length<1)){var n=this;t.forEach(function(e){n.observe(e)})}}},{key:"toString",value:function(){return"ThroughputObserver"}},{key:"getObservations",value:function(e){if(this.observations.has(e))return this.observations.get(e);return this.observations.set(e,{ssrc:0,started:0,max:0,maxTs:0,stable:0,stableTs:0,ready:!1,maxVerified:!1,stableVerified:!1}),this.observations.get(e)}},{key:"observe",value:function(e){var t=e.getSSRC(),n=this.getObservations(t),r=s.getCurrent();if(!0!==n.ready){if(0===n.started)return n.ssrc=t,void(n.started=r);var i=e.getTrack().data,a=i.csioIntBRKbps,o=Math.min(50,.05*a);if(n.max<a?(n.max=a,n.maxTs=r):1e4<r-n.maxTs&&(n.maxVerified=!0),!(r-n.started<15e3)&&(a-o<i.csioAvgBRKbps&&i.csioAvgBRKbps<a+o&&(n.stableTs=r,n.stable=a,n.stableVerified=!0),n.stableVerified&&n.maxVerified)){var c={ssrc:String(n.ssrc),maxsendingKBitrate:n.max,timeToMaxSendingKBitrate:n.maxTs-n.started,stablesendingKBitrate:n.stable,timeToStableSendingKBitrate:n.stableTs-n.started};this.notifierCallback(c),n.ready=!0}}}}]),e})();n.ThroughputObserver=c},{"../../config/constants":36,"../../utility/timestamps":118}],81:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r(this,e),this.mediaType=t,this.ssrc=""+n,this.streamType=i,this.started=a}return i(e,[{key:"setStart",value:function(){return this.started=!0,this}},{key:"setEnd",value:function(){return this.started=!1,this}},{key:"getContent",value:function(){return{mediaType:this.mediaType,ssrc:this.ssrc,streamType:this.streamType,disruptionType:this.streamType}}},{key:"isStarted",value:function(){return this.started}},{key:"toString",value:function(){return JSON.stringify({started:this.started,ssrc:this.ssrc,mediaType:this.mediaType,disruptionType:this.streamType})}}]),e})();n.OneWayMediaDisruption=a},{}],82:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i,a,o,s){r(this,e),this.candidatePair=t,this.codec=n,this.pcHash=i,this.trackStats=a,this.transportStats=o,this.measurements=s}return i(e,[{key:"getCandidatePair",value:function(){return this.candidatePair}},{key:"getCodec",value:function(){return this.codec}},{key:"getPcHash",value:function(){return this.pcHash}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getMeasurements",value:function(){return this.measurements}}]),e})();n.PcStats=a},{}],83:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.QualityEvaluator=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){i(this,e)}return a(e,[{key:"isAudio",value:function(e){return e&&e.data&&(e.mediaType===o.mediaType.audio||e.data.mediaType===o.mediaType.audio||e.data.csioMediaType===o.mediaType.audio)}},{key:"isVideo",value:function(e){return e&&e.data&&(e.mediaType===o.mediaType.video||e.data.mediaType===o.mediaType.video||e.data.csioMediaType===o.mediaType.video)}},{key:"isInbound",value:function(e){return e&&e.data&&(e.streamType===o.streamType.inbound||e.data.streamType===o.streamType.inbound||e.data.csioStreamType===o.streamType.inbound)}},{key:"isOutbound",value:function(e){return e&&e.data&&(e.streamType===o.streamType.outbound||e.data.streamType===o.streamType.outbound||e.data.csioStreamType===o.streamType.outbound)}},{key:"isInboundAudio",value:function(e){return this.isInbound(e)&&this.isAudio(e)}},{key:"isInboundVideo",value:function(e){return this.isInbound(e)&&this.isVideo(e)}},{key:"isOutboundAudio",value:function(e){return this.isOutbound(e)&&this.isAudio(e)}},{key:"isOutboundVideo",value:function(e){return this.isOutbound(e)&&this.isVideo(e)}},{key:"getDescendentRating",value:function(e,t){return t.green<=e?o.avQualityRatings.excellent:t.red<e?o.avQualityRatings.fair:o.avQualityRatings.bad}},{key:"getAscendingRating",value:function(e,t){return t.red<e?o.avQualityRatings.bad:t.green<=e?o.avQualityRatings.fair:o.avQualityRatings.excellent}},{key:"fromQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.avQualityRatings.unknown){case o.avQualityRatings.bad:return o.qualityRating.bad;case o.avQualityRatings.fair:return o.qualityRating.fair;case o.avQualityRatings.excellent:return o.qualityRating.excellent}return 0}},{key:"toQualityString",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.qualityRating.excellent){case o.qualityRating.excellent:return o.avQualityRatings.excellent;case o.qualityRating.good:case o.qualityRating.fair:case o.qualityRating.poor:return o.avQualityRatings.fair;case o.qualityRating.bad:return o.avQualityRatings.bad}return o.avQualityRatings.unknown}},{key:"inboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioIntFL&&0<e.csioIntFL){var i=this.getAscendingRating(e.csioIntFL,o.fractionalLossThreshold.audio),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioeM&&0<e.csioeM){var s=this.getAscendingRating(e.csioeM,o.eModelThreshold.audio),c=this.fromQualityString(s);t.push({result:c,weight:1})}return t}},{key:"inboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,o.rttThreshold.video),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/Math.max(e.csioPrevFrameRateMean,1),c=this.getDescendentRating(s,o.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"outboundAudioQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.audio),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioeM&&0<e.csioeM){var i=this.getAscendingRating(e.csioeM,o.eModelThreshold.audio),a=this.fromQualityString(i);t.push({result:a,weight:1})}return t}},{key:"outboundVideoQuality",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{},t=[];if(e.csioIntBRKbps&&0<e.csioIntBRKbps){var n=this.getDescendentRating(e.csioIntBRKbps,o.throughputThreshold.video),r=this.fromQualityString(n);t.push({result:r,weight:1})}if(e.csioSig2Latency&&0<e.csioSig2Latency){var i=this.getAscendingRating(e.csioSig2Latency,o.rttThreshold.video),a=this.fromQualityString(i);t.push({result:a,weight:1})}if(e.csioFrameRateMean&&e.prevFrameRateMean&&0<e.csioFrameRateMean&&0<e.csioPrevFrameRateMean){var s=e.csioFrameRateMean/e.csioPrevFrameRateMean,c=this.getDescendentRating(s,o.currOverPrevFrameRateThreshold.video),u=this.fromQualityString(c);t.push({result:u,weight:1})}return t}},{key:"getOverallTrackQuality",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0,r=0,i=e.length;r<i;r+=1)t+=e[r].weight;for(var a=0,o=e.length;a<o;a+=1){var s=e[a];n+=s.result*s.weight/Math.max(t,1)}return n=Math.floor(n),this.toQualityString(n)}},{key:"updateQualityStats",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tracks||[],n=0,i=t.length;n<i;n+=1){var a=t[n],o=[];if(this.isInboundAudio(a)){var s=this.inboundAudioQuality(a);o.push.apply(o,r(s))}else if(this.isInboundVideo(a)){var c=this.inboundVideoQuality(a);o.push.apply(o,r(c))}else if(this.isOutboundAudio(a)){var u=this.outboundAudioQuality(a);o.push.apply(o,r(u))}else if(this.isOutboundVideo(a)){var l=this.outboundVideoQuality(a);o.push.apply(o,r(l))}var d=this.getOverallTrackQuality(o);a.data.csioMark=d}return e}}]),e})();n.QualityEvaluator=s},{"../config/constants":36}],84:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i){r(this,e),this.width=t,this.height=n,this.frameRate=i}return i(e,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getFrameRate",value:function(){return this.frameRate}},{key:"toString",value:function(){return this.width&&this.height&&this.frameRate?this.width.toString()+"X"+this.height.toString()+"X"+this.frameRate.toString():null}}]),e})();n.Resolution=a},{}],85:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAdapter=n.StatsAdapterIO=void 0;var c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=r(e("../config/constants")),l=e("../collections/component"),d=e("../utility/registry"),f=r(e("../utility/hash")),h=n.StatsAdapterIO={RawStatsIn:"RawStatsIn",RawStatsOut:"RawStatsOut",UnprocessedOut:"UnprocessedOut"},p=(function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAdapter"));return r.bindPort(h.RawStatsIn,r.receiveRawData,r),r.declarePort(h.RawStatsOut),r.declarePort(h.UnprocessedOut),r.codeBase=e,r.browser=n,r}return o(t,l.Component),c(t,[{key:"receiveRawData",value:function(e,t,n){if(e){var r=this.extractRawStats(n),i=this.extractRawStats(e);if(i){this.mergeStats(i,r),window&&window.csioReactNative&&(i=this.removeValues(i)),this.isConnected(h.UnprocessedOut)&&this.transmit(h.UnprocessedOut,i,t);var a=this.processRawStats(i,t);if(a&&a.transportStats)for(var o=0;o<a.transportStats.length;o++)a.transportStats[o].hash=this.getTransportHash(a.transportStats[o]);a&&a.transportStats&&this.checkTransportStatsUpdates(a.transportStats,t),a&&a.trackStats&&(a=this.backFillTrackStats(a)),a&&a.transportStats&&a.candidatePair&&(a=this.backFillCandidatePairStats(a)),a.pcHash=t,this.transmit(h.RawStatsOut,a)}}}},{key:"isCandidateRelayed",value:function(e,t){return!(!e||"relay"!==e.candidateType&&"relayed"!==e.candidateType)||!(!t||"relay"!==t.candidateType&&"relayed"!==t.candidateType)}},{key:"mergeStats",value:function(e,t){var n=["inbound-rtp","outbound-rtp"],r=["googFrameRateOutput","googFrameRateDecoded","googFrameRateReceived","googFrameRateSent","framerateMean","framesPerSecond"];if(t){for(var i=new Map,a=void 0,o=0;o<t.length;o++)if("VideoBwe"!==t[o].type){var s=parseInt(t[o].ssrc,10);i.set(s,t[o])}else a=t[o];for(var c=0;c<e.length;c++){var u=e[c].type;if(n.includes(u)){var l=e[c].ssrc,d=i.get(l);for(var f in d)d.hasOwnProperty(f)&&(f.startsWith("goog")||"audioOutputLevel"===f||"audioInputLevel"===f?e[c][f]=d[f]:"timestamp"===f&&(e[c].legacyTimeStamp=d.timestamp)),e[c].roundTripTime||(e[c].googRtt=d.googRtt),r.includes(f)&&(e[c].legacyFrameRatePerSecond=d[f])}}a&&e.push(a)}}},{key:"removeValues",value:function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.values){for(var r=0;r<n.values.length;++r)s(n,n.values[r]);delete n.values}}return e}},{key:"getIceCandidates",value:function(e){if(!e)return{localIceCandidates:[],remoteIceCandidates:[],iceCandidatePairs:[]};var t=this.extractRawStats(e);return this.processRawStatsForIceInfo(t)}},{key:"extractRawStats",value:function(e){var t=[];if(e&&e.result)t=e.result();else if(e&&e.forEach)e.forEach(function(e){t.push(e)});else for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);for(var r=[],i=0;i<t.length;i++){var a=this.getParsedStats(t[i]);r.push(a)}if(r.filter(function(e){return"transport"===e.type}).length>0)return r;for(var o=void 0,s=0;s<r.length;s++)(("candidate-pair"===r[s].type||"candidatepair"===r[s].type)&&r[s].selected||"googCandidatePair"===r[s].type&&(!0===r[s].googActiveConnection||"true"===r[s].googActiveConnection))&&((o={}).selectedCandidatePairId=r[s].id,o.id=r[s].id,this.mergeObjects(o,r[s]),o.type="transport",r.push(o));return r}},{key:"normalizeIceCandidates",value:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];r.transport=r.protocol?r.protocol:"udp",r.ip=r.ip?r.ip:r.ipAddress,r.port=r.portNumber?Number(r.portNumber):r.port,"ssltcp"===r.transport&&(r.transport="tcp"),r.id||(r.id="csio"+r.port),r.ip||r.address&&(r.ip=r.address),r.ip&&t.push(r)}return t}},{key:"normalizeCanidatePairs",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];"in-progress"===n.state&&(n.state="inprogress"),n.state||(n.state="succeeded"),n.nominated||(n.nominated="true"===n.googActiveConnection),n.priority||(n.priority=123),n.id||(n.id="csio"+n.priority)}return e}},{key:"processRawStatsForIceInfo",value:function(e){var t=[],n=[],r=[],i=void 0;if(!e)return{localIceCandidates:t,remoteIceCandidates:n,iceCandidatePairs:r};for(var a=0;a<e.length;++a){var o=e[a],s=this.statsClassifier(o);if(s.candidatePair)r.push(s.candidatePair);else if(s.transportStats){if("transport"===s.transportStats.type){i=s.transportStats.selectedCandidatePairId;continue}r.push(s.transportStats)}else s.localCandidate?t.push(s.localCandidate):s.remoteCandidate&&n.push(s.remoteCandidate)}if(i)for(var c=0;c<r.length;++c)r[c].id===i&&(r[c].googActiveConnection="true");return{localIceCandidates:this.normalizeIceCandidates(t),remoteIceCandidates:this.normalizeIceCandidates(n),iceCandidatePairs:this.normalizeCanidatePairs(r)}}},{key:"processRawStats",value:function(e,t){for(var n={localIceCandidates:{},remoteIceCandidates:{},tracks:[],candidatePair:[],transportStats:[],trackStats:[],codec:[]},r=0;r<e.length;r++){var i=e[r],a=this.statsClassifier(i);a.tracks?n.tracks.push(a.tracks):a.candidatePair?n.candidatePair.push(a.candidatePair):a.bwe?n.bwe=a.bwe:a.trackStats?n.trackStats.push(a.trackStats):a.codec?n.codec.push(a.codec):a.localCandidate?n.localIceCandidates[a.localCandidate.id]=a.localCandidate:a.remoteCandidate&&(n.remoteIceCandidates[a.remoteCandidate.id]=a.remoteCandidate),a.transportStats&&(this.codeBase!==u.codeBaseType.firefox?(parseInt(a.transportStats.bytesReceived,10)>0||parseInt(a.transportStats.bytesSent,10)>0)&&n.transportStats.push(a.transportStats):"true"!==a.transportStats.selected&&!0!==a.transportStats.selected||n.transportStats.push(a.transportStats))}if(n.tracks){var o=d.Registry.getConferenceManager().getConferenceForPcHash(t),s=void 0;o&&(s=o.getPeerConnectionManager().getPcHandlerByHash(t)),n.tracks.forEach(function(e){var t=s.getSSRCInfo(e.data.ssrc);void 0!==t&&t.localStartTime||s&&(s.updateSDP(n.tracks),t=s.getSSRCInfo(e.data.ssrc)),t&&(e.cname=t.cname,e.msid=t.msid,e.associatedVideoTag=t.associatedVideoTag,e.usageLabel=t.usageLabel)})}return n.transportStats&&this.codeBase===u.codeBaseType.firefox&&(n.transportStats=this.getAddressInfoFromCandidates(n.transportStats,n.localIceCandidates,n.remoteIceCandidates)),n}},{key:"getParsedStats",value:function(e){var t={};if(e.timestamp instanceof Date&&(t.timestamp=e.timestamp.getTime().toString()),e.type&&(t.type=e.type),e.names){for(var n=e.names(),r=0;r<n.length;++r)t[n[r]]=e.stat(n[r]);e.id&&(t.id=e.id)}else s(t,e);if(t.values){for(var i=0;i<t.values.length;++i)s(t,t.values[i]);delete t.values}return t}},{key:"statsClassifier",value:function(e){var t={},n=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return-1!==n.indexOf(e.type)},r=n("inbound-rtp","inboundrtp","remote-inbound-rtp"),i=n("outbound-rtp","outboundrtp","remote-outbound-rtp"),a=e.isRemote?"true"===e.isRemote||!0===e.isRemote:null;return null===a&&(a=n("remote-inbound-rtp","remote-outbound-rtp")),r||i?(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.streamType=r?"inbound":"outbound",t.tracks.reportType=a?"remote":"local"):n("localcandidate","local-candidate")?t.localCandidate=e:n("remotecandidate","remote-candidate")?t.remoteCandidate=e:n("transport")?t.transportStats=e:n("VideoBwe")?t.bwe=e:n("track")?t.trackStats=e:n("candidate-pair","candidatepair","googCandidatePair")?t.candidatePair=e:n("codec")?t.codec=e:n("ssrc")&&(t.tracks={},t.tracks.data=e,t.tracks.ssrc=e.ssrc,t.tracks.reportType="local",t.tracks.streamType=e.bytesSent?"outbound":"inbound"),t}},{key:"getAddressInfoFromCandidates",value:function(e,t,n){for(var r=void 0,i=void 0,a=0;a<e.length;a++)r=t[e[a].localCandidateId],i=n[e[a].remoteCandidateId],r&&i&&(e[a].localAddr=r.ipAddress+":"+r.portNumber,e[a].remoteAddr=i.ipAddress+":"+i.portNumber,e[a].localAddrType=r.candidateType,e[a].remoteAddrType=i.candidateType,e[a].transportType=r.transport);return e}},{key:"getTransportHash",value:function(e){var t=void 0;return e&&(this.codeBase===u.codeBaseType.chrome?e.googLocalAddress?(t=e.googLocalAddress).concat(":",e.googRemoteAddress):e.selectedCandidatePairId&&(t=e.selectedCandidatePairId):this.codeBase===u.codeBaseType.firefox&&(t=e.localAddr).concat(":",e.remoteAddr)),f.generateHash(t)}},{key:"backFillTrackStats",value:function(e){for(var t=e.tracks.length,n=void 0,r=void 0,i=void 0,a=0;a<t;a++)(n=e.tracks[a]).data.trackId&&(r=this.getStatsForId(e.trackStats,n.data.trackId))&&(e.tracks[a].data=this.mergeObjects(e.tracks[a].data,r)),n.data.codecId&&(i=this.getStatsForId(e.codec,n.data.codecId))&&(e.tracks[a].data=this.mergeObjects(e.tracks[a].data,i));return e}},{key:"backFillCandidatePairStats",value:function(e){for(var t=e.transportStats.length,n=void 0,r=void 0,i=0;i<t;i++)(r=e.transportStats[i]).selectedCandidatePairId&&(n=this.getStatsForId(e.candidatePair,r.selectedCandidatePairId))&&(e.transportStats[i]=this.mergeObjects(e.transportStats[i],n),e.transportStats[i].csioIsRelayed=this.isCandidateRelayed(e.localIceCandidates[n.localCandidateId],e.remoteIceCandidates[n.remoteCandidateId]));return e}},{key:"mergeObjects",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&"id"!==n&&"type"!==n&&(e[n]=t[n]);return e}},{key:"getStatsForId",value:function(e,t){if(e){var n=e.filter(function(e){return e.id===t});if(n.length>0)return n[0]}}},{key:"formatRelayType",value:function(e){var t="None";switch(e){case 0:t="TURN/TLS";break;case 1:t="TURN/TCP";break;case 2:t="TURN/UDP"}return t}},{key:"getRelayType",value:function(e,t){var n=this,r=void 0;return t.getIceCandidates().some(function(t){if(t.typePreference){var i=t.typePreference>>24;return"rtp"===t.protocol&&t.address===e&&(i>=0&&i<=2&&(r=n.formatTypePreference(i)),!0)}return!1}),r}},{key:"getTransportInfo",value:function(e,t){for(var n={},r=!1,i=0;i<e.length;i++){var a=e[i];if(navigator.mozGetUserMedia&&"candidatepair"===a.type&&("true"===a.selected||!0===a.selected)){n.foundActive=!0,n.localAddr=a.localAddr,n.remoteAddr=a.remoteAddr,n.localAddrType=a.localAddrType,n.remoteAddrType=a.remoteAddrType,n.transportType=a.transportType,n.localCandidateId=a.localCandidateId,n.remoteCandidateId=a.remoteCandidateId;break}if("googCandidatePair"===a.type&&("true"===a.googActiveConnection||!0===a.googActiveConnection)){n.foundActive=!0,n.localAddr=a.googLocalAddress,n.remoteAddr=a.googRemoteAddress,n.localAddrType=a.googLocalCandidateType,n.remoteAddrType=a.googRemoteCandidateType,n.transportType=a.googTransportType;break}if("transport"===a.type){r=!0,a.selectedCandidatePairId&&(n.selectedCandidatePairId=a.selectedCandidatePairId);break}}return r&&n.localAddr&&(n.ipv6=0===n.localAddr.indexOf("["),n.relayType=getRelayType(n.localAddr,t)),n}},{key:"sendFabricTransportSwitch",value:function(e,t){e.sendFabricTransportSwitch(t)}},{key:"checkTransportStatsUpdates",value:function(e,t){var n=d.Registry.getConferenceManager().getConferenceForPcHash(t);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(t);if(r){var i=this.getTransportInfo(e,r),a=r.getTransportInfo();a&&(a.localAddr===i.localAddr&&a.remoteAddr===i.remoteAddr&&a.transportType===i.transportType&&a.selectedCandidatePairId===i.selectedCandidatePairId&&a.localCandidateId===i.localCandidateId&&a.remoteCandidateId===i.remoteCandidateId||(r.setTransportInfo(i),this.sendFabricTransportSwitch(r,i.relayType)))}}}}]),t})();n.StatsAdapter=p},{"../collections/component":24,"../config/constants":36,"../utility/hash":109,"../utility/registry":114}],86:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsAssembler=n.StatsAssemblerIO=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("../collections/component"),c=n.StatsAssemblerIO={StatsTupleIn:"StatsTupleIn",CallstatsOut:"CallstatsOut"},u=(function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsAssembler"));return e.pcHashes=[],e.bindPort(c.StatsTupleIn,e.receiveStats,e),e.declarePort(c.CallstatsOut),e}return a(t,s.Component),o(t,[{key:"receiveStats",value:function(e){for(var t=this,n=0;n<e.tracks.length;n++)!(function(n){var r=e.tracks[n];if(t.pcHashes.find(function(e){return e===r.pcHash}))return"continue";t.pcHashes.push(r.pcHash)})(n);var r=e.getTransportStats();for(n=0;n<this.pcHashes.length;n++){var i=this.pcHashes[n],a={};a.codec=e.getCodec(),a.trackStats=e.getTrackStats(),a.tracks=[];for(var o=0;o<e.tracks.length;o++){var s=e.tracks[o];s.pcHash===i&&a.tracks.push(s)}if(r&&r.has(i)){var u=r.get(i);u&&1===u.length?a.Transport=u[0]:a.Transport=u,this.transmit(c.CallstatsOut,i,a,e.getDestination())}}}}]),t})();n.StatsAssembler=u},{"../collections/component":24}],87:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsCallbackBuilder=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../utility/registry"),o=(function(){function e(){r(this,e),this.callback=null}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"buildStats",value:function(e,t){this.callback&&this.buildFromUnifiedFormat(e,t)}},{key:"getConnectionState",value:function(){return!0===navigator.onLine?"online":"offline"}},{key:"buildConferenceUrl",value:function(e){var t=e.getConferenceId(),n=a.Registry.getConferenceManager().get(t);return n?n.getUrl():null}},{key:"buildFromUnifiedFormat",value:function(e,t){var n={};n.connectionState=this.getConnectionState(),n.conferenceURL=this.buildConferenceUrl(t),n.fabricState=t.getPcState(),n.streams={},n.mediaStreamTracks=[];for(var r=0;r<e.length;r++){var i=e[r];if("inbound-rtp"===i.type||"outbound-rtp"===i.type||"ssrc"===i.type||"inboundrtp"===i.type||"outboundrtp"===i.type){var a={ssrc:i.ssrc,statsType:i.type,fractionLoss:i.csioIntFL,bitrate:i.csioIntBRKbps,quality:i.csioMark,mediaType:i.csioMediaType,jitter:i.jitter,audioOutputLevel:i.audioOutputLevel,audioIntputLevel:i.audioInputLevel,audioLevel:i.audioLevel,averageRTT:i.csioAvgRtt,averageJitter:i.csioAvgJitter,packetLossPercentage:i.csioPktLossPercentage,rtt:i.roundTripTime,packetRate:i.csioIntPR,remoteUserID:t.getRemoteId()},o=t.getSSRCInfo(i.ssrc+"");if(o&&(a.cname=o.cname,a.msid=o.msid,a.usageLabel=o.usageLabel,a.associatedVideoTag=o.associatedVideoTag),i.hasOwnProperty("roundTripTime")?a.rtt=i.roundTripTime:i.hasOwnProperty("googRtt")?a.rtt=i.googRtt:i.hasOwnProperty("mozRtt")&&(a.rtt=i.mozRtt),i.hasOwnProperty("jitter")?a.jitter=i.jitter:i.hasOwnProperty("googJitterReceived")&&(a.jitter=i.googJitterReceived),"inboundrtp"===a.statsType)a.statsType="inbound-rtp";else if("outboundrtp"===a.statsType)a.statsType="outbound-rtp";else if("ssrc"===a.statsType){i.id.indexOf("send")>0?a.statsType="outbound-rtp":a.statsType="inbound-rtp"}"remote-inbound-rtp"!==a.statsType&&"remote-outbound-rtp"!==a.statsType&&(!0!==i.isRemote&&"true"!==i.isRemote||(a.statsType="remote-"+a.statsType)),n.streams[i.ssrc]=a,n.mediaStreamTracks.push(a)}}this.callback(n)}}]),e})();n.StatsCallbackBuilder=o},{"../utility/registry":114}],88:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsMonitor=n.StatsMonitorIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./tracksmonitor"),l=e("./transportsmonitor"),d=e("./intervalstatsmonitor"),f=e("./qualityevaluator"),h=e("./statstuple"),p=e("../utility/registry"),v=e("./monitorhooks/sendingtrigger"),g=e("./monitorhooks/onewaymediaobserver"),y=e("./monitorhooks/throughputobserver"),m=e("./monitorhooks/cpulimitationobserver"),b=e("./monitorhooks/qpsumobserver"),S=e("./monitorhooks/circuitbreakerobserver"),k=e("./monitorhooks/avdesyncobserver"),w=r(e("../utility/timestamps")),C=r(e("../config/constants")),T=r(e("../utility/csiologger")),_=n.StatsMonitorIO={PcStatsTupleIn:"PcStatsTupleIn",StatsTupleOut:"StatsTupleOut"},P=(function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsMonitor"));return n.bindPort(_.PcStatsTupleIn,n.receive,n),n.declarePort(_.StatsTupleOut),n.lastPcStats=null,n.lastPcHash=null,n.tracksmonitor=new u.TracksMonitor,n.transportsmonitor=new l.TransportsMonitor(e),n.intervalstatsmonitor=new d.IntervalStatsMonitor,n.qualityevaluator=new f.QualityEvaluator,n.candidatepairs=new Map,n.monitorhooks=[],n.sendingTrigger=new v.SendingTrigger(n.sendStatsTuple.bind(n)),n.oneWayMediaObserver=new g.OneWayMediaObserver(n.sendDisruptions.bind(n)),n.throughputObserver=new y.ThroughputObserver(n.sendThroughputObservations.bind(n)),n.cpuLimitationObserver=new m.CPULimitationObserver(n.sendCPULimitationObservations.bind(n)),n.qpSumObserver=new b.QPSumObserver(n.sendQPSumDistortions.bind(n)),n.circuitBreakerObserver=new S.CircuitBreakerObserver(n.sendCircuitBreakerEvent.bind(n)),n.avDesyncObserver=new k.AVDeSyncObserver,n.setupHooks(),n.statsToCallbackSent=w.getCurrent(),n}return o(t,c.Component),s(t,[{key:"setupHooks",value:function(){this.monitorhooks.push(this.sendingTrigger.accept.bind(this.sendingTrigger)),this.monitorhooks.push(this.oneWayMediaObserver.accept.bind(this.oneWayMediaObserver)),this.monitorhooks.push(this.throughputObserver.accept.bind(this.throughputObserver)),this.monitorhooks.push(this.cpuLimitationObserver.accept.bind(this.cpuLimitationObserver)),this.monitorhooks.push(this.qpSumObserver.accept.bind(this.qpSumObserver)),this.monitorhooks.push(this.circuitBreakerObserver.accept.bind(this.circuitBreakerObserver)),this.monitorhooks.push(this.avDesyncObserver.accept.bind(this.avDesyncObserver))}},{key:"setIntervals",value:function(e,t){this.sendingTrigger.setup(e,t)}},{key:"receive",value:function(e){var t=e.getPcHash();this.candidatepairs.set(t,e.getCandidatePair()),this.transportsmonitor.set(t,e.getTransportStats()),this.intervalstatsmonitor.set(t,e.getMeasurements());for(var n=e.getMeasurements(),r=0;r<n.length;r++){var i=n[r],a=this.tracksmonitor.getMonitor(i);a?a.add(i):T.warn("No monitor for ssrc "+i.getSSRC())}this.lastPcStats=e,this.lastPcHash=t;for(var o=this.tracksmonitor.getMonitors(),s=this.monitorhooks,c=0;c<s.length;c++)(0,s[c])(o);var u=w.getCurrent();5e3<u-this.statsToCallbackSent&&(this.sendStatsTuple(C.statsDestination.callback),this.statsToCallbackSent=u)}},{key:"getCandidatePairs",value:function(){var e=[];return this.candidatepairs.forEach(function(t,n){var r=[n,t];e.push(r)}),e}},{key:"sendStatsTuple",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=C.statsDestination.backend);var t=new h.StatsTuple(this.getCandidatePairs(),this.lastPcStats.getCodec(),this.lastPcStats.getTrackStats(),this.transportsmonitor.getIntervalStats(),this.tracksmonitor.extractTracks(),this.intervalstatsmonitor.getIntervalStats(e),e);t=this.qualityevaluator.updateQualityStats(t),this.transmit(_.StatsTupleOut,t)}},{key:"sendDisruptions",value:function(e){var t=this;e.forEach(function(e){e.isStarted()?t.sendEventMsg(C.internalFabricEvent.oneWayMediaStart,e.getContent()):t.sendEventMsg(C.internalFabricEvent.oneWayMediaStop,e.getContent())})}},{key:"sendCircuitBreakerEvent",value:function(e){var t=this;e.forEach(function(e){t.sendEventMsg(C.internalFabricEvent.circuitBreaker,e.getContent())})}},{key:"sendCPULimitationObservations",value:function(e){}},{key:"sendQPSumDistortions",value:function(e){}},{key:"sendThroughputObservations",value:function(e){this.sendEventMsg(C.internalFabricEvent.sendingThroughputObservations,e)}},{key:"sendEventMsg",value:function(e,t){if(this.lastPcHash){var n=p.Registry.getConferenceManager().getConferenceForPcHash(this.lastPcHash);if(n){var r=n.getPeerConnectionManager().getPcHandlerByHash(this.lastPcHash),i=r.getPeerConnection(),a=r.getConferenceId();p.Registry.getEventMessageBuilder().make(e,a,i,t)}}}},{key:"delete",value:function(e){this.tracksmonitor&&this.tracksmonitor.deleteTracks(e),this.transportsmonitor&&this.transportsmonitor.delete(e),this.intervalstatsmonitor&&this.intervalstatsmonitor.delete(e),this.candidatepairs&&this.candidatepairs.has(e)&&this.candidatepairs.delete(e)}}]),t})();n.StatsMonitor=P},{"../collections/component":24,"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114,"../utility/timestamps":118,"./intervalstatsmonitor":64,"./monitorhooks/avdesyncobserver":67,"./monitorhooks/circuitbreakerobserver":68,"./monitorhooks/cpulimitationobserver":76,"./monitorhooks/onewaymediaobserver":77,"./monitorhooks/qpsumobserver":78,"./monitorhooks/sendingtrigger":79,"./monitorhooks/throughputobserver":80,"./qualityevaluator":83,"./statstuple":91,"./tracksmonitor":98,"./transportsmonitor":99}],89:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsParser=n.StatsParserIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("./measurement"),l=e("./pcstats"),d=r(e("./validator")),f=r(e("../config/constants")),h=r(e("../utility/csiologger")),p=n.StatsParserIO={RawStatsIn:"RawStatsIn",PcStatsTupleOut:"PcStatsTupleOut"},v=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsParser"));return e.bindPort(p.RawStatsIn,e.receive,e),e.declarePort(p.PcStatsTupleOut),e}return o(t,c.Component),s(t,[{key:"receive",value:function(e){if(null!==e){for(var t=e.tracks,n=[],r=0;r<t.length;++r){var i=t[r];if(i&&i.data){var a=u.Measurement.make(e.pcHash,this.getSSRC(i),this.getStreamType(i),this.getMediaType(i),this.getReportType(i),this.getFrameRateReceived(i),this.getFrameHeight(i),this.getFrameWidth(i),this.getDroppedFramesNum(i),this.getFramesReceived(i),this.getRTT(i),this.getJitter(i),this.getLostPackets(i),this.getReceivedPackets(i),this.getSentPackets(i),this.getDiscardedPackets(i),this.getSentBytes(i),this.getReceivedBytes(i),this.getFractionLost(i),this.getGoogEchoCancellationReturnLoss(i),this.getGoogEchoCancellationReturnLossEnhancement(i),i);n.push(a)}else h.log("No track or track.data.")}var o=new l.PcStats(e.candidatePair,e.codec,e.pcHash,e.trackStats,e.transportStats,n);this.transmit(p.PcStatsTupleOut,o)}else h.warn("Stats object can not be null")}},{key:"getSSRC",value:function(e){return e.ssrc}},{key:"getStreamType",value:function(e){return e.streamType===f.streamType.inbound?f.streamType.inbound:e.streamType===f.streamType.outbound?f.streamType.outbound:void 0}},{key:"getSentBytes",value:function(e){if(void 0===e.data.bytesSent)return-1;var t=d.checkForNan(parseInt(e.data.bytesSent,10));return null!==t?t:-1}},{key:"getReceivedBytes",value:function(e){if(void 0===e.data.bytesReceived)return-1;var t=d.checkForNan(parseInt(e.data.bytesReceived,10));return null!==t?t:-1}},{key:"getReceivedPackets",value:function(e){if(void 0===e.data.packetsReceived)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsReceived,10));return null!==t?t:-1}},{key:"getSentPackets",value:function(e){if(void 0===e.data.packetsSent)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsSent,10));return null!==t?t:-1}},{key:"getDiscardedPackets",value:function(e){if(void 0===e.data.discardedPackets)return-1;var t=d.checkForNan(parseInt(e.data.discardedPackets,10));return null!==t?t:-1}},{key:"getLostPackets",value:function(e){if(void 0===e.data.packetsLost)return-1;var t=d.checkForNegativeValue(parseInt(e.data.packetsLost,10));return null!==t?t:-1}},{key:"getDroppedFramesNum",value:function(e){if(void 0===e.data.droppedFrames)return-1;var t=d.checkForNegativeValue(parseInt(e.data.droppedFrames,10));return null!==t?t:-1}},{key:"getFramesReceived",value:function(e){if(void 0===e.data.framesReceived)return-1;var t=d.checkForNegativeValue(parseInt(e.data.framesReceived,10));return null!==t?t:-1}},{key:"getFrameRateReceived",value:function(e){var t=null;return void 0!==e.data.framerateMean?t=parseInt(e.data.framerateMean,10):void 0!==e.data.framesPerSecond?t=parseInt(e.data.framesPerSecond,10):void 0!==e.data.googFrameRateOutput?t=parseInt(e.data.googFrameRateOutput,10):void 0!==e.data.googFrameRateDecoded?t=parseInt(e.data.googFrameRateDecoded,10):void 0!==e.data.googFrameRateReceived?t=parseInt(e.data.googFrameRateReceived,10):void 0!==e.data.googFrameRateSent&&(t=parseInt(e.data.googFrameRateSent,10)),void 0!==t&&(t=d.checkForNegativeValue(t)),t}},{key:"getFrameHeight",value:function(e){var t=void 0;return void 0!==e.data.frameHeight?t=e.data.frameHeight:void 0!==e.data.googFrameHeightReceived?t=e.data.googFrameHeightReceived:void 0!==e.data.googFrameHeightSent&&(t=e.data.googFrameHeightSent),t}},{key:"getJitter",value:function(e){return void 0!==e.data.jitter?d.checkForNan(parseFloat(e.data.jitter,10)):void 0!==e.data.googJitterReceived?d.checkForNan(parseFloat(e.data.googJitterReceived,10)):void 0}},{key:"getFrameWidth",value:function(e){return void 0!==e.data.frameWidth?e.data.frameWidth:void 0!==e.data.googFrameWidthReceived?e.data.googFrameWidthReceived:void 0!==e.data.googFrameWidthSent?e.data.googFrameWidthSent:void 0}},{key:"getRTT",value:function(e){var t=function(e){return isNaN(e)||e<0?null:e};return void 0!==e.data.roundTripTime?t(parseFloat(e.data.roundTripTime,10)):void 0!==e.data.googRtt?t(parseFloat(e.data.googRtt,10)):void 0!==e.data.mozRtt?t(parseFloat(e.data.mozRtt,10)):void 0}},{key:"getMediaType",value:function(e){var t=f.mediaType.unknown;return e.data&&void 0!==e.data.mediaType?e.data.mediaType:e.data&&void 0!==e.data.kind?e.data.kind:(e.data.mediaType?t=e.data.mediaType:void 0!==e.data.googFrameRateReceived||void 0!==e.data.googFrameRateSent?t=f.mediaType.video:void 0!==e.data.audioInputLevel||void 0!==e.data.audioOutputLevel?t=f.mediaType.audio:void 0!==e.data.framerateMean&&(t=f.mediaType.video),t)}},{key:"getReportType",value:function(e){return e.reportType||f.reportType.unknown}},{key:"getFractionLost",value:function(e){return void 0===e.data.fractionLost?-1:(function(e){return isNaN(e)||e<0?null:e})(parseFloat(e.data.fractionLost,10))}},{key:"getGoogEchoCancellationReturnLoss",value:function(e){return void 0===e.data.googEchoCancellationReturnLoss?-1:d.checkForNan(parseFloat(e.data.googEchoCancellationReturnLoss,10))}},{key:"getGoogEchoCancellationReturnLossEnhancement",value:function(e){return void 0===e.data.googEchoCancellationReturnLossEnhancement?-1:d.checkForNan(parseFloat(e.data.googEchoCancellationReturnLossEnhancement,10))}}]),t})();n.StatsParser=v},{"../collections/component":24,"../config/constants":36,"../utility/csiologger":105,"./measurement":65,"./pcstats":82,"./validator":100}],90:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTransmitter=n.StatsTransmitterIO=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=e("../collections/component"),u=e("../utility/registry"),l=r(e("../config/constants")),d=r(e("../utility/csiologger")),f=n.StatsTransmitterIO={CallstatsIn:"CallstatsIn",UnprocessedIn:"UnprocessedIn"},h=(function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StatsTransmitter"));return e.battery=u.Registry.getBattery(),e.lastUnprocessedStats={},e.bindPort(f.CallstatsIn,e.receiveCallstats,e),e.bindPort(f.UnprocessedIn,e.receiveUnprocessed,e),e}return o(t,c.Component),s(t,[{key:"receiveUnprocessed",value:function(e,t){this.lastUnprocessedStats[t]=e}},{key:"receiveCallstats",value:function(e,t,n){var r=this.getUnifiedFormat(t,e);r?this.send(e,r,n):d.warn("Content can not be sent")}},{key:"send",value:function(e,t,n){var r=u.Registry.getConferenceManager().getConferenceForPcHash(e);if(r){var i=r.getPeerConnectionManager().getPcHandlerByHash(e);if(i){var a=i.getPcState();if(a!==l.fabricState.terminated&&a!==l.fabricState.hold)return n===l.statsDestination.callback?void this.sendToStatsCallback(t.stats,i):void u.Registry.getEventMessageBuilder().make(l.callstatsChannels.processedStats,i.getConferenceId(),i.getPeerConnection(),t)}}}},{key:"sendToStatsCallback",value:function(e,t){var n=u.Registry.getStatsCallbackBuilder();n&&n.buildStats(e,t)}},{key:"getUnifiedFormat",value:function(e,t){for(var n=this.lastUnprocessedStats[t],r=[],i=0;i<n.length;i++){var a=n[i],o=(function(t){for(var n=0;n<e.tracks.length;n++){var r=e.tracks[n];if(r.data.id===t.id&&r.data.type===t.type)return r.data}return t.id===e.Transport.id&&t.type===e.Transport.type?e.Transport:null})(a);if(o){for(var s in o)if(o.hasOwnProperty(s)){if("id"===s||"type"===s||"timestamp"===s)continue;a[s]=o[s]}r.push(a)}else r.push(a)}var c={stats:r};return c.wifiStats=u.Registry.getWifiStatsExecutor().getWifiStats(),c.batteryStatus={},c.batteryStatus.batteryLevel=this.battery.getLevel(),c.batteryStatus.isBatteryCharging=this.battery.getCharging(),-1===c.batteryStatus.batteryLevel&&(c.batteryStatus=null),c}}]),t})();n.StatsTransmitter=h},{"../collections/component":24,"../config/constants":36,"../utility/csiologger":105,"../utility/registry":114}],91:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.StatsTuple=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./intervalstatsmonitor"),o=(function(){function e(t,n,i,o,s,c,u){r(this,e),this.candidatePairs=t,this.codec=n,this.trackStats=i,this.transportStats=o,this.tracks=a.IntervalStatsMonitor.mergeIntervalStats(s,c),this.destination=u}return i(e,[{key:"getCandidatePairs",value:function(){return this.candidatePairs}},{key:"getCodec",value:function(){return this.codec}},{key:"getTrackStats",value:function(){return this.trackStats}},{key:"getTransportStats",value:function(){return this.transportStats}},{key:"getTracks",value:function(){return this.tracks}},{key:"getDestination",value:function(){return this.destination}}]),e})();n.StatsTuple=o},{"./intervalstatsmonitor":64}],92:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.EchoDetection=void 0;var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=r(e("../../config/constants")),u=r(e("../validator")),l=e("./swplugin"),d=(function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return o(t,l.SWPlugin),s(t,[{key:"detectEcho",value:function(e,n,r){if(!u.isNumber(e)||!u.isNumber(n)||!u.isNumber(r))return null;var i=t.getEModelValue(r/2,e+n);return t.getEchoRating(i)}},{key:"add",value:function(e){this.filter(e)&&this.calculate(e)}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.detectEcho(e.getGoogEchoCancellationReturnLoss(),e.getGoogEchoCancellationReturnLossEnhancement(),e.getRTT());this.notify(t)}}],[{key:"isValidTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return!!e&&e.getReportType()===c.reportType.local&&e.getStreamType()===c.streamType.outbound&&e.getMediaType()===c.mediaType.audio}},{key:"getEModelValue",value:function(e,t){var n=(1+e/10)/(1+e/150),r=e*e*-.3,i=t-40*Math.log(n)+6*Math.pow(Math.E,r);return u.isNumber(i)?i:null}},{key:"getEchoRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e>=14?c.echoDetectionLabel.acceptable:e>8&&e<14?c.echoDetectionLabel.limitingCase:e<=8?c.echoDetectionLabel.unacceptable:null}}]),t})();n.EchoDetection=d},{"../../config/constants":36,"../validator":100,"./swplugin":95}],93:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWAvg=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.sum=0,o.counter=0,o}return a(t,s.SWPlugin),o(t,[{key:"add",value:function(e){this.filter(e)&&(this.sum+=this.extract(e),this.counter+=1,this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=0;this.counter<1?this.notify(e):(e=this.sum/this.counter,this.notify(e))}}]),t})();n.SWAvg=c},{"./swplugin":95}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWFunctor=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=(function(e){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,null,a));return o.addFunc=e,o.remFunc=n,o}return a(t,s.SWPlugin),o(t,[{key:"add",value:function(e){this.filter(e)&&this.addFunc&&this.addFunc(e)}},{key:"remove",value:function(e){this.filter(e)&&this.remFunc&&this.remFunc(e)}},{key:"toString",value:function(){return"SWFuncPlugin"}}]),t})();n.SWFunctor=c},{"./swplugin":95}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.SWPlugin=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../utility/csiologger")),o=(function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.extractorFnc=t,this.notifierFnc=n,this.filterFunc=i}return i(e,[{key:"notify",value:function(e,t,n){this.notifierFnc?this.notifierFnc(e,t,n):a.warn("Failed notification for "+this.toString())}},{key:"extract",value:function(e){return this.extractorFnc?this.extractorFnc(e):(a.warn(this.toString()+" tried to extract without extractorFnc"),null)}},{key:"filter",value:function(e){return!this.filterFunc||this.filterFunc(e)}},{key:"add",value:function(e){a.log("Abstract method is called width value: "+e)}},{key:"remove",value:function(e){a.log("Abstract method is called with value: "+e)}},{key:"toString",value:function(){return"SWPlugin"}}]),e})();n.SWPlugin=o},{"../../utility/csiologger":105}],96:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.SWSBTreePercentile=void 0;var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./swplugin"),c=e("../../collections/sizedbalancedtree"),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../../config/constants")),l=(function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.sbTree=new c.SizedBalancedTree(u.maxSBTTreeSize),o.result=null,o}return a(t,s.SWPlugin),o(t,[{key:"add",value:function(e){this.filter(e)&&(this.sbTree.add(this.extract(e)),this.calculate())}},{key:"remove",value:function(e){}},{key:"calculate",value:function(){var e=this.sbTree.getSize(),t=Math.round(.5*e),n=this.sbTree.select(t),r=Math.round(.75*e),i=this.sbTree.select(r),a=Math.round(.95*e),o=this.sbTree.select(a);this.notify(n,i,o)}}]),t})();n.SWSBTreePercentile=l},{"../../collections/sizedbalancedtree":29,"../../config/constants":36,"./swplugin":95}],97:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.TrackMonitor=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=e("../utility/registry"),d=e("../collections/slidingwindow"),f=e("../statspipeline/swplugins/swavg"),h=e("../statspipeline/swplugins/echodetection"),p=e("../statspipeline/swplugins/swsbtreepercentile"),v=e("../statspipeline/swplugins/swfunctor"),g=r(e("../utility/timestamps")),y=r(e("../config/constants")),m=r(e("./validator")),b=r(e("../utility/csiologger")),S=(function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.thresholds=[],s.enableThresholds=!1,s.requestTime=0,s.started=0,s.created=g.getCurrent(),s.mediaType=o,s.streamType=r,s.metrics=s.makeTrack(),s.lastTrack={},s.prevFrameRateMean=null,s.ssrc=null,s}return o(t,d.SlidingWindow),u(t,null,[{key:"make",value:function(e,n,r,i){var a=new t(e,n,r,i),o=a.metrics;return a.attach(new f.SWAvg(function(e){return e.getJitter()},function(e){o.csioAvgJitter=e},function(e){var t=e.getJitter();return m.isNumber(t)})),a.attach(new f.SWAvg(function(e){return e.getRTT()},function(e){o.csioAvgRtt=e},function(e){var t=e.getRTT();return m.isNumber(t)})),a.attach(new h.EchoDetection(function(e){return e},function(e){o.csioEchoLabel=e},function(e){return h.EchoDetection.isValidTrack(e)})),a.attach(new p.SWSBTreePercentile(function(e){return e.getJitter()},function(e,t,n){o.csioPercentileJitter=n,o.csio75PercentileJitter=t},function(e){var t=e.getJitter();return m.isNumber(t)})),a.attach(new p.SWSBTreePercentile(function(e){return e.getRTT()},function(e,t,n){o.csioSig2Latency=n,o.csioSig2Latency75=t,o.csioeM=n+40},function(e){var t=e.getRTT();return m.isNumber(t)})),r===y.streamType.inbound?t.setupInboundMonitor(a):r===y.streamType.outbound?t.setupOutboundMonitor(a):b.warn("Unrecognized streamType ("+r+") at TrackMonitor"),i===y.mediaType.audio?t.setupAudioMonitor(a):i===y.mediaType.video?t.setupVideoMonitor(a):b.warn("Unrecognized mediaType ("+i+") at TrackMonitor"),a}},{key:"setupInboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r=n.getFractionLost();if(!m.checkForPositiveValue(r)){var i=n.getLostPackets(),a=n.getReceivedPackets(),o=e.getRequestedMeasurement(),s=0,c=0;o?(s=i-o.getLostPackets(),c=a-o.getReceivedPackets()):(s=i,c=a),m.checkForPositiveValue(s)&&m.checkForPositiveValue(c)&&(r=s/Math.max(c+s,1),m.checkForPositiveValue(r)&&(t.csioIntFLRate=r,n.setFractionLost(r)))}}),e.addPreProcess(function(n){if(!n.getFrameRateReceived()&&n.getFramesReceived()&&0<e.started){var r=n.getFramesReceived(),i=g.getCurrent()-e.started;i>0&&r>=0&&(t.csioEstFrameRatePerSecond=1e3*r/i)}}),e.attach(new v.SWFunctor(function(n){var r=g.getCurrent(),i=n.getResolution(),a=e.getRequestedMeasurement(),o=e.getRequestTime(),s=8*n.getReceivedBytes(),c=n.getReceivedPackets(),u=0,d=0,f=0,h=Math.max(r-e.getStartTime(),f);a?(u=s-8*a.getReceivedBytes(),d=Math.max(r-o,f)):(f=l.Registry.getCredentials().isAdaptiveStatsEnabled()?y.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),f),u=s,d=Math.max(h,f)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/d,0),t.csioAvgPacketSize=n.getReceivedBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new p.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){var i=m.checkForPositiveValue(r)?r:null;t.csioPercentileFl=i},function(e){var t=e.getFractionLost();return m.isNumber(t)&&m.checkForPositiveValue(t)}))}},{key:"setupOutboundMonitor",value:function(e){var t=e.metrics;e.addPreProcess(function(n){var r=n.getFractionLost();if(!m.checkForPositiveValue(r)){var i=n.getLostPackets(),a=n.getSentPackets(),o=e.getRequestedMeasurement(),s=0,c=0;o?(s=i-o.getLostPackets(),c=a-o.getSentPackets()):(s=i,c=a),m.checkForPositiveValue(s)&&m.checkForPositiveValue(c)&&(r=s/Math.max(c+s,1),m.checkForPositiveValue(r)&&(t.csioIntFLRate=r,n.setFractionLost(r)))}}),e.attach(new v.SWFunctor(function(n){var r=g.getCurrent(),i=n.getResolution(),a=e.getRequestedMeasurement(),o=e.getRequestTime(),s=8*n.getSentBytes(),c=n.getSentPackets(),u=0,d=0,f=0,h=Math.max(r-e.getStartTime(),f);a?(u=s-8*a.getSentBytes(),d=Math.max(r-o,f)):(f=l.Registry.getCredentials().isAdaptiveStatsEnabled()?y.adaptiveStatsIntervalsInMs.min:l.Registry.getCredentials().getStatsSubmissionInterval(),h=Math.max(r-e.getStartTime(),f),u=s,d=Math.max(h,f)),t.csioAvgBRKbps=s/h,t.intervalBandwidth=Math.max(u/d,0),t.csioAvgPacketSize=n.getSentBytes()/Math.max(c,1),t.csiores=i},null,null)),e.attach(new p.SWSBTreePercentile(function(e){return e.getFractionLost()},function(e,n,r){var i=m.checkForPositiveValue(r)?r:null;t.csioPercentileFl=i},function(e){var t=e.getFractionLost();return m.isNumber(t)&&m.checkForPositiveValue(t)}))}},{key:"setupAudioMonitor",value:function(e){var t=e.metrics;e.attach(new v.SWFunctor(function(e){t.csioMediaType=y.mediaType.audio},null,null))}},{key:"setupVideoMonitor",value:function(e){var t=e.metrics;e.attach(new f.SWAvg(function(e){return e.getFrameRateReceived()},function(n){e.prevFrameRateMean=t.csioFrameRateMean,t.csioPrevFrameRateMean=t.csioFrameRateMean,t.csioFrameRateMean=n},function(e){var t=e.getFrameRateReceived();return m.isNumber(t)})),e.attach(new f.SWAvg(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeightMean=e},function(e){var t=e.getFrameHeight();return m.isNumber(t)})),e.attach(new f.SWAvg(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidthMean=e},function(e){var t=e.getFrameWidth();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameRateReceived()},function(e){t.csioFrameRate50Percentile=e},function(e){var t=e.getFrameRateReceived();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameHeight()},function(e){t.csioFrameHeight50Percentile=e},function(e){var t=e.getFrameHeight();return m.isNumber(t)})),e.attach(new p.SWSBTreePercentile(function(e){return e.getFrameWidth()},function(e){t.csioFrameWidth50Percentile=e},function(e){var t=e.getFrameWidth();return m.isNumber(t)})),e.attach(new v.SWFunctor(function(e){t.csioMediaType=y.mediaType.video},null,null))}}]),u(t,[{key:"makeTrack",value:function(){var e={csioMediaType:void 0,csioMark:void 0,intervalBandwidth:void 0,csioAvgBRKbps:void 0,csioAvDesync:void 0,csioIntBRKbps:void 0,csioIntFL:void 0,csioIntFLRate:void 0,csioIntMs:void 0,csioIntPR:void 0,csioPercentileFl:void 0,csioAvgJitter:void 0,csioAvgRtt:void 0,csioEchoLabel:void 0,csioPercentileJitter:void 0,csioSig2Latency:void 0,csioTimeElapseMs:void 0,csioeM:void 0,csiores:void 0,csioFrameWidth95Percentile:void 0,csioFrameWidth50Percentile:void 0,csioFrameHeight95Percentile:void 0,csioFrameHeight50Percentile:void 0,csioFrameRate95Percentile:void 0,csioFrameRate50Percentile:void 0,csioFrameWidthMean:void 0,csioFrameHeightMean:void 0,csioFrameRateMean:void 0,csioIntPktRcv:void 0};return e}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"add",value:function(e){this.ssrc=e.getSSRC(),this.lastTrack=e.extractTrack(),this.lastTrack.pcHash=e.getPcHash(),0===this.started&&(this.started=g.getCurrent()),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e)}},{key:"hasTraffic",value:function(){return 0<this.metrics.intervalBandwidth}},{key:"getTrack",value:function(){var e=this.lastTrack;return e.data=s({},e.data,this.metrics),e}},{key:"extractTrack",value:function(){var e=this.lastTrack;return e.data=s({},e.data,this.metrics),this.requestTime=g.getCurrent(),this.requestedMeasurement=this.peek(),e}},{key:"getMediaType",value:function(){return this.mediaType}},{key:"getStreamType",value:function(){return this.streamType}},{key:"getStartTime",value:function(){return this.started}},{key:"getCreationTime",value:function(){return this.created}},{key:"getRequestTime",value:function(){return Math.max(this.started,this.requestTime)}},{key:"getRequestedMeasurement",value:function(){return this.requestedMeasurement}},{key:"addPreProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPreProcess",this).call(this,e)}},{key:"addPostProcess",value:function(e){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addPostProcess",this).call(this,e)}}]),t})();n.TrackMonitor=S},{"../collections/slidingwindow":31,"../config/constants":36,"../statspipeline/swplugins/echodetection":92,"../statspipeline/swplugins/swavg":93,"../statspipeline/swplugins/swfunctor":94,"../statspipeline/swplugins/swsbtreepercentile":96,"../utility/csiologger":105,"../utility/registry":114,"../utility/timestamps":118,"./validator":100}],98:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TracksMonitor=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("./trackmonitor"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/constants")),s=(function(){function e(){r(this,e),this.inbMonitors=new Map,this.outbMonitors=new Map}return i(e,[{key:"getMonitor",value:function(e){var t=e.getStreamType(),n=e.getMediaType(),r=e.getSSRC(),i=null;return t===o.streamType.inbound?n===o.mediaType.audio?i=this.getInbAudioMonitor(r):n===o.mediaType.video&&(i=this.getInbVideoMonitor(r)):t===o.streamType.outbound&&(n===o.mediaType.audio?i=this.getOutbAudioMonitor(r):n===o.mediaType.video&&(i=this.getOutbVideoMonitor(r))),i}},{key:"extractTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.extractTrack())}),e}},{key:"deleteTracks",value:function(e){var t=this;this.outbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.outbMonitors.has(r)&&t.outbMonitors.delete(r)}),this.inbMonitors.forEach(function(n,r){var i=n.getRequestedMeasurement();i&&i.getPcHash()===e&&t.inbMonitors.has(r)&&t.inbMonitors.delete(r)})}},{key:"getTracks",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t.getTrack())}),this.inbMonitors.forEach(function(t,n){e.push(t.getTrack())}),e}},{key:"getMonitors",value:function(){var e=[];return this.outbMonitors.forEach(function(t,n){e.push(t)}),this.inbMonitors.forEach(function(t,n){e.push(t)}),e}},{key:"getInbAudioMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.audio),this.inbMonitors.set(e,t)),t}},{key:"getInbVideoMonitor",value:function(e){var t=this.inbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.inbound,o.mediaType.video),this.inbMonitors.set(e,t)),t}},{key:"getOutbAudioMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.audio),this.outbMonitors.set(e,t)),t}},{key:"getOutbVideoMonitor",value:function(e){var t=this.outbMonitors.get(e);return t||(t=a.TrackMonitor.make(1e3,3e4,o.streamType.outbound,o.mediaType.video),this.outbMonitors.set(e,t)),t}}]),e})();n.TracksMonitor=s},{"../config/constants":36,"./trackmonitor":97}],99:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TransportsMonitor=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=r(e("../utility/timestamps")),c=(function(){function e(t){i(this,e),this.previous=t,this.actual=t,this.outdated=s.getCurrent()}return a(e,[{key:"setActual",value:function(e){this.actual=e}},{key:"outdate",value:function(){this.previous=this.actual,this.outdated=s.getCurrent()}},{key:"getActual",value:function(){return this.actual}},{key:"getPrevious",value:function(){return this.previous}},{key:"getElapsedTime",value:function(){return s.getCurrent()-this.outdated}}]),e})(),u=(function(){function e(t){i(this,e),this.stats=new Map,this.codeBase=t}return a(e,[{key:"set",value:function(e,t){var n=this.stats.get(e);if(n)n.setActual(t);else{if(t)for(var r=0;r<t.length;++r)t[r].csioTurnMins=0,t[r].csioBytesSent=0,t[r].csioBytesReceived=0;this.stats.set(e,new c(t))}}},{key:"delete",value:function(e){e&&this.stats.has(e)&&this.stats.delete(e)}},{key:"getIntervalStats",value:function(){var e=this,t=new Map;return this.stats.forEach(function(n,r){t.set(r,e.getIntervalStat(n)),n.outdate()}),t}},{key:"getIntervalStat",value:function(e){var t=null;switch(this.codeBase){case o.codeBaseType.chrome:t=this.getIntervalStatForChrome(e);break;default:t=this.getDefaultIntervalStat(e)}return t}},{key:"getDefaultIntervalStat",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return t;for(var i=0;i<t.length;++i){var a=t[i],o=n[i];if(!o||!a)return t;var s=parseInt(o.bytesReceived,10),c=parseInt(o.bytesSent,10);a.csioReceivedBwKbps=8*(parseInt(a.bytesReceived,10)-s)/r,a.csioSentBwKbps=8*(parseInt(a.bytesSent,10)-c)/r,a.csioIntBytesReceived=parseInt(a.bytesReceived,10)-s,a.csioIntBytesSent=parseInt(a.bytesSent,10)-c,a.csioIsRelayed&&(a.csioIntBytesSent>0||a.csioIntBytesReceived>0)?(a.csioTurnMins=r+o.csioTurnMins,a.csioBytesSent=o.csioBytesSent+a.csioIntBytesSent,a.csioBytesReceived=o.csioBytesReceived+a.csioIntBytesReceived):a.csioTurnMins=o.csioTurnMins}return t}},{key:"getIntervalStatForChrome",value:function(e){var t=e.getActual(),n=e.getPrevious(),r=e.getElapsedTime();if(!n)return actual;for(var i=0;i<t.length;++i){var a=t[i],o=n[i];if(!o||!a)return t;var s=parseInt(o.bytesReceived,10),c=parseInt(o.bytesSent,10);a.csioReceivedBwKbps=8*(parseInt(a.bytesReceived,10)-s)/r,a.csioSentBwKbps=8*(parseInt(a.bytesSent,10)-c)/r,a.csioIntBytesReceived=parseInt(a.bytesReceived,10)-s,a.csioIntBytesSent=parseInt(a.bytesSent,10)-c,void 0!==o.packetsSent&&void 0!==a.packetsSent&&(a.csioSentPacketRate=(parseInt(a.packetsSent,10)-parseInt(o.packetsSent,10))/(r/1e3),a.csioIntPacketsSent=parseInt(a.packetsSent,10)-parseInt(o.packetsSent,10)),void 0!==o.packetsReceived&&void 0!==a.packetsReceived&&(a.csioReceivedPacketRate=(parseInt(a.packetsReceived,10)-parseInt(o.packetsReceived,10))/(r/1e3),a.csioIntPacketsReceived=parseInt(a.packetsReceived,10)-parseInt(o.packetsReceived,10)),a.csioIsRelayed&&(a.csioIntBytesSent>0||a.csioIntBytesReceived>0)?(a.csioTurnMins=r+o.csioTurnMins,a.csioBytesSent=o.csioBytesSent+a.csioIntBytesSent,a.csioBytesReceived=o.csioBytesReceived+a.csioIntBytesReceived):a.csioTurnMins=o.csioTurnMins}return t}}]),e})();n.TransportsMonitor=u},{"../config/constants":36,"../utility/timestamps":118}],100:[function(e,t,n){"use strict";function r(e){return isNaN(e)?null:e}Object.defineProperty(n,"__esModule",{value:!0}),n.checkForNan=r,n.checkForNegativeValue=function(e){return null!==r(e)&&0<=e?e:null},n.checkForPositiveValue=function(e){return void 0!==e&&null!==r(e)&&e>=0},n.isNumber=function(e){return void 0!==e&&null!==r(e)&&Number.isFinite(e)}},{}],101:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(){r(this,e),this.getWifiStatsMethod=null,this.wifiStats=null,this.interval=1e4}return i(e,[{key:"resetGetWifiStatsMethod",value:function(){this.getWifiStatsMethod=null}},{key:"setGetWifiStatsMethod",value:function(e){this.getWifiStatsMethod=e,this.wifiStatsHandler()}},{key:"getWifiStats",value:function(){var e=this;return e.getWifiStatsMethod||(e.wifiStats=null),e.wifiStats}},{key:"wifiStatsHandler",value:function(){var e=this;e.getWifiStatsMethod&&e.getWifiStatsMethod().then(function(t){e.wifiStats=JSON.parse(t),setTimeout(function(){e.wifiStatsHandler()},e.interval)}).catch(function(){setTimeout(function(){e.wifiStatsHandler()},e.interval)})}}]),e})();n.WifiStatsExecutor=a},{}],102:[function(e,t,n){"use strict";function r(e){return window.btoa(e)}function i(e){return window.atob(e)}function a(e){return r(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=r,n.decode=i,n.urlencode=function(e){return r(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.urlencodeUnicode=function(e){return a(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},n.strtohex=function(e){for(var t=i(e.replace(/[ \r\n]+$/,"")),n=[],r=0;r<t.length;++r){var a=t.charCodeAt(r).toString(16);1===a.length&&(a="0"+a),n.push(a)}return n.join("")}},{}],103:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Callbacks=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../config/constants")),s=e("./registry"),c=r(e("./csiologger")),u=(function(){function e(){i(this,e),this.callbacks={}}return a(e,[{key:"set",value:function(e,t){if("function"==typeof t)return o.callbackFunctions.hasOwnProperty(e)?(this.callbacks[e]=t,void(e===o.callbackFunctions.stats&&s.Registry.getStatsCallbackBuilder().setCallback(t))):void c.error("Couldn't set callback: "+e)}},{key:"get",value:function(e){return this.callbacks.hasOwnProperty(e)?this.callbacks[e]:null}}]),e})();n.Callbacks=u},{"../config/constants":36,"./csiologger":105,"./registry":114}],104:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Credentials=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger")),s=(function(){function e(){r(this,e),this.appId=null,this.userId=null,this.userIdObject=null,this.deviceId=null,this.statsSubmissionInterval=15e3,this.collectSDP=!1,this.adaptiveStatsEnabled=!1,this.siteId=null,this.additionalIDs=null}return a(e,[{key:"getAppId",value:function(){return this.appId}},{key:"setAppId",value:function(e){this.appId="string"==typeof e?parseInt(e,10):e}},{key:"getSiteId",value:function(){return this.siteId}},{key:"setSiteId",value:function(e){this.siteId=e}},{key:"getUserId",value:function(){return this.userId}},{key:"setUserId",value:function(e){"object"===(void 0===e?"undefined":i(e))?(this.userId=e.aliasName,this.setUserIdObject(e)):this.userId=e}},{key:"getUserIdObject",value:function(){return this.userIdObject}},{key:"setUserIdObject",value:function(e){this.userIdObject=e}},{key:"getStatsSubmissionInterval",value:function(){return this.statsSubmissionInterval}},{key:"setStatsSubmissionInterval",value:function(e){o.log("setStatsSubmissionInterval is ",e),this.statsSubmissionInterval=e}},{key:"getCollectSDP",value:function(){return this.collectSDP}},{key:"setCollectSDP",value:function(e){this.collectSDP=e}},{key:"isAdaptiveStatsEnabled",value:function(){return this.adaptiveStatsEnabled}},{key:"setAdaptiveStatsEnabled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.adaptiveStatsEnabled=e}},{key:"getAdditionalIDs",value:function(){return this.additionalIDs}},{key:"setAdditionalIDs",value:function(e){this.additionalIDs=e}}]),e})();n.Credentials=s},{"./csiologger":105}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.info=function(){var e;"true"===r.csioDebug&&(e=console).info.apply(e,arguments)},n.log=function(){var e;"true"===r.csioDebug&&(e=console).log.apply(e,arguments)},n.warn=function(){var e;"true"===r.csioDebug&&(e=console).warn.apply(e,arguments)},n.error=function(){var e;(e=console).warn.apply(e,arguments)};var r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../config/settings"))},{"../config/settings":37}],106:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Endpoint=void 0;var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=r(e("../browserapi/localstorage")),s=r(e("../browserapi/detectbrowser")),c=r(e("../utility/timestamps")),u=r(e("../utility/hash")),l=(function(){function e(){i(this,e),this.id=null,this.appversion=null,this.magicKey=Math.floor(4294967296*Math.random()),this.browserName=null,this.browserVersion=null,this.osName=null,this.osVersion=null,this.codeBase=null,this.userAgent=null,this.retrieveId()}return a(e,[{key:"setup",value:function(){var e=s.detect();this.browserName=e.browserName,this.browserVersion=e.browserVersion,this.osName=e.os,this.osVersion=e.osVersion,this.codeBase=e.codeBase,this.userAgent=e.userAgent}},{key:"retrieveId",value:function(){var e=this,t=o.get("endpointID");if(null===t){var n=c.getCurrent(),r=Math.random()*n;u.generateSHA256(r.toString(),function(t){e.id=t,o.store("endpointID",t)})}else this.id=t}},{key:"getId",value:function(){return this.id}},{key:"getAppVersion",value:function(){return this.appversion}},{key:"setAppVersion",value:function(e){this.appversion=e}},{key:"getMagicKey",value:function(){return this.magicKey}},{key:"getBrowserName",value:function(){return this.browserName}},{key:"getBrowserVersion",value:function(){return this.browserVersion}},{key:"getOsName",value:function(){return this.osName}},{key:"getOsVersion",value:function(){return this.osVersion}},{key:"getCodeBase",value:function(){return this.codeBase}},{key:"getUserAgent",value:function(){return this.userAgent}},{key:"serialize",value:function(){return{type:"browser",buildName:this.browserName,buildVersion:this.browserVersion,appVersion:this.appversion,os:this.osName,osVersion:this.osVersion,userAgent:this.userAgent}}}]),e})();n.Endpoint=l},{"../browserapi/detectbrowser":18,"../browserapi/localstorage":20,"../utility/hash":109,"../utility/timestamps":118}],107:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessage=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=r(e("../config/constants")),u=r(e("../config/settings")),l=e("./registry"),d=r(e("./csiologger")),f=(function(){function e(t,n,r,a){i(this,e),this.eventType=t,this.customEntries=r,this.pcHandler=a,this.auth=l.Registry.getAuthenticator(),this.clocksync=l.Registry.getClockSync(),this.timestamp=this.clocksync.getSynchronizedTimestamp(),this.conferenceId=n,this.clockUnSynced=!this.clocksync.isCompleted()}return o(e,[{key:"updateConferenceId",value:function(e){d.log("updating conferenceId to ",this.eventType,this.conferenceId,e),this.conferenceId=e}},{key:"toJson",value:function(){if(!this.canBeSent())return null;var e=this.getCommonHeader();return s(e,this.customEntries),this.eventType===c.internalFabricEvent.userJoined&&delete e.connectionID,e}},{key:"getCallback",value:function(){return this.pcHandler?this.pcHandler.getCallback():null}},{key:"canBeSent",value:function(){var e=void 0,t=c.tmpConferenceId;if(this.conferenceId===t)return!1;if(this.pcHandler&&!this.pcHandler.getRemoteId())return!1;if(this.eventType!==c.precalltestEvents.results){var n=l.Registry.getConferenceManager().get(this.conferenceId);if(!n)return!1;e=n.getUcId()}return!(!this.auth.getToken()||(this.auth.isTokenValid()?!(this.isPriority()||this.clocksync.isCompleted()&&e)||this.eventType===c.internalFabricEvent.userAlive&&!e:(this.auth.reAuthenticate(),1)))}},{key:"isCachable",value:function(){return-1===[c.internalFabricEvent.userAlive].indexOf(this.eventType)}},{key:"isPriority",value:function(){var e=!1;return this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.precalltestEvents.results&&this.eventType!==c.internalFabricEvent.userAlive||(e=!0),e}},{key:"getConferenceId",value:function(){return this.conferenceId}},{key:"getCommonHeader",value:function(){var e={version:u.version,callstatsVersion:u.version,channel:this.decideChannel(),timestamp:this.timestamp,action:this.eventType,eventType:this.eventType,localID:encodeURIComponent(l.Registry.getCredentials().getUserId()),timeShift:0,appID:l.Registry.getCredentials().getAppId(),deviceID:l.Registry.getEndpoint().getId(),token:this.auth.getToken(),confID:encodeURIComponent(this.conferenceId)};this.clockUnSynced&&(e.timestamp+=this.clocksync.getOffset()),this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.internalFabricEvent.fabricSetup&&this.eventType!==c.fabricEvent.fabricSetupFailed&&this.eventType!==c.precalltestEvents.results||(e.siteID=l.Registry.getCredentials().getSiteId()),this.eventType!==c.internalFabricEvent.userJoined&&this.eventType!==c.precalltestEvents.results||(e.additionalIDs=l.Registry.getCredentials().getAdditionalIDs());var t=l.Registry.getConferenceManager().get(this.conferenceId);return e.ucID=t?t.getUcId():null,this.pcHandler?(e.remoteID=encodeURIComponent(this.pcHandler.getRemoteId()),e.connectionID=this.pcHandler.getPcHash()):(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId()),e.connectionID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e.remoteID||(e.remoteID=encodeURIComponent(l.Registry.getCredentials().getUserId())),e}},{key:"decideChannel",value:function(){if(this.eventType==c.callstatsChannels.sdpSubmission)return c.callstatsChannels.sdpSubmission;if(this.eventType==c.callstatsChannels.userFeedback)return c.callstatsChannels.userFeedback;if(this.eventType==c.callstatsChannels.processedStats)return c.callstatsChannels.processedStats;for(var e in c.precalltestEvents)if(this.eventType==c.precalltestEvents[e])return c.callstatsChannels.preCallTest;return c.callstatsChannels.callstatsEvent}}],[{key:"checkCustomEntries",value:function(e,t){if(!h[e])return d.error("eventType not recognized:",e),!1;var n=h[e];for(var r in n)if(!t.hasOwnProperty(r)||a(t[r])!==n[r])return d.error("customEntries for",e,"should have",r,"of type",n[r]),!1;return!0}}]),e})(),h={};h[c.internalFabricEvent.userJoined]={endpointInfo:"object"},h[c.internalFabricEvent.userLeft]={},h[c.internalFabricEvent.userAlive]={},h[c.internalFabricEvent.userDetails]={},h[c.internalFabricEvent.connectedDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.activeDeviceList]={mediaDeviceList:"object"},h[c.fabricEvent.audioMute]={},h[c.fabricEvent.audioUnmute]={},h[c.fabricEvent.videoPause]={},h[c.fabricEvent.videoResume]={},h[c.fabricEvent.screenShareStart]={},h[c.fabricEvent.screenShareStop]={},h[c.internalFabricEvent.mediaPlaybackStart]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackSuspended]={ssrc:"string"},h[c.internalFabricEvent.mediaPlaybackStalled]={ssrc:"string"},h[c.internalFabricEvent.oneWayMedia]={mediaType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStart]={mediaType:"string",disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.oneWayMediaStop]={mediaType:"string",disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.circuitBreaker]={disruptionType:"string",ssrc:"string"},h[c.internalFabricEvent.fabricSetup]={localIceCandidates:"object",remoteIceCandidates:"object",iceCandidatePairs:"object"},h[c.fabricEvent.callDetails]={callType:"string"},h[c.fabricEvent.fabricSetupFailed]={delay:"number",reason:"string",function:"string",endpoint:"object"},h[c.internalFabricEvent.fabricStateChange]={changedState:"string",prevState:"string",newState:"string"},h[c.internalFabricEvent.fabricDropped]={prevIceConnectionState:"string",currIceConnectionState:"string",currIceCandidatePair:"object",delay:"number"},h[c.internalFabricEvent.iceConnectionDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceConnectionDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceDisruptionStart]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceConnectionStateTs:"number",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceDisruptionEnd]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.iceFailed]={localIceCandidates:"object",prevIceConnectionState:"string",currIceConnectionState:"string",delay:"number"},h[c.internalFabricEvent.iceAborted]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.internalFabricEvent.iceRestarted]={prevIceConnectionState:"string",currIceConnectionState:"string",prevIceCandidatePair:"object"},h[c.internalFabricEvent.fabricTransportSwitch]={prevIceCandidatePair:"object",currIceCandidatePair:"object"},h[c.internalFabricEvent.iceTerminated]={prevIceConnectionState:"string",currIceConnectionState:"string"},h[c.fabricEvent.fabricTerminated]={},h[c.fabricEvent.fabricHold]={},h[c.fabricEvent.fabricResume]={},h[c.fabricEvent.callUnAnswered]={},h[c.callstatsChannels.sdpSubmission]={localSDP:"string",remoteSDP:"string"},h[c.internalFabricEvent.ssrcMap]={ssrcData:"object"},h[c.callstatsChannels.userFeedback]={feedback:"object"},h[c.internalFabricEvent.sendingThroughputObservations]={ssrc:"string",maxsendingKBitrate:"number",timeToMaxSendingKBitrate:"number",stablesendingKBitrate:"number",timeToStableSendingKBitrate:"number"},h[c.fabricEvent.dominantSpeaker]={},h[c.fabricEvent.applicationErrorLog]={message:"string",messageType:"string"},h[c.callstatsChannels.processedStats]={stats:"object"},h[c.customEvents.stats]={stats:"object"},h[c.customEvents.event]={eventList:"object"},h[c.customEvents.conferenceSummary]={pstnTime:"number",ringingTime:"number",contactID:"string",isCallForwarded:"boolean"},h[c.callstatsChannels.senderConfiguration]={rtc_rtp_parameters:"object"},h[c.internalFabricEvent.limitationObservations]={reason:"string"},h[c.qualityDisruptionTypes.qpchange]={reason:"string"},h[c.precalltestEvents.results]={results:"object"},h[c.precalltestEvents.associate]={ids:"object"},n.EventMessage=f},{"../config/constants":36,"../config/settings":37,"./csiologger":105,"./registry":114}],108:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EventMessageBuilder=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=e("./eventmessage"),c=r(e("../config/constants")),u=e("./registry"),l=r(e("./csiologger")),d=(function(){function e(){i(this,e),this.transmissionmanager=u.Registry.getTransmissionManager()}return o(e,[{key:"make",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof e||null===r||"object"!==(void 0===r?"undefined":a(r)))return l.error("failed typeof checks:",e,void 0===e?"undefined":a(e),void 0===r?"undefined":a(r),r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed typeof checks:"+e+":"+(void 0===r?"undefined":a(r))+":"+(void 0===e?"undefined":a(e))}),!1;if(null===t&&e!==c.precalltestEvents.results)return l.error("failed conferenceId checks:",e,t),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed conferenceId checks:"+e}),!1;if(!n&&e!==c.callstatsChannels.userFeedback&&e!==c.fabricEvent.applicationErrorLog&&e!==c.fabricEvent.fabricSetupFailed&&e!==c.internalFabricEvent.userJoined&&e!==c.precalltestEvents.results&&e!==c.customEvents.stats&&e!==c.customEvents.event&&e!==c.customEvents.conferenceSummary)return l.error("peerconnection cannot be null",e),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"peerconnection cannot be null"+e}),!1;if(!s.EventMessage.checkCustomEntries(e,r))return l.error("failed checks:",e,r),u.Registry.getGenericEventHandler().sendEvent(c.logEvents.error,{msg:"failed customEntries checks:"+e}),!1;var i=void 0;if(t){var o=u.Registry.getConferenceManager().get(t);o&&n&&(i=o.getPeerConnectionManager().getPcHandler(n))}var d=new s.EventMessage(e,t,r,i);return this.transmissionmanager.send(d),!0}}]),e})();n.EventMessageBuilder=d},{"../config/constants":36,"./csiologger":105,"./eventmessage":107,"./registry":114}],109:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;if(!e)return n;for(var r=0,i=e.length;r<i;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t&&t(n+""),n+""}function i(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t[t.length]=r:r>127&&r<2048?(t[t.length]=r>>6|192,t[t.length]=63&r|128):(t[t.length]=r>>12|224,t[t.length]=r>>6&63|128,t[t.length]=63&r|128)}return new Uint8Array(t).buffer}function a(e){for(var t=new DataView(e),n="",r=void 0,i=0;i<t.byteLength;i++)(r=t.getUint8(i).toString(16)).length<2&&(r="0"+r),n+=r;return n}Object.defineProperty(n,"__esModule",{value:!0}),n.generateSHA256=function(e,t){var n={name:"SHA-256"};if(window.crypto){var o=window.crypto.subtle||window.crypto.webkitSubtle;if(!o)return void r(e,t);o.digest(n,i(e)).then(function(e){t(a(e))}).catch(function(){r(e,t)})}else if(window.msCrypto){if(!window.msCrypto.subtle)return void r(e,t);var s=window.msCrypto.subtle.digest(n,i(e));s.oncomplete=function(e){e.target&&t(a(e.target.result))},s.onerror=function(){r(e,t)}}else r(e,t)},n.generateHash=r},{}],110:[function(e,t,n){"use strict";function r(e,t,n,r){n.setLocalDescription(e).then(function(){a.log("pc2  setLocalDescription success")}).catch(function(e){r([])}),t.setRemoteDescription(e).then(function(){a.log("pc1  setRemoteDescription success")}).catch(function(e){r([])})}function i(e,t,n,i){t.setLocalDescription(e).then(function(){a.log("pc1  setLocalDescription success")}).catch(function(e){i([])}),n.setRemoteDescription(e).then(function(){a.log("pc2  setRemoteDescription success")}).catch(function(e){i([])}),n.createAnswer().then(function(e){r(e,t,n,i)}).catch(function(e){i([])})}Object.defineProperty(n,"__esModule",{value:!0}),n.getRemoteAddress=function(e){var t=null,n=void 0,r=void 0,o=[],s=[],c=[];c.push({urls:["stun:taas.callstats.io:443"]}),RTCPeerConnection?t=RTCPeerConnection:webkitRTCPeerConnection?t=webkitRTCPeerConnection:mozRTCPeerConnection?t=mozRTCPeerConnection:window&&window.RTCPeerConnection&&(t=window.RTCPeerConnection);var u={iceTransportPolicy:"all",iceServers:c};try{n=new t(u),r=new t(u)}catch(t){e(o)}n.createDataChannel("ipd",{negotiated:!0,id:0}),n.addEventListener("iceconnectionstatechange",function(){"connected"!==n.iceConnectionState&&"completed"!==n.iceConnectionState||e(o)}),n.onicecandidate=function(e){if(e.candidate&&e.candidate.candidate){var t=e.candidate.candidate.split(" "),n=t[7].toLowerCase(),i=t[4];"host"!==n&&(s.includes(i)||"srflx"!==n&&"prflx"!==n||(s.push(i),o.push({address:i,candidateType:n})),r.addIceCandidate(e.candidate).then(function(){a.log("Ice candidate added successfully to the pc2")}).catch(function(e){a.log("addIceCandidate failure to pc2",e)}))}},r.onicecandidate=function(e){if(e.candidate&&e.candidate.candidate){var t=e.candidate.candidate.split(" "),r=t[7].toLowerCase(),i=t[4];"host"===r||"srflx"!==r&&"prflx"!==r||(s.includes(i)||(s.push(i),o.push({address:i,candidateType:r})),n.addIceCandidate(e.candidate).then(function(){a.log("Ice candidate added successfully to the pc1")}).catch(function(e){a.log("addIceCandidate failure to pc1",e)}))}},n.createOffer().then(function(t){i(t,n,r,e)}).catch(function(t){e(o)})};var a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger"))},{"./csiologger":105}],111:[function(e,t,n){"use strict";function r(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}Object.defineProperty(n,"__esModule",{value:!0}),n.isValid=r,n.parse=function(e){var t=null;return null===e?t:(r(e)&&(t=JSON.parse(e)),t)}},{}],112:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.setErrorEventListener=function(){window&&window.addEventListener&&window.addEventListener("error",function(e){var t=i.Registry.getGenericEventHandler();if(e&&e.filename&&e.filename.indexOf("callstats")>-1){for(var n=!1,r={fileName:e.filename,line:e.lineno,col:e.colno,jsVersion:a.version,eventType:"error",message:e.message,pageURL:window.location.href},s=i.Registry.getConferenceManager().getConferenceIds(),c=0;c<s.length;c++)r.conferenceID=s[c],t.sendEvent(o.logEvents.error,r),n=!0;n||t.sendEvent(o.logEvents.error,r)}})};var i=e("./registry"),a=r(e("../config/settings")),o=r(e("../config/constants"))},{"../config/constants":36,"../config/settings":37,"./registry":114}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addPctMeasurementToAggregator=function(e){var t=void 0,n=void 0,a=void 0,o=void 0;if(e&&e.tests){e.tests.rtt&&(t=e.tests.rtt.median,n=e.tests.rtt.variance),e.tests.throughput&&(a=e.tests.throughput.average,o=Math.max(e.tests.throughput.fractionLostBytes,0));var s=new r.PCTMeasurement(a,t,n,o,e.provider,e.timestamp);i.Registry.getPCTAggregator().addPCTMeasurement(s)}},n.getPublicPrecalltestResults=function(e){var t={mediaConnectivity:!1,throughput:null,fractionalLoss:null,rtt:null,jitter:null,timestamp:a.getCurrent()};return e&&e.tests?(t.provider=e.provider,e.tests.rtt&&(t.rtt=e.tests.rtt.median,t.mediaConnectivity=!0,t.jitter=e.tests.rtt.variance),e.tests.throughput&&(t.throughput=e.tests.throughput.average,t.fractionalLoss=Math.max(e.tests.throughput.fractionLostBytes,0),t.mediaConnectivity=!0),e.tests.ice&&(e.tests.ice.relayTcpSuccess||e.tests.ice.relayTlsSuccess||e.tests.ice.relayUdpSuccess)&&(t.mediaConnectivity=!0),t):t};var r=e("../collections/pctmeasurement"),i=e("../utility/registry"),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../utility/timestamps"))},{"../collections/pctmeasurement":26,"../utility/registry":114,"../utility/timestamps":118}],114:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Registry=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../services/clocksync"),o=e("../services/configservice/configservicewrapper"),s=e("../services/authenticator"),c=e("../services/backendlog"),u=e("../services/transmissionmanager"),l=e("./eventmessagebuilder"),d=e("../conference/conferencemanager"),f=e("../utility/credentials"),h=e("../statspipeline/statsadapter"),p=e("../statspipeline/statsparser"),v=e("../statspipeline/statsmonitor"),g=e("../statspipeline/statstransmitter"),y=e("../statspipeline/statsassembler"),m=e("../utility/endpoint"),b=e("../browserapi/battery"),S=e("precalltest"),k=e("../statspipeline/wifistatsexecutor"),w=e("./callbacks"),C=e("../statspipeline/statscallbackbuilder"),T=e("../services/connectionmanager"),_=e("../collections/pctaggregator"),P=e("../services/pctrunnerservice"),E=e("../services/pctnotificationservice"),I=null,R=null,O=null,M=null,F=null,j=null,A=null,D=null,x=null,L=null,B=null,H=null,U=null,N=null,V=null,W=null,G=null,q=null,z=null,Q=null,J=null,K=null,X=null,$=(function(){function e(){r(this,e)}return i(e,null,[{key:"getPCTNotificationService",value:function(){return X||(X=new E.PCTNotificationService),X}},{key:"getPCTRunnerService",value:function(){return K||(K=new P.PCTRunnerService),K}},{key:"getPCTAggregator",value:function(){return J||(J=new _.PCTAggregator),J}},{key:"getConferenceManager",value:function(){return W||(W=new d.ConferenceManager),W}},{key:"getStatsCallbackBuilder",value:function(){return z||(z=new C.StatsCallbackBuilder),z}},{key:"getClockSync",value:function(){return R||(R=new a.ClockSync),R}},{key:"getWifiStatsExecutor",value:function(){return G||(G=new k.WifiStatsExecutor),G}},{key:"getAuthenticator",value:function(){return O||(O=new s.Authenticator),O}},{key:"getConfigServiceWrapper",value:function(){return M||(M=new o.ConfigServiceWrapper),M}},{key:"getGenericEventHandler",value:function(){return F||(F=new c.GenericEventHandler).enable(),F}},{key:"getConnectionManager",value:function(){return Q||(Q=new T.ConnectionManager),Q}},{key:"getTransmissionManager",value:function(){return j||(j=new u.TransmissionManager),j}},{key:"getEventMessageBuilder",value:function(){return A||(A=new l.EventMessageBuilder),A}},{key:"getCredentials",value:function(){return D||(D=new f.Credentials),D}},{key:"getEndpoint",value:function(){return x||(x=new m.Endpoint),x}},{key:"getStatsAdapter",value:function(){if(!L){var t=e.getEndpoint().getCodeBase(),n=e.getEndpoint().getBrowserName();L=new h.StatsAdapter(t,n)}return L}},{key:"getPreCallTest",value:function(){return I||(I=new S.PreCallTest),I}},{key:"getStatsParser",value:function(){return B||(B=new p.StatsParser),B}},{key:"getStatsMonitor",value:function(){if(!H){var t=e.getEndpoint().getCodeBase();H=new v.StatsMonitor(t)}return H}},{key:"getStatsTransmitter",value:function(){return U||(U=new g.StatsTransmitter),U}},{key:"getStatsAssembler",value:function(){return N||(N=new y.StatsAssembler),N}},{key:"getBattery",value:function(){return V||(V=new b.Battery),V}},{key:"getCallbacks",value:function(){return q||(q=new w.Callbacks),q}}]),e})();n.Registry=$},{"../browserapi/battery":17,"../collections/pctaggregator":25,"../conference/conferencemanager":34,"../services/authenticator":46,"../services/backendlog":47,"../services/clocksync":48,"../services/configservice/configservicewrapper":52,"../services/connectionmanager":53,"../services/pctnotificationservice":56,"../services/pctrunnerservice":57,"../services/transmissionmanager":60,"../statspipeline/statsadapter":85,"../statspipeline/statsassembler":86,"../statspipeline/statscallbackbuilder":87,"../statspipeline/statsmonitor":88,"../statspipeline/statsparser":89,"../statspipeline/statstransmitter":90,"../statspipeline/wifistatsexecutor":101,"../utility/credentials":104,"../utility/endpoint":106,"./callbacks":103,"./eventmessagebuilder":108,precalltest:2}],115:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.RunningStats=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=e("../collections/queue"),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("../statspipeline/validator")),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;r(this,e),this.queue=new a.Queue(t),this.cumulativeSum=0}return i(e,[{key:"add",value:function(e){this.cumulativeSum+=e;var t=this.queue.push(e);o.isNumber(t)&&(this.cumulativeSum-=t)}},{key:"getMean",value:function(){return this.queue.size()<1?null:this.cumulativeSum/this.queue.size()}},{key:"getVariance",value:function(){if(this.queue.size()<2)return null;for(var e=this.getMean(),t=0,n=this.queue.getFront();n;){var r=n,i=r.value-e;t+=i*i,n=r.next}return t/this.queue.size()}},{key:"getStd",value:function(){if(this.queue.size()<2)return null;var e=this.getVariance();return Math.sqrt(e)}},{key:"reset",value:function(){this.cumulativeSum=0,this.queue.clear()}}]),e})();n.RunningStats=s},{"../collections/queue":28,"../statspipeline/validator":100}],116:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(){function e(t,n,i){r(this,e),this.max=t,this.midpoint=n,this.stepness=i,this.actualStep=0,this.reset()}return i(e,[{key:"reset",value:function(){this.actualStep=0}},{key:"setMidpoint",value:function(e){this.midpoint=e}},{key:"setMax",value:function(e){this.max=e}},{key:"setStepness",value:function(e){this.stepness=e}},{key:"increaseActualStep",value:function(e){this.actualStep+=e}},{key:"getActual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.actualStep+=e,this.max/(1+Math.exp(-1*this.stepness*(this.actualStep-this.midpoint)))}}]),e})();n.Sigmoid=a},{}],117:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeoutProcess=void 0;var i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(e("./csiologger")),o=(function(){function e(t){r(this,e),this.interval=t,this.timerId=null,this.callback=function(){a.warn("no callback function set",this)}}return i(e,[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){var e=this;this.timerId=setInterval(function(){e.callback()},this.interval)}},{key:"stop",value:function(){clearInterval(this.timerId),this.timerId=null}},{key:"isStarted",value:function(){return null!==this.timerId}}]),e})();n.TimeoutProcess=o},{"./csiologger":105}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrent=function(){return window&&window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()},n.getSinceOrigin=function(){return window&&window.performance&&window.performance.now?window.performance.now():null}},{}],119:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(t){r(this,e),this.base=t;for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.appendixes=i}return a(e,null,[{key:"concat",value:function(e,t){if(!t)return e;if(!e)return t;var n="/"===e.substr(e.length-1),r="/"===t.substring(0,1);return n||r?n&&r?e+t.substring(1):e+t:e+"/"+t}}]),a(e,[{key:"append",value:function(e){this.appendixes.push(e)}},{key:"toString",value:function(){var t=this.getString(this.base),n=this;return this.appendixes.forEach(function(r){if(null!==r&&void 0!==r){var i=n.getString(r);t=e.concat(t,i)}}),t}},{key:"getString",value:function(e){switch(void 0===e?"undefined":i(e)){case"function":return this.getString(e());case"number":return e+"";case"string":default:return e}}}]),e})();n.Url=o},{}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeMediaDeviceList=function(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++){var r={};r.mediaDeviceID=e[n].deviceId,r.groupID=e[n].groupId,r.kind=e[n].kind,r.label=e[n].label,r.mediaDeviceID&&t.push(r)}return t},n.isIntegerPollyfill=function(){Number.isInteger||(Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},n.assignPollyfill=function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0})}},{}]},{},[22])},472,[16]);
__d(function(g,r,i,a,m,e,d){var t,f=r(d[0])(r(d[1]));void 0===(t=g||window||this).$&&((0,f.default)(t),t.$=f.default)},473,[1,474]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]);var f=u.default;e.default=f},474,[1,475,492,503,515,516,517]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6])),s=t(r(d[7])),h=t(r(d[8])),p=t(r(d[9])),y=t(r(d[10])),v=t(r(d[11])),b=t(r(d[12])),j=t(r(d[13])),S=t(r(d[14])),O=t(r(d[15])),x=/HTML$/i,k=function t(n,u){return new t.fn.init(n,u)};function A(t){var n=!!t&&t.length,u=(0,O.default)(t);return"function"!=typeof t&&!(0,j.default)(t)&&("array"===u||0===n||"number"==typeof n&&n>0&&n-1 in t)}k.fn=k.prototype={jquery:"@VERSION",constructor:k,length:0,toArray:function(){return o.default.call(this)},get:function(t){return null==t?o.default.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=k.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(n,u){return t.call(n,u,n)}))},slice:function(){return this.pushStack(o.default.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(t,n){return(n+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(t,n){return n%2}))},eq:function(t){var n=this.length,u=+t+(t<0?n:0);return this.pushStack(u>=0&&u<n?[this[u]]:[])},end:function(){return this.prevObject||this.constructor()}},k.extend=k.fn.extend=function(){var t,n,u,o,c,f,l=arguments[0]||{},s=1,h=arguments.length,p=!1;for("boolean"==typeof l&&(p=l,l=arguments[s]||{},s++),"object"!=typeof l&&"function"!=typeof l&&(l={}),s===h&&(l=this,s--);s<h;s++)if(null!=(t=arguments[s]))for(n in t)o=t[n],"__proto__"!==n&&l!==o&&(p&&o&&(k.isPlainObject(o)||(c=Array.isArray(o)))?(u=l[n],f=c&&!Array.isArray(u)?[]:c||k.isPlainObject(u)?u:{},c=!1,l[n]=k.extend(p,f,o)):void 0!==o&&(l[n]=o));return l},k.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,o;return!(!t||"[object Object]"!==h.default.call(t))&&(!(n=(0,u.default)(t))||"function"==typeof(o=p.default.call(n,"constructor")&&n.constructor)&&y.default.call(o)===v.default)},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t,n,u){(0,S.default)(t,{nonce:n&&n.nonce},u)},each:function(t,n){var u,o=0;if(A(t))for(u=t.length;o<u&&!1!==n.call(t[o],o,t[o]);o++);else for(o in t)if(!1===n.call(t[o],o,t[o]))break;return t},text:function(t){var n,u="",o=0,c=t.nodeType;if(c){if(1===c||9===c||11===c)return t.textContent;if(3===c||4===c)return t.nodeValue}else for(;n=t[o++];)u+=k.text(n);return u},makeArray:function(t,n){var u=n||[];return null!=t&&(A(Object(t))?k.merge(u,"string"==typeof t?[t]:t):f.default.call(u,t)),u},inArray:function(t,n,u){return null==n?-1:l.default.call(n,t,u)},isXMLDoc:function(t){var n=t.namespaceURI,u=(t.ownerDocument||t).documentElement;return!x.test(n||u&&u.nodeName||"HTML")},merge:function(t,n){for(var u=+n.length,o=0,c=t.length;o<u;o++)t[c++]=n[o];return t.length=c,t},grep:function(t,n,u){for(var o=[],c=0,f=t.length,l=!u;c<f;c++)!n(t[c],c)!==l&&o.push(t[c]);return o},map:function(t,n,u){var o,f,l=0,s=[];if(A(t))for(o=t.length;l<o;l++)null!=(f=n(t[l],l,u))&&s.push(f);else for(l in t)null!=(f=n(t[l],l,u))&&s.push(f);return(0,c.default)(s)},guid:1,support:b.default}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=n.default[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){s.default["[object "+n+"]"]=n.toLowerCase()});var E=k;e.default=E},475,[1,476,477,478,479,480,481,482,483,484,485,486,487,488,489,491]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[]},476,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Object.getPrototypeOf;e.default=t},477,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])).default.slice;e.default=t},478,[1,476]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=l.default.flat?function(t){return l.default.flat.call(t)}:function(t){return l.default.concat.apply([],t)};e.default=u},479,[1,476]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1])).default.push;e.default=t},480,[1,476]);
__d(function(g,r,i,a,m,e,d){var f=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[1])).default.indexOf;e.default=t},481,[1,476]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},482,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.toString;e.default=u},483,[1,482]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.hasOwnProperty;e.default=u},484,[1,482]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.toString;e.default=u},485,[1,484]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])).default.call(Object);e.default=t},486,[1,485]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},487,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return null!=n&&n===n.window}},488,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o={type:!0,src:!0,nonce:!0,noModule:!0};var l=function(t,l,f){var u,c=(f=f||n.default).createElement("script");if(c.text=t,l)for(u in o)l[u]&&(c[u]=l[u]);f.head.appendChild(c).parentNode.removeChild(c)};e.default=l},489,[1,490]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=window.document;e.default=o},490,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2]));var f=function(t){return null==t?t+"":"object"==typeof t?l.default[u.default.call(t)]||"object":typeof t};e.default=f},491,[1,482,483]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),p=t(r(d[8])),h=t(r(d[9])),y=t(r(d[10]));r(d[11]),r(d[12]),r(d[13]);var v=l.default,x=f.default.matches||f.default.msMatchesSelector;!(function(){var t,l,f,w,b,E,N=n.default.expando,C=0,T=0,S=W(),A=W(),R=W(),D=W(),L="(?:\\\\[\\da-fA-F]{1,6}"+p.default+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+p.default+"*("+L+")(?:"+p.default+"*([*^$|!~]?=)"+p.default+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+p.default+"*\\]",$=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",B=new RegExp(p.default+"+","g"),O=new RegExp("^"+p.default+"+|((?:^|[^\\\\])(?:\\\\.)*)"+p.default+"+$","g"),k=new RegExp("^"+p.default+"*,"+p.default+"*"),F=new RegExp("^"+p.default+"*([>+~]|"+p.default+")"+p.default+"*"),q=new RegExp(p.default+"|>"),P=new RegExp($),G=new RegExp("^"+L+"$"),H={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+p.default+"*(even|odd|(([+-]|)(\\d*)n|)"+p.default+"*(?:([+-]|)"+p.default+"*(\\d+)|))"+p.default+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+p.default+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+p.default+"*((?:-\\d)?\\d*)"+p.default+"*\\)|)(?=[^-]|$)","i")},M=/^(?:input|select|textarea|button)$/i,U=/^h\d$/i,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,j=/[+~]/,z=new RegExp("\\\\[\\da-fA-F]{1,6}"+p.default+"?|\\\\([^\\r\\n\\f])","g"),V=function(t,n){var u="0x"+t.slice(1)-65536;return n||(u<0?String.fromCharCode(u+65536):String.fromCharCode(u>>10|55296,1023&u|56320))},X=function(){ue()},J=oe(function(t){return!0===t.disabled&&(0,u.default)(t,"fieldset")},{dir:"parentNode",next:"legend"});function K(t){throw new Error("Syntax error, unrecognized expression: "+t)}function Q(t,u,l,f){var o,c,p,v,x,b,C,T=u&&u.ownerDocument,S=u?u.nodeType:9;if(l=l||[],"string"!=typeof t||!t||1!==S&&9!==S&&11!==S)return l;if(!f&&(ue(u),u=u||w,E)){if(11!==S&&(x=_.exec(t)))if(o=x[1]){if(9===S)return(p=u.getElementById(o))&&s.default.call(l,p),l;if(T&&(p=T.getElementById(o))&&n.default.contains(u,p))return s.default.call(l,p),l}else{if(x[2])return s.default.apply(l,u.getElementsByTagName(t)),l;if((o=x[3])&&u.getElementsByClassName)return s.default.apply(l,u.getElementsByClassName(o)),l}if(!(D[t+" "]||h.default&&h.default.test(t))){if(C=t,T=u,1===S&&(q.test(t)||F.test(t))){for(((T=j.test(t)&&re(u.parentNode)||u)!==u||y.default)&&((v=u.getAttribute("id"))?v=n.default.escapeSelector(v):u.setAttribute("id",v=N)),c=(b=ie(t)).length;c--;)b[c]=(v?"#"+v:":scope")+" "+fe(b[c]);C=b.join(",")}try{return s.default.apply(l,T.querySelectorAll(C)),l}catch(n){D(t,!0)}finally{v===N&&u.removeAttribute("id")}}}return ye(t.replace(O,"$1"),u,l,f)}function W(){var t=[];return function n(u,f){return t.push(u+" ")>l.cacheLength&&delete n[t.shift()],n[u+" "]=f}}function Y(t){return t[N]=!0,t}function Z(t){return function(n){return(0,u.default)(n,"input")&&n.type===t}}function ee(t){return function(n){return((0,u.default)(n,"input")||(0,u.default)(n,"button"))&&n.type===t}}function te(t){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===t:n.disabled===t:n.isDisabled===t||n.isDisabled!==!t&&J(n)===t:n.disabled===t:"label"in n&&n.disabled===t}}function ne(t){return Y(function(n){return n=+n,Y(function(u,l){for(var f,o=t([],u.length,n),c=o.length;c--;)u[f=o[c]]&&(u[f]=!(l[f]=u[f]))})})}function re(t){return t&&void 0!==t.getElementsByTagName&&t}function ue(t){var u,l=t?t.ownerDocument||t:v;l!=w&&9===l.nodeType&&(b=(w=l).documentElement,E=!n.default.isXMLDoc(w),y.default&&v!=w&&(u=w.defaultView)&&u.top!==u&&u.addEventListener("unload",X))}for(t in Q.matches=function(t,n){return Q(t,null,null,n)},Q.matchesSelector=function(t,n){if(ue(t),E&&!D[n+" "]&&(!h.default||!h.default.test(n)))try{return x.call(t,n)}catch(t){D(n,!0)}return Q(n,w,null,[t]).length>0},(l=n.default.expr={cacheLength:50,createPseudo:Y,match:H,find:{ID:function(t,n){if(void 0!==n.getElementById&&E){var u=n.getElementById(t);return u?[u]:[]}},TAG:function(t,n){return void 0!==n.getElementsByTagName?n.getElementsByTagName(t):n.querySelectorAll(t)},CLASS:function(t,n){if(void 0!==n.getElementsByClassName&&E)return n.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(z,V),t[3]=(t[3]||t[4]||t[5]||"").replace(z,V),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||K(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&K(t[0]),t},PSEUDO:function(t){var n,u=!t[6]&&t[2];return H.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":u&&P.test(u)&&(n=ie(u,!0))&&(n=u.indexOf(")",u.length-n)-u.length)&&(t[0]=t[0].slice(0,n),t[2]=u.slice(0,n)),t.slice(0,3))}},filter:{ID:function(t){var n=t.replace(z,V);return function(t){return t.getAttribute("id")===n}},TAG:function(t){var n=t.replace(z,V).toLowerCase();return"*"===t?function(){return!0}:function(t){return(0,u.default)(t,n)}},CLASS:function(t){var n=S[t+" "];return n||(n=new RegExp("(^|"+p.default+")"+t+"("+p.default+"|$)"))&&S(t,function(t){return n.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,u,l){return function(f){var o=n.default.attr(f,t);return null==o?"!="===u:!u||(o+="","="===u?o===l:"!="===u?o!==l:"^="===u?l&&0===o.indexOf(l):"*="===u?l&&o.indexOf(l)>-1:"$="===u?l&&o.slice(-l.length)===l:"~="===u?(" "+o.replace(B," ")+" ").indexOf(l)>-1:"|="===u&&(o===l||o.slice(0,l.length+1)===l+"-"))}},CHILD:function(t,n,l,f,o){var c="nth"!==t.slice(0,3),s="last"!==t.slice(-4),p="of-type"===n;return 1===f&&0===o?function(t){return!!t.parentNode}:function(n,l,h){var y,v,x,w,b,E=c!==s?"nextSibling":"previousSibling",T=n.parentNode,S=p&&n.nodeName.toLowerCase(),A=!h&&!p,R=!1;if(T){if(c){for(;E;){for(x=n;x=x[E];)if(p?(0,u.default)(x,S):1===x.nodeType)return!1;b=E="only"===t&&!b&&"nextSibling"}return!0}if(b=[s?T.firstChild:T.lastChild],s&&A){for(R=(w=(y=(v=T[N]||(T[N]={}))[t]||[])[0]===C&&y[1])&&y[2],x=w&&T.childNodes[w];x=++w&&x&&x[E]||(R=w=0)||b.pop();)if(1===x.nodeType&&++R&&x===n){v[t]=[C,w,R];break}}else if(A&&(R=w=(y=(v=n[N]||(n[N]={}))[t]||[])[0]===C&&y[1]),!1===R)for(;(x=++w&&x&&x[E]||(R=w=0)||b.pop())&&((p?!(0,u.default)(x,S):1!==x.nodeType)||!++R||(A&&((v=x[N]||(x[N]={}))[t]=[C,R]),x!==n)););return(R-=o)===f||R%f==0&&R/f>=0}}},PSEUDO:function(t,n){var u,f=l.pseudos[t]||l.setFilters[t.toLowerCase()]||K("unsupported pseudo: "+t);return f[N]?f(n):f.length>1?(u=[t,t,"",n],l.setFilters.hasOwnProperty(t.toLowerCase())?Y(function(t,u){for(var l,c=f(t,n),s=c.length;s--;)t[l=o.default.call(t,c[s])]=!(u[l]=c[s])}):function(t){return f(t,0,u)}):f}},pseudos:{not:Y(function(t){var n=[],u=[],l=he(t.replace(O,"$1"));return l[N]?Y(function(t,n,u,f){for(var o,c=l(t,null,f,[]),s=t.length;s--;)(o=c[s])&&(t[s]=!(n[s]=o))}):function(t,f,o){return n[0]=t,l(n,null,o,u),n[0]=null,!u.pop()}}),has:Y(function(t){return function(n){return Q(t,n).length>0}}),contains:Y(function(t){return t=t.replace(z,V),function(u){return(u.textContent||n.default.text(u)).indexOf(t)>-1}}),lang:Y(function(t){return G.test(t||"")||K("unsupported lang: "+t),t=t.replace(z,V).toLowerCase(),function(n){var u;do{if(u=E?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(u=u.toLowerCase())===t||0===u.indexOf(t+"-")}while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(t){var n=window.location&&window.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===b},focus:function(t){return t===w.activeElement&&w.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:te(!1),disabled:te(!0),checked:function(t){return(0,u.default)(t,"input")&&!!t.checked||(0,u.default)(t,"option")&&!!t.selected},selected:function(t){return y.default&&t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!l.pseudos.empty(t)},header:function(t){return U.test(t.nodeName)},input:function(t){return M.test(t.nodeName)},button:function(t){return(0,u.default)(t,"input")&&"button"===t.type||(0,u.default)(t,"button")},text:function(t){return(0,u.default)(t,"input")&&"text"===t.type},first:ne(function(){return[0]}),last:ne(function(t,n){return[n-1]}),eq:ne(function(t,n,u){return[u<0?u+n:u]}),even:ne(function(t,n){for(var u=0;u<n;u+=2)t.push(u);return t}),odd:ne(function(t,n){for(var u=1;u<n;u+=2)t.push(u);return t}),lt:ne(function(t,n,u){var l;for(l=u<0?u+n:u>n?n:u;--l>=0;)t.push(l);return t}),gt:ne(function(t,n,u){for(var l=u<0?u+n:u;++l<n;)t.push(l);return t})}}).pseudos.nth=l.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[t]=Z(t);for(t in{submit:!0,reset:!0})l.pseudos[t]=ee(t);function le(){}function ie(t,n){var u,f,o,c,s,p,h,y=A[t+" "];if(y)return n?0:y.slice(0);for(s=t,p=[],h=l.preFilter;s;){for(c in u&&!(f=k.exec(s))||(f&&(s=s.slice(f[0].length)||s),p.push(o=[])),u=!1,(f=F.exec(s))&&(u=f.shift(),o.push({value:u,type:f[0].replace(O," ")}),s=s.slice(u.length)),l.filter)!(f=H[c].exec(s))||h[c]&&!(f=h[c](f))||(u=f.shift(),o.push({value:u,type:c,matches:f}),s=s.slice(u.length));if(!u)break}return n?s.length:s?K(t):A(t,p).slice(0)}function fe(t){for(var n=0,u=t.length,l="";n<u;n++)l+=t[n].value;return l}function oe(t,n,l){var f=n.dir,o=n.next,c=o||f,s=l&&"parentNode"===c,p=T++;return n.first?function(n,u,l){for(;n=n[f];)if(1===n.nodeType||s)return t(n,u,l);return!1}:function(n,l,h){var y,v,x=[C,p];if(h){for(;n=n[f];)if((1===n.nodeType||s)&&t(n,l,h))return!0}else for(;n=n[f];)if(1===n.nodeType||s)if(v=n[N]||(n[N]={}),o&&(0,u.default)(n,o))n=n[f]||n;else{if((y=v[c])&&y[0]===C&&y[1]===p)return x[2]=y[2];if(v[c]=x,x[2]=t(n,l,h))return!0}return!1}}function ae(t){return t.length>1?function(n,u,l){for(var f=t.length;f--;)if(!t[f](n,u,l))return!1;return!0}:t[0]}function de(t,n,u){for(var l=0,f=n.length;l<f;l++)Q(t,n[l],u);return u}function ce(t,n,u,l,f){for(var o,c=[],s=0,p=t.length,h=null!=n;s<p;s++)(o=t[s])&&(u&&!u(o,l,f)||(c.push(o),h&&n.push(s)));return c}function se(t,n,u,l,f,c){return l&&!l[N]&&(l=se(l)),f&&!f[N]&&(f=se(f,c)),Y(function(c,p,h,y){var v,x,w,b,E=[],N=[],C=p.length,T=c||de(n||"*",h.nodeType?[h]:h,[]),S=!t||!c&&n?T:ce(T,E,t,h,y);if(u?u(S,b=f||(c?t:C||l)?[]:p,h,y):b=S,l)for(v=ce(b,N),l(v,[],h,y),x=v.length;x--;)(w=v[x])&&(b[N[x]]=!(S[N[x]]=w));if(c){if(f||t){if(f){for(v=[],x=b.length;x--;)(w=b[x])&&v.push(S[x]=w);f(null,b=[],v,y)}for(x=b.length;x--;)(w=b[x])&&(v=f?o.default.call(c,w):E[x])>-1&&(c[v]=!(p[v]=w))}}else b=ce(b===p?b.splice(C,b.length):b),f?f(null,p,b,y):s.default.apply(p,b)})}function pe(t){for(var n,u,c,s=t.length,p=l.relative[t[0].type],h=p||l.relative[" "],y=p?1:0,v=oe(function(t){return t===n},h,!0),x=oe(function(t){return o.default.call(n,t)>-1},h,!0),w=[function(t,u,l){var o=!p&&(l||u!==f)||((n=u).nodeType?v(t,u,l):x(t,u,l));return n=null,o}];y<s;y++)if(u=l.relative[t[y].type])w=[oe(ae(w),u)];else{if((u=l.filter[t[y].type].apply(null,t[y].matches))[N]){for(c=++y;c<s&&!l.relative[t[c].type];c++);return se(y>1&&ae(w),y>1&&fe(t.slice(0,y-1).concat({value:" "===t[y-2].type?"*":""})).replace(O,"$1"),u,y<c&&pe(t.slice(y,c)),c<s&&pe(t=t.slice(c)),c<s&&fe(t))}w.push(u)}return ae(w)}function ge(t,u){var o=u.length>0,p=t.length>0,h=function(h,y,v,x,b){var N,T,S,A=0,R="0",D=h&&[],L=[],I=f,$=h||p&&l.find.TAG("*",b),B=C+=null==I?1:Math.random()||.1;for(b&&(f=y==w||y||b);null!=(N=$[R]);R++){if(p&&N){for(T=0,y||N.ownerDocument==w||(ue(N),v=!E);S=t[T++];)if(S(N,y||w,v)){s.default.call(x,N);break}b&&(C=B)}o&&((N=!S&&N)&&A--,h&&D.push(N))}if(A+=R,o&&R!==A){for(T=0;S=u[T++];)S(D,L,y,v);if(h){if(A>0)for(;R--;)D[R]||L[R]||(L[R]=c.default.call(x));L=ce(L)}s.default.apply(x,L),b&&!h&&L.length>0&&A+u.length>1&&n.default.uniqueSort(x)}return b&&(C=B,f=I),D};return o?Y(h):h}function he(t,n){var u,l=[],f=[],o=R[t+" "];if(!o){for(n||(n=ie(t)),u=n.length;u--;)(o=pe(n[u]))[N]?l.push(o):f.push(o);(o=R(t,ge(f,l))).selector=t}return o}function ye(t,n,u,f){var o,c,p,h,y,v="function"==typeof t&&t,x=!f&&ie(t=v.selector||t);if(u=u||[],1===x.length){if((c=x[0]=x[0].slice(0)).length>2&&"ID"===(p=c[0]).type&&9===n.nodeType&&E&&l.relative[c[1].type]){if(!(n=(l.find.ID(p.matches[0].replace(z,V),n)||[])[0]))return u;v&&(n=n.parentNode),t=t.slice(c.shift().value.length)}for(o=H.needsContext.test(t)?0:c.length;o--&&(p=c[o],!l.relative[h=p.type]);)if((y=l.find[h])&&(f=y(p.matches[0].replace(z,V),j.test(c[0].type)&&re(n.parentNode)||n))){if(c.splice(o,1),!(t=f.length&&fe(c)))return s.default.apply(u,f),u;break}}return(v||he(t,x))(f,n,!E,u,!n||j.test(t)&&re(n.parentNode)||n),u}le.prototype=l.filters=l.pseudos,l.setFilters=new le,ue(),n.default.find=Q})()},492,[1,475,493,490,494,481,495,480,496,497,498,499,500,501]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(o,t){return o.nodeName&&o.nodeName.toLowerCase()===t.toLowerCase()};e.default=o},493,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.documentElement;e.default=u},494,[1,490]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.pop;e.default=u},495,[1,476]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="[\\x20\\t\\r\\n\\f]"},496,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])),u=l(r(d[2])),f=t.default&&new RegExp(":enabled|:disabled|\\["+u.default+"*name"+u.default+"*="+u.default+"*(?:''|\"\")");e.default=f},497,[1,498,496]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.documentMode;e.default=u},498,[1,490]);
__d(function(g,r,i,a,m,e,d){r(d[0])(r(d[1])).default.contains=function(n,o){var t=9===n.nodeType?n.documentElement:n,c=o&&o.parentNode;return n===c||!(!c||1!==c.nodeType||!(t.contains?t.contains(c):n.compareDocumentPosition&&16&n.compareDocumentPosition(c)))}},499,[1,475]);
__d(function(g,r,i,a,m,e,d){var t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function n(t,n){return n?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}r(d[0])(r(d[1])).default.escapeSelector=function(c){return(c+"").replace(t,n)}},500,[1,475]);
__d(function(g,r,i,a,m,e,d){var t,n=r(d[0]),o=n(r(d[1])),u=n(r(d[2])),c=n(r(d[3]));function f(n,c){if(n===c)return t=!0,0;var f=!n.compareDocumentPosition-!c.compareDocumentPosition;return f||(1&(f=(n.ownerDocument||n)==(c.ownerDocument||c)?n.compareDocumentPosition(c):1)?n==u.default||n.ownerDocument==u.default&&o.default.contains(u.default,n)?-1:c==u.default||c.ownerDocument==u.default&&o.default.contains(u.default,c)?1:0:4&f?-1:1)}o.default.uniqueSort=function(n){var o,u=[],l=0,s=0;if(t=!1,c.default.call(n,f),t){for(;o=n[s++];)o===n[s]&&(l=u.push(s));for(;l--;)n.splice(u[l],1)}return n}},501,[1,475,490,502]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default.sort;e.default=u},502,[1,476]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]),r(d[3]),r(d[4]),r(d[5]);var f=u.default;e.default=f},503,[1,475,504,507,508,514]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),u=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5]));r(d[6]),u.default.fn.extend({attr:function(t,n){return(0,o.default)(this,u.default.attr,t,n,arguments.length>1)},removeAttr:function(t){return this.each(function(){u.default.removeAttr(this,t)})}}),u.default.extend({attr:function(t,o,n){var f,l,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?u.default.prop(t,o,n):(1===s&&u.default.isXMLDoc(t)||(l=u.default.attrHooks[o.toLowerCase()]),void 0!==n?null===n?void u.default.removeAttr(t,o):l&&"set"in l&&void 0!==(f=l.set(t,n,o))?f:(t.setAttribute(o,n+""),n):l&&"get"in l&&null!==(f=l.get(t,o))?f:null==(f=t.getAttribute(o))?void 0:f)},attrHooks:{},removeAttr:function(t,u){var o,n=0,l=u&&u.match(f.default);if(l&&1===t.nodeType)for(;o=l[n++];)t.removeAttribute(o)}}),l.default&&(u.default.attrHooks.type={set:function(t,u){if("radio"===u&&(0,n.default)(t,"input")){var o=t.value;return t.setAttribute("type",u),o&&(t.value=o),u}}}),u.default.each(u.default.expr.match.bool.source.match(/\w+/g),function(t,o){u.default.attrHooks[o]={get:function(t){var n,f=u.default.isXMLDoc(t),l=o.toLowerCase();return f||(n=null!=t.getAttribute(o)?l:null),n},set:function(t,o,n){return!1===o?u.default.removeAttr(t,n):t.setAttribute(n,n),n}}})},504,[1,475,505,493,506,498,492]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[1])),t=l(r(d[2])),f=function l(f,u,o,c,v,_,b){var j=0,p=f.length,s=null==o;if('object'===(0,t.default)(o))for(j in v=!0,o)l(f,u,j,o[j],!0,_,b);else if(void 0!==c&&(v=!0,'function'!=typeof c&&(b=!0),s&&(b?(u.call(f,c),u=null):(s=u,u=function(l,t,f){return s.call((0,n.default)(l),f)})),u))for(;j<p;j++)u(f[j],o,b?c:c.call(f[j],j,u(f[j],o)));return v?f:s?u.call(f):p?u(f[0],o):_};e.default=f},505,[1,475,491]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/[^\x20\t\r\n\f]+/g},506,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),p=t(r(d[3]));r(d[4]);var l=/^(?:input|select|textarea|button)$/i,u=/^(?:a|area)$/i;n.default.fn.extend({prop:function(t,p){return(0,o.default)(this,n.default.prop,t,p,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[n.default.propFix[t]||t]})}}),n.default.extend({prop:function(t,o,p){var l,u,f=t.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.default.isXMLDoc(t)||(o=n.default.propFix[o]||o,u=n.default.propHooks[o]),void 0!==p?u&&"set"in u&&void 0!==(l=u.set(t,p,o))?l:t[o]=p:u&&"get"in u&&null!==(l=u.get(t,o))?l:t[o]},propHooks:{tabIndex:{get:function(t){var n=t.getAttribute("tabindex");return n?parseInt(n,10):l.test(t.nodeName)||u.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.default&&(n.default.propHooks.selected={get:function(t){var n=t.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(t){var n=t.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),n.default.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.default.propFix[this.toLowerCase()]=this})},507,[1,475,505,498,492]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3]));function l(t){return t.getAttribute&&t.getAttribute("class")||""}function u(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(f.default)||[]}r(d[4]),s.default.fn.extend({addClass:function(t){var f,o,h,c,C,y,p,v=0;if("function"==typeof t)return this.each(function(n){(0,s.default)(this).addClass(t.call(this,n,l(this)))});if((f=u(t)).length)for(;o=this[v++];)if(c=l(o),h=1===o.nodeType&&" "+(0,n.default)(c)+" "){for(y=0;C=f[y++];)h.indexOf(" "+C+" ")<0&&(h+=C+" ");c!==(p=(0,n.default)(h))&&o.setAttribute("class",p)}return this},removeClass:function(t){var f,o,h,c,C,y,p,v=0;if("function"==typeof t)return this.each(function(n){(0,s.default)(this).removeClass(t.call(this,n,l(this)))});if(!arguments.length)return this.attr("class","");if((f=u(t)).length)for(;o=this[v++];)if(c=l(o),h=1===o.nodeType&&" "+(0,n.default)(c)+" "){for(y=0;C=f[y++];)for(;h.indexOf(" "+C+" ")>-1;)h=h.replace(" "+C+" "," ");c!==(p=(0,n.default)(h))&&o.setAttribute("class",p)}return this},toggleClass:function(t,n){return"function"==typeof t?this.each(function(f){(0,s.default)(this).toggleClass(t.call(this,f,l(this),n),n)}):"boolean"==typeof n?n?this.addClass(t):this.removeClass(t):this.each(function(){var n,f,l,o;for(f=0,l=(0,s.default)(this),o=u(t);n=o[f++];)l.hasClass(n)?l.removeClass(n):l.addClass(n)})},hasClass:function(t){var s,f,u=0;for(s=" "+t+" ";f=this[u++];)if(1===f.nodeType&&(" "+(0,n.default)(l(f))+" ").indexOf(s)>-1)return!0;return!1}})},508,[1,475,509,506,510]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));var n=function(t){return(t.match(u.default)||[]).join(" ")};e.default=n},509,[1,506]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),f=t(r(d[2])),u=t(r(d[3]));r(d[4]);var l,s=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.default.fn.init=function(t,h,o){var y,c;if(!t)return this;if(o=o||l,'string'==typeof t){if((c='<'===t[0]&&'>'===t[t.length-1]&&t.length>=3?[null,t,null]:s.exec(t))&&(c[1]||!h)){if(c[1]){if(h=h instanceof n.default?h[0]:h,n.default.merge(this,n.default.parseHTML(c[1],h&&h.nodeType?h.ownerDocument||h:f.default,!0)),u.default.test(c[1])&&n.default.isPlainObject(h))for(c in h)'function'==typeof this[c]?this[c](h[c]):this.attr(c,h[c]);return this}return(y=f.default.getElementById(c[2]))&&(this[0]=y,this.length=1),this}return!h||h.jquery?(h||o).find(t):this.constructor(h).find(t)}return t.nodeType?(this[0]=t,this.length=1,this):'function'==typeof t?void 0!==o.ready?o.ready(t):t(n.default):n.default.makeArray(t,this)}).prototype=n.default.fn,l=(0,n.default)(f.default)},510,[1,475,490,511,512]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i},511,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3]));function l(t,f,l){return"function"==typeof f?n.default.grep(t,function(t,n){return!!f.call(t,n,t)!==l}):f.nodeType?n.default.grep(t,function(t){return t===f!==l}):"string"!=typeof f?n.default.grep(t,function(t){return u.default.call(f,t)>-1!==l}):n.default.filter(f,t,l)}r(d[4]),n.default.filter=function(t,u,f){var l=u[0];return f&&(t=":not("+t+")"),1===u.length&&1===l.nodeType?n.default.find.matchesSelector(l,t)?[l]:[]:n.default.find.matches(t,n.default.grep(u,function(t){return 1===t.nodeType}))},n.default.fn.extend({find:function(t){var u,f,l=this.length,o=this;if("string"!=typeof t)return this.pushStack((0,n.default)(t).filter(function(){for(u=0;u<l;u++)if(n.default.contains(o[u],this))return!0}));for(f=this.pushStack([]),u=0;u<l;u++)n.default.find(t,o[u],f);return l>1?n.default.uniqueSort(f):f},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&f.default.test(t)?(0,n.default)(t):t||[],!1).length}})},512,[1,475,481,513,492]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));r(d[2]);var f=u.default.expr.match.needsContext;e.default=f},513,[1,475,492]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),l=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4]));r(d[5]),l.default.fn.extend({val:function(t){var n,u,o,f=this[0];return arguments.length?(o="function"==typeof t,this.each(function(u){var f;1===this.nodeType&&(null==(f=o?t.call(this,u,(0,l.default)(this).val()):t)?f="":"number"==typeof f?f+="":Array.isArray(f)&&(f=l.default.map(f,function(t){return null==t?"":t+""})),(n=l.default.valHooks[this.type]||l.default.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,f,"value")||(this.value=f))})):f?(n=l.default.valHooks[f.type]||l.default.valHooks[f.nodeName.toLowerCase()])&&"get"in n&&void 0!==(u=n.get(f,"value"))?u:null==(u=f.value)?"":u:void 0}}),l.default.extend({valHooks:{select:{get:function(t){var n,u,f,s=t.options,v=t.selectedIndex,c="select-one"===t.type,h=c?null:[],p=c?v+1:s.length;for(f=v<0?p:c?v:0;f<p;f++)if((u=s[f]).selected&&!u.disabled&&(!u.parentNode.disabled||!(0,o.default)(u.parentNode,"optgroup"))){if(n=(0,l.default)(u).val(),c)return n;h.push(n)}return h},set:function(t,n){for(var u,o,f=t.options,s=l.default.makeArray(n),v=f.length;v--;)((o=f[v]).selected=l.default.inArray((0,l.default)(o).val(),s)>-1)&&(u=!0);return u||(t.selectedIndex=-1),s}}}}),n.default&&(l.default.valHooks.option={get:function(t){var n=t.getAttribute("value");return null!=n?n:(0,u.default)(l.default.text(t))}}),l.default.each(["radio","checkbox"],function(){l.default.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=l.default.inArray((0,l.default)(t).val(),n)>-1}}})},514,[1,475,498,509,493,510]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));t.default.parseXML=function(n){var l;if(!n||"string"!=typeof n)return null;try{l=(new window.DOMParser).parseFromString(n,"text/xml")}catch(t){l=void 0}return l&&!l.getElementsByTagName("parsererror").length||t.default.error("Invalid XML: "+n),l}},515,[1,475]);
__d(function(g,r,i,a,m,e,d){var n,o=r(d[0])(r(d[1]));void 0===(n=g||window||this).$&&(n.$=o.default)},516,[1,475]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2]));r(d[3]),n.default.fn.extend({text:function(t){return(0,u.default)(this,function(t){return void 0===t?n.default.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)}});var f=n.default;e.default=f},517,[1,475,505,510]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);t.NativeModules.WiFiStats&&((window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app).getWiFiStats=t.NativeModules.WiFiStats.getWiFiStats)},518,[5]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),n=function(){return u.default.createElement(l.default,null)};e.default=n},519,[1,59,520]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),c=t(r(d[3])),u=n(r(d[4])),s=t(r(d[5])),l=r(d[6]),f=r(d[7]),E=t(r(d[8])),v=t(r(d[9])),N=function(n){var t=(0,u.useState)(null),N=(0,c.default)(t,2),C=N[0],O=N[1];return(0,u.useEffect)(function(){var n;s.default.init(l.initSDKConfig),s.default.setLogLevel(s.default.logLevels.ERROR);var t,c=function(){O(n)},u=function n(t){C&&(C.removeEventListener(s.default.events.connection.CONNECTION_ESTABLISHED,c),C.removeEventListener(s.default.events.connection.CONNECTION_FAILED,v),C.removeEventListener(s.default.events.connection.CONNECTION_DISCONNECTED,n))},v=function(t){var c;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t!==s.default.errors.connection.PASSWORD_REQUIRED){u.next=5;break}return u.next=3,o.default.awrap((0,f.getToken)());case 3:c=u.sent,n.setToken(c);case 5:case"end":return u.stop()}},null,null,null,Promise)},N=E.default.addEventListener(function(n){console.log("Is connected?",n.isConnected),s.default.setNetworkInfo({isOnline:n.isConnected})});return o.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,o.default.awrap((0,f.getToken)());case 2:if(t=E.sent){E.next=5;break}return E.abrupt("return");case 5:(n=new s.default.JitsiConnection(t,l.connectionConfig)).addEventListener(s.default.events.connection.CONNECTION_ESTABLISHED,c),n.addEventListener(s.default.events.connection.CONNECTION_FAILED,v),n.addEventListener(s.default.events.connection.CONNECTION_DISCONNECTED,u),n.addEventListener(s.default.events.connection.PASSWORD_REQUIRED,u),n.connect();case 11:case"end":return E.stop()}},null,null,null,Promise),function(){N()}},[]),u.default.createElement(v.default,{connection:C})};e.default=N},520,[12,1,106,17,59,521,711,712,713,721]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).default},521,[522]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2]));r(d[3]);var s=n(r(d[4])),l=t(r(d[5])),u=t(r(d[6])),c=n(r(d[7])),f=t(r(d[8])),v=t(r(d[9])),p=n(r(d[10])),b=t(r(d[11])),w=n(r(d[12])),y=t(r(d[13])),S=t(r(d[14])),h=t(r(d[15])),L=n(r(d[16])),A=n(r(d[17])),T=n(r(d[18])),D=r(d[19]),O=n(r(d[20])),_=t(r(d[21])),E=n(r(d[22])),k=n(r(d[23])),I=n(r(d[24])),M=n(r(d[25])),C=n(r(d[26])),G=n(r(d[27])),N=n(r(d[28])),J=n(r(d[29])),P=n(r(d[30])),U=n(r(d[31])),H=t(r(d[32])),R=n(r(d[33])),j=t(r(d[34])),V=n(r(d[35])),x=t(r(d[36])),W=t(r(d[37])),q=r(d[38]);function F(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=B(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function B(t,n){if(t){if("string"==typeof t)return K(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?K(t,n):void 0}}function K(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var Q=s.default.getLogger(__filename);function $(t){if(!V.default[t])return null;var n=V.default[t].order,o=null,s=null;return Object.keys(V.default).forEach(function(t){var l=V.default[t];(!o||o.order<l.order&&l.order<n)&&(s=t,o=l)}),s===t&&(s=null),s}function z(t){var n={audio_requested:t.devices.includes('audio'),video_requested:t.devices.includes('video'),screen_sharing_requested:t.devices.includes('desktop')};return n.video_requested&&(n.resolution=t.resolution),n}var X,Y=(X={version:'{#COMMIT_HASH#}',JitsiConnection:c.default,ProxyConnectionService:k.default,constants:{participantConnectionStatus:D.ParticipantConnectionStatus,recording:I.default,sipVideoGW:H,transcriptionStatus:h},events:{conference:u,connection:v,detection:_,track:S,mediaDevices:b,connectionQuality:x,e2eping:W},errors:{conference:l,connection:f,track:y},errorTypes:{JitsiTrackError:w.default},logLevels:s.default.levels,mediaDevices:p.default,analytics:N.default.analytics,init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M.default.init(t.externalStorage),N.default.init(t),window.connectionTimes||(window.connectionTimes={}),!0!==t.enableAnalyticsLogging&&(Q.warn('Analytics disabled, disposing.'),this.analytics.dispose()),t.enableWindowOnErrorHandler&&P.default.addHandler(this.getGlobalOnErrorHandler.bind(this));var n=t.deploymentInfo;if(n&&Object.keys(n).length>0){var o={};for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);o.id='deployment_info',N.default.sendLog(JSON.stringify(o))}if(this.version){var l={id:'component_version',component:'sariska-media-transport',version:this.version};N.default.sendLog(JSON.stringify(l))}return L.default.init(t)},isDesktopSharingEnabled:function(){return L.default.isDesktopSharingEnabled()},isWebRtcSupported:function(){return L.default.isWebRtcSupported()},setLogLevel:function(t){s.default.setLogLevel(t)},setLogLevelById:function(t,n){s.default.setLogLevelById(t,n)},addGlobalLogTransport:function(t){s.default.addGlobalTransport(t)},removeGlobalLogTransport:function(t){s.default.removeGlobalTransport(t)},setGlobalLogOptions:function(t){s.default.setGlobalOptions(t)},createLocalTracks:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,u=!1;return!0===s&&window.setTimeout(function(){u||p.default.emitEvent(b.PERMISSION_PROMPT_IS_SHOWN,A.default.getName())},1e3),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes['obtainPermissions.start']=window.performance.now(),L.default.obtainAudioAndVideoPermissions(n).then(function(o){if(u=!0,window.connectionTimes['obtainPermissions.end']=window.performance.now(),N.default.sendAnalytics((0,q.createGetUserMediaEvent)('success',z(n))),!L.default.options.disableAudioLevels)for(var s=function(t){var n=o[t],s=n.getOriginalStream();n.getType()===j.AUDIO&&(N.default.startLocalStats(s,n.setAudioLevel.bind(n)),n.addEventListener(S.LOCAL_TRACK_STOPPED,function(){N.default.stopLocalStats(s)}))},l=0;l<o.length;l++)s(l);var c=L.default.getCurrentlyAvailableMediaDevices();if(c)for(var f=0;f<o.length;f++){o[f]._setRealDeviceIdFromDeviceList(c)}for(var v,p=F(o);!(v=p()).done;){var b=v.value;b.type===j.VIDEO&&'desktop'===b.videoType&&t.setVideoTrackContentHints(b.track,'detail')}return o}).catch(function(s){if(u=!0,s.name===y.UNSUPPORTED_RESOLUTION&&!A.default.usesNewGumFlow()){var c=n.resolution||'720',f=$(c);if(null!==f)return n.resolution=f,Q.debug('Retry createLocalTracks with resolution',f),N.default.sendAnalytics((0,q.createGetUserMediaEvent)('warning',{old_resolution:c,new_resolution:f,reason:'unsupported resolution'})),t.createLocalTracks(n,void 0,l||(0,o.default)({},n));if(l&&s.gum.constraints&&s.gum.constraints.video&&s.gum.constraints.video.mandatory&&s.gum.constraints.video.mandatory.sourceId)return l.cameraDeviceId=void 0,t.createLocalTracks(l)}if(s.name===y.SCREENSHARING_USER_CANCELED){var v={id:'screensharing_user_canceled',message:s.message};N.default.sendLog(JSON.stringify(v)),N.default.sendAnalytics((0,q.createGetUserMediaEvent)('warning',{reason:'extension install user canceled'}))}else if(s.name===y.NOT_FOUND){var p={id:'usermedia_missing_device',status:s.gum.devices};N.default.sendLog(JSON.stringify(p));var b=z(n);b.reason='device not found',b.devices=s.gum.devices.join('.'),N.default.sendAnalytics((0,q.createGetUserMediaEvent)('error',b))}else{N.default.sendGetUserMediaFailed(s);var w=z(n);w.reason=s.name,N.default.sendAnalytics((0,q.createGetUserMediaEvent)('error',w))}return window.connectionTimes['obtainPermissions.end']=window.performance.now(),Promise.reject(s)})},createTrackVADEmitter:function(t,n,o){return E.default.create(t,n,o)},createAudioMixer:function(){return new R.default},getActiveAudioDevice:function(){return(0,O.default)()},isDeviceListAvailable:function(){return Q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(t){return Q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(t)},isMultipleAudioInputSupported:function(){return this.mediaDevices.isMultipleAudioInputSupported()},isCollectingLocalStats:function(){return N.default.audioLevelsEnabled&&C.default.isLocalStatsSupported()},enumerateDevices:function(t){Q.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(t)},getGlobalOnErrorHandler:function(t,n,o,s,l){Q.error("UnhandledError: "+t,"Script: "+n,"Line: "+o,"Column: "+s,'StackTrace: ',l),N.default.reportGlobalError(l)},setNetworkInfo:function(t){var n=t.isOnline;T.default.updateNetworkInfo({isOnline:n})},setVideoTrackContentHints:function(t,n){'contentHint'in t?(t.contentHint=n,t.contentHint!==n&&Q.debug('Invalid video track contentHint')):Q.debug('MediaStreamTrack contentHint attribute not supported')},precallTest:G.default,util:{AuthUtil:J.default,ScriptUtil:U.default,browser:A.default}},'object'==typeof window.JitsiMeetJS?(0,o.default)({},window.JitsiMeetJS,X):X);e.default=Y},522,[12,1,16,474,432,523,524,525,574,571,701,702,532,533,567,603,627,536,596,566,703,672,676,704,707,606,553,708,531,709,552,548,700,710,557,634,670,681,534]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEOBRIDGE_NOT_AVAILABLE=e.RESERVATION_ERROR=e.PASSWORD_REQUIRED=e.PASSWORD_NOT_SUPPORTED=e.OFFER_ANSWER_FAILED=e.INCOMPATIBLE_SERVER_VERSIONS=e.ICE_FAILED=e.GRACEFUL_SHUTDOWN=e.FOCUS_LEFT=e.FOCUS_DISCONNECTED=e.CONFERENCE_ACCESS_DENIED=e.MEMBERS_ONLY_ERROR=e.NOT_ALLOWED_ERROR=e.CONFERENCE_RESTARTED=e.CONNECTION_ERROR=e.CONFERENCE_MAX_USERS=e.CONFERENCE_DESTROYED=e.CHAT_ERROR=e.AUTHENTICATION_REQUIRED=void 0;e.AUTHENTICATION_REQUIRED='conference.authenticationRequired';e.CHAT_ERROR='conference.chatError';e.CONFERENCE_DESTROYED='conference.destroyed';e.CONFERENCE_MAX_USERS='conference.max_users';e.CONNECTION_ERROR='conference.connectionError';e.CONFERENCE_RESTARTED='conference.restarted';e.NOT_ALLOWED_ERROR='conference.connectionError.notAllowed';e.MEMBERS_ONLY_ERROR='conference.connectionError.membersOnly';e.CONFERENCE_ACCESS_DENIED='conference.connectionError.accessDenied';e.FOCUS_DISCONNECTED='conference.focusDisconnected';e.FOCUS_LEFT='conference.focusLeft';e.GRACEFUL_SHUTDOWN='conference.gracefulShutdown';e.ICE_FAILED='conference.iceFailed';e.INCOMPATIBLE_SERVER_VERSIONS='conference.incompatible_server_versions';e.OFFER_ANSWER_FAILED='conference.offerAnswerFailed';e.PASSWORD_NOT_SUPPORTED='conference.passwordNotSupported';e.PASSWORD_REQUIRED='conference.passwordRequired';e.RESERVATION_ERROR='conference.reservationError';e.VIDEOBRIDGE_NOT_AVAILABLE='conference.videobridgeNotAvailable'},523,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.LOBBY_USER_LEFT=e.LOBBY_USER_UPDATED=e.LOBBY_USER_JOINED=e.BOT_TYPE_CHANGED=e.USER_STATUS_CHANGED=e.USER_ROLE_CHANGED=e.USER_LEFT=e.USER_JOINED=e.TRANSCRIPTION_STATUS_CHANGED=e.TRACK_REMOVED=e.TRACK_MUTE_CHANGED=e.TRACK_AUDIO_LEVEL_CHANGED=e.TRACK_ADDED=e.TALK_WHILE_MUTED=e.SUSPEND_DETECTED=e.SUBJECT_CHANGED=e.STARTED_MUTED=e.START_MUTED_POLICY_CHANGED=e.VIDEO_SIP_GW_SESSION_STATE_CHANGED=e.VIDEO_SIP_GW_AVAILABILITY_CHANGED=e.RECORDER_STATE_CHANGED=e.PROPERTIES_CHANGED=e.PHONE_NUMBER_CHANGED=e.P2P_STATUS=e.PARTICIPANT_PROPERTY_CHANGED=e.PARTCIPANT_FEATURES_CHANGED=e.PARTICIPANT_CONN_STATUS_CHANGED=e.PRIVATE_MESSAGE_RECEIVED=e.NOISY_MIC=e.NO_AUDIO_INPUT=e.MESSAGE_RECEIVED=e.MEMBERS_ONLY_CHANGED=e._MEDIA_SESSION_ACTIVE_CHANGED=e._MEDIA_SESSION_STARTED=e.SERVER_REGION_CHANGED=e.LOCK_STATE_CHANGED=e.LAST_N_ENDPOINTS_CHANGED=e.PARTICIPANT_KICKED=e.KICKED=e.JVB121_STATUS=e.ENDPOINT_MESSAGE_RECEIVED=e.DTMF_SUPPORT_CHANGED=e.CONFERENCE_CREATED_TIMESTAMP=e.DOMINANT_SPEAKER_CHANGED=e.DISPLAY_NAME_CHANGED=e.DATA_CHANNEL_OPENED=e.CONNECTION_RESTORED=e.CONNECTION_INTERRUPTED=e.CONNECTION_ESTABLISHED=e.CONFERENCE_UNIQUE_ID_SET=e.CONFERENCE_LEFT=e.CONFERENCE_JOINED=e.CONFERENCE_FAILED=e.CONFERENCE_ERROR=e.BEFORE_STATISTICS_DISPOSED=e.AUTH_STATUS_CHANGED=e.AUDIO_INPUT_STATE_CHANGE=void 0;e.AUDIO_INPUT_STATE_CHANGE='conference.audio_input_state_changed';e.AUTH_STATUS_CHANGED='conference.auth_status_changed';e.BEFORE_STATISTICS_DISPOSED='conference.beforeStatisticsDisposed';e.CONFERENCE_ERROR='conference.error';e.CONFERENCE_FAILED='conference.failed';e.CONFERENCE_JOINED='conference.joined';e.CONFERENCE_LEFT='conference.left';e.CONFERENCE_UNIQUE_ID_SET='conference.unique_id_set';e.CONNECTION_ESTABLISHED='conference.connectionEstablished';e.CONNECTION_INTERRUPTED='conference.connectionInterrupted';e.CONNECTION_RESTORED='conference.connectionRestored';e.DATA_CHANNEL_OPENED='conference.dataChannelOpened';e.DISPLAY_NAME_CHANGED='conference.displayNameChanged';e.DOMINANT_SPEAKER_CHANGED='conference.dominantSpeaker';e.CONFERENCE_CREATED_TIMESTAMP='conference.createdTimestamp';e.DTMF_SUPPORT_CHANGED='conference.dtmfSupportChanged';e.ENDPOINT_MESSAGE_RECEIVED='conference.endpoint_message_received';e.JVB121_STATUS='conference.jvb121Status';e.KICKED='conference.kicked';e.PARTICIPANT_KICKED='conference.participant_kicked';e.LAST_N_ENDPOINTS_CHANGED='conference.lastNEndpointsChanged';e.LOCK_STATE_CHANGED='conference.lock_state_changed';e.SERVER_REGION_CHANGED='conference.server_region_changed';e._MEDIA_SESSION_STARTED='conference.media_session.started';e._MEDIA_SESSION_ACTIVE_CHANGED='conference.media_session.active_changed';e.MEMBERS_ONLY_CHANGED='conference.membersOnlyChanged';e.MESSAGE_RECEIVED='conference.messageReceived';e.NO_AUDIO_INPUT='conference.no_audio_input';e.NOISY_MIC='conference.noisy_mic';e.PRIVATE_MESSAGE_RECEIVED='conference.privateMessageReceived';e.PARTICIPANT_CONN_STATUS_CHANGED='conference.participant_conn_status_changed';e.PARTCIPANT_FEATURES_CHANGED='conference.partcipant_features_changed';e.PARTICIPANT_PROPERTY_CHANGED='conference.participant_property_changed';e.P2P_STATUS='conference.p2pStatus';e.PHONE_NUMBER_CHANGED='conference.phoneNumberChanged';e.PROPERTIES_CHANGED='conference.propertiesChanged';e.RECORDER_STATE_CHANGED='conference.recorderStateChanged';e.VIDEO_SIP_GW_AVAILABILITY_CHANGED='conference.videoSIPGWAvailabilityChanged';e.VIDEO_SIP_GW_SESSION_STATE_CHANGED='conference.videoSIPGWSessionStateChanged';e.START_MUTED_POLICY_CHANGED='conference.start_muted_policy_changed';e.STARTED_MUTED='conference.started_muted';e.SUBJECT_CHANGED='conference.subjectChanged';e.SUSPEND_DETECTED='conference.suspendDetected';e.TALK_WHILE_MUTED='conference.talk_while_muted';e.TRACK_ADDED='conference.trackAdded';e.TRACK_AUDIO_LEVEL_CHANGED='conference.audioLevelsChanged';e.TRACK_MUTE_CHANGED='conference.trackMuteChanged';e.TRACK_REMOVED='conference.trackRemoved';e.TRANSCRIPTION_STATUS_CHANGED='conference.transcriptionStatusChanged';e.USER_JOINED='conference.userJoined';e.USER_LEFT='conference.userLeft';e.USER_ROLE_CHANGED='conference.roleChanged';e.USER_STATUS_CHANGED='conference.statusChanged';e.BOT_TYPE_CHANGED='conference.bot_type_changed';e.LOBBY_USER_JOINED='conference.lobby.userJoined';e.LOBBY_USER_UPDATED='conference.lobby.userUpdated';e.LOBBY_USER_LEFT='conference.lobby.userLeft'},524,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var o=n(r(d[2])),p=t(r(d[3])),s=n(r(d[4])),c=n(r(d[5])),u=r(d[6]);function h(t,n){this.token=t;var o=this.parseJwt(t);this.name=o?o.room:null,this.user=o.context.user,this.options=n,this.xmpp=new c.default(n,t,this.name),this.addEventListener(p.CONNECTION_FAILED,function(t,n,o,p){s.default.sendAnalyticsAndLog((0,u.createConnectionFailedEvent)(t,n,p))}),this.addEventListener(p.CONNECTION_DISCONNECTED,function(t){t&&s.default.sendAnalytics(u.CONNECTION_DISCONNECTED,{message:t}),s.default.sendLog(JSON.stringify({id:u.CONNECTION_DISCONNECTED,msg:t}))})}h.prototype.parseJwt=function(t){try{return JSON.parse(atob(t.split('.')[1]))}catch(t){return null}},h.prototype.connect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.xmpp.connect(t.id,t.password)},h.prototype.attach=function(t){this.xmpp.attach(t)},h.prototype.disconnect=function(){var t;return(t=this.xmpp).disconnect.apply(t,arguments)},h.prototype.getJid=function(){return this.xmpp.getJid()},h.prototype.setToken=function(t){this.token=t},h.prototype.initJitsiConference=function(t){return new o.default({name:this.name,config:t,connection:this,user:this.user})},h.prototype.addEventListener=function(t,n){this.xmpp.addListener(t,n)},h.prototype.removeEventListener=function(t,n){this.xmpp.removeListener(t,n)},h.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},h.prototype.addFeature=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.addFeature(t,n,!0)},h.prototype.removeFeature=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xmpp.caps.removeFeature(t,n,!0)},h.prototype.getLogs=function(){var t=this.xmpp.getJingleLog(),n={};n.time=new Date,n.url=window.location.href,n.ua=navigator.userAgent;var o=this.xmpp.getXmppLog();return o&&(n.xmpp=o),t.metadata=n,t}},525,[12,1,526,571,531,572,534]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=ct;var o=n(r(d[2])),s=n(r(d[3])),c=r(d[4]),p=n(r(d[5])),h=r(d[6]),l=t(r(d[7])),u=n(r(d[8])),f=t(r(d[9])),P=n(r(d[10])),v=n(r(d[11])),y=t(r(d[12])),E=t(r(d[13])),S=n(r(d[14])),_=r(d[15]),T=n(r(d[16])),C=n(r(d[17])),b=n(r(d[18])),I=n(r(d[19])),A=n(r(d[20])),J=t(r(d[21])),D=n(r(d[22])),R=n(r(d[23])),N=n(r(d[24])),M=n(r(d[25])),L=n(r(d[26])),k=r(d[27]),O=n(r(d[28])),w=n(r(d[29])),j=r(d[30]),F=n(r(d[31])),V=n(r(d[32])),U=n(r(d[33])),B=n(r(d[34])),H=n(r(d[35])),G=n(r(d[36])),K=n(r(d[37])),x=n(r(d[38])),W=n(r(d[39])),q=n(r(d[40])),z=t(r(d[41])),Q=r(d[42]),Y=n(r(d[43])),X=t(r(d[44])),Z=n(r(d[45])),tt=r(d[46]),et=t(r(d[47]));function it(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=nt(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function nt(t,n){if(t){if("string"==typeof t)return ot(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ot(t,n):void 0}}function ot(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function st(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function rt(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?st(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):st(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var at=(0,c.getLogger)(__filename);function ct(t){if(!t.name||t.name.toLowerCase()!==t.name){var n="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw at.error(n),new Error(n)}this.user=t.user,this.eventEmitter=new s.default,this.options=t,this.eventManager=new u.default(this),this.participants={},this._init(t),this.componentsVersions=new W.default(this),this.jvbJingleSession=null,this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.isMutedByFocus=!1,this.mutedByFocusActor=null,this.wasStopped=!1,this.properties={},this.connectionQuality=new b.default(this,this.eventEmitter,t),this.avgRtpStatsReporter=new B.default(this,t.config.avgRtpStatsN||15),this._audioOutputProblemDetector=new U.default(this),this.isJvbConnectionInterrupted=!1,this.speakerStatsCollector=new H.default(this),this.deferredStartP2PTask=null;var o=parseInt(t.config.p2p&&t.config.p2p.backToP2PDelay,10);this.backToP2PDelay=isNaN(o)?5:o,at.info("backToP2PDelay: "+this.backToP2PDelay),this.isP2PConnectionInterrupted=!1,this.p2p=!1,this.p2pJingleSession=null,this.videoSIPGWHandler=new q.default(this.room),this.recordingManager=new F.default(this.room),this._conferenceJoinAnalyticsEventSent=void 0,this.isE2EESupported()&&(at.info('End-to-End Encryprtion is supported'),this._e2eEncryption=new k.E2EEncryption(this))}ct.prototype.constructor=ct,ct.resourceCreator=function(t){return h.Strophe.getNodeFromJid(t)},ct.prototype._init=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.connection&&(this.connection=n.connection,this.xmpp=this.connection.xmpp,this.eventManager.setupXMPPListeners());var o=this.options.config,s={disabledCodec:o.videoQuality?o.videoQuality.disabledCodec:o.p2p&&o.p2p.disableH264&&Y.default.H264,enforcePreferredCodec:o.videoQuality&&o.videoQuality.enforcePreferredCodec,jvbCodec:o.videoQuality&&o.videoQuality.preferredCodec||o.preferH264&&Y.default.H264,p2pCodec:o.p2p?o.p2p.preferredCodec||o.p2p.preferH264&&Y.default.H264:Y.default.VP8};this.codecSelection=new _.CodecSelection(this,s),this._statsCurrentId=o.statisticsId?o.statisticsId:V.default.callStatsUserName,this.room=this.xmpp.createRoom(this.options.name,rt(rt({},o),{},{statsId:this._statsCurrentId}),ct.resourceCreator),this._onIceConnectionInterrupted=this._onIceConnectionInterrupted.bind(this),this.room.addListener(et.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),this._onIceConnectionRestored=this._onIceConnectionRestored.bind(this),this.room.addListener(et.CONNECTION_RESTORED,this._onIceConnectionRestored),this._onIceConnectionEstablished=this._onIceConnectionEstablished.bind(this),this.room.addListener(et.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),this._updateProperties=this._updateProperties.bind(this),this.room.addListener(et.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),this._sendConferenceJoinAnalyticsEvent=this._sendConferenceJoinAnalyticsEvent.bind(this),this.room.addListener(et.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this.e2eping=new O.default(this,o,function(n,o){try{t.sendMessage(n,o,!0)}catch(t){at.warn('Failed to send E2E ping request or response.',t&&t.msg)}}),this.rtc||(this.rtc=new T.default(this,n),this.eventManager.setupRTCListeners()),this.qualityController=new j.QualityController(this),this.participantConnectionStatus=new A.default(this.rtc,this,{rtcMuteTimeout:o._peerConnStatusRtcMuteTimeout,outOfLastNTimeout:o._peerConnStatusOutOfLastNTimeout}),this.participantConnectionStatus.init();var c=!0;if(o.testing&&o.testing.callStatsThreshold&&(c=100*Math.random()<=o.testing.callStatsThreshold),this.statistics||(this.statistics=new G.default(this.xmpp,{aliasName:this._statsCurrentId,userName:o.statisticsDisplayName?o.statisticsDisplayName:this.myUserId(),confID:o.confID||this.connection.options.hosts.domain+"/"+this.options.name,siteID:o.siteID,customScriptUrl:o.callStatsCustomScriptUrl,callStatsID:o.callStatsID,callStatsSecret:o.callStatsSecret,callStatsApplicationLogsDisabled:o.callStatsApplicationLogsDisabled,enableCallStats:c,roomName:this.options.name,applicationName:o.applicationName,getWiFiStatsMethod:o.getWiFiStatsMethod}),G.default.analytics.addPermanentProperties({callstats_name:this._statsCurrentId}),o.longTasksStatsInterval&&this.statistics.attachLongTasksStats(this)),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),o.enableTalkWhileMuted&&!C.default.isSafari())if(o.createVADProcessor){at.info('Using VAD detection for generating talk while muted events'),this._audioAnalyser||(this._audioAnalyser=new N.default(this,o.createVADProcessor));var p=new L.default;p.on(J.VAD_TALK_WHILE_MUTED,function(){return t.eventEmitter.emit(f.TALK_WHILE_MUTED)}),this._audioAnalyser.addVADDetectionService(p)}else at.warn('No VAD Processor was provided. Talk while muted detection service was not initialized!');if(o.enableNoisyMicDetection&&!C.default.isSafari())if(o.createVADProcessor){this._audioAnalyser||(this._audioAnalyser=new N.default(this,o.createVADProcessor));var h=new M.default;h.on(J.VAD_NOISY_DEVICE,function(){return t.eventEmitter.emit(f.NOISY_MIC)}),this._audioAnalyser.addVADDetectionService(h)}else at.warn('No VAD Processor was provided. Noisy microphone detection service was not initialized!');o.enableNoAudioDetection&&(this._noAudioSignalDetection=new D.default(this),this._noAudioSignalDetection.on(J.NO_AUDIO_INPUT,function(){t.eventEmitter.emit(f.NO_AUDIO_INPUT)}),this._noAudioSignalDetection.on(J.AUDIO_INPUT_STATE_CHANGE,function(n){t.eventEmitter.emit(f.AUDIO_INPUT_STATE_CHANGE,n)})),'channelLastN'in o&&this.setLastN(o.channelLastN),this.jvb121Status=new w.default(this),this.p2pDominantSpeakerDetection=new R.default(this),o&&o.deploymentInfo&&o.deploymentInfo.userRegion&&this.setLocalParticipantProperty('region',o.deploymentInfo.userRegion),this.setLocalParticipantProperty('codecType',this.codecSelection.getPreferredCodec())},ct.prototype.join=function(t){var n=this;this.room&&this.room.join(t).then(function(){return n._maybeSetSITimeout()})},ct.prototype.authenticateAndUpgradeRole=function(t){return S.default.call(this,rt(rt({},t),{},{onCreateResource:ct.resourceCreator}))},ct.prototype.isJoined=function(){return this.room&&this.room.joined},ct.prototype.isP2PEnabled=function(){return Boolean(this.options.config.p2p&&this.options.config.p2p.enabled)||void 0===this.options.config.p2p},ct.prototype.isP2PTestModeEnabled=function(){return Boolean(this.options.config.testing&&this.options.config.testing.p2pTestMode)},ct.prototype.leave=function(){var t=this;if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.avgRtpStatsReporter&&(this.avgRtpStatsReporter.dispose(),this.avgRtpStatsReporter=null),this._audioOutputProblemDetector&&(this._audioOutputProblemDetector.dispose(),this._audioOutputProblemDetector=null),this.e2eping&&(this.e2eping.stop(),this.e2eping=null),this.getLocalTracks().forEach(function(n){return t.onLocalTrackRemoved(n)}),this.rtc.closeBridgeChannel(),this._sendConferenceLeftAnalyticsEvent(),this.statistics&&this.statistics.dispose(),this._delayedIceFailed&&this._delayedIceFailed.cancel(),this.jvbJingleSession&&(this.jvbJingleSession.close(),this.jvbJingleSession=null),this.p2pJingleSession&&(this.p2pJingleSession.close(),this.p2pJingleSession=null),this.room){var n=this.room;return n.removeListener(et.CONNECTION_INTERRUPTED,this._onIceConnectionInterrupted),n.removeListener(et.CONNECTION_RESTORED,this._onIceConnectionRestored),n.removeListener(et.CONNECTION_ESTABLISHED,this._onIceConnectionEstablished),n.removeListener(et.CONFERENCE_PROPERTIES_CHANGED,this._updateProperties),n.removeListener(et.MEETING_ID_SET,this._sendConferenceJoinAnalyticsEvent),this.eventManager.removeXMPPListeners(),this.room=null,n.leave().then(function(){t.rtc&&t.rtc.destroy()}).catch(function(n){throw t.getParticipants().forEach(function(n){return t.onMemberLeft(n.getJid())}),n})}return Promise.reject(new Error('The conference is has been already left'))},ct.prototype._getActiveMediaSession=function(){return this.isP2PActive()?this.p2pJingleSession:this.jvbJingleSession},ct.prototype._getMediaSessions=function(){var t=[];return this.jvbJingleSession&&t.push(this.jvbJingleSession),this.p2pJingleSession&&t.push(this.p2pJingleSession),t},ct.prototype.getName=function(){return this.options.name},ct.prototype.getConnection=function(){return this.connection},ct.prototype.isAuthEnabled=function(){return this.authEnabled},ct.prototype.isLoggedIn=function(){return Boolean(this.authIdentity)},ct.prototype.getAuthLogin=function(){return this.authIdentity},ct.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},ct.prototype.getExternalAuthUrl=function(t){var n=this;return new Promise(function(o,s){n.isExternalAuthEnabled()?t?n.room.moderator.getPopupLoginUrl(o,s):n.room.moderator.getLoginUrl(o,s):s()})},ct.prototype.getLocalTracks=function(t){var n=[];return this.rtc&&(n=this.rtc.getLocalTracks(t)),n},ct.prototype.getLocalAudioTrack=function(){return this.rtc?this.rtc.getLocalAudioTrack():null},ct.prototype.getLocalVideoTrack=function(){return this.rtc?this.rtc.getLocalVideoTrack():null},ct.prototype.getPerformanceStats=function(){return{longTasksStats:this.statistics.getLongTasksStats()}},ct.prototype.on=function(t,n){this.eventEmitter&&this.eventEmitter.on(t,n)},ct.prototype.off=function(t,n){this.eventEmitter&&this.eventEmitter.removeListener(t,n)},ct.prototype.addEventListener=ct.prototype.on,ct.prototype.removeEventListener=ct.prototype.off,ct.prototype.addCommandListener=function(t,n){this.room&&this.room.addPresenceListener(t,n)},ct.prototype.removeCommandListener=function(t,n){this.room&&this.room.removePresenceListener(t,n)},ct.prototype.sendTextMessage=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'body';if(this.room){var o=(this.room.getFromPresence('nick')||{}).value;this.room.sendMessage(t,n,o)}},ct.prototype.sendPrivateTextMessage=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'body';this.room&&this.room.sendPrivateMessage(t,n,o)},ct.prototype.sendCommand=function(t,n){this.room?(this.room.addToPresence(t,n),this.room.sendPresence()):at.warn('Not sending a command, room not initialized.')},ct.prototype.sendCommandOnce=function(t,n){this.sendCommand(t,n),this.removeCommand(t)},ct.prototype.removeCommand=function(t){this.room&&this.room.removeFromPresence(t)},ct.prototype.setDisplayName=function(t){this.room&&(this.room.addToPresence('nick',{attributes:{xmlns:'http://jabber.org/protocol/nick'},value:t}),this.room.sendPresence())},ct.prototype.setSubject=function(t){this.room&&this.isModerator()&&this.room.setSubject(t)},ct.prototype.getTranscriber=function(){if(void 0===this.transcriber){this.transcriber=new K.default;for(var t,n=it(this.getLocalTracks(X.AUDIO));!(t=n()).done;){var o=t.value;this.transcriber.addTrack(o)}for(var s,c=it(this.rtc.getRemoteTracks(X.AUDIO));!(s=c()).done;){var p=s.value;this.transcriber.addTrack(p)}}return this.transcriber},ct.prototype.getTranscriptionStatus=function(){return this.room.transcriptionStatus},ct.prototype.addTrack=function(t){var n=t.getType(),o=this.rtc.getLocalTracks(n);return o.length>0?t===o[0]?Promise.resolve(t):Promise.reject(new Error("Cannot add second "+n+" track to the conference")):this.replaceTrack(null,t)},ct.prototype._fireAudioLevelChangeEvent=function(t,n){var o=this.getActivePeerConnection();n&&o!==n||this.eventEmitter.emit(f.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),t)},ct.prototype._fireMuteChangeEvent=function(t){var n;if(this.isMutedByFocus&&t.isAudioTrack()&&!t.isMuted()&&(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1)),this.mutedByFocusActor){var o=h.Strophe.getResourceFromJid(this.mutedByFocusActor);n=this.participants[o]}this.eventEmitter.emit(f.TRACK_MUTE_CHANGED,t,n)},ct.prototype.onLocalTrackRemoved=function(t){t._setConference(null),this.rtc.removeLocalTrack(t),t.removeEventListener(E.TRACK_MUTE_CHANGED,t.muteHandler),t.removeEventListener(E.TRACK_AUDIO_LEVEL_CHANGED,t.audioLevelHandler),t.isVideoTrack()&&t.videoType===Z.default.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(f.TRACK_REMOVED,t)},ct.prototype.removeTrack=function(t){return this.replaceTrack(t,null)},ct.prototype.replaceTrack=function(t,n){var o=this;return t&&t.disposed?Promise.reject(new v.default(y.TRACK_IS_DISPOSED)):n&&n.disposed?Promise.reject(new v.default(y.TRACK_IS_DISPOSED)):this._doReplaceTrack(t,n).then(function(){return t&&o.onLocalTrackRemoved(t),n&&o._setupNewTrack(n),Promise.resolve()},function(t){return Promise.reject(new Error(t))})},ct.prototype._doReplaceTrack=function(t,n){var o=[];return this.jvbJingleSession?o.push(this.jvbJingleSession.replaceTrack(t,n)):at.info('_doReplaceTrack - no JVB JingleSession'),this.p2pJingleSession?o.push(this.p2pJingleSession.replaceTrack(t,n)):at.info('_doReplaceTrack - no P2P JingleSession'),Promise.all(o)},ct.prototype._setupNewTrack=function(t){if(t.isAudioTrack()||t.isVideoTrack()&&t.videoType!==Z.default.DESKTOP){var n=T.default.getCurrentlyAvailableMediaDevices().find(function(n){return n.kind===t.getTrack().kind+"input"&&n.label===t.getTrack().label});n&&G.default.sendActiveDeviceListEvent(T.default.getEventDataForActiveDevice(n))}t.isVideoTrack()&&(this.removeCommand('videoType'),this.sendCommand('videoType',{value:t.videoType,attributes:{xmlns:'https://www.sariska.io/video'}})),this.rtc.addLocalTrack(t),t.isAudioTrack()?this.room.setAudioMute(t.isMuted()):this.room.setVideoMute(t.isMuted()),t.muteHandler=this._fireMuteChangeEvent.bind(this,t),t.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),t.addEventListener(E.TRACK_MUTE_CHANGED,t.muteHandler),t.addEventListener(E.TRACK_AUDIO_LEVEL_CHANGED,t.audioLevelHandler),t._setConference(this),this.eventEmitter.emit(f.TRACK_ADDED,t)},ct.prototype._addLocalTrackAsUnmute=function(t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.addTrackAsUnmute(t)):at.info("Add local MediaStream as unmute - no JVB Jingle session started yet"),this.p2pJingleSession?n.push(this.p2pJingleSession.addTrackAsUnmute(t)):at.info("Add local MediaStream as unmute - no P2P Jingle session started yet"),Promise.all(n)},ct.prototype._removeLocalTrackAsMute=function(t){var n=[];return this.jvbJingleSession?n.push(this.jvbJingleSession.removeTrackAsMute(t)):at.info('Remove local MediaStream - no JVB JingleSession started yet'),this.p2pJingleSession?n.push(this.p2pJingleSession.removeTrackAsMute(t)):at.info('Remove local MediaStream - no P2P JingleSession started yet'),Promise.all(n)},ct.prototype.getRole=function(){return this.room.role},ct.prototype.isHidden=function(){return this.connection?h.Strophe.getDomainFromJid(this.connection.getJid())===this.options.config.hiddenDomain:null},ct.prototype.isModerator=function(){return this.room?this.room.isModerator():null},ct.prototype.lock=function(t){var n=this;return this.isModerator()?new Promise(function(o,s){n.room.lockRoom(t||'',function(){return o()},function(t){return s(t)},function(){return s(l.PASSWORD_NOT_SUPPORTED)})}):Promise.reject(new Error('You are not moderator.'))},ct.prototype.unlock=function(){return this.lock()},ct.prototype.selectParticipant=function(t){this.selectParticipants([t])},ct.prototype.selectParticipants=function(t){if(!Array.isArray(t))throw new Error('Invalid argument; participantIds must be an array.');this.rtc.selectEndpoints(t)},ct.prototype.pinParticipant=function(t){this.rtc.pinEndpoint(t)},ct.prototype.getLastN=function(){return this.rtc.getLastN()},ct.prototype.setLastN=function(t){if(!Number.isInteger(t)&&!Number.parseInt(t,10))throw new Error("Invalid value for lastN: "+t);var n=Number(t);if(n<-1)throw new RangeError('lastN cannot be smaller than -1');if(this.rtc.setLastN(n),this.p2pJingleSession){var o=0!==n;this.p2pJingleSession.setMediaTransferActive(!0,o).catch(function(t){at.error("Failed to adjust video transfer status ("+o+")",t)})}},ct.prototype.isInLastN=function(t){return this.rtc.isInLastN(t)},ct.prototype.getParticipants=function(){return Object.values(this.participants)},ct.prototype.getParticipantCount=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getParticipants();return t||(n=n.filter(function(t){return!t.isHidden()})),n.length+1},ct.prototype.getParticipantById=function(t){return this.participants[t]},ct.prototype.grantOwner=function(t){var n=this.getParticipantById(t);n&&this.room.setAffiliation(n.getJid(),'owner')},ct.prototype.kickParticipant=function(t){var n=this.getParticipantById(t);n&&this.room.kick(n.getJid())},ct.prototype._maybeClearSITimeout=function(){this._sessionInitiateTimeout&&(this.jvbJingleSession||this.getParticipantCount()<2)&&(window.clearTimeout(this._sessionInitiateTimeout),this._sessionInitiateTimeout=null)},ct.prototype._maybeSetSITimeout=function(){var t=this;!this.jvbJingleSession&&this.getParticipantCount()>=2&&!this._sessionInitiateTimeout&&(this._sessionInitiateTimeout=window.setTimeout(function(){t._sessionInitiateTimeout=null,G.default.sendAnalytics((0,tt.createJingleEvent)(tt.ACTION_JINGLE_SI_TIMEOUT,{p2p:!1,value:5e3}))},5e3))},ct.prototype.muteParticipant=function(t){var n=this.getParticipantById(t);n&&this.room.muteParticipant(n.getJid(),!0)},ct.prototype.onMemberJoined=function(t,n,o,s,c,p,l,u,v,y){var E=h.Strophe.getResourceFromJid(t);if('focus'!==E&&this.myUserId()!==E){var S=new P.default(t,this,n,s,c,p,l);S._role=o,S._botType=u,S._features=y||new Set,this.participants[E]=S,this.eventEmitter.emit(f.USER_JOINED,E,S),this._updateFeatures(S),this.isJoined()&&this._maybeStartOrStopP2P(),this._maybeSetSITimeout()}},ct.prototype._onMucJoined=function(){this._maybeStartOrStopP2P()},ct.prototype._updateFeatures=function(t){var n=this;t.getFeatures().then(function(o){t._supportsDTMF=o.has('urn:xmpp:jingle:dtmf:0'),n.updateDTMFSupport(),o.has(Q.FEATURE_JIGASI)&&t.setProperty('features_jigasi',!0),o.has(Q.FEATURE_E2EE)&&t.setProperty('features_e2ee',!0)}).catch(function(){return!1})},ct.prototype._onMemberBotTypeChanged=function(t,n){var o=this.getParticipants().find(function(n){return n.getJid()===t});if(o){o._botType=n;var s=h.Strophe.getResourceFromJid(t);this.eventEmitter.emit(f.BOT_TYPE_CHANGED,s,n)}o._botType||this._maybeStartOrStopP2P()},ct.prototype.onMemberLeft=function(t){var n=this,o=h.Strophe.getResourceFromJid(t);if('focus'!==o&&this.myUserId()!==o){var s=this.participants[o];delete this.participants[o],this.rtc.removeRemoteTracks(o).forEach(function(t){return n.eventEmitter.emit(f.TRACK_REMOVED,t)}),s&&this.eventEmitter.emit(f.USER_LEFT,o,s),this._maybeStartOrStopP2P(!0),this._maybeClearSITimeout()}},ct.prototype.onMemberKicked=function(t,n,o){if(n!==this.myUserId()){var s=this.participants[n];if(t)return this.eventEmitter.emit(f.KICKED,s),void this.leave();var c=this.participants[o];this.eventEmitter.emit(f.PARTICIPANT_KICKED,s,c)}},ct.prototype.onLocalRoleChanged=function(t){this.eventEmitter.emit(f.USER_ROLE_CHANGED,this.myUserId(),t)},ct.prototype.onUserRoleChanged=function(t,n){var o=h.Strophe.getResourceFromJid(t),s=this.getParticipantById(o);s&&(s._role=n,this.eventEmitter.emit(f.USER_ROLE_CHANGED,o,n))},ct.prototype.onDisplayNameChanged=function(t,n){var o=h.Strophe.getResourceFromJid(t),s=this.getParticipantById(o);s&&s._displayName!==n&&(s._displayName=n,this.eventEmitter.emit(f.DISPLAY_NAME_CHANGED,o,n))},ct.prototype.onRemoteTrackAdded=function(t){var n=this;if(!t.isP2P||this.isP2PActive())if(t.isP2P||!this.isP2PActive()){var o=t.getParticipantId(),s=this.getParticipantById(o);if(s){s._tracks.push(t),this.transcriber&&this.transcriber.addTrack(t);var c=this.eventEmitter;t.addEventListener(E.TRACK_MUTE_CHANGED,function(){return c.emit(f.TRACK_MUTE_CHANGED,t)}),t.addEventListener(E.TRACK_AUDIO_LEVEL_CHANGED,function(t,s){n.getActivePeerConnection()===s&&c.emit(f.TRACK_AUDIO_LEVEL_CHANGED,o,t)}),c.emit(f.TRACK_ADDED,t)}else at.error("No participant found for id: "+o)}else at.info('Trying to add remote JVB track, when in P2P - IGNORED');else at.info('Trying to add remote P2P track, when not in P2P - IGNORED')},ct.prototype.onCallAccepted=function(t,n){this.p2pJingleSession===t&&(at.info('P2P setAnswer'),this.p2pJingleSession.setAnswer(n),this.eventEmitter.emit(f._MEDIA_SESSION_STARTED,this.p2pJingleSession))},ct.prototype.onTransportInfo=function(t,n){this.p2pJingleSession===t&&(at.info('P2P addIceCandidates'),this.p2pJingleSession.addIceCandidates(n))},ct.prototype.onRemoteTrackRemoved=function(t){var n=this;this.getParticipants().forEach(function(o){for(var s=o.getTracks(),c=0;c<s.length;c++)if(s[c]===t){o._tracks.splice(c,1),n.eventEmitter.emit(f.TRACK_REMOVED,t),n.transcriber&&n.transcriber.removeTrack(t);break}},this)},ct.prototype._onIncomingCallP2P=function(t,n){var o;C.default.supportsP2P()?this.isP2PEnabled()||this.isP2PTestModeEnabled()?this.p2pJingleSession?o={reason:'busy',reasonDescription:'P2P already in progress',errorMsg:'Duplicated P2P "session-initiate"'}:this._shouldBeInP2PMode()||(o={reason:'decline',reasonDescription:'P2P requirements not met',errorMsg:'Received P2P "session-initiate" when should not be in P2P mode'},G.default.sendAnalytics((0,tt.createJingleEvent)(tt.ACTION_P2P_DECLINED))):o={reason:'decline',reasonDescription:'P2P disabled',errorMsg:'P2P mode disabled in the configuration'}:o={reason:'unsupported-applications',reasonDescription:'P2P not supported',errorMsg:'This client does not support P2P connections'},o?this._rejectIncomingCall(t,o):this._acceptP2PIncomingCall(t,n)},ct.prototype.onIncomingCall=function(t,n,o){if(t.isP2P)this._onIncomingCallP2P(t,n);else{if(!this.room.isFocus(t.remoteJid)){var s='Rejecting session-initiate from non-focus.';return void this._rejectIncomingCall(t,{reason:'security-error',reasonDescription:s,errorMsg:s})}this._acceptJvbIncomingCall(t,n,o)}},ct.prototype._acceptJvbIncomingCall=function(t,n,o){var s=this;this.jvbJingleSession=t,this.room.connectionTimes['session.initiate']=o,this._sendConferenceJoinAnalyticsEvent(),this.wasStopped&&G.default.sendAnalyticsAndLog((0,tt.createJingleEvent)(tt.ACTION_JINGLE_RESTART,{p2p:!1}));var c=$(n).find('>bridge-session[xmlns="http://jitsi.org/protocol/focus"]').attr('region');this.eventEmitter.emit(f.SERVER_REGION_CHANGED,c),this._maybeClearSITimeout(),G.default.sendAnalytics((0,tt.createJingleEvent)(tt.ACTION_JINGLE_SI_RECEIVED,{p2p:!1,value:o}));try{t.initialize(this.room,this.rtc,rt(rt({},this.options.config),{},{enableInsertableStreams:this._isE2EEEnabled()}))}catch(t){return x.default.callErrorHandler(t),void at.error(t)}this._setBridgeChannel(n,t.peerconnection);var p=this.getLocalTracks();try{t.acceptOffer(n,function(){s.isP2PActive()&&s.jvbJingleSession&&s._suspendMediaTransferForJvbConnection(),s.eventEmitter.emit(f._MEDIA_SESSION_STARTED,t),s.isP2PActive()||s.eventEmitter.emit(f._MEDIA_SESSION_ACTIVE_CHANGED,t)},function(t){x.default.callErrorHandler(t),at.error('Failed to accept incoming Jingle session',t)},p),at.info('Starting CallStats for JVB connection...'),this.statistics.startCallStats(this.jvbJingleSession.peerconnection,'jitsi'),this.statistics.startRemoteStats(this.jvbJingleSession.peerconnection)}catch(t){x.default.callErrorHandler(t),at.error(t)}},ct.prototype._setBridgeChannel=function(t,n){var o=null,s=$(t).find('>content>transport>web-socket').first();1===s.length&&(o=s[0].getAttribute('url')),o?this.rtc.initializeBridgeChannel(null,o):this.rtc.initializeBridgeChannel(n,null)},ct.prototype._rejectIncomingCall=function(t,n){n&&n.errorMsg&&x.default.callErrorHandler(new Error(n.errorMsg)),t.terminate(null,function(t){at.warn("An error occurred while trying to terminate invalid Jingle session",t)},{reason:n&&n.reason,reasonDescription:n&&n.reasonDescription,sendSessionTerminate:!0})},ct.prototype.onCallEnded=function(t,n,o){at.info("Call ended: "+n+" - "+o+" P2P ?"+t.isP2P),t===this.jvbJingleSession?(this.wasStopped=!0,G.default.sendAnalytics((0,tt.createJingleEvent)(tt.ACTION_JINGLE_TERMINATE,{p2p:!1})),this.statistics&&(this.statistics.stopRemoteStats(this.jvbJingleSession.peerconnection),at.info('Stopping JVB CallStats'),this.statistics.stopCallStats(this.jvbJingleSession.peerconnection)),this.jvbJingleSession=null,this.rtc.onCallEnded()):t===this.p2pJingleSession?('decline'===n&&'force JVB121'===o?(at.info('In forced JVB 121 mode...'),G.default.analytics.addPermanentProperties({forceJvb121:!0})):'connectivity-error'===n&&'ICE FAILED'===o&&G.default.analytics.addPermanentProperties({p2pFailed:!0}),this._stopP2PSession()):at.error('Received onCallEnded for invalid session',t.sid,t.remoteJid,n,o)},ct.prototype.onSuspendDetected=function(t){t.isP2P||(this.leave(),this.eventEmitter.emit(f.SUSPEND_DETECTED))},ct.prototype.updateDTMFSupport=function(){for(var t=!1,n=this.getParticipants(),o=0;o<n.length;o+=1)if(n[o].supportsDTMF()){t=!0;break}t!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=t,this.eventEmitter.emit(f.DTMF_SUPPORT_CHANGED,t))},ct.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},ct.prototype.myUserId=function(){return this.room&&this.room.myroomjid?h.Strophe.getResourceFromJid(this.room.myroomjid):null},ct.prototype.sendTones=function(t,n,o){var s=this.getActivePeerConnection();s?s.sendTones(t,n,o):at.warn('cannot sendTones: no peer connection')},ct.prototype.startRecording=function(t){return this.room?this.recordingManager.startRecording(t):Promise.reject(new Error('The conference is not created yet!'))},ct.prototype.stopRecording=function(t){return this.room?this.recordingManager.stopRecording(t):Promise.reject(new Error('The conference is not created yet!'))},ct.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},ct.prototype.dial=function(t){return this.room?this.room.dial(t):new Promise(function(t,n){n(new Error('The conference is not created yet!'))})},ct.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(t,n){n(new Error('The conference is not created yet!'))})},ct.prototype.startTranscriber=function(){return this.dial('jitsi_meet_transcribe')},ct.prototype.stopTranscriber=ct.prototype.hangup,ct.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},ct.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},ct.prototype.getMeetingUniqueId=function(){if(this.room)return this.room.getMeetingId()},ct.prototype.getActivePeerConnection=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection:this.jvbJingleSession?this.jvbJingleSession.peerconnection:null},ct.prototype.getConnectionState=function(){var t=this.getActivePeerConnection();return t?t.getConnectionState():null},ct.prototype.setStartMutedPolicy=function(t){this.isModerator()&&(this.startMutedPolicy=t,this.room.addToPresence('startmuted',{attributes:{audio:t.audio,video:t.video,xmlns:'https://www.sariska.io/start-muted'}}),this.room.sendPresence())},ct.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},ct.prototype.isStartAudioMuted=function(){return this.startAudioMuted},ct.prototype.isStartVideoMuted=function(){return this.startVideoMuted},ct.prototype.getConnectionTimes=function(){return this.room.connectionTimes},ct.prototype.setLocalParticipantProperty=function(t,n){this.sendCommand("jitsi_participant_"+t,{value:n})},ct.prototype.removeLocalParticipantProperty=function(t){this.removeCommand("jitsi_participant_"+t),this.room.sendPresence()},ct.prototype.getLocalParticipantProperty=function(t){var n=this.room.presMap.nodes.find(function(n){return n.tagName==="jitsi_participant_"+t});return n?n.value:void 0},ct.prototype.sendFeedback=function(t,n){return this.statistics.sendFeedback(t,n)},ct.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},ct.prototype.getSsrcByTrack=function(t){var n;return t.isLocal()?null==(n=this.getActivePeerConnection())?void 0:n.getLocalSSRC(t):t.getSSRC()},ct.prototype._onTrackAttach=function(t,n){var o=t.isLocal(),s=null,c=t.isP2P,p=c?t.getParticipantId():'jitsi',h=c?this.p2pJingleSession&&this.p2pJingleSession.peerconnection:this.jvbJingleSession&&this.jvbJingleSession.peerconnection;o?h&&(s=h.getLocalSSRC(t)):s=t.getSSRC(),n.id&&s&&h&&this.statistics.associateStreamWithVideoTag(h,s,o,p,t.getUsageLabel(),n.id)},ct.prototype.sendApplicationLog=function(t){G.default.sendLog(t)},ct.prototype._isFocus=function(t){return this.room?this.room.isFocus(t):null},ct.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(f.CONFERENCE_FAILED,l.INCOMPATIBLE_SERVER_VERSIONS)},ct.prototype.sendEndpointMessage=function(t,n){this.rtc.sendChannelMessage(t,n)},ct.prototype.broadcastEndpointMessage=function(t){this.sendEndpointMessage('',t)},ct.prototype.sendMessage=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'',o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=typeof t;if('object'===s||!o&&'string'===s)if(o)this.sendEndpointMessage(n,t);else{var c=t,p='body';if('object'===s){p='json-message',c.hasOwnProperty(Q.JITSI_MEET_MUC_TYPE)||(c[Q.JITSI_MEET_MUC_TYPE]='');try{c=JSON.stringify(c)}catch(t){return void at.error('Can not send a message, stringify failed: ',t)}}n?this.sendPrivateTextMessage(n,c,p):this.sendTextMessage(c,p)}else at.error("Can not send a message of type "+s)},ct.prototype.isConnectionInterrupted=function(){return this.isP2PActive()?this.isP2PConnectionInterrupted:this.isJvbConnectionInterrupted},ct.prototype._onConferenceRestarted=function(t){!t.isP2P&&this.options.config.enableForcedReload&&(this.restartInProgress=!0,this.eventEmitter.emit(f.CONFERENCE_FAILED,l.CONFERENCE_RESTARTED))},ct.prototype._onIceConnectionInterrupted=function(t){t.isP2P?this.isP2PConnectionInterrupted=!0:this.isJvbConnectionInterrupted=!0,t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(f.CONNECTION_INTERRUPTED)},ct.prototype._onIceConnectionFailed=function(t){t.isP2P?(G.default.analytics.addPermanentProperties({p2pFailed:!0}),this.p2pJingleSession&&G.default.sendAnalyticsAndLog((0,tt.createP2PEvent)(tt.ACTION_P2P_FAILED,{initiator:this.p2pJingleSession.isInitiator})),this._stopP2PSession('connectivity-error','ICE FAILED')):t&&this.jvbJingleSession===t&&(this._delayedIceFailed=new I.default(this),this._delayedIceFailed.start(t))},ct.prototype._onIceConnectionRestored=function(t){t.isP2P?this.isP2PConnectionInterrupted=!1:(this.isJvbConnectionInterrupted=!1,this._delayedIceFailed&&this._delayedIceFailed.cancel()),t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(f.CONNECTION_RESTORED)},ct.prototype._acceptP2PIncomingCall=function(t,n){var o=this;this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=t,this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,rt(rt({},this.options.config),{},{enableInsertableStreams:this._isE2EEEnabled()})),at.info('Starting CallStats for P2P connection...');var s=h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),c=this.participants[s];c&&(s=c.getStatsID()||s),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,s);var p=this.getLocalTracks();this.p2pJingleSession.acceptOffer(n,function(){at.debug('Got RESULT for P2P "session-accept"'),o.eventEmitter.emit(f._MEDIA_SESSION_STARTED,o.p2pJingleSession)},function(t){at.error('Failed to accept incoming P2P Jingle session',t)},p)},ct.prototype._addRemoteJVBTracks=function(){this._addRemoteTracks('JVB',this.jvbJingleSession.peerconnection.getRemoteTracks())},ct.prototype._addRemoteP2PTracks=function(){this._addRemoteTracks('P2P',this.p2pJingleSession.peerconnection.getRemoteTracks())},ct.prototype._addRemoteTracks=function(t,n){for(var o,s=it(n);!(o=s()).done;){var c=o.value;at.info("Adding remote "+t+" track: "+c),this.onRemoteTrackAdded(c)}},ct.prototype._onIceConnectionEstablished=function(t){null!==this.p2pJingleSession&&(this.p2pEstablishmentDuration=this.p2pJingleSession.establishmentDuration),null!==this.jvbJingleSession&&(this.jvbEstablishmentDuration=this.jvbJingleSession.establishmentDuration);var n=!1,o=this.options.config.forceJVB121Ratio;if(t.isP2P?this.p2pJingleSession!==t?(at.error('CONNECTION_ESTABLISHED - wrong P2P session instance ?!'),n=!0):!t.isInitiator&&'number'==typeof o&&Math.random()<o&&(at.info("Forcing JVB 121 mode (ratio="+o+")..."),G.default.analytics.addPermanentProperties({forceJvb121:!0}),this._stopP2PSession('decline','force JVB121'),n=!0):n=!0,!isNaN(this.p2pEstablishmentDuration)&&!isNaN(this.jvbEstablishmentDuration)){var s=this.p2pEstablishmentDuration-this.jvbEstablishmentDuration;G.default.sendAnalytics(tt.ICE_ESTABLISHMENT_DURATION_DIFF,{value:s})}t.isP2P===this.isP2PActive()&&this.eventEmitter.emit(f.CONNECTION_ESTABLISHED),n||(this._setP2PStatus(!0),this.jvbJingleSession?this._removeRemoteJVBTracks():at.info('Not removing remote JVB tracks - no session yet'),this._addRemoteP2PTracks(),this.jvbJingleSession&&this._suspendMediaTransferForJvbConnection(),at.info('Starting remote stats with p2p connection'),this.statistics.startRemoteStats(this.p2pJingleSession.peerconnection),G.default.sendAnalyticsAndLog((0,tt.createP2PEvent)(tt.ACTION_P2P_ESTABLISHED,{initiator:this.p2pJingleSession.isInitiator})))},ct.prototype._updateProperties=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(0,p.default)(t,this.properties);if(this.properties=t,n){this.eventEmitter.emit(f.PROPERTIES_CHANGED,this.properties);['bridge-count','created-ms'].forEach(function(n){void 0!==t[n]&&G.default.analytics.addPermanentProperties((0,o.default)({},n.replace('-','_'),t[n]))})}},ct.prototype.getProperty=function(t){return this.properties[t]},ct.prototype._maybeClearDeferredStartP2P=function(){this.deferredStartP2PTask&&(at.info('Cleared deferred start P2P task'),clearTimeout(this.deferredStartP2PTask),this.deferredStartP2PTask=null)},ct.prototype._removeRemoteJVBTracks=function(){this._removeRemoteTracks('JVB',this.jvbJingleSession.peerconnection.getRemoteTracks())},ct.prototype._removeRemoteP2PTracks=function(){this._removeRemoteTracks('P2P',this.p2pJingleSession.peerconnection.getRemoteTracks())},ct.prototype._removeRemoteTracks=function(t,n){for(var o,s=it(n);!(o=s()).done;){var c=o.value;at.info("Removing remote "+t+" track: "+c),this.onRemoteTrackRemoved(c)}},ct.prototype._resumeMediaTransferForJvbConnection=function(){at.info('Resuming media transfer over the JVB connection...'),this.jvbJingleSession.setMediaTransferActive(!0,!0).then(function(){at.info('Resumed media transfer over the JVB connection!')},function(t){at.error('Failed to resume media transfer over the JVB connection:',t)})},ct.prototype._setP2PStatus=function(t){if(this.p2p!==t){if(this.p2p=t,t){at.info('Peer to peer connection established!'),G.default.analytics.addPermanentProperties({p2pFailed:!1,forceJvb121:!1});var n=0!==this.rtc.getLastN();this.p2pJingleSession.setMediaTransferActive(!0,n).catch(function(t){at.error("Failed to sync up P2P video transfer status("+n+")",t)})}else at.info('Peer to peer connection closed!');this.jvbJingleSession&&this.statistics.sendConnectionResumeOrHoldEvent(this.jvbJingleSession.peerconnection,!t),this.dtmfManager=null,this.eventEmitter.emit(f.P2P_STATUS,this,this.p2p),this.eventEmitter.emit(f._MEDIA_SESSION_ACTIVE_CHANGED,this._getActiveMediaSession()),this.eventEmitter.emit(this.isConnectionInterrupted()?f.CONNECTION_INTERRUPTED:f.CONNECTION_RESTORED)}else at.debug("Called _setP2PStatus with the same status: "+t)},ct.prototype._startP2PSession=function(t){if(this._maybeClearDeferredStartP2P(),this.p2pJingleSession)at.error('P2P session already started!');else{this.isP2PConnectionInterrupted=!1,this.p2pJingleSession=this.xmpp.connection.jingle.newP2PJingleSession(this.room.myroomjid,t),at.info('Created new P2P JingleSession',this.room.myroomjid,t),this._sendConferenceJoinAnalyticsEvent(),this.p2pJingleSession.initialize(this.room,this.rtc,rt(rt({},this.options.config),{},{enableInsertableStreams:this._isE2EEEnabled()})),at.info('Starting CallStats for P2P connection...');var n=h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid),o=this.participants[n];o&&(n=o.getStatsID()||n),this.statistics.startCallStats(this.p2pJingleSession.peerconnection,n);var s=this.getLocalTracks();this.p2pJingleSession.invite(s)}},ct.prototype._suspendMediaTransferForJvbConnection=function(){at.info('Suspending media transfer over the JVB connection...'),this.jvbJingleSession.setMediaTransferActive(!1,!1).then(function(){at.info('Suspended media transfer over the JVB connection !')},function(t){at.error('Failed to suspend media transfer over the JVB connection:',t)})},ct.prototype._maybeStartOrStopP2P=function(t){if(C.default.supportsP2P()&&this.isP2PEnabled()&&!this.isP2PTestModeEnabled()){var n=this.getParticipants(),o=n.length,s=this._shouldBeInP2PMode();if(!s&&this.deferredStartP2PTask&&this._maybeClearDeferredStartP2P(),!this.p2pJingleSession&&s){var c=o&&n[0],p=this.myUserId(),h=c.getId();if(p>h)return void at.debug("I'm the bigger peersId - the other peer should start P2P",p,h);if(p===h)return void at.error('The same IDs ? ',p,h);var l=c.getJid();if(t){if(this.deferredStartP2PTask)return void at.error('Deferred start P2P task\'s been set already!');at.info("Will start P2P with: "+l+" after "+this.backToP2PDelay+" seconds..."),this.deferredStartP2PTask=setTimeout(this._startP2PSession.bind(this,l),1e3*this.backToP2PDelay)}else at.info("Will start P2P with: "+l),this._startP2PSession(l)}else this.p2pJingleSession&&!s&&(at.info("Will stop P2P with: "+this.p2pJingleSession.remoteJid),this.p2pJingleSession.isInitiator&&o>1&&G.default.sendAnalyticsAndLog((0,tt.createP2PEvent)(tt.ACTION_P2P_SWITCH_TO_JVB)),this._stopP2PSession())}else at.info('Auto P2P disabled')},ct.prototype._shouldBeInP2PMode=function(){var t=this.getParticipants(),n=t.length,o=void 0!==t.find(function(t){return'poltergeist'===t._botType||t._features.has(Q.FEATURE_JIGASI)}),s=1===n&&!o;return at.debug("P2P? peerCount: "+n+", hasBotPeer: "+o+" => "+s),s},ct.prototype._stopP2PSession=function(t,n){if(this.p2pJingleSession){var o=this.isP2PActive();o&&(this.jvbJingleSession&&this._resumeMediaTransferForJvbConnection(),this._removeRemoteP2PTracks()),at.info('Stopping remote stats for P2P connection'),this.statistics.stopRemoteStats(this.p2pJingleSession.peerconnection),at.info('Stopping CallStats for P2P connection'),this.statistics.stopCallStats(this.p2pJingleSession.peerconnection),this.p2pJingleSession.terminate(function(){at.info('P2P session terminate RESULT')},function(n){t&&at.error("An error occurred while trying to terminate P2P Jingle session",n)},{reason:t||'success',reasonDescription:n||'Turing off P2P session',sendSessionTerminate:this.room&&this.getParticipantById(h.Strophe.getResourceFromJid(this.p2pJingleSession.remoteJid))}),this.p2pJingleSession=null,this._setP2PStatus(!1),o&&(this.jvbJingleSession?this._addRemoteJVBTracks():at.info('Not adding remote JVB tracks - no session yet'))}else at.error('No P2P session to be stopped!')},ct.prototype.isP2PActive=function(){return this.p2p},ct.prototype.getP2PConnectionState=function(){return this.isP2PActive()?this.p2pJingleSession.peerconnection.getConnectionState():null},ct.prototype.startP2PSession=function(){var t=this.getParticipants();if(1!==t.length)throw new Error('There must be exactly 1 participant to start the P2P session !');var n=t[0].getJid();this._startP2PSession(n)},ct.prototype.stopP2PSession=function(){this._stopP2PSession()},ct.prototype.getSpeakerStats=function(){return this.speakerStatsCollector.getStats()},ct.prototype.setReceiverVideoConstraint=function(t){this.qualityController.setPreferredReceiveMaxFrameHeight(t)},ct.prototype.setSenderVideoConstraint=function(t){return this.qualityController.setPreferredSendMaxFrameHeight(t)},ct.prototype.createVideoSIPGWSession=function(t,n){return this.room?this.videoSIPGWHandler.createVideoSIPGWSession(t,n):new Error(z.ERROR_NO_CONNECTION)},ct.prototype._sendConferenceJoinAnalyticsEvent=function(){var t=this.getMeetingUniqueId();!this._conferenceJoinAnalyticsEventSent&&t&&null!==this.getActivePeerConnection()&&(G.default.sendAnalytics((0,tt.createConferenceEvent)('joined',{meetingId:t,participantId:t+"."+this._statsCurrentId})),this._conferenceJoinAnalyticsEventSent=Date.now())},ct.prototype._sendConferenceLeftAnalyticsEvent=function(){var t=this.getMeetingUniqueId();t&&this._conferenceJoinAnalyticsEventSent&&G.default.sendAnalytics((0,tt.createConferenceEvent)('left',{meetingId:t,participantId:t+"."+this._statsCurrentId,stats:{duration:Math.floor((Date.now()-this._conferenceJoinAnalyticsEventSent)/1e3),perf:this.getPerformanceStats()}}))},ct.prototype._restartMediaSessions=function(){this.p2pJingleSession&&this.stopP2PSession(),this.jvbJingleSession&&this.jvbJingleSession.terminate(null,function(t){at.warn('An error occurred while trying to terminate the JVB session',t)},{reason:'success',reasonDescription:'restart required',requestRestart:!0,sendSessionTerminate:!0}),this._maybeStartOrStopP2P(!1)},ct.prototype._isE2EEEnabled=function(){return this._e2eEncryption&&this._e2eEncryption.isEnabled()},ct.prototype.isE2EESupported=function(){return k.E2EEncryption.isSupported(this.options.config)},ct.prototype.toggleE2EE=function(t){this.isE2EESupported()?this._e2eEncryption.setEnabled(t):at.warn('Cannot enable / disable E2EE: platform is not supported.')},ct.prototype.isLobbySupported=function(){return Boolean(this.room&&this.room.getLobby().isSupported())},ct.prototype.isMembersOnly=function(){return Boolean(this.room&&this.room.membersOnlyEnabled)},ct.prototype.enableLobby=function(){return this.room&&this.isModerator()?this.room.getLobby().enable():Promise.reject(new Error('The conference not started or user is not moderator'))},ct.prototype.disableLobby=function(){this.room&&this.isModerator()&&this.room.getLobby().disable()},ct.prototype.joinLobby=function(t,n){return this.room?this.room.getLobby().join(t,n):Promise.reject(new Error('The conference not started'))},ct.prototype.lobbyDenyAccess=function(t){this.room&&this.room.getLobby().denyAccess(t)},ct.prototype.lobbyApproveAccess=function(t){this.room&&this.room.getLobby().approveAccess(t)},ct.prototype.getLocalUser=function(){if(this.user)return this.user}},526,[12,1,51,527,432,528,529,523,530,524,565,532,533,567,570,626,627,536,669,671,566,672,673,674,675,678,679,575,680,682,683,684,606,687,688,689,531,691,552,697,698,700,572,618,557,562,534,564]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,o=n&&'function'==typeof n.apply?n.apply:function(t,n,o){return Function.prototype.apply.call(t,n,o)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}m.exports=u,m.exports.once=function(t,n){return new Promise(function(o,s){function u(){void 0!==f&&t.removeListener('error',f),o([].slice.call(arguments))}var f;'error'!==n&&(f=function(o){t.removeListener(n,u),s(o)},t.once('error',f)),t.once(n,u)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function v(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function l(t,n,o,s){var u,f,l,h;if(v(o),void 0===(f=t._events)?(f=t._events=Object.create(null),t._eventsCount=0):(void 0!==f.newListener&&(t.emit('newListener',n,o.listener?o.listener:o),f=t._events),l=f[n]),void 0===l)l=f[n]=o,++t._eventsCount;else if('function'==typeof l?l=f[n]=s?[o,l]:[l,o]:s?l.unshift(o):l.push(o),(u=c(t))>0&&l.length>u&&!l.warned){l.warned=!0;var p=new Error('Possible EventEmitter memory leak detected. '+l.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name='MaxListenersExceededWarning',p.emitter=t,p.type=n,p.count=l.length,h=p,console&&console.warn&&console.warn(h)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,n,o){var s={fired:!1,wrapFn:void 0,target:t,type:n,listener:o},u=h.bind(s);return u.listener=o,s.wrapFn=u,u}function y(t,n,o){var s=t._events;if(void 0===s)return[];var u=s[n];return void 0===u?[]:'function'==typeof u?o?[u.listener||u]:[u]:o?b(u):_(u,u.length)}function L(t){var n=this._events;if(void 0!==n){var o=n[t];if('function'==typeof o)return 1;if(void 0!==o)return o.length}return 0}function _(t,n){for(var o=new Array(n),s=0;s<n;++s)o[s]=t[s];return o}function w(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function b(t){for(var n=new Array(t.length),o=0;o<n.length;++o)n[o]=t[o].listener||t[o];return n}Object.defineProperty(u,'defaultMaxListeners',{enumerable:!0,get:function(){return f},set:function(t){if('number'!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');f=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return c(this)},u.prototype.emit=function(t){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var u='error'===t,f=this._events;if(void 0!==f)u=u&&void 0===f.error;else if(!u)return!1;if(u){var v;if(n.length>0&&(v=n[0]),v instanceof Error)throw v;var c=new Error('Unhandled error.'+(v?' ('+v.message+')':''));throw c.context=v,c}var l=f[t];if(void 0===l)return!1;if('function'==typeof l)o(l,this,n);else{var h=l.length,p=_(l,h);for(s=0;s<h;++s)o(p[s],this,n)}return!0},u.prototype.addListener=function(t,n){return l(this,t,n,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,n){return l(this,t,n,!0)},u.prototype.once=function(t,n){return v(n),this.on(t,p(this,t,n)),this},u.prototype.prependOnceListener=function(t,n){return v(n),this.prependListener(t,p(this,t,n)),this},u.prototype.removeListener=function(t,n){var o,s,u,f,c;if(v(n),void 0===(s=this._events))return this;if(void 0===(o=s[t]))return this;if(o===n||o.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit('removeListener',t,o.listener||n));else if('function'!=typeof o){for(u=-1,f=o.length-1;f>=0;f--)if(o[f]===n||o[f].listener===n){c=o[f].listener,u=f;break}if(u<0)return this;0===u?o.shift():w(o,u),1===o.length&&(s[t]=o[0]),void 0!==s.removeListener&&this.emit('removeListener',t,c||n)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var n,o,s;if(void 0===(o=this._events))return this;if(void 0===o.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==o[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete o[t]),this;if(0===arguments.length){var u,f=Object.keys(o);for(s=0;s<f.length;++s)'removeListener'!==(u=f[s])&&this.removeAllListeners(u);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=o[t]))this.removeListener(t,n);else if(void 0!==n)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this},u.prototype.listeners=function(t){return y(this,t,!0)},u.prototype.rawListeners=function(t){return y(this,t,!1)},u.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):L.call(t,n)},u.prototype.listenerCount=L,u.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},527,[]);
__d(function(g,r,i,a,m,e,d){var t='__lodash_hash_undefined__',n=1,o=2,u=9007199254740991,c='[object Arguments]',s='[object Array]',f='[object AsyncFunction]',l='[object Boolean]',_='[object Date]',h='[object Error]',p='[object Function]',v='[object GeneratorFunction]',y='[object Map]',b='[object Number]',j='[object Null]',w='[object Object]',z='[object Proxy]',A='[object RegExp]',O='[object Set]',k='[object String]',S='[object Symbol]',P='[object Undefined]',E='[object ArrayBuffer]',F='[object DataView]',$=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,M={};M['[object Float32Array]']=M['[object Float64Array]']=M['[object Int8Array]']=M['[object Int16Array]']=M['[object Int32Array]']=M['[object Uint8Array]']=M['[object Uint8ClampedArray]']=M['[object Uint16Array]']=M['[object Uint32Array]']=!0,M[c]=M[s]=M[E]=M[l]=M[F]=M[_]=M[h]=M[p]=M[y]=M[b]=M[w]=M[A]=M[O]=M[k]=M["[object WeakMap]"]=!1;var U='object'==typeof g&&g&&g.Object===Object&&g,B='object'==typeof self&&self&&self.Object===Object&&self,I=U||B||Function('return this')(),L='object'==typeof e&&e&&!e.nodeType&&e,T=L&&'object'==typeof m&&m&&!m.nodeType&&m,W=T&&T.exports===L,D=W&&U.process,R=(function(){try{return D&&D.binding&&D.binding('util')}catch(t){}})(),C=R&&R.isTypedArray;function N(t,n){for(var o=-1,u=null==t?0:t.length,c=0,s=[];++o<u;){var f=t[o];n(f,o,t)&&(s[c++]=f)}return s}function V(t,n){for(var o=-1,u=n.length,c=t.length;++o<u;)t[c+o]=n[o];return t}function G(t,n){for(var o=-1,u=null==t?0:t.length;++o<u;)if(n(t[o],o,t))return!0;return!1}function q(t,n){for(var o=-1,u=Array(t);++o<t;)u[o]=n(o);return u}function H(t,n){return null==t?void 0:t[n]}function J(t){var n=-1,o=Array(t.size);return t.forEach(function(t,u){o[++n]=[u,t]}),o}function K(t){var n=-1,o=Array(t.size);return t.forEach(function(t){o[++n]=t}),o}var Q,X,Y,Z=Array.prototype,tt=Function.prototype,et=Object.prototype,rt=I['__core-js_shared__'],nt=tt.toString,ot=et.hasOwnProperty,it=(Q=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||''))?'Symbol(src)_1.'+Q:'',at=et.toString,ut=RegExp('^'+nt.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),ct=W?I.Buffer:void 0,st=I.Symbol,ft=I.Uint8Array,lt=et.propertyIsEnumerable,_t=Z.splice,ht=st?st.toStringTag:void 0,pt=Object.getOwnPropertySymbols,vt=ct?ct.isBuffer:void 0,yt=(X=Object.keys,Y=Object,function(t){return X(Y(t))}),bt=Kt(I,'DataView'),dt=Kt(I,'Map'),gt=Kt(I,'Promise'),jt=Kt(I,'Set'),wt=Kt(I,'WeakMap'),zt=Kt(Object,'create'),At=ee(bt),Ot=ee(dt),mt=ee(gt),kt=ee(jt),St=ee(wt),Pt=st?st.prototype:void 0,Et=Pt?Pt.valueOf:void 0;function Ft(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function $t(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function xt(t){var n=-1,o=null==t?0:t.length;for(this.clear();++n<o;){var u=t[n];this.set(u[0],u[1])}}function Mt(t){var n=-1,o=null==t?0:t.length;for(this.__data__=new xt;++n<o;)this.add(t[n])}function Ut(t){var n=this.__data__=new $t(t);this.size=n.size}function Bt(t,n){var o=oe(t),u=!o&&ne(t),c=!o&&!u&&ie(t),s=!o&&!u&&!c&&fe(t),f=o||u||c||s,l=f?q(t.length,String):[],_=l.length;for(var h in t)!n&&!ot.call(t,h)||f&&('length'==h||c&&('offset'==h||'parent'==h)||s&&('buffer'==h||'byteLength'==h||'byteOffset'==h)||Zt(h,_))||l.push(h);return l}function It(t,n){for(var o=t.length;o--;)if(re(t[o][0],n))return o;return-1}function Lt(t,n,o){var u=n(t);return oe(t)?u:V(u,o(t))}function Tt(t){return null==t?void 0===t?P:j:ht&&ht in Object(t)?Qt(t):te(t)}function Wt(t){return se(t)&&Tt(t)==c}function Dt(t,n,o,u,c){return t===n||(null==t||null==n||!se(t)&&!se(n)?t!=t&&n!=n:Rt(t,n,o,u,Dt,c))}function Rt(t,o,u,f,l,_){var h=oe(t),p=oe(o),v=h?s:Yt(t),y=p?s:Yt(o),b=(v=v==c?w:v)==w,j=(y=y==c?w:y)==w,z=v==y;if(z&&ie(t)){if(!ie(o))return!1;h=!0,b=!1}if(z&&!b)return _||(_=new Ut),h||fe(t)?Vt(t,o,u,f,l,_):Gt(t,o,v,u,f,l,_);if(!(u&n)){var A=b&&ot.call(t,'__wrapped__'),O=j&&ot.call(o,'__wrapped__');if(A||O){var k=A?t.value():t,S=O?o.value():o;return _||(_=new Ut),l(k,S,u,f,_)}}return!!z&&(_||(_=new Ut),qt(t,o,u,f,l,_))}function Ct(t){return!(!ce(t)||it&&it in t)&&(ae(t)?ut:$).test(ee(t))}function Nt(t){if(o=(n=t)&&n.constructor,u='function'==typeof o&&o.prototype||et,n!==u)return yt(t);var n,o,u,c=[];for(var s in Object(t))ot.call(t,s)&&'constructor'!=s&&c.push(s);return c}function Vt(t,u,c,s,f,l){var _=c&n,h=t.length,p=u.length;if(h!=p&&!(_&&p>h))return!1;var v=l.get(t);if(v&&l.get(u))return v==u;var y=-1,b=!0,j=c&o?new Mt:void 0;for(l.set(t,u),l.set(u,t);++y<h;){var w=t[y],z=u[y];if(s)var A=_?s(z,w,y,u,t,l):s(w,z,y,t,u,l);if(void 0!==A){if(A)continue;b=!1;break}if(j){if(!G(u,function(t,n){if(o=n,!j.has(o)&&(w===t||f(w,t,c,s,l)))return j.push(n);var o})){b=!1;break}}else if(w!==z&&!f(w,z,c,s,l)){b=!1;break}}return l.delete(t),l.delete(u),b}function Gt(t,u,c,s,f,p,v){switch(c){case F:if(t.byteLength!=u.byteLength||t.byteOffset!=u.byteOffset)return!1;t=t.buffer,u=u.buffer;case E:return!(t.byteLength!=u.byteLength||!p(new ft(t),new ft(u)));case l:case _:case b:return re(+t,+u);case h:return t.name==u.name&&t.message==u.message;case A:case k:return t==u+'';case y:var j=J;case O:var w=s&n;if(j||(j=K),t.size!=u.size&&!w)return!1;var z=v.get(t);if(z)return z==u;s|=o,v.set(t,u);var P=Vt(j(t),j(u),s,f,p,v);return v.delete(t),P;case S:if(Et)return Et.call(t)==Et.call(u)}return!1}function qt(t,o,u,c,s,f){var l=u&n,_=Ht(t),h=_.length;if(h!=Ht(o).length&&!l)return!1;for(var p=h;p--;){var v=_[p];if(!(l?v in o:ot.call(o,v)))return!1}var y=f.get(t);if(y&&f.get(o))return y==o;var b=!0;f.set(t,o),f.set(o,t);for(var j=l;++p<h;){var w=t[v=_[p]],z=o[v];if(c)var A=l?c(z,w,v,o,t,f):c(w,z,v,t,o,f);if(!(void 0===A?w===z||s(w,z,u,c,f):A)){b=!1;break}j||(j='constructor'==v)}if(b&&!j){var O=t.constructor,k=o.constructor;O!=k&&'constructor'in t&&'constructor'in o&&!('function'==typeof O&&O instanceof O&&'function'==typeof k&&k instanceof k)&&(b=!1)}return f.delete(t),f.delete(o),b}function Ht(t){return Lt(t,le,Xt)}function Jt(t,n){var o,u,c=t.__data__;return('string'==(u=typeof(o=n))||'number'==u||'symbol'==u||'boolean'==u?'__proto__'!==o:null===o)?c['string'==typeof n?'string':'hash']:c.map}function Kt(t,n){var o=H(t,n);return Ct(o)?o:void 0}function Qt(t){var n=ot.call(t,ht),o=t[ht];try{t[ht]=void 0}catch(t){}var u=at.call(t);return n?t[ht]=o:delete t[ht],u}Ft.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},Ft.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ft.prototype.get=function(n){var o=this.__data__;if(zt){var u=o[n];return u===t?void 0:u}return ot.call(o,n)?o[n]:void 0},Ft.prototype.has=function(t){var n=this.__data__;return zt?void 0!==n[t]:ot.call(n,t)},Ft.prototype.set=function(n,o){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=zt&&void 0===o?t:o,this},$t.prototype.clear=function(){this.__data__=[],this.size=0},$t.prototype.delete=function(t){var n=this.__data__,o=It(n,t);return!(o<0||(o==n.length-1?n.pop():_t.call(n,o,1),--this.size,0))},$t.prototype.get=function(t){var n=this.__data__,o=It(n,t);return o<0?void 0:n[o][1]},$t.prototype.has=function(t){return It(this.__data__,t)>-1},$t.prototype.set=function(t,n){var o=this.__data__,u=It(o,t);return u<0?(++this.size,o.push([t,n])):o[u][1]=n,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ft,map:new(dt||$t),string:new Ft}},xt.prototype.delete=function(t){var n=Jt(this,t).delete(t);return this.size-=n?1:0,n},xt.prototype.get=function(t){return Jt(this,t).get(t)},xt.prototype.has=function(t){return Jt(this,t).has(t)},xt.prototype.set=function(t,n){var o=Jt(this,t),u=o.size;return o.set(t,n),this.size+=o.size==u?0:1,this},Mt.prototype.add=Mt.prototype.push=function(n){return this.__data__.set(n,t),this},Mt.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.clear=function(){this.__data__=new $t,this.size=0},Ut.prototype.delete=function(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o},Ut.prototype.get=function(t){return this.__data__.get(t)},Ut.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.set=function(t,n){var o=this.__data__;if(o instanceof $t){var u=o.__data__;if(!dt||u.length<199)return u.push([t,n]),this.size=++o.size,this;o=this.__data__=new xt(u)}return o.set(t,n),this.size=o.size,this};var Xt=pt?function(t){return null==t?[]:(t=Object(t),N(pt(t),function(n){return lt.call(t,n)}))}:function(){return[]},Yt=Tt;function Zt(t,n){return!!(n=null==n?u:n)&&('number'==typeof t||x.test(t))&&t>-1&&t%1==0&&t<n}function te(t){return at.call(t)}function ee(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+''}catch(t){}}return''}function re(t,n){return t===n||t!=t&&n!=n}(bt&&Yt(new bt(new ArrayBuffer(1)))!=F||dt&&Yt(new dt)!=y||gt&&"[object Promise]"!=Yt(gt.resolve())||jt&&Yt(new jt)!=O||wt&&"[object WeakMap]"!=Yt(new wt))&&(Yt=function(t){var n=Tt(t),o=n==w?t.constructor:void 0,u=o?ee(o):'';if(u)switch(u){case At:return F;case Ot:return y;case mt:return"[object Promise]";case kt:return O;case St:return"[object WeakMap]"}return n});var ne=Wt((function(){return arguments})())?Wt:function(t){return se(t)&&ot.call(t,'callee')&&!lt.call(t,'callee')},oe=Array.isArray;var ie=vt||function(){return!1};function ae(t){if(!ce(t))return!1;var n=Tt(t);return n==p||n==v||n==f||n==z}function ue(t){return'number'==typeof t&&t>-1&&t%1==0&&t<=u}function ce(t){var n=typeof t;return null!=t&&('object'==n||'function'==n)}function se(t){return null!=t&&'object'==typeof t}var fe=C?(function(t){return function(n){return t(n)}})(C):function(t){return se(t)&&ue(t.length)&&!!M[Tt(t)]};function le(t){return null!=(n=t)&&ue(n.length)&&!ae(n)?Bt(t):Nt(t);var n}m.exports=function(t,n){return Dt(t,n)}},528,[]);
__d(function(t,e,n,s,i,r,o){!(function(t,e){'object'==typeof r&&void 0!==i?i.exports=e():'function'==typeof define&&define.amd?define(e):(t=t||self).strophe=e()})(this,function(){'use strict';var e=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var o=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},a=function(t){if("string"!=typeof t)throw new Error("str2binl was passed a non-string");for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},h=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},c=function(t){for(var e="",n=0;n<4*t.length;n++)e+="0123456789abcdef".charAt(t[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(t[n>>2]>>n%4*8&15);return e},l=function(t,e,n,s,i,r){return o((a=o(o(e,t),o(s,r)))<<(h=i)|a>>>32-h,n);var a,h},u=function(t,e,n,s,i,r,o){return l(e&n|~e&s,t,e,i,r,o)},d=function(t,e,n,s,i,r,o){return l(e&s|n&~s,t,e,i,r,o)},_=function(t,e,n,s,i,r,o){return l(e^n^s,t,e,i,r,o)},p=function(t,e,n,s,i,r,o){return l(n^(e|~s),t,e,i,r,o)},m=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n,s,i,r,a=1732584193,h=-271733879,c=-1732584194,l=271733878,m=0;m<t.length;m+=16)n=a,s=h,i=c,r=l,a=u(a,h,c,l,t[m+0],7,-680876936),l=u(l,a,h,c,t[m+1],12,-389564586),c=u(c,l,a,h,t[m+2],17,606105819),h=u(h,c,l,a,t[m+3],22,-1044525330),a=u(a,h,c,l,t[m+4],7,-176418897),l=u(l,a,h,c,t[m+5],12,1200080426),c=u(c,l,a,h,t[m+6],17,-1473231341),h=u(h,c,l,a,t[m+7],22,-45705983),a=u(a,h,c,l,t[m+8],7,1770035416),l=u(l,a,h,c,t[m+9],12,-1958414417),c=u(c,l,a,h,t[m+10],17,-42063),h=u(h,c,l,a,t[m+11],22,-1990404162),a=u(a,h,c,l,t[m+12],7,1804603682),l=u(l,a,h,c,t[m+13],12,-40341101),c=u(c,l,a,h,t[m+14],17,-1502002290),h=u(h,c,l,a,t[m+15],22,1236535329),a=d(a,h,c,l,t[m+1],5,-165796510),l=d(l,a,h,c,t[m+6],9,-1069501632),c=d(c,l,a,h,t[m+11],14,643717713),h=d(h,c,l,a,t[m+0],20,-373897302),a=d(a,h,c,l,t[m+5],5,-701558691),l=d(l,a,h,c,t[m+10],9,38016083),c=d(c,l,a,h,t[m+15],14,-660478335),h=d(h,c,l,a,t[m+4],20,-405537848),a=d(a,h,c,l,t[m+9],5,568446438),l=d(l,a,h,c,t[m+14],9,-1019803690),c=d(c,l,a,h,t[m+3],14,-187363961),h=d(h,c,l,a,t[m+8],20,1163531501),a=d(a,h,c,l,t[m+13],5,-1444681467),l=d(l,a,h,c,t[m+2],9,-51403784),c=d(c,l,a,h,t[m+7],14,1735328473),h=d(h,c,l,a,t[m+12],20,-1926607734),a=_(a,h,c,l,t[m+5],4,-378558),l=_(l,a,h,c,t[m+8],11,-2022574463),c=_(c,l,a,h,t[m+11],16,1839030562),h=_(h,c,l,a,t[m+14],23,-35309556),a=_(a,h,c,l,t[m+1],4,-1530992060),l=_(l,a,h,c,t[m+4],11,1272893353),c=_(c,l,a,h,t[m+7],16,-155497632),h=_(h,c,l,a,t[m+10],23,-1094730640),a=_(a,h,c,l,t[m+13],4,681279174),l=_(l,a,h,c,t[m+0],11,-358537222),c=_(c,l,a,h,t[m+3],16,-722521979),h=_(h,c,l,a,t[m+6],23,76029189),a=_(a,h,c,l,t[m+9],4,-640364487),l=_(l,a,h,c,t[m+12],11,-421815835),c=_(c,l,a,h,t[m+15],16,530742520),h=_(h,c,l,a,t[m+2],23,-995338651),a=p(a,h,c,l,t[m+0],6,-198630844),l=p(l,a,h,c,t[m+7],10,1126891415),c=p(c,l,a,h,t[m+14],15,-1416354905),h=p(h,c,l,a,t[m+5],21,-57434055),a=p(a,h,c,l,t[m+12],6,1700485571),l=p(l,a,h,c,t[m+3],10,-1894986606),c=p(c,l,a,h,t[m+10],15,-1051523),h=p(h,c,l,a,t[m+1],21,-2054922799),a=p(a,h,c,l,t[m+8],6,1873313359),l=p(l,a,h,c,t[m+15],10,-30611744),c=p(c,l,a,h,t[m+6],15,-1560198380),h=p(h,c,l,a,t[m+13],21,1309151649),a=p(a,h,c,l,t[m+4],6,-145523070),l=p(l,a,h,c,t[m+11],10,-1120210379),c=p(c,l,a,h,t[m+2],15,718787259),h=p(h,c,l,a,t[m+9],21,-343485551),a=o(a,n),h=o(h,s),c=o(c,i),l=o(l,r);return[a,h,c,l]},f={hexdigest:function(t){return c(m(a(t),8*t.length))},hash:function(t){return h(m(a(t),8*t.length))}};function g(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;var n,s,i,r,o,a,h,c,l=new Array(80),u=1732584193,d=-271733879,_=-1732584194,p=271733878,m=-1009589776;for(n=0;n<t.length;n+=16){for(r=u,o=d,a=_,h=p,c=m,s=0;s<80;s++)l[s]=s<16?t[n+s]:y(l[s-3]^l[s-8]^l[s-14]^l[s-16],1),i=T(T(y(u,5),S(s,d,_,p)),T(T(m,l[s]),b(s))),m=p,p=_,_=y(d,30),d=u,u=i;u=T(u,r),d=T(d,o),_=T(_,a),p=T(p,h),m=T(m,c)}return[u,d,_,p,m]}function S(t,e,n,s){return t<20?e&n|~e&s:t<40?e^n^s:t<60?e&n|e&s|n&s:e^n^s}function b(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function v(t,e){var n=x(t);n.length>16&&(n=g(n,8*t.length));for(var s=new Array(16),i=new Array(16),r=0;r<16;r++)s[r]=909522486^n[r],i[r]=1549556828^n[r];var o=g(s.concat(x(e)),512+8*e.length);return g(i.concat(o),672)}function T(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function y(t,e){return t<<e|t>>>32-e}function x(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function N(t){for(var e,n,s="",i=0;i<4*t.length;i+=3)for(e=(t[i>>2]>>8*(3-i%4)&255)<<16|(t[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|t[i+2>>2]>>8*(3-(i+2)%4)&255,n=0;n<4;n++)8*i+6*n>32*t.length?s+="=":s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-n)&63);return s}function A(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}var w={b64_hmac_sha1:function(t,e){return N(v(t,e))},b64_sha1:function(t){return N(g(x(t),8*t.length))},binb2str:A,core_hmac_sha1:v,str_hmac_sha1:function(t,e){return A(v(t,e))},str_sha1:function(t){return A(g(x(t),8*t.length))}},C=function(t){var e,n,s="",i=t.length;for(e=0;e<i;e++)(n=t.charCodeAt(e))>=0&&n<=127?s+=t.charAt(e):n>2047?(s+=String.fromCharCode(224|n>>12&15),s+=String.fromCharCode(128|n>>6&63),s+=String.fromCharCode(128|n>>0&63)):(s+=String.fromCharCode(192|n>>6&31),s+=String.fromCharCode(128|n>>0&63));return s},E=function(t){for(var e in t=t||{})if(Object.prototype.hasOwnProperty.call(t,e)){var s='',i='',r='',o=t[e],a="object"===n(o),h=escape(unescape(a?o.value:o));a&&(s=o.expires?";expires="+o.expires:'',i=o.domain?";domain="+o.domain:'',r=o.path?";path="+o.path:''),document.cookie=e+'='+h+s+i+r}};function O(t,e){return new L.Builder(t,e)}function I(t){return new L.Builder("iq",t)}function H(t){return new L.Builder("presence",t)}var L={VERSION:"@VERSION@",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:['a','blockquote','br','cite','em','img','li','ol','p','span','strong','ul','body'],attributes:{a:['href'],blockquote:['style'],br:[],cite:['style'],em:[],img:['src','alt','style','height','width'],li:['style'],ol:['style'],p:['style'],span:['style'],strong:[],ul:['style'],body:[]},css:['background-color','color','font-family','font-size','font-style','font-weight','margin-left','margin-right','text-align','text-decoration'],validTag:function(t){for(var e=0;e<L.XHTML.tags.length;e++)if(t===L.XHTML.tags[e])return!0;return!1},validAttribute:function(t,e){if(void 0!==L.XHTML.attributes[t]&&L.XHTML.attributes[t].length>0)for(var n=0;n<L.XHTML.attributes[t].length;n++)if(e===L.XHTML.attributes[t][n])return!0;return!1},validCSS:function(t){for(var e=0;e<L.XHTML.css.length;e++)if(t===L.XHTML.css[e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(t,e){L.NS[t]=e},forEachChild:function(t,e,n){for(var s=0;s<t.childNodes.length;s++){var i=t.childNodes[s];i.nodeType!==L.ElementType.NORMAL||e&&!this.isTagEqual(i,e)||n(i)}},isTagEqual:function(t,e){return t.tagName===e},_xmlGenerator:null,_makeGenerator:function(){var t;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(t=this._getIEXmlDom()).appendChild(t.createElement('strophe')):t=document.implementation.createDocument('jabber:client','strophe',null),t},xmlGenerator:function(){return L._xmlGenerator||(L._xmlGenerator=L._makeGenerator()),L._xmlGenerator},_getIEXmlDom:function(){for(var t=null,e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<e.length&&null===t;n++)try{t=new ActiveXObject(e[n])}catch(e){t=null}return t},xmlElement:function(t){if(!t)return null;for(var e=L.xmlGenerator().createElement(t),s=1;s<arguments.length;s++){var i=arguments[s];if(i)if("string"==typeof i||"number"==typeof i)e.appendChild(L.xmlTextNode(i));else if("object"===n(i)&&"function"==typeof i.sort)for(var r=0;r<i.length;r++){var o=i[r];"object"===n(o)&&"function"==typeof o.sort&&void 0!==o[1]&&null!==o[1]&&e.setAttribute(o[0],o[1])}else if("object"===n(i))for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&void 0!==i[a]&&null!==i[a]&&e.setAttribute(a,i[a])}return e},xmlescape:function(t){return t=(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(t){return t=(t=(t=(t=(t=t.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,"\"")},xmlTextNode:function(t){return L.xmlGenerator().createTextNode(t)},xmlHtmlNode:function(t){var e;DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t));return e},getText:function(t){if(!t)return null;var e="";0===t.childNodes.length&&t.nodeType===L.ElementType.TEXT&&(e+=t.nodeValue);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===L.ElementType.TEXT&&(e+=t.childNodes[n].nodeValue);return L.xmlescape(e)},copyElement:function(t){var e;if(t.nodeType===L.ElementType.NORMAL){e=L.xmlElement(t.tagName);for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].nodeName,t.attributes[n].value);for(var s=0;s<t.childNodes.length;s++)e.appendChild(L.copyElement(t.childNodes[s]))}else t.nodeType===L.ElementType.TEXT&&(e=L.xmlGenerator().createTextNode(t.nodeValue));return e},createHtml:function(t){var e;if(t.nodeType===L.ElementType.NORMAL){var s=t.nodeName.toLowerCase();if(L.XHTML.validTag(s))try{e=L.xmlElement(s);for(var i=0;i<L.XHTML.attributes[s].length;i++){var r=L.XHTML.attributes[s][i],o=t.getAttribute(r);if(void 0!==o&&null!==o&&''!==o&&!1!==o&&0!==o)if('style'===r&&'object'===n(o)&&void 0!==o.cssText&&(o=o.cssText),'style'===r){for(var a=[],h=o.split(';'),c=0;c<h.length;c++){var l=h[c].split(':'),u=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(L.XHTML.validCSS(u)){var d=l[1].replace(/^\s*/,"").replace(/\s*$/,"");a.push(u+': '+d)}}a.length>0&&(o=a.join('; '),e.setAttribute(r,o))}else e.setAttribute(r,o)}for(var _=0;_<t.childNodes.length;_++)e.appendChild(L.createHtml(t.childNodes[_]))}catch(t){e=L.xmlTextNode('')}else{e=L.xmlGenerator().createDocumentFragment();for(var p=0;p<t.childNodes.length;p++)e.appendChild(L.createHtml(t.childNodes[p]))}}else if(t.nodeType===L.ElementType.FRAGMENT){e=L.xmlGenerator().createDocumentFragment();for(var m=0;m<t.childNodes.length;m++)e.appendChild(L.createHtml(t.childNodes[m]))}else t.nodeType===L.ElementType.TEXT&&(e=L.xmlTextNode(t.nodeValue));return e},escapeNode:function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,'').replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(t){return"string"!=typeof t?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(t){return t.indexOf("@")<0?null:t.split("@")[0]},getDomainFromJid:function(t){var e=L.getBareJidFromJid(t);if(e.indexOf("@")<0)return e;var n=e.split("@");return n.splice(0,1),n.join('@')},getResourceFromJid:function(t){if(!t)return null;var e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join('/'))},getBareJidFromJid:function(t){return t?t.split("/")[0]:null},_handleError:function(t){void 0!==t.stack&&L.fatal(t.stack),t.sourceURL?L.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?L.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):L.fatal("error: "+t.message)},log:function(t,e){t===this.LogLevel.FATAL&&'object'===n(window.console)&&'function'==typeof window.console.error&&window.console.error(e)},debug:function(t){this.log(this.LogLevel.DEBUG,t)},info:function(t){this.log(this.LogLevel.INFO,t)},warn:function(t){this.log(this.LogLevel.WARN,t)},error:function(t){this.log(this.LogLevel.ERROR,t)},fatal:function(t){this.log(this.LogLevel.FATAL,t)},serialize:function(t){if(!t)return null;"function"==typeof t.tree&&(t=t.tree());var e,n=(e=Array(t.attributes.length).keys(),s(e)||i(e)||r()).map(function(e){return t.attributes[e].nodeName});n.sort();var o=n.reduce(function(e,n){return"".concat(e," ").concat(n,"=\"").concat(L.xmlescape(t.attributes.getNamedItem(n).value),"\"")},"<".concat(t.nodeName));if(t.childNodes.length>0){o+=">";for(var a=0;a<t.childNodes.length;a++){var h=t.childNodes[a];switch(h.nodeType){case L.ElementType.NORMAL:o+=L.serialize(h);break;case L.ElementType.TEXT:o+=L.xmlescape(h.nodeValue);break;case L.ElementType.CDATA:o+="<![CDATA["+h.nodeValue+"]]>"}}o+="</"+t.nodeName+">"}else o+="/>";return o},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(t,e){L._connectionPlugins[t]=e},Builder:function(t,e){"presence"!==t&&"message"!==t&&"iq"!==t||(e&&!e.xmlns?e.xmlns=L.NS.CLIENT:e||(e={xmlns:L.NS.CLIENT})),this.nodeTree=L.xmlElement(t,e),this.node=this.nodeTree}};L.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return L.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(void 0===t[e]?this.node.removeAttribute(e):this.node.setAttribute(e,t[e]));return this},c:function(t,e,n){var s=L.xmlElement(t,e,n);return this.node.appendChild(s),"string"!=typeof n&&"number"!=typeof n&&(this.node=s),this},cnode:function(t){var e,n=L.xmlGenerator();try{e=void 0!==n.importNode}catch(t){e=!1}var s=e?n.importNode(t,!0):L.copyElement(t);return this.node.appendChild(s),this.node=s,this},t:function(t){var e=L.xmlTextNode(t);return this.node.appendChild(e),this},h:function(t){var e=document.createElement('body');e.innerHTML=t;for(var n=L.createHtml(e);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},L.Handler=function(t,e,n,s,i,r,o){this.handler=t,this.ns=e,this.name=n,this.type=s,this.id=i,this.options=o||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(L.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=r?L.getBareJidFromJid(r):null:this.from=r,this.user=!0},L.Handler.prototype={getNamespace:function(t){var e=t.getAttribute("xmlns");return e&&this.options.ignoreNamespaceFragment&&(e=e.split('#')[0]),e},namespaceMatch:function(t){var e=this,n=!1;return!this.ns||(L.forEachChild(t,null,function(t){e.getNamespace(t)===e.ns&&(n=!0)}),n||this.getNamespace(t)===this.ns)},isMatch:function(t){var e=t.getAttribute('from');this.options.matchBareFromJid&&(e=L.getBareJidFromJid(e));var n=t.getAttribute("type");return!(!this.namespaceMatch(t)||this.name&&!L.isTagEqual(t,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&t.getAttribute("id")!==this.id||this.from&&e!==this.from)},run:function(t){var e=null;try{e=this.handler(t)}catch(t){throw L._handleError(t),t}return e},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},L.TimedHandler=function(t,e){this.period=t,this.handler=e,this.lastCalled=(new Date).getTime(),this.user=!0},L.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},L.Connection=function(t,e){var n=this;this.service=t,this.options=e||{};var s=this.options.protocol||"";for(var i in 0===t.indexOf("ws:")||0===t.indexOf("wss:")||0===s.indexOf("ws")?this._proto=new L.Websocket(this):this._proto=new L.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),E(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),L._connectionPlugins)if(Object.prototype.hasOwnProperty.call(L._connectionPlugins,i)){var r=function(){};r.prototype=L._connectionPlugins[i],this[i]=new r,this[i].init(this)}},L.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(t){var e='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var e=16*Math.random()|0;return('x'===t?e:3&e|8).toString(16)});return"string"==typeof t||"number"==typeof t?e+":"+t:e+""},addProtocolErrorHandler:function(t,e,n){this.protocolErrorHandlers[t][e]=n},connect:function(t,e,n,s,i,r,o){this.jid=t,this.authzid=L.getBareJidFromJid(this.jid),this.authcid=o||L.getNodeFromJid(this.jid),this.pass=e,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=L.getDomainFromJid(this.jid),this._changeConnectStatus(L.Status.CONNECTING,null),this._proto._connect(s,i,r)},attach:function(t,e,n,s,i,r,o){if(!(this._proto instanceof L.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name='StropheSessionError',a}this._proto._attach(t,e,n,s,i,r,o)},restore:function(t,e,n,s,i){if(!this._sessionCachingSupported()){var r=new Error('The "restore" method can only be used with a BOSH connection.');throw r.name='StropheSessionError',r}this._proto._restore(t,e,n,s,i)},_sessionCachingSupported:function(){if(this._proto instanceof L.Bosh){if(!JSON)return!1;try{sessionStorage.setItem('_strophe_','_strophe_'),sessionStorage.removeItem('_strophe_')}catch(t){return!1}return!0}return!1},xmlInput:function(t){},xmlOutput:function(t){},rawInput:function(t){},rawOutput:function(t){},nextValidRid:function(t){},send:function(t){if(null!==t){if("function"==typeof t.sort)for(var e=0;e<t.length;e++)this._queueData(t[e]);else"function"==typeof t.tree?this._queueData(t.tree()):this._queueData(t);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(t,e,n,s){var i=this,r=null;"function"==typeof t.tree&&(t=t.tree());var o=t.getAttribute('id');if(o||(o=this.getUniqueId("sendPresence"),t.setAttribute("id",o)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){r&&i.deleteTimedHandler(r),'error'===t.getAttribute('type')?n&&n(t):e&&e(t)},null,'presence',null,o);s&&(r=this.addTimedHandler(s,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(t),o},sendIQ:function(t,e,n,s){var i=this,r=null;"function"==typeof t.tree&&(t=t.tree());var o=t.getAttribute('id');if(o||(o=this.getUniqueId("sendIQ"),t.setAttribute("id",o)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){r&&i.deleteTimedHandler(r);var s=t.getAttribute('type');if('result'===s)e&&e(t);else{if('error'!==s){var o=new Error("Got bad IQ type of ".concat(s));throw o.name="StropheError",o}n&&n(t)}},null,'iq',['error','result'],o);s&&(r=this.addTimedHandler(s,function(){return i.deleteHandler(a),n&&n(null),!1}))}return this.send(t),o},_queueData:function(t){if(null===t||!t.tagName||!t.childNodes){var e=new Error("Cannot queue non-DOMElement.");throw e.name="StropheError",e}this._data.push(t)},_sendRestart:function(){var t=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return t._onIdle()},100)},addTimedHandler:function(t,e){var n=new L.TimedHandler(t,e);return this.addTimeds.push(n),n},deleteTimedHandler:function(t){this.removeTimeds.push(t)},addHandler:function(t,e,n,s,i,r,o){var a=new L.Handler(t,e,n,s,i,r,o);return this.addHandlers.push(a),a},deleteHandler:function(t){this.removeHandlers.push(t);var e=this.addHandlers.indexOf(t);e>=0&&this.addHandlers.splice(e,1)},registerSASLMechanisms:function(t){this.mechanisms={},(t=t||[L.SASLAnonymous,L.SASLExternal,L.SASLMD5,L.SASLOAuthBearer,L.SASLXOAuth2,L.SASLPlain,L.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(t){this.mechanisms[t.prototype.name]=t},disconnect:function(t){if(this._changeConnectStatus(L.Status.DISCONNECTING,t),L.warn("Disconnect was called because: "+t),this.connected){var e=!1;this.disconnecting=!0,this.authenticated&&(e=H({xmlns:L.NS.CLIENT,type:'unavailable'})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(e)}else L.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(t,e,n){for(var s in L._connectionPlugins)if(Object.prototype.hasOwnProperty.call(L._connectionPlugins,s)){var i=this[s];if(i.statusChanged)try{i.statusChanged(t,e)}catch(t){L.error("".concat(s," plugin caused an exception changing status: ").concat(t))}}if(this.connect_callback)try{this.connect_callback(t,e,n)}catch(t){L._handleError(t),L.error("User connection callback caused an exception: ".concat(t))}},_doDisconnect:function(t){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),L.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(L.Status.DISCONNECTED,t),this.connected=!1},_dataRecv:function(t,e){var n=this;L.debug("_dataRecv called");var s=this._proto._reqToData(t);if(null!==s){for(this.xmlInput!==L.Connection.prototype.xmlInput&&(s.nodeName===this._proto.strip&&s.childNodes.length?this.xmlInput(s.childNodes[0]):this.xmlInput(s)),this.rawInput!==L.Connection.prototype.rawInput&&(e?this.rawInput(e):this.rawInput(L.serialize(s)));this.removeHandlers.length>0;){var i=this.removeHandlers.pop(),r=this.handlers.indexOf(i);r>=0&&this.handlers.splice(r,1)}for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var o=s.getAttribute("type");if(null!==o&&"terminate"===o){if(this.disconnecting)return;var a=s.getAttribute("condition"),h=s.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&h.length>0&&(a="conflict"),this._changeConnectStatus(L.Status.CONNFAIL,a)):this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}L.forEachChild(s,null,function(t){var e=n.handlers;n.handlers=[];for(var s=0;s<e.length;s++){var i=e[s];try{!i.isMatch(t)||!n.authenticated&&i.user?n.handlers.push(i):i.run(t)&&n.handlers.push(i)}catch(t){L.warn('Removing Strophe handlers due to uncaught exception: '+t.message)}}})}}},mechanisms:{},_connect_cb:function(t,e,n){var s;L.debug("_connect_cb was called"),this.connected=!0;try{s=this._proto._reqToData(t)}catch(t){if(t.name!==L.ErrorCondition.BAD_FORMAT)throw t;this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.BAD_FORMAT),this._doDisconnect(L.ErrorCondition.BAD_FORMAT)}if(s&&(this.xmlInput!==L.Connection.prototype.xmlInput&&(s.nodeName===this._proto.strip&&s.childNodes.length?this.xmlInput(s.childNodes[0]):this.xmlInput(s)),this.rawInput!==L.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(L.serialize(s))),this._proto._connect_cb(s)!==L.Status.CONNFAIL))if(s.getElementsByTagNameNS?s.getElementsByTagNameNS(L.NS.STREAM,"features").length>0:s.getElementsByTagName("stream:features").length>0||s.getElementsByTagName("features").length>0){var i=[],r=s.getElementsByTagName("mechanism");if(r.length>0)for(var o=0;o<r.length;o++){var a=L.getText(r[o]);this.mechanisms[a]&&i.push(this.mechanisms[a])}0!==i.length||0!==s.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(i):this._proto._no_auth_received(e)}else this._proto._no_auth_received(e)},sortMechanismsByPriority:function(t){for(var e=0;e<t.length-1;++e){for(var n=e,s=e+1;s<t.length;++s)t[s].prototype.priority>t[n].prototype.priority&&(n=s);if(n!==e){var i=t[e];t[e]=t[n],t[n]=i}}return t},authenticate:function(t){this._attemptSASLAuth(t)||this._attemptLegacyAuth()},_attemptSASLAuth:function(t){t=this.sortMechanismsByPriority(t||[]);for(var e=!1,n=0;n<t.length;++n)if(t[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new t[n],this._sasl_mechanism.onStart(this);var s=O("auth",{xmlns:L.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.onChallenge(this,null);s.t(btoa(i))}this.send(s.tree()),e=!0;break}return e},_sasl_challenge_cb:function(t){var e=atob(L.getText(t)),n=this._sasl_mechanism.onChallenge(this,e),s=O('response',{xmlns:L.NS.SASL});return""!==n&&s.t(btoa(n)),this.send(s.tree()),!0},_attemptLegacyAuth:function(){null===L.getNodeFromJid(this.jid)?(this._changeConnectStatus(L.Status.CONNFAIL,L.ErrorCondition.MISSING_JID_NODE),this.disconnect(L.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(L.Status.AUTHENTICATING,null),this._addSysHandler(this._onLegacyAuthIQResult.bind(this),null,null,null,"_auth_1"),this.send(I({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:L.NS.AUTH}).c("username",{}).t(L.getNodeFromJid(this.jid)).tree()))},_onLegacyAuthIQResult:function(t){var e=I({type:"set",id:"_auth_2"}).c('query',{xmlns:L.NS.AUTH}).c('username',{}).t(L.getNodeFromJid(this.jid)).up().c('password').t(this.pass);return L.getResourceFromJid(this.jid)||(this.jid=L.getBareJidFromJid(this.jid)+'/strophe'),e.up().c('resource',{}).t(L.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(t){var e=this;if(this._sasl_data["server-signature"]){var n,s=atob(L.getText(t)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===s[1]&&(n=s[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}L.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var i=[],r=function(t,n){for(;t.length;)e.deleteHandler(t.pop());return e._onStreamFeaturesAfterSASL(n),!1};return i.push(this._addSysHandler(function(t){return r(i,t)},null,"stream:features",null,null)),i.push(this._addSysHandler(function(t){return r(i,t)},L.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_onStreamFeaturesAfterSASL:function(t){this.features=t;for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];'bind'===n.nodeName&&(this.do_bind=!0),'session'===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(L.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(L.Status.AUTHFAIL,null),!1)},bind:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var t=L.getResourceFromJid(this.jid);t?this.send(I({type:"set",id:"_bind_auth_2"}).c('bind',{xmlns:L.NS.BIND}).c('resource',{}).t(t).tree()):this.send(I({type:"set",id:"_bind_auth_2"}).c('bind',{xmlns:L.NS.BIND}).tree())}else L.log(L.LogLevel.INFO,"Strophe.Connection.prototype.bind called but \"do_bind\" is false")},_onResourceBindResultIQ:function(t){var e;if("error"===t.getAttribute("type"))return L.warn("Resource binding failed."),t.getElementsByTagName("conflict").length>0&&(e=L.ErrorCondition.CONFLICT),this._changeConnectStatus(L.Status.AUTHFAIL,e,t),!1;var n=t.getElementsByTagName("bind");if(!(n.length>0))return L.warn("Resource binding failed."),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1;var s=n[0].getElementsByTagName("jid");s.length>0&&(this.jid=L.getText(s[0]),this.do_session?this._establishSession():(this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null)))},_establishSession:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(L.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(I({type:"set",id:"_session_auth_2"}).c('session',{xmlns:L.NS.SESSION}).tree())},_onSessionResultIQ:function(t){if("result"===t.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null);else if("error"===t.getAttribute("type"))return L.warn("Session creation failed."),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1;return!1},_sasl_failure_cb:function(t){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(L.Status.AUTHFAIL,null,t),!1},_auth2_cb:function(t){return"result"===t.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(L.Status.CONNECTED,null)):"error"===t.getAttribute("type")&&(this._changeConnectStatus(L.Status.AUTHFAIL,null,t),this.disconnect('authentication failed')),!1},_addSysTimedHandler:function(t,e){var n=new L.TimedHandler(t,e);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(t,e,n,s,i){var r=new L.Handler(t,e,n,s,i);return r.user=!1,this.addHandlers.push(r),r},_onDisconnectTimeout:function(){return L.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(L.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var t=this;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;){var e=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(e);n>=0&&this.timedHandlers.splice(n,1)}for(var s=(new Date).getTime(),i=[],r=0;r<this.timedHandlers.length;r++){var o=this.timedHandlers[r];if(this.authenticated||!o.user)o.lastCalled+o.period-s<=0?o.run()&&i.push(o):i.push(o)}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return t._onIdle()},100))}},L.SASLMechanism=function(t,e,n){this.name=t,this.isClientFirst=e,this.priority=n},L.SASLMechanism.prototype={test:function(t){return!0},onStart:function(t){this._connection=t},onChallenge:function(t,e){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},L.SASLAnonymous=function(){},L.SASLAnonymous.prototype=new L.SASLMechanism("ANONYMOUS",!1,20),L.SASLAnonymous.prototype.test=function(t){return null===t.authcid},L.SASLPlain=function(){},L.SASLPlain.prototype=new L.SASLMechanism("PLAIN",!0,50),L.SASLPlain.prototype.test=function(t){return null!==t.authcid},L.SASLPlain.prototype.onChallenge=function(t){var e=t.authzid;return e+="\0",e+=t.authcid,e+="\0",e+=t.pass,C(e)},L.SASLSHA1=function(){},L.SASLSHA1.prototype=new L.SASLMechanism("SCRAM-SHA-1",!0,70),L.SASLSHA1.prototype.test=function(t){return null!==t.authcid},L.SASLSHA1.prototype.onChallenge=function(t,e,n){var s=n||f.hexdigest(""+1234567890*Math.random()),i="n="+C(t.authcid);return i+=",r=",i+=s,t._sasl_data.cnonce=s,t._sasl_data["client-first-message-bare"]=i,i="n,,"+i,this.onChallenge=function(t,e){for(var n,s,i,r,o,a,h,c,l="c=biws,",u="".concat(t._sasl_data["client-first-message-bare"],",").concat(e,","),d=t._sasl_data.cnonce,_=/([a-z]+)=([^,]+)(,|$)/;e.match(_);){var p=e.match(_);switch(e=e.replace(p[0],""),p[1]){case"r":n=p[2];break;case"s":s=p[2];break;case"i":i=p[2]}}if(n.substr(0,d.length)!==d)return t._sasl_data={},t._sasl_failure_cb();u+=l+="r="+n,s=atob(s),s+="\0\0\0\x01";var m=C(t.pass);for(r=a=w.core_hmac_sha1(m,s),h=1;h<i;h++){for(o=w.core_hmac_sha1(m,w.binb2str(a)),c=0;c<5;c++)r[c]^=o[c];a=o}r=w.binb2str(r);var f=w.core_hmac_sha1(r,"Client Key"),g=w.str_hmac_sha1(r,"Server Key"),S=w.core_hmac_sha1(w.str_sha1(w.binb2str(f)),u);for(t._sasl_data["server-signature"]=w.b64_hmac_sha1(g,u),c=0;c<5;c++)f[c]^=S[c];return l+=",p="+btoa(w.binb2str(f))},i},L.SASLMD5=function(){},L.SASLMD5.prototype=new L.SASLMechanism("DIGEST-MD5",!1,60),L.SASLMD5.prototype.test=function(t){return null!==t.authcid},L.SASLMD5.prototype._quote=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},L.SASLMD5.prototype.onChallenge=function(t,e,n){for(var s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,i=n||f.hexdigest(""+1234567890*Math.random()),r="",o=null,a="";e.match(s);){var h=e.match(s);switch(e=e.replace(h[0],""),h[2]=h[2].replace(/^"(.+)"$/,"$1"),h[1]){case"realm":r=h[2];break;case"nonce":a=h[2];break;case"qop":h[2];break;case"host":o=h[2]}}var c=t.servtype+"/"+t.domain;null!==o&&(c=c+"/"+o);var l=C(t.authcid+":"+r+":"+this._connection.pass),u=f.hash(l)+":"+a+":"+i,d='AUTHENTICATE:'+c,_="";return _+='charset=utf-8,',_+='username='+this._quote(C(t.authcid))+',',_+='realm='+this._quote(r)+',',_+='nonce='+this._quote(a)+',',_+='nc=00000001,',_+='cnonce='+this._quote(i)+',',_+='digest-uri='+this._quote(c)+',',_+='response='+f.hexdigest(f.hexdigest(u)+":"+a+":00000001:"+i+":auth:"+f.hexdigest(d))+",",_+='qop=auth',this.onChallenge=function(){return""},_},L.SASLOAuthBearer=function(){},L.SASLOAuthBearer.prototype=new L.SASLMechanism("OAUTHBEARER",!0,40),L.SASLOAuthBearer.prototype.test=function(t){return null!==t.pass},L.SASLOAuthBearer.prototype.onChallenge=function(t){var e='n,';return null!==t.authcid&&(e=e+'a='+t.authzid),e+=',',e+="\x01",e+='auth=Bearer ',e+=t.pass,e+="\x01",C(e+="\x01")},L.SASLExternal=function(){},L.SASLExternal.prototype=new L.SASLMechanism("EXTERNAL",!0,10),L.SASLExternal.prototype.onChallenge=function(t){return t.authcid===t.authzid?'':t.authzid},L.SASLXOAuth2=function(){},L.SASLXOAuth2.prototype=new L.SASLMechanism("X-OAUTH2",!0,30),L.SASLXOAuth2.prototype.test=function(t){return null!==t.pass},L.SASLXOAuth2.prototype.onChallenge=function(t){var e="\0";return null!==t.authcid&&(e+=t.authzid),e+="\0",e+=t.pass,C(e)};var M={Strophe:L,$build:O,$iq:I,$msg:function(t){return new L.Builder("message",t)},$pres:H,SHA1:w,MD5:f,b64_hmac_sha1:w.b64_hmac_sha1,b64_sha1:w.b64_sha1,str_hmac_sha1:w.str_hmac_sha1,str_sha1:w.str_sha1},R=M.Strophe,q=M.$build;R.Request=function(t,e,n,s){this.id=++R._requestId,this.xmlData=t,this.data=R.serialize(t),this.origFunc=e,this.func=e,this.rid=n,this.date=NaN,this.sends=s||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},R.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(t=this.xhr.responseXML.documentElement).tagName)throw R.error("invalid response received"),R.error("responseText: "+this.xhr.responseText),R.error("responseXML: "+R.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(R.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(t=(new DOMParser).parseFromString(this.xhr.responseText,'application/xml').documentElement))throw new Error('Parsing produced null node');if(t.querySelector('parsererror')){R.error("invalid response received: "+t.querySelector('parsererror').textContent),R.error("responseText: "+this.xhr.responseText);var e=new Error;throw e.name=R.ErrorCondition.BAD_FORMAT,e}}return t},_newXHR:function(){var t=null;return window.XMLHttpRequest?(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=this.func.bind(null,this),t}},R.Bosh=function(t){this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},R.Bosh.prototype={strip:null,_buildBody:function(){var t=q('body',{rid:this.rid++,xmlns:R.NS.HTTPBIND});return null!==this.sid&&t.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),t},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_connect:function(t,e,n){this.wait=t||this.wait,this.hold=e||this.hold,this.errors=0;var s=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":R.NS.BOSH});n&&s.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new R.Request(s.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),s.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,e,n,s,i,r,o){this._conn.jid=t,this.sid=e,this.rid=n,this._conn.connect_callback=s,this._conn.domain=R.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=r||this.hold,this.window=o||this.window,this._conn._changeConnectStatus(R.Status.ATTACHED,null)},_restore:function(t,e,n,s,i){var r=JSON.parse(window.sessionStorage.getItem('strophe-bosh-session'));if(!(void 0!==r&&null!==r&&r.rid&&r.sid&&r.jid&&(void 0===t||null===t||R.getBareJidFromJid(r.jid)===R.getBareJidFromJid(t)||null===R.getNodeFromJid(t)&&R.getDomainFromJid(r.jid)===t))){var o=new Error("_restore: no restoreable session.");throw o.name="StropheSessionError",o}this._conn.restored=!0,this._attach(r.jid,r.sid,r.rid,e,n,s,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem('strophe-bosh-session',JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem('strophe-bosh-session')},_connect_cb:function(t){var e=t.getAttribute("type");if(null!==e&&"terminate"===e){var n=t.getAttribute("condition");R.error("BOSH-Connection failed: "+n);var s=t.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&s.length>0&&(n="conflict"),this._conn._changeConnectStatus(R.Status.CONNFAIL,n)):this._conn._changeConnectStatus(R.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),R.Status.CONNFAIL}this.sid||(this.sid=t.getAttribute("sid"));var i=t.getAttribute('requests');i&&(this.window=parseInt(i,10));var r=t.getAttribute('hold');r&&(this.hold=parseInt(r,10));var o=t.getAttribute('wait');o&&(this.wait=parseInt(o,10));var a=t.getAttribute('inactivity');a&&(this.inactivity=parseInt(a,10))},_disconnect:function(t){this._sendTerminate(t)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem('strophe-bosh-session'),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(t){var e=this._getRequestStatus(t),n=this._conn.protocolErrorHandlers.HTTP[e];n&&n.call(this,e)},_hitError:function(t){this.errors++,R.warn("request errored, status: "+t+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){R.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var e=this._buildBody();this._requests.push(new R.Request(e.tree(),this._onRequestStateChange.bind(this,t),e.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;this._requests.length>0;){var t=this._requests.pop();t.abort=!0,t.xhr.abort(),t.xhr.onreadystatechange=function(){}}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(R.debug("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&t.length>0){for(var e=this._buildBody(),n=0;n<t.length;n++)null!==t[n]&&("restart"===t[n]?e.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":R.NS.BOSH}):e.cnode(t[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new R.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var s=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(R.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),s>Math.floor(R.TIMEOUT*this.wait)&&(R.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(R.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(t,e){var n;if(4===t.xhr.readyState)try{n=t.xhr.status}catch(t){R.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n='number'==typeof e?e:0),n},_onRequestStateChange:function(t,e){if(R.debug("request id "+e.id+"."+e.sends+" state changed to "+e.xhr.readyState),e.abort)e.abort=!1;else if(4===e.xhr.readyState){var n=this._getRequestStatus(e);if(this.lastResponseHeaders=e.xhr.getAllResponseHeaders(),this.disconnecting&&n>=400)return this._hitError(n),void this._callProtocolErrorHandlers(e);var s=n>0&&n<500,i=e.sends>this._conn.maxRetries;if((s||i)&&(this._removeRequest(e),R.debug("request id "+e.id+" should now be removed")),200===n){var r=this._requests[0]===e;(this._requests[1]===e||r&&this._requests.length>0&&this._requests[0].age()>Math.floor(R.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(e.rid)+1),R.debug("request id "+e.id+"."+e.sends+" got 200"),t(e),this.errors=0}else 0===n||n>=400&&n<600||n>=12e3?(R.error("request id "+e.id+"."+e.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(e),n>=400&&n<500&&(this._conn._changeConnectStatus(R.Status.DISCONNECTING,null),this._conn._doDisconnect())):R.error("request id "+e.id+"."+e.sends+" error "+n+" happened");s||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(R.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(t){var e=this,n=this._requests[t],s=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),r=!isNaN(i)&&i>Math.floor(R.TIMEOUT*this.wait),o=null!==n.dead&&n.timeDead()>Math.floor(R.SECONDARY_TIMEOUT*this.wait),a=4===n.xhr.readyState&&(s<1||s>=500);if((r||o||a)&&(o&&R.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[t]=new R.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[t]),0===n.xhr.readyState){R.debug("request id "+n.id+"."+n.sends+" posting");try{var h=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",h),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(t){return R.error("XHR open failed: "+t.toString()),this._conn.connected||this._conn._changeConnectStatus(R.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var c=function(){if(n.date=new Date,e._conn.options.customHeaders){var t=e._conn.options.customHeaders;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.xhr.setRequestHeader(s,t[s])}n.xhr.send(n.data)};if(n.sends>1){var l=1e3*Math.min(Math.floor(R.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){c()},l)}else c();n.sends++,this._conn.xmlOutput!==R.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==R.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else R.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(t){R.debug("removing request");for(var e=this._requests.length-1;e>=0;e--)t===this._requests[e]&&this._requests.splice(e,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(t){var e=this._requests[t];null===e.dead&&(e.dead=new Date),this._processRequest(t)},_reqToData:function(t){try{return t.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){R.debug("_sendTerminate was called");var e=this._buildBody().attrs({type:"terminate"});t&&e.cnode(t.tree());var n=new R.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var t=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return t._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?R.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):R.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}};var D=M.Strophe,F=M.$build;return D.Websocket=function(t){this._conn=t,this.strip="wrapper";var e=t.service;if(0!==e.indexOf("ws:")&&0!==e.indexOf("wss:")){var n="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==e.indexOf("/")?n+=window.location.pathname+e:n+=e,t.service=n}},D.Websocket.prototype={_buildStream:function(){return F("open",{xmlns:D.NS.FRAMING,to:this._conn.domain,version:'1.0'})},_check_streamerror:function(t,e){var n;if(0===(n=t.getElementsByTagNameNS?t.getElementsByTagNameNS(D.NS.STREAM,"error"):t.getElementsByTagName("stream:error")).length)return!1;for(var s=n[0],i="",r="",o=0;o<s.childNodes.length;o++){var a=s.childNodes[o];if("urn:ietf:params:xml:ns:xmpp-streams"!==a.getAttribute("xmlns"))break;"text"===a.nodeName?r=a.textContent:i=a.nodeName}var h="WebSocket stream error: ";return h+=i||"unknown",r&&(h+=" - "+r),D.error(h),this._conn._changeConnectStatus(e,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){if(this._check_streamerror(t,D.Status.CONNFAIL))return D.Status.CONNFAIL},_handleStreamStart:function(t){var e=!1,n=t.getAttribute("xmlns");"string"!=typeof n?e="Missing xmlns in <open />":n!==D.NS.FRAMING&&(e="Wrong xmlns in <open />: "+n);var s=t.getAttribute("version");return"string"!=typeof s?e="Missing version in <open />":"1.0"!==s&&(e="Wrong version in <open />: "+s),!e||(this._conn._changeConnectStatus(D.Status.CONNFAIL,e),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var e=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(''===e)return;var n=(new DOMParser).parseFromString(e,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(t.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===t.data.indexOf("<close ")){var s=(new DOMParser).parseFromString(t.data,"text/xml").documentElement;this._conn.xmlInput(s),this._conn.rawInput(t.data);var i=s.getAttribute("see-other-uri");if(i){var r=this._conn.service;(r.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||r.indexOf("ws:")>=0)&&(this._conn._changeConnectStatus(D.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(D.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var o=this._streamWrap(t.data),a=(new DOMParser).parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(a,null,t.data)}},_disconnect:function(t){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){t&&this._conn.send(t);var e=F("close",{xmlns:D.NS.FRAMING});this._conn.xmlOutput(e.tree());var n=D.serialize(e);this._conn.rawOutput(n);try{this.socket.send(n)}catch(t){D.warn("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){D.debug("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(t){return"<wrapper>"+t+'</wrapper>'},_closeSocket:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(t){D.debug(t.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(t){this._conn.connected&&!this._conn.disconnecting?(D.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):t&&1006===t.code&&!this._conn.connected&&this.socket?(D.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(D.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):D.debug("Websocket closed")},_no_auth_received:function(t){D.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(D.Status.CONNFAIL,D.ErrorCondition.NO_AUTH_MECH),t&&t.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){D.error("Websocket error "+t),this._conn._changeConnectStatus(D.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(t.length>0&&!this._conn.paused){for(var e=0;e<t.length;e++)if(null!==t[e]){var n=void 0;n="restart"===t[e]?this._buildStream().tree():t[e];var s=D.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(s),this.socket.send(s)}this._conn._data=[]}},_onMessage:function(t){var e,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===n)return this._conn.rawInput(n),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(e=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(e))return}else{var s=this._streamWrap(t.data);e=(new DOMParser).parseFromString(s,"text/xml").documentElement}return this._check_streamerror(e,D.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===e.firstChild.nodeName&&"unavailable"===e.firstChild.getAttribute("type")?(this._conn.xmlInput(e),void this._conn.rawInput(D.serialize(e))):void this._conn._dataRecv(e,t.data)},_onOpen:function(){D.debug("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var e=D.serialize(t);this._conn.rawOutput(e),this.socket.send(e)},_reqToData:function(t){return t},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e.Strophe=M.Strophe,e.$build=M.$build,e.$iq=M.$iq,e.$msg=M.$msg,e.$pres=M.$pres,M})},529,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),E=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=T;var n=r(d[2]),o=r(d[3]),s=E(r(d[4])),_=E(r(d[5])),c=t(r(d[6])),R=t(r(d[7])),C=E(r(d[8])),u=t(r(d[9])),f=t(r(d[10])),A=t(r(d[11])),N=r(d[12]),D=t(r(d[13])),O=(0,n.getLogger)(__filename);function T(t){this.conference=t,this.xmppListeners={},t.on(_.TRACK_MUTE_CHANGED,function(E){if(E.isLocal()&&t.statistics){var n=E.isP2P?t.p2pJingleSession:t.jvbJingleSession,o=n&&n.peerconnection||null;t.statistics.sendMuteEvent(o,E.isMuted(),E.getType())}})}T.prototype.setupChatRoomListeners=function(){var t=this,E=this.conference,n=E.room;this.chatRoomForwarder=new R.default(n,this.conference.eventEmitter),n.addListener(D.default.ICE_RESTARTING,function(t){t.isP2P||E.rtc.closeBridgeChannel()}),n.addListener(D.default.ICE_RESTART_SUCCESS,function(t,n){!t.isP2P&&E._setBridgeChannel(n,t.peerconnection)}),n.addListener(D.default.AUDIO_MUTED_BY_FOCUS,function(t){c.default.sendAnalytics((0,N.createRemotelyMutedEvent)()),E.mutedByFocusActor=t,E.rtc.setAudioMute(!0).then(function(){E.isMutedByFocus=!0,E.mutedByFocusActor=null}).catch(function(t){E.mutedByFocusActor=null,O.warn('Error while audio muting due to focus request',t)})}),this.chatRoomForwarder.forward(D.default.SUBJECT_CHANGED,_.SUBJECT_CHANGED),this.chatRoomForwarder.forward(D.default.MUC_JOINED,_.CONFERENCE_JOINED),this.chatRoomForwarder.forward(D.default.MEETING_ID_SET,_.CONFERENCE_UNIQUE_ID_SET),n.addListener(D.default.MUC_JOINED,function(){t.conference._onMucJoined(),t.conference.isJvbConnectionInterrupted=!1,Object.keys(n.connectionTimes).forEach(function(t){var E=(0,N.createConnectionStageReachedEvent)("conference_"+t,{value:n.connectionTimes[t]});c.default.sendAnalytics(E)}),Object.keys(n.xmpp.connectionTimes).forEach(function(t){var E=(0,N.createConnectionStageReachedEvent)("xmpp_"+t,{value:n.xmpp.connectionTimes[t]});c.default.sendAnalytics(E)})}),n.addListener(D.default.RENEGOTIATION_FAILED,function(t,n){n.isP2P||E.eventEmitter.emit(_.CONFERENCE_FAILED,s.OFFER_ANSWER_FAILED,t)}),this.chatRoomForwarder.forward(D.default.ROOM_JOIN_ERROR,_.CONFERENCE_FAILED,s.CONNECTION_ERROR),this.chatRoomForwarder.forward(D.default.ROOM_CONNECT_ERROR,_.CONFERENCE_FAILED,s.CONNECTION_ERROR),this.chatRoomForwarder.forward(D.default.ROOM_CONNECT_NOT_ALLOWED_ERROR,_.CONFERENCE_FAILED,s.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(D.default.ROOM_CONNECT_MEMBERS_ONLY_ERROR,_.CONFERENCE_FAILED,s.MEMBERS_ONLY_ERROR),this.chatRoomForwarder.forward(D.default.ROOM_MAX_USERS_ERROR,_.CONFERENCE_FAILED,s.CONFERENCE_MAX_USERS),this.chatRoomForwarder.forward(D.default.PASSWORD_REQUIRED,_.CONFERENCE_FAILED,s.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(D.default.AUTHENTICATION_REQUIRED,_.CONFERENCE_FAILED,s.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(D.default.BRIDGE_DOWN,_.CONFERENCE_FAILED,s.VIDEOBRIDGE_NOT_AVAILABLE),n.addListener(D.default.BRIDGE_DOWN,function(){return c.default.sendAnalytics((0,N.createBridgeDownEvent)())}),n.addListener(D.default.CONNECTION_RESTARTED,function(t){E._onConferenceRestarted(t)}),this.chatRoomForwarder.forward(D.default.RESERVATION_ERROR,_.CONFERENCE_FAILED,s.RESERVATION_ERROR),this.chatRoomForwarder.forward(D.default.GRACEFUL_SHUTDOWN,_.CONFERENCE_FAILED,s.GRACEFUL_SHUTDOWN),n.addListener(D.default.CONNECTION_ICE_FAILED,function(t){E._onIceConnectionFailed(t)}),this.chatRoomForwarder.forward(D.default.MUC_DESTROYED,_.CONFERENCE_FAILED,s.CONFERENCE_DESTROYED),this.chatRoomForwarder.forward(D.default.CHAT_ERROR_RECEIVED,_.CONFERENCE_ERROR,s.CHAT_ERROR),this.chatRoomForwarder.forward(D.default.FOCUS_DISCONNECTED,_.CONFERENCE_FAILED,s.FOCUS_DISCONNECTED),n.addListener(D.default.FOCUS_LEFT,function(){c.default.sendAnalytics((0,N.createFocusLeftEvent)()),E.eventEmitter.emit(_.CONFERENCE_FAILED,s.FOCUS_LEFT)}),n.addListener(D.default.SESSION_ACCEPT_TIMEOUT,function(t){c.default.sendAnalyticsAndLog((0,N.createJingleEvent)(N.ACTION_JINGLE_SA_TIMEOUT,{p2p:t.isP2P}))}),n.addListener(D.default.RECORDER_STATE_CHANGED,function(t,n){if(n){var s=E.getParticipantById(o.Strophe.getResourceFromJid(n));'off'===t.getStatus()?t.setTerminator(s):'on'===t.getStatus()&&t.setInitiator(s)}E.eventEmitter.emit(_.RECORDER_STATE_CHANGED,t)}),this.chatRoomForwarder.forward(D.default.TRANSCRIPTION_STATUS_CHANGED,_.TRANSCRIPTION_STATUS_CHANGED),this.chatRoomForwarder.forward(D.default.VIDEO_SIP_GW_AVAILABILITY_CHANGED,_.VIDEO_SIP_GW_AVAILABILITY_CHANGED),this.chatRoomForwarder.forward(D.default.VIDEO_SIP_GW_SESSION_STATE_CHANGED,_.VIDEO_SIP_GW_SESSION_STATE_CHANGED),this.chatRoomForwarder.forward(D.default.PHONE_NUMBER_CHANGED,_.PHONE_NUMBER_CHANGED),n.setParticipantPropertyListener(function(t,n){var o=E.getParticipantById(n);o&&o.setProperty(t.tagName.substring('jitsi_participant_'.length),t.value)}),n.addListener(D.default.KICKED,E.onMemberKicked.bind(E)),n.addListener(D.default.SUSPEND_DETECTED,E.onSuspendDetected.bind(E)),this.chatRoomForwarder.forward(D.default.MUC_LOCK_CHANGED,_.LOCK_STATE_CHANGED),this.chatRoomForwarder.forward(D.default.MUC_MEMBERS_ONLY_CHANGED,_.MEMBERS_ONLY_CHANGED),n.addListener(D.default.MUC_MEMBER_JOINED,E.onMemberJoined.bind(E)),this.chatRoomForwarder.forward(D.default.MUC_LOBBY_MEMBER_JOINED,_.LOBBY_USER_JOINED),this.chatRoomForwarder.forward(D.default.MUC_LOBBY_MEMBER_UPDATED,_.LOBBY_USER_UPDATED),this.chatRoomForwarder.forward(D.default.MUC_LOBBY_MEMBER_LEFT,_.LOBBY_USER_LEFT),n.addListener(D.default.MUC_MEMBER_BOT_TYPE_CHANGED,E._onMemberBotTypeChanged.bind(E)),n.addListener(D.default.MUC_MEMBER_LEFT,E.onMemberLeft.bind(E)),this.chatRoomForwarder.forward(D.default.MUC_LEFT,_.CONFERENCE_LEFT),this.chatRoomForwarder.forward(D.default.MUC_DENIED_ACCESS,_.CONFERENCE_FAILED,s.CONFERENCE_ACCESS_DENIED),n.addListener(D.default.DISPLAY_NAME_CHANGED,E.onDisplayNameChanged.bind(E)),n.addListener(D.default.LOCAL_ROLE_CHANGED,function(t){E.onLocalRoleChanged(t),E.statistics&&E.isModerator()&&E.on(_.RECORDER_STATE_CHANGED,function(t){var E={error:t.getError(),id:'recorder_status',status:t.getStatus()};c.default.sendLog(JSON.stringify(E))})}),n.addListener(D.default.MUC_ROLE_CHANGED,E.onUserRoleChanged.bind(E)),n.addListener(A.default.IDENTITY_UPDATED,function(t,n){E.authEnabled=t,E.authIdentity=n,E.eventEmitter.emit(_.AUTH_STATUS_CHANGED,t,n)}),n.addListener(D.default.MESSAGE_RECEIVED,function(t,n,s,c,R){var C=o.Strophe.getResourceFromJid(t);E.eventEmitter.emit(_.MESSAGE_RECEIVED,C,s,R,n)}),n.addListener(D.default.PRIVATE_MESSAGE_RECEIVED,function(t,n,s,c,R){var C=o.Strophe.getResourceFromJid(t);E.eventEmitter.emit(_.PRIVATE_MESSAGE_RECEIVED,C,s,R)}),n.addListener(D.default.PRESENCE_STATUS,function(t,n){var s=o.Strophe.getResourceFromJid(t),c=E.getParticipantById(s);c&&c._status!==n&&(c._status=n,E.eventEmitter.emit(_.USER_STATUS_CHANGED,s,n))}),n.addListener(D.default.JSON_MESSAGE_RECEIVED,function(t,n){var s=o.Strophe.getResourceFromJid(t),c=E.getParticipantById(s);c?E.eventEmitter.emit(_.ENDPOINT_MESSAGE_RECEIVED,c,n):O.warn("Ignored XMPPEvents.JSON_MESSAGE_RECEIVED for not existing participant: "+t,n)}),n.addPresenceListener('startmuted',function(t,n){var o=!1;if(E.myUserId()===n&&E.isModerator())o=!0;else{var s=E.getParticipantById(n);s&&s.isModerator()&&(o=!0)}if(o){var c='true'===t.attributes.audio,R='true'===t.attributes.video,C=!1;c!==E.startMutedPolicy.audio&&(E.startMutedPolicy.audio=c,C=!0),R!==E.startMutedPolicy.video&&(E.startMutedPolicy.video=R,C=!0),C&&E.eventEmitter.emit(_.START_MUTED_POLICY_CHANGED,E.startMutedPolicy)}}),E.statistics&&(n.addListener(D.default.CONNECTION_ICE_FAILED,function(t){E.statistics.sendIceConnectionFailedEvent(t.peerconnection)}),n.addListener(D.default.ADD_ICE_CANDIDATE_FAILED,function(t,n){E.statistics.sendAddIceCandidateFailed(t,n)}))},T.prototype.setupRTCListeners=function(){var t=this.conference,E=t.rtc;E.addListener(u.default.REMOTE_TRACK_ADDED,t.onRemoteTrackAdded.bind(t)),E.addListener(u.default.REMOTE_TRACK_REMOVED,t.onRemoteTrackRemoved.bind(t)),E.addListener(u.default.DOMINANT_SPEAKER_CHANGED,function(E){t.lastDominantSpeaker!==E&&t.room&&(t.lastDominantSpeaker=E,t.eventEmitter.emit(_.DOMINANT_SPEAKER_CHANGED,E),t.statistics&&t.myUserId()===E&&t.statistics.sendDominantSpeakerEvent(t.room.roomjid))}),E.addListener(u.default.DATA_CHANNEL_OPEN,function(){var E=window.performance.now(),n='data.channel.opened';O.log("(TIME) data.channel.opened:\t",E),t.room.connectionTimes[n]=E,c.default.sendAnalytics((0,N.createConnectionStageReachedEvent)(n,{value:E})),t.eventEmitter.emit(_.DATA_CHANNEL_OPENED)}),E.addListener(u.default.ENDPOINT_MESSAGE_RECEIVED,function(E,n){var o=t.getParticipantById(E);o?t.eventEmitter.emit(_.ENDPOINT_MESSAGE_RECEIVED,o,n):O.warn("Ignored ENDPOINT_MESSAGE_RECEIVED for not existing participant: "+E,n)}),E.addListener(u.default.LOCAL_UFRAG_CHANGED,function(t,E){t.isP2P||c.default.sendLog(JSON.stringify({id:'local_ufrag',value:E}))}),E.addListener(u.default.REMOTE_UFRAG_CHANGED,function(t,E){t.isP2P||c.default.sendLog(JSON.stringify({id:'remote_ufrag',value:E}))}),E.addListener(u.default.CREATE_ANSWER_FAILED,function(E,n){t.statistics.sendCreateAnswerFailed(E,n),n.isP2P||t.eventEmitter.emit(_.CONFERENCE_FAILED,s.OFFER_ANSWER_FAILED,E)}),E.addListener(u.default.CREATE_OFFER_FAILED,function(E,n){t.statistics.sendCreateOfferFailed(E,n),n.isP2P||t.eventEmitter.emit(_.CONFERENCE_FAILED,s.OFFER_ANSWER_FAILED,E)}),E.addListener(u.default.SET_LOCAL_DESCRIPTION_FAILED,function(E,n){t.statistics.sendSetLocalDescFailed(E,n),n.isP2P||t.eventEmitter.emit(_.CONFERENCE_FAILED,s.OFFER_ANSWER_FAILED,E)}),E.addListener(u.default.SET_REMOTE_DESCRIPTION_FAILED,function(E,n){t.statistics.sendSetRemoteDescFailed(E,n),n.isP2P||t.eventEmitter.emit(_.CONFERENCE_FAILED,s.OFFER_ANSWER_FAILED,E)}),E.addListener(u.default.LOCAL_TRACK_SSRC_UPDATED,function(E,n){E.isVideoTrack()&&E.videoType===f.default.DESKTOP&&t.statistics.sendScreenSharingEvent(!0,n)})},T.prototype.removeXMPPListeners=function(){var t=this,E=this.conference;E.xmpp.caps.removeListener(D.default.PARTICIPANT_FEATURES_CHANGED,this.xmppListeners[D.default.PARTICIPANT_FEATURES_CHANGED]),delete this.xmppListeners[D.default.PARTICIPANT_FEATURES_CHANGED],Object.keys(this.xmppListeners).forEach(function(n){E.xmpp.removeListener(n,t.xmppListeners[n])}),this.xmppListeners={}},T.prototype.setupXMPPListeners=function(){var t=this.conference,E=function(E,n){var s=t.getParticipantById(o.Strophe.getResourceFromJid(E));s&&(s._features=n,t.eventEmitter.emit(_.PARTCIPANT_FEATURES_CHANGED,s))};t.xmpp.caps.addListener(D.default.PARTICIPANT_FEATURES_CHANGED,E),this.xmppListeners[D.default.PARTICIPANT_FEATURES_CHANGED]=E,this._addConferenceXMPPListener(D.default.CALL_INCOMING,t.onIncomingCall.bind(t)),this._addConferenceXMPPListener(D.default.CALL_ACCEPTED,t.onCallAccepted.bind(t)),this._addConferenceXMPPListener(D.default.TRANSPORT_INFO,t.onTransportInfo.bind(t)),this._addConferenceXMPPListener(D.default.CALL_ENDED,t.onCallEnded.bind(t)),this._addConferenceXMPPListener(D.default.START_MUTED_FROM_FOCUS,function(E,n){t.options.config.ignoreStartMuted||(t.startAudioMuted=E,t.startVideoMuted=n,t.getLocalTracks().forEach(function(E){switch(E.getType()){case C.AUDIO:t.startAudioMuted&&E.mute();break;case C.VIDEO:t.startVideoMuted&&E.mute()}}),t.eventEmitter.emit(_.STARTED_MUTED))}),this._addConferenceXMPPListener(D.default.CONFERENCE_TIMESTAMP_RECEIVED,function(E){t.eventEmitter.emit(_.CONFERENCE_CREATED_TIMESTAMP,E)})},T.prototype._addConferenceXMPPListener=function(t,E){this.xmppListeners[t]=E,this.conference.xmpp.addListener(t,E)},T.prototype.setupStatisticsListeners=function(){var t=this.conference;t.statistics&&(t.statistics.addAudioLevelListener(function(E,n,o,s){t.rtc.setAudioLevel(E,n,o,s)}),t.statistics.addBeforeDisposedListener(function(){t.eventEmitter.emit(_.BEFORE_STATISTICS_DISPOSED)}),t.options.config.startSilent||t.statistics.addByteSentStatsListener(function(E,n){t.getLocalTracks(C.AUDIO).forEach(function(t){var o=E.getLocalSSRC(t);o&&n.hasOwnProperty(o)&&t._onByteSentStatsReceived(E,n[o])})}))}},530,[1,12,432,529,523,524,531,560,557,561,562,563,534,564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=N;var s=n(r(d[2])),o=t(r(d[3])),l=n(r(d[4])),c=r(d[5]),v=t(r(d[6])),u=n(r(d[7])),p=n(r(d[8])),S=n(r(d[9])),f=n(r(d[10])),h=n(r(d[11])),E=r(d[12]),I=n(r(d[13])),y=r(d[14]);function L(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=b(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function b(t,n){if(t){if("string"==typeof t)return A(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?A(t,n):void 0}}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var D,T=r(d[15]).getLogger(__filename),O=!1;function C(t){O||(p.default.loadScript(t.customScriptUrl||y.CALLSTATS_SCRIPT_URL,!0,!0,void 0,function(){return _(t)}),O=!0)}function _(t){f.default.isBackendInitialized()||f.default.initBackend({callStatsID:t.callStatsID,callStatsSecret:t.callStatsSecret,userName:t.userName,aliasName:t.aliasName,applicationName:t.applicationName,getWiFiStatsMethod:t.getWiFiStatsMethod,confID:t.confID,siteID:t.siteID})||T.error('CallStats Backend initialization failed bad')}function F(t){var n=new Error;return n.stack=t.stack,n.name=(t.name||'Unknown error')+(t.gum&&t.gum.error&&t.gum.error.name?" - "+t.gum.error.name:''),n.constraintName=t.gum&&t.gum.constraints?JSON.stringify(t.gum.constraints):'',n.message=t.message,n}function N(t,n){this.rtpStatsMap=new Map,this.eventEmitter=new s.default,this.xmpp=t,this.options=n||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&this.options.enableCallStats&&!0!==N.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&(this.callStatsApplicationLogsDisabled=this.options.callStatsApplicationLogsDisabled,u.default.isReactNative()?_(this.options):C(this.options),this.options.confID||T.warn('"confID" is not defined')),this.callsStatsInstances=new Map,N.instances.add(this)}N.init=function(t){N.audioLevelsEnabled=!t.disableAudioLevels,'number'==typeof t.pcStatsInterval&&(N.pcStatsInterval=t.pcStatsInterval),'number'==typeof t.audioLevelsInterval&&(N.audioLevelsInterval=t.audioLevelsInterval),'number'==typeof t.longTasksStatsInterval&&(N.longTasksStatsInterval=t.longTasksStatsInterval),N.disableThirdPartyRequests=t.disableThirdPartyRequests},N.audioLevelsEnabled=!1,N.audioLevelsInterval=200,N.pcStatsInterval=1e4,N.disableThirdPartyRequests=!1,N.analytics=S.default,Object.defineProperty(N,'instances',{get:function(){return D||(D=new Set),D}}),N.prototype.startRemoteStats=function(t){this.stopRemoteStats(t);try{var n=new I.default(t,N.audioLevelsInterval,N.pcStatsInterval,this.eventEmitter);n.start(N.audioLevelsEnabled),this.rtpStatsMap.set(t.id,n)}catch(t){T.error("Failed to start collecting remote statistics: "+t)}},N.localStats=[],N.startLocalStats=function(t,n){if(N.audioLevelsEnabled){var s=new h.default(t,N.audioLevelsInterval,n);this.localStats.push(s),s.start()}},N.prototype.addAudioLevelListener=function(t){N.audioLevelsEnabled&&this.eventEmitter.on(v.AUDIO_LEVEL,t)},N.prototype.removeAudioLevelListener=function(t){N.audioLevelsEnabled&&this.eventEmitter.removeListener(v.AUDIO_LEVEL,t)},N.prototype.addBeforeDisposedListener=function(t){this.eventEmitter.on(v.BEFORE_DISPOSED,t)},N.prototype.removeBeforeDisposedListener=function(t){this.eventEmitter.removeListener(v.BEFORE_DISPOSED,t)},N.prototype.addConnectionStatsListener=function(t){this.eventEmitter.on(v.CONNECTION_STATS,t)},N.prototype.removeConnectionStatsListener=function(t){this.eventEmitter.removeListener(v.CONNECTION_STATS,t)},N.prototype.addByteSentStatsListener=function(t){this.eventEmitter.on(v.BYTE_SENT_STATS,t)},N.prototype.removeByteSentStatsListener=function(t){this.eventEmitter.removeListener(v.BYTE_SENT_STATS,t)},N.prototype.addLongTasksStatsListener=function(t){this.eventEmitter.on(v.LONG_TASKS_STATS,t)},N.prototype.attachLongTasksStats=function(t){var n=this;u.default.supportsPerformanceObserver()?(this.performanceObserverStats=new E.PerformanceObserverStats(this.eventEmitter,N.longTasksStatsInterval),t.on(o.CONFERENCE_JOINED,function(){return n.performanceObserverStats.startObserver()}),t.on(o.CONFERENCE_LEFT,function(){return n.performanceObserverStats.stopObserver()})):T.warn('Performance observer for long tasks not supported by browser!')},N.prototype.getLongTasksStats=function(){return this.performanceObserverStats?this.performanceObserverStats.getLongTasksStats():null},N.prototype.removeLongTasksStatsListener=function(t){this.eventEmitter.removeListener(v.LONG_TASKS_STATS,t)},N.prototype.dispose=function(){try{this.callsStatsInstances.size||this.eventEmitter.emit(v.BEFORE_DISPOSED);for(var t,n=L(this.callsStatsInstances.values());!(t=n()).done;){var s=t.value;this.stopCallStats(s.tpc)}for(var o,l=L(this.rtpStatsMap.keys());!(o=l()).done;){var c=o.value;this._stopRemoteStats(c)}this.eventEmitter&&this.eventEmitter.removeAllListeners()}finally{N.instances.delete(this)}},N.stopLocalStats=function(t){if(N.audioLevelsEnabled)for(var n=0;n<N.localStats.length;n++)if(N.localStats[n].stream===t){N.localStats.splice(n,1)[0].stop();break}},N.prototype._stopRemoteStats=function(t){var n=this.rtpStatsMap.get(t);n&&(n.stop(),this.rtpStatsMap.delete(t))},N.prototype.stopRemoteStats=function(t){this._stopRemoteStats(t.id)},N.prototype.startCallStats=function(t,n){if(this.callStatsIntegrationEnabled)if(this.callsStatsInstances.has(t.id))T.error('CallStats instance for ${tpc} exists already');else{T.info("Starting CallStats for "+t+"...");var s=new f.default(t,{confID:this.options.confID,remoteUserID:n});this.callsStatsInstances.set(t.id,s)}},N._getAllCallStatsInstances=function(){for(var t,n=new Set,s=L(N.instances);!(t=s()).done;)for(var o,l=L(t.value.callsStatsInstances.values());!(o=l()).done;){var c=o.value;n.add(c)}return n},N.prototype.stopCallStats=function(t){var n=this.callsStatsInstances.get(t.id);n&&(1===this.callsStatsInstances.size&&this.eventEmitter.emit(v.BEFORE_DISPOSED),this.callsStatsInstances.delete(t.id),n.sendTerminateEvent())},N.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},N.prototype.sendConnectionResumeOrHoldEvent=function(t,n){var s=this.callsStatsInstances.get(t.id);s&&s.sendResumeOrHoldEvent(n)},N.prototype.sendIceConnectionFailedEvent=function(t){var n=this.callsStatsInstances.get(t.id);n&&n.sendIceConnectionFailedEvent()},N.prototype.sendMuteEvent=function(t,n,s){var o=t&&this.callsStatsInstances.get(t.id);f.default.sendMuteEvent(n,s,o)},N.prototype.sendScreenSharingEvent=function(t,n){for(var s,o=L(this.callsStatsInstances.values());!(s=o()).done;){s.value.sendScreenSharingEvent(t,n)}},N.prototype.sendDominantSpeakerEvent=function(t){for(var n,s=L(this.callsStatsInstances.values());!(n=s()).done;){n.value.sendDominantSpeakerEvent()}this.xmpp.sendDominantSpeakerEvent(t)},N.sendActiveDeviceListEvent=function(t){var n=N._getAllCallStatsInstances();if(n.size)for(var s,o=L(n);!(s=o()).done;){var l=s.value;f.default.sendActiveDeviceListEvent(t,l)}else f.default.sendActiveDeviceListEvent(t,null)},N.prototype.associateStreamWithVideoTag=function(t,n,s,o,l,c){var v=this.callsStatsInstances.get(t.id);v&&v.associateStreamWithVideoTag(n,s,o,l,c)},N.sendGetUserMediaFailed=function(t){var n=t instanceof l.default?F(t):t,s=N._getAllCallStatsInstances();if(s.size)for(var o,c=L(s);!(o=c()).done;){var v=o.value;f.default.sendGetUserMediaFailed(n,v)}else f.default.sendGetUserMediaFailed(n,null)},N.prototype.sendCreateOfferFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendCreateOfferFailed(t)},N.prototype.sendCreateAnswerFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendCreateAnswerFailed(t)},N.prototype.sendSetLocalDescFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendSetLocalDescFailed(t)},N.prototype.sendSetRemoteDescFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendSetRemoteDescFailed(t)},N.prototype.sendAddIceCandidateFailed=function(t,n){var s=this.callsStatsInstances.get(n.id);s&&s.sendAddIceCandidateFailed(t)},N.sendLog=function(t){for(var n,s=new Set,o=L(N.instances);!(n=o()).done;){var l=n.value;if(l.callStatsApplicationLogsDisabled)return;l.callsStatsInstances.size&&s.add(l.callsStatsInstances.values().next().value)}if(s.size)for(var c,v=L(s);!(c=v()).done;){var u=c.value;f.default.sendApplicationLog(t,u)}else f.default.sendApplicationLog(t,null)},N.prototype.sendFeedback=function(t,n){return N.analytics.sendEvent(c.FEEDBACK,{rating:t,comment:n}),f.default.sendFeedback(this.options.confID,t,n)},N.LOCAL_JID=r(d[16]).LOCAL_JID,N.reportGlobalError=function(t){t instanceof l.default&&t.gum?N.sendGetUserMediaFailed(t):N.sendLog(t)},N.sendAnalyticsAndLog=function(t){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(n='object'==typeof t?t:{name:t,properties:s},T.log(JSON.stringify(n)),this.analytics.sendEvent(t,s)):T.warn('No event or event name given.')},N.sendAnalytics=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.analytics.sendEvent(t,n)}},531,[12,1,527,524,532,534,535,536,548,550,551,553,554,556,558,432,559]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),o={};function n(t,n,E){if('object'==typeof t&&void 0!==t.name)switch(this.gum={error:t,constraints:n,devices:E&&Array.isArray(E)?E.slice(0):void 0},t.name){case'NotAllowedError':case'PermissionDeniedError':case'SecurityError':this.name=s.PERMISSION_DENIED,this.message=o[this.name]+(this.gum.devices||[]).join(', ');break;case'DevicesNotFoundError':case'NotFoundError':this.name=s.NOT_FOUND,this.message=o[this.name]+(this.gum.devices||[]).join(', ');break;case'ConstraintNotSatisfiedError':case'OverconstrainedError':var h=t.constraintName||t.constraint;n&&n.video&&(!E||E.indexOf('video')>-1)&&('minWidth'===h||'maxWidth'===h||'minHeight'===h||'maxHeight'===h||'width'===h||'height'===h||'deviceId'===h)?(this.name=s.UNSUPPORTED_RESOLUTION,this.message=o[this.name]+c(h,n)):(this.name=s.CONSTRAINT_FAILED,this.message=o[this.name]+t.constraintName);break;default:this.name=s.GENERAL,this.message=t.message||o[this.name]}else{if('string'!=typeof t)throw new Error('Invalid arguments');o[t]?(this.name=t,this.message=n||o[t]):this.message=t}this.stack=t.stack||(new Error).stack}function c(t,s){if(s&&s.video&&s.video.mandatory)switch(t){case'width':return s.video.mandatory.minWidth;case'height':return s.video.mandatory.minHeight;default:return s.video.mandatory[t]||''}return''}o[s.UNSUPPORTED_RESOLUTION]='Video resolution is not supported: ',o[s.SCREENSHARING_USER_CANCELED]='User canceled screen sharing prompt',o[s.SCREENSHARING_GENERIC_ERROR]='Unknown error from screensharing',o[s.ELECTRON_DESKTOP_PICKER_ERROR]='Unkown error from desktop picker',o[s.ELECTRON_DESKTOP_PICKER_NOT_FOUND]='Failed to detect desktop picker',o[s.GENERAL]='Generic getUserMedia error',o[s.PERMISSION_DENIED]='User denied permission to use device(s): ',o[s.NOT_FOUND]='Requested device(s) was/were not found: ',o[s.CONSTRAINT_FAILED]='Constraint could not be satisfied: ',o[s.TRACK_IS_DISPOSED]='Track has been already disposed',o[s.TRACK_NO_STREAM_FOUND]='Track does not have an associated Media Stream',n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var E=n;e.default=E},532,[12,533]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UNSUPPORTED_RESOLUTION=e.TRACK_NO_STREAM_FOUND=e.TRACK_IS_DISPOSED=e.SCREENSHARING_USER_CANCELED=e.SCREENSHARING_GENERIC_ERROR=e.PERMISSION_DENIED=e.NOT_FOUND=e.GENERAL=e.ELECTRON_DESKTOP_PICKER_NOT_FOUND=e.ELECTRON_DESKTOP_PICKER_ERROR=e.CONSTRAINT_FAILED=void 0;e.CONSTRAINT_FAILED='gum.constraint_failed';e.ELECTRON_DESKTOP_PICKER_ERROR='gum.electron_desktop_picker_error';e.ELECTRON_DESKTOP_PICKER_NOT_FOUND='gum.electron_desktop_picker_not_found';e.GENERAL='gum.general';e.NOT_FOUND='gum.not_found';e.PERMISSION_DENIED='gum.permission_denied';e.SCREENSHARING_GENERIC_ERROR='gum.screensharing_generic_error';e.SCREENSHARING_USER_CANCELED='gum.screensharing_user_canceled';e.TRACK_IS_DISPOSED='track.track_is_disposed';e.TRACK_NO_STREAM_FOUND='track.no_stream_found';e.UNSUPPORTED_RESOLUTION='gum.unsupported_resolution'},533,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createConferenceEvent=function(t,n){return{action:t,attributes:n,source:'conference',type:E}},e.createAudioOutputProblemEvent=function(t,n,c){return{type:E,action:'audio.output.problem',attributes:{userID:t,localAudioLevels:n,remoteAudioLevels:c}}},e.createTtfmEvent=e.createBridgeChannelClosedEvent=e.createTransportStatsEvent=e.createRttByRegionEvent=e.createRtpStatsEvent=e.createRemotelyMutedEvent=e.createP2PEvent=e.createNoDataFromSourceEvent=e.createJingleEvent=e.createParticipantConnectionStatusEvent=e.createGetUserMediaEvent=e.createFocusLeftEvent=e.createE2eRttEvent=e.createConnectionStageReachedEvent=e.createConnectionFailedEvent=e.createBridgeDownEvent=e.TRACK_UNMUTED=e.NO_BYTES_SENT=e.ICE_STATE_CHANGED=e.ICE_ESTABLISHMENT_DURATION_DIFF=e.ICE_DURATION=e.FEEDBACK=e.CONNECTION_DISCONNECTED=e.AVAILABLE_DEVICE=e.ACTION_P2P_SWITCH_TO_JVB=e.ACTION_P2P_FAILED=e.ACTION_P2P_ESTABLISHED=e.ACTION_P2P_DECLINED=e.ACTION_JINGLE_TR_SUCCESS=e.ACTION_JINGLE_TR_RECEIVED=e.ACTION_JINGLE_TERMINATE=e.ACTION_JINGLE_SI_TIMEOUT=e.ACTION_JINGLE_SI_RECEIVED=e.ACTION_JINGLE_SA_TIMEOUT=e.ACTION_JINGLE_RESTART=e.TYPE_UI=e.TYPE_TRACK=e.TYPE_PAGE=e.TYPE_OPERATIONAL=void 0;var n=t(r(d[1]));function c(t,n){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),c.push.apply(c,o)}return c}function o(t){for(var o=1;o<arguments.length;o++){var E=null!=arguments[o]?arguments[o]:{};o%2?c(Object(E),!0).forEach(function(c){(0,n.default)(t,c,E[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(E)):c(Object(E)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(E,n))})}return t}var E='operational';e.TYPE_OPERATIONAL=E;e.TYPE_PAGE='page';e.TYPE_TRACK='track';e.TYPE_UI='ui';e.ACTION_JINGLE_RESTART='restart';e.ACTION_JINGLE_SA_TIMEOUT='session-accept.timeout';e.ACTION_JINGLE_SI_RECEIVED='session-initiate.received';e.ACTION_JINGLE_SI_TIMEOUT='session-initiate.timeout';e.ACTION_JINGLE_TERMINATE='terminate';e.ACTION_JINGLE_TR_RECEIVED='transport-replace.received';e.ACTION_JINGLE_TR_SUCCESS='transport-replace.success';e.ACTION_P2P_DECLINED='decline';e.ACTION_P2P_ESTABLISHED='established';e.ACTION_P2P_FAILED='failed';e.ACTION_P2P_SWITCH_TO_JVB='switch.to.jvb';e.AVAILABLE_DEVICE='available.device';e.CONNECTION_DISCONNECTED='connection.disconnected';e.FEEDBACK='feedback';e.ICE_DURATION='ice.duration';e.ICE_ESTABLISHMENT_DURATION_DIFF='ice.establishment.duration.diff';e.ICE_STATE_CHANGED='ice.state.changed';e.NO_BYTES_SENT='track.no-bytes-sent';e.TRACK_UNMUTED='track.unmuted';e.createBridgeDownEvent=function(){return{action:"bridge.down",actionSubject:"bridge.down",type:E}};e.createConnectionFailedEvent=function(t,n,c){return{type:E,action:'connection.failed',attributes:o({error_type:t,error_message:n},c)}};var u=function(t,n){var c='connection.stage.reached';return{action:c,actionSubject:t,attributes:n,source:c,type:E}};e.createConnectionStageReachedEvent=u;e.createE2eRttEvent=function(t,n,c){return{attributes:{participant_id:t,region:n,rtt:c},name:'e2e_rtt',type:E}};e.createFocusLeftEvent=function(){return{action:"focus.left",actionSubject:"focus.left",type:E}};e.createGetUserMediaEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E,source:'get.user.media',action:t,attributes:n}};e.createParticipantConnectionStatusEvent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:E,source:'peer.conn.status',action:'duration',attributes:t}};e.createJingleEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E,action:t,source:'jingle',attributes:n}};e.createNoDataFromSourceEvent=function(t,n){return{attributes:{media_type:t,value:n},action:'track.no.data.from.source',type:E}};e.createP2PEvent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:E,action:t,source:'p2p',attributes:n}};e.createRemotelyMutedEvent=function(){return{type:E,action:'remotely.muted'}};e.createRtpStatsEvent=function(t){return{type:E,action:'rtp.stats',attributes:t}};e.createRttByRegionEvent=function(t){return{type:E,action:'rtt.by.region',attributes:t}};e.createTransportStatsEvent=function(t){return{type:E,action:'transport.stats',attributes:t}};e.createBridgeChannelClosedEvent=function(t,n){return{type:E,action:'bridge-channel.error',attributes:{code:t,reason:n}}};e.createTtfmEvent=function(t){return u('ttfm',t)}},534,[1,51]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.LONG_TASKS_STATS=e.CONNECTION_STATS=e.BYTE_SENT_STATS=e.BEFORE_DISPOSED=e.AUDIO_LEVEL=void 0;e.AUDIO_LEVEL='statistics.audioLevel';e.BEFORE_DISPOSED='statistics.before_disposed';e.BYTE_SENT_STATS='statistics.byte_sent_stats';e.CONNECTION_STATS='statistics.connectionstats';e.LONG_TASKS_STATS='statistics.long_tasks_stats'},535,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=new(t(r(d[1])).default);e.default=u},536,[1,537]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=r(d[6]);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=(0,r(d[7]).getLogger)(__filename),h=(function(t){(0,o.default)(R,t);var f,h,l=(f=R,h=p(),function(){var t,s=(0,c.default)(f);if(h){var n=(0,c.default)(this).constructor;t=Reflect.construct(s,arguments,n)}else t=s.apply(this,arguments);return(0,u.default)(this,t)});function R(){var t;return(0,s.default)(this,R),t=l.call(this),v.info("This appears to be "+t.getName()+", ver: "+t.getVersion()),t}return(0,n.default)(R,[{key:"doesVideoMuteByStreamRemove",value:function(){return this.isChromiumBased()||this.isSafari()}},{key:"supportsP2P",value:function(){return!this.usesUnifiedPlan()}},{key:"isChromiumBased",value:function(){return this.isChrome()||this.isElectron()||this.isNWJS()||this.isOpera()}},{key:"isTwa",value:function(){return'matchMedia'in window&&window.matchMedia('(display-mode:standalone)').matches}},{key:"isSupported",value:function(){return this.isChromiumBased()&&this._getChromiumBasedVersion()>=72||this.isFirefox()||this.isReactNative()||this.isSafari()&&!this.isVersionLessThan('12.1')}},{key:"isUserInteractionRequiredForUnmute",value:function(){return this.isFirefox()&&this.isVersionLessThan('68')}},{key:"supportsVideoMuteOnConnInterrupted",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isSafari()}},{key:"supportsBandwidthStatistics",value:function(){return!this.isFirefox()&&!this.isSafari()}},{key:"supportsCodecPreferences",value:function(){return this.usesUnifiedPlan()&&void 0!==window.RTCRtpTransceiver&&Object.keys(window.RTCRtpTransceiver.prototype).indexOf('setCodecPreferences')>-1&&Object.keys(RTCRtpSender.prototype).indexOf('getCapabilities')>-1&&!this.isSafari()}},{key:"supportsDeviceChangeEvent",value:function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.ondevicechange&&void 0!==navigator.mediaDevices.addEventListener}},{key:"supportsLocalCandidateRttStatistics",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isSafari()}},{key:"supportsPerformanceObserver",value:function(){return void 0!==window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.indexOf('longtask')>-1}},{key:"supportsReceiverStats",value:function(){return void 0!==window.RTCRtpReceiver&&Object.keys(RTCRtpReceiver.prototype).indexOf('getSynchronizationSources')>-1}},{key:"supportsRTTStatistics",value:function(){return!this.isFirefox()}},{key:"usesPlanB",value:function(){return!this.usesUnifiedPlan()}},{key:"usesSdpMungingForSimulcast",value:function(){return this.isChromiumBased()||this.isReactNative()||this.isSafari()}},{key:"usesUnifiedPlan",value:function(){return!!this.isFirefox()||!(!this.isSafari()||void 0===window.RTCRtpTransceiver)&&Object.keys(RTCRtpTransceiver.prototype).indexOf('currentDirection')>-1}},{key:"usesNewGumFlow",value:function(){return!!(this.isChromiumBased()||this.isFirefox()||this.isSafari())}},{key:"usesAdapter",value:function(){return this.usesNewGumFlow()}},{key:"usesRidsForSimulcast",value:function(){return!1}},{key:"supportsGetDisplayMedia",value:function(){return void 0!==navigator.getDisplayMedia||void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getDisplayMedia}},{key:"supportsInsertableStreams",value:function(){if(void 0===window.RTCRtpSender||!window.RTCRtpSender.prototype.createEncodedStreams&&!window.RTCRtpSender.prototype.createEncodedVideoStreams)return!1;var t=new ReadableStream;try{return window.postMessage(t,'*',[t]),!0}catch(t){return!1}}},{key:"supportsAudioRed",value:function(){return Boolean(window.RTCRtpSender&&window.RTCRtpSender.getCapabilities&&window.RTCRtpSender.getCapabilities('audio').codecs.some(function(t){return'audio/red'===t.mimeType})&&window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities&&window.RTCRtpReceiver.getCapabilities('audio').codecs.some(function(t){return'audio/red'===t.mimeType}))}},{key:"supportsSdpSemantics",value:function(){return this.isChromiumBased()}},{key:"_getChromiumBasedVersion",value:function(){if(this.isChromiumBased()){if(this.isNWJS())return Number.parseInt(process.versions.chromium,10);var t=navigator.userAgent;if(t.match(/Chrome/))return Number.parseInt(t.match(/Chrome\/([\d.]+)/)[1],10)}return-1}}]),R})(f.BrowserDetection);e.default=h},537,[1,29,30,40,42,39,538,432]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[1]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))});var u=r(d[2]);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))});var o=r(d[3]);Object.keys(o).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))})},538,[539,541,543,547]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getAvatarURL=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=t.avatarID,f=t.email,l=t.id,s=n.urlPrefix,c=void 0===s?'https://abotars.jitsi.net/meeple/':s,h=n.urlSuffix,w=void 0===h?'':h;return u(f)||o(v||l,c,w)},e.getGravatarURL=u;var n=t(r(d[1]));function o(t,o,u){return o+n.default.hex(t.trim().toLowerCase())+u}function u(t){var o;return"https://www.gravatar.com/avatar/"+((o=t)&&o.indexOf('@')>0?n.default.hex(t.trim().toLowerCase()):t)+'?d=404&size=200'}},539,[1,540]);
__d(function(g,r,i,a,m,e,d){!(function(){'use strict';var ERROR='input is invalid type',WINDOW='object'==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&'object'==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&'object'==typeof process&&process.versions&&process.versions.node;NODE_JS?root=g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&'object'==typeof m&&m.exports,AMD='function'==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&'undefined'!=typeof ArrayBuffer,HEX_CHARS='0123456789abcdef'.split(''),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=['hex','array','digest','buffer','arrayBuffer','base64'],BASE64_ENCODE_CHAR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split(''),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return'[object Array]'===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return'object'==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(s){return new Md5(!0).update(s)[t]()}},createMethod=function(){var t=createOutputMethod('hex');NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(s){return t.create().update(s)};for(var s=0;s<OUTPUT_TYPES.length;++s){var o=OUTPUT_TYPES[s];t[o]=createOutputMethod(o)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if('string'==typeof t)return crypto.createHash('md5').update(t,'utf8').digest('hex');if(null===t||void 0===t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash('md5').update(new Buffer(t)).digest('hex'):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var s=new ArrayBuffer(68);this.buffer8=new Uint8Array(s),this.blocks=new Uint32Array(s)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var s,o=typeof t;if('string'!==o){if('object'!==o)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;s=!0}for(var h,f,n=0,A=t.length,u=this.blocks,R=this.buffer8;n<A;){if(this.hashed&&(this.hashed=!1,u[0]=u[16],u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),s)if(ARRAY_BUFFER)for(f=this.start;n<A&&f<64;++n)R[f++]=t[n];else for(f=this.start;n<A&&f<64;++n)u[f>>2]|=t[n]<<SHIFT[3&f++];else if(ARRAY_BUFFER)for(f=this.start;n<A&&f<64;++n)(h=t.charCodeAt(n))<128?R[f++]=h:h<2048?(R[f++]=192|h>>6,R[f++]=128|63&h):h<55296||h>=57344?(R[f++]=224|h>>12,R[f++]=128|h>>6&63,R[f++]=128|63&h):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++n)),R[f++]=240|h>>18,R[f++]=128|h>>12&63,R[f++]=128|h>>6&63,R[f++]=128|63&h);else for(f=this.start;n<A&&f<64;++n)(h=t.charCodeAt(n))<128?u[f>>2]|=h<<SHIFT[3&f++]:h<2048?(u[f>>2]|=(192|h>>6)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]):h<55296||h>=57344?(u[f>>2]|=(224|h>>12)<<SHIFT[3&f++],u[f>>2]|=(128|h>>6&63)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]):(h=65536+((1023&h)<<10|1023&t.charCodeAt(++n)),u[f>>2]|=(240|h>>18)<<SHIFT[3&f++],u[f>>2]|=(128|h>>12&63)<<SHIFT[3&f++],u[f>>2]|=(128|h>>6&63)<<SHIFT[3&f++],u[f>>2]|=(128|63&h)<<SHIFT[3&f++]);this.lastByteIndex=f,this.bytes+=f-this.start,f>=64?(this.start=f-64,this.hash(),this.hashed=!0):this.start=f}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,s=this.lastByteIndex;t[s>>2]|=EXTRA[3&s],s>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,s,o,h,f,n,A=this.blocks;this.first?s=((s=((t=((t=A[0]-680876937)<<7|t>>>25)-271733879<<0)^(o=((o=(-271733879^(h=((h=(-1732584194^2004318071&t)+A[1]-117830708)<<12|h>>>20)+t<<0)&(-271733879^t))+A[2]-1126478375)<<17|o>>>15)+h<<0)&(h^t))+A[3]-1316259209)<<22|s>>>10)+o<<0:(t=this.h0,s=this.h1,o=this.h2,s=((s+=((t=((t+=((h=this.h3)^s&(o^h))+A[0]-680876936)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[1]-389564586)<<12|h>>>20)+t<<0)&(t^s))+A[2]+606105819)<<17|o>>>15)+h<<0)&(h^t))+A[3]-1044525330)<<22|s>>>10)+o<<0),s=((s+=((t=((t+=(h^s&(o^h))+A[4]-176418897)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[5]+1200080426)<<12|h>>>20)+t<<0)&(t^s))+A[6]-1473231341)<<17|o>>>15)+h<<0)&(h^t))+A[7]-45705983)<<22|s>>>10)+o<<0,s=((s+=((t=((t+=(h^s&(o^h))+A[8]+1770035416)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[9]-1958414417)<<12|h>>>20)+t<<0)&(t^s))+A[10]-42063)<<17|o>>>15)+h<<0)&(h^t))+A[11]-1990404162)<<22|s>>>10)+o<<0,s=((s+=((t=((t+=(h^s&(o^h))+A[12]+1804603682)<<7|t>>>25)+s<<0)^(o=((o+=(s^(h=((h+=(o^t&(s^o))+A[13]-40341101)<<12|h>>>20)+t<<0)&(t^s))+A[14]-1502002290)<<17|o>>>15)+h<<0)&(h^t))+A[15]+1236535329)<<22|s>>>10)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[1]-165796510)<<5|t>>>27)+s<<0)^s))+A[6]-1069501632)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[11]+643717713)<<14|o>>>18)+h<<0)^h))+A[0]-373897302)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[5]-701558691)<<5|t>>>27)+s<<0)^s))+A[10]+38016083)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[15]-660478335)<<14|o>>>18)+h<<0)^h))+A[4]-405537848)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[9]+568446438)<<5|t>>>27)+s<<0)^s))+A[14]-1019803690)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[3]-187363961)<<14|o>>>18)+h<<0)^h))+A[8]+1163531501)<<20|s>>>12)+o<<0,s=((s+=((h=((h+=(s^o&((t=((t+=(o^h&(s^o))+A[13]-1444681467)<<5|t>>>27)+s<<0)^s))+A[2]-51403784)<<9|h>>>23)+t<<0)^t&((o=((o+=(t^s&(h^t))+A[7]+1735328473)<<14|o>>>18)+h<<0)^h))+A[12]-1926607734)<<20|s>>>12)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[5]-378558)<<4|t>>>28)+s<<0))+A[8]-2022574463)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[11]+1839030562)<<16|o>>>16)+h<<0))+A[14]-35309556)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[1]-1530992060)<<4|t>>>28)+s<<0))+A[4]+1272893353)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[7]-155497632)<<16|o>>>16)+h<<0))+A[10]-1094730640)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[13]+681279174)<<4|t>>>28)+s<<0))+A[0]-358537222)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[3]-722521979)<<16|o>>>16)+h<<0))+A[6]+76029189)<<23|s>>>9)+o<<0,s=((s+=((n=(h=((h+=((f=s^o)^(t=((t+=(f^h)+A[9]-640364487)<<4|t>>>28)+s<<0))+A[12]-421815835)<<11|h>>>21)+t<<0)^t)^(o=((o+=(n^s)+A[15]+530742520)<<16|o>>>16)+h<<0))+A[2]-995338651)<<23|s>>>9)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[0]-198630844)<<6|t>>>26)+s<<0)|~o))+A[7]+1126891415)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[14]-1416354905)<<15|o>>>17)+h<<0)|~t))+A[5]-57434055)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[12]+1700485571)<<6|t>>>26)+s<<0)|~o))+A[3]-1894986606)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[10]-1051523)<<15|o>>>17)+h<<0)|~t))+A[1]-2054922799)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[8]+1873313359)<<6|t>>>26)+s<<0)|~o))+A[15]-30611744)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[6]-1560198380)<<15|o>>>17)+h<<0)|~t))+A[13]+1309151649)<<21|s>>>11)+o<<0,s=((s+=((h=((h+=(s^((t=((t+=(o^(s|~h))+A[4]-145523070)<<6|t>>>26)+s<<0)|~o))+A[11]-1120210379)<<10|h>>>22)+t<<0)^((o=((o+=(t^(h|~s))+A[2]+718787259)<<15|o>>>17)+h<<0)|~t))+A[9]-343485551)<<21|s>>>11)+o<<0,this.first?(this.h0=t+1732584193<<0,this.h1=s-271733879<<0,this.h2=o-1732584194<<0,this.h3=h+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+s<<0,this.h2=this.h2+o<<0,this.h3=this.h3+h<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,s=this.h1,o=this.h2,h=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,s=this.h1,o=this.h2,h=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,255&h,h>>8&255,h>>16&255,h>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),s=new Uint32Array(t);return s[0]=this.h0,s[1]=this.h1,s[2]=this.h2,s[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,s,o,h='',f=this.array(),n=0;n<15;)t=f[n++],s=f[n++],o=f[n++],h+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|s>>>4)]+BASE64_ENCODE_CHAR[63&(s<<2|o>>>6)]+BASE64_ENCODE_CHAR[63&o];return t=f[n],h+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+'=='};var exports=createMethod();COMMON_JS?m.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))})()},540,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BrowserCapabilities",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},541,[1,542]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=r(d[4]);function p(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function c(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?p(Object(s),!0).forEach(function(o){(0,n.default)(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var l=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=arguments.length>2?arguments[2]:void 0;(0,o.default)(this,t);var l,f=new u.BrowserDetection(p);if('object'==typeof n&&'string'==typeof f.getVersion())for(var b=n[f.getName()]||[],v=0;v<b.length;v++){var h=b[v];if('object'==typeof h){var O=h.version;if(!O||!f.isVersionGreaterThan(O)){l=h;break}}}l&&l.capabilities?this._capabilities=s?c(c({},l.capabilities),l.iframeCapabilities):l.capabilities:this._capabilities={isSupported:!1},void 0===this._capabilities.isSupported?this._capabilities.isSupported=!0:!1===this._capabilities.isSupported&&(this._capabilities={isSupported:!1})}return(0,s.default)(t,[{key:"isSupported",value:function(){return this._capabilities.isSupported}},{key:"supportsAudioIn",value:function(){return this._capabilities.audioIn||!1}},{key:"supportsAudioOut",value:function(){return this._capabilities.audioOut||!1}},{key:"supportsScreenSharing",value:function(){return this._capabilities.screenSharing||!1}},{key:"supportsVideoIn",value:function(){return this._capabilities.videoIn||!1}},{key:"supportsVideoOut",value:function(){return this._capabilities.videoOut||!1}}]),t})();e.default=l},542,[1,51,29,30,543]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BrowserDetection",{enumerable:!0,get:function(){return n.default}}),e.browsers=void 0;var n=o(r(d[2])),u=t(r(d[3]));e.browsers=u},543,[12,1,544,546]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),s=n(r(d[4])),v=r(d[5]),c={Chrome:v.CHROME,Chromium:v.CHROME,Opera:v.OPERA,Firefox:v.FIREFOX,'Internet Explorer':v.INTERNET_EXPLORER,Safari:v.SAFARI};function h(){var n=navigator.userAgent,t={name:v.UNKNOWN,version:void 0};if(n.match(/Chrome/)&&!n.match(/Edge/))if(n.match(/Edg(A?)/)){var o=n.match(/Chrome\/([\d.]+)/)[1];Number.parseInt(o,10)>72&&(t.name=v.CHROME,t.version=o)}else t.name=v.CHROME,t.version=n.match(/Chrome\/([\d.]+)/)[1];return t}function f(){var n=navigator.userAgent;if(n.match(/Electron/)){var t=n.match(/Electron\/([\d.]+)/)[1];return{name:v.ELECTRON,version:t}}}function l(){var n=navigator.userAgent;if(n.match(/JitsiMeetNW/)){var t=n.match(/JitsiMeetNW\/([\d.]+)/)[1];return{name:v.NWJS,version:t}}}function E(){var n,t,o=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);if(o||'ReactNative'===navigator.product)return o&&o.length>2&&(t=o[1],n=o[2]),t||(t='react-native'),n||(n='unknown'),{name:v.REACT_NATIVE,version:n}}function _(n){for(var t,o=[E,f,l],u=0;u<o.length;u++)if(t=o[u]())return t;var s=n.getBrowserName();return s in c?{name:c[s],version:n.getBrowserVersion()}:(t=h())||{name:v.UNKNOWN,version:void 0}}var N=(function(){function n(t){var u,h;if((0,o.default)(this,n),this._bowser=s.default.getParser(navigator.userAgent),void 0===t){var f=_(this._bowser);u=f.name,h=f.version}else t.name in c?(u=c[t.name],h=t.version):(u=v.UNKNOWN,h=void 0);this._name=u,this._version=h}return(0,u.default)(n,[{key:"getName",value:function(){return this._name}},{key:"isChrome",value:function(){return this._name===v.CHROME}},{key:"isOpera",value:function(){return this._name===v.OPERA}},{key:"isFirefox",value:function(){return this._name===v.FIREFOX}},{key:"isIExplorer",value:function(){return this._name===v.INTERNET_EXPLORER}},{key:"isSafari",value:function(){return this._name===v.SAFARI}},{key:"isNWJS",value:function(){return this._name===v.NWJS}},{key:"isElectron",value:function(){return this._name===v.ELECTRON}},{key:"isReactNative",value:function(){return this._name===v.REACT_NATIVE}},{key:"getVersion",value:function(){return this._version}},{key:"_checkCondition",value:function(n){if(this._version)return this._bowser.satisfies(n)}},{key:"isVersionGreaterThan",value:function(n){return this._checkCondition((0,t.default)({},this._name,">"+n))}},{key:"isVersionLessThan",value:function(n){return this._checkCondition((0,t.default)({},this._name,"<"+n))}},{key:"isVersionEqualTo",value:function(n){return this._checkCondition((0,t.default)({},this._name,"~"+n))}}]),n})();e.default=N},544,[1,51,29,30,545,546]);
__d(function(g,r,i,a,m,e,d){var t,n,s=r(d[0]);t=this,n=function(){return(function(t){var n={};function s(o){if(n[o])return n[o].exports;var u=n[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=t,s.c=n,s.d=function(t,n,o){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)s.d(o,u,function(n){return t[n]}.bind(null,u));return o},s.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="",s(s.s=90)})({17:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o=s(18),u=(function(){function t(){}return t.getFirstMatch=function(t,n){var s=n.match(t);return s&&s.length>0&&s[1]||""},t.getSecondMatch=function(t,n){var s=n.match(t);return s&&s.length>1&&s[2]||""},t.matchAndReturnConst=function(t,n,s){if(t.test(n))return s},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),10===n[0])switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var n=t.split(".").splice(0,2).map(function(t){return parseInt(t,10)||0});if(n.push(0),!(1===n[0]&&n[1]<5))return 1===n[0]&&n[1]<6?"Cupcake":1===n[0]&&n[1]>=6?"Donut":2===n[0]&&n[1]<2?"Eclair":2===n[0]&&2===n[1]?"Froyo":2===n[0]&&n[1]>2?"Gingerbread":3===n[0]?"Honeycomb":4===n[0]&&n[1]<1?"Ice Cream Sandwich":4===n[0]&&n[1]<4?"Jelly Bean":4===n[0]&&n[1]>=4?"KitKat":5===n[0]?"Lollipop":6===n[0]?"Marshmallow":7===n[0]?"Nougat":8===n[0]?"Oreo":9===n[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(n,s,o){void 0===o&&(o=!1);var u=t.getVersionPrecision(n),c=t.getVersionPrecision(s),f=Math.max(u,c),l=0,h=t.map([n,s],function(n){var s=f-t.getVersionPrecision(n),o=n+new Array(s+1).join(".0");return t.map(o.split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});for(o&&(l=f-Math.min(u,c)),f-=1;f>=l;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===l)return 0;f-=1}else if(h[0][f]<h[1][f])return-1}},t.map=function(t,n){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)o.push(n(t[s]));return o},t.getBrowserAlias=function(t){return o.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return o.BROWSER_MAP[t]||""},t})();n.default=u,t.exports=n.default},18:function(t,n,s){"use strict";n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(91))&&o.__esModule?o:{default:o},c=s(18);function f(t,n){for(var s=0;s<n.length;s++){var o=n[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=(function(){function t(){}var n,s;return t.getParser=function(t,n){if(void 0===n&&(n=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new u.default(t,n)},t.parse=function(t){return new u.default(t).getResult()},n=t,s=[{key:"BROWSER_MAP",get:function(){return c.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return c.ENGINE_MAP}},{key:"OS_MAP",get:function(){return c.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return c.PLATFORMS_MAP}}],null&&f(n.prototype,null),s&&f(n,s),t})();n.default=l,t.exports=n.default},91:function(t,n,o){"use strict";n.__esModule=!0,n.default=void 0;var u=p(o(92)),c=p(o(93)),f=p(o(94)),l=p(o(95)),h=p(o(17));function p(t){return t&&t.__esModule?t:{default:t}}var v=(function(){function t(t,n){if(void 0===n&&(n=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==n&&this.parse()}var n=t.prototype;return n.getUA=function(){return this._ua},n.test=function(t){return t.test(this._ua)},n.parseBrowser=function(){var t=this;this.parsedResult.browser={};var n=u.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser},n.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},n.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},n.getBrowserVersion=function(){return this.getBrowser().version},n.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},n.parseOS=function(){var t=this;this.parsedResult.os={};var n=c.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os},n.getOSName=function(t){var n=this.getOS().name;return t?String(n).toLowerCase()||"":n||""},n.getOSVersion=function(){return this.getOS().version},n.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},n.getPlatformType=function(t){void 0===t&&(t=!1);var n=this.getPlatform().type;return t?String(n).toLowerCase()||"":n||""},n.parsePlatform=function(){var t=this;this.parsedResult.platform={};var n=f.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform},n.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},n.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},n.parseEngine=function(){var t=this;this.parsedResult.engine={};var n=l.default.find(function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine},n.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},n.getResult=function(){return s({},this.parsedResult)},n.satisfies=function(t){var n=this,s={},o=0,u={},c=0;if(Object.keys(t).forEach(function(n){var f=t[n];"string"==typeof f?(u[n]=f,c+=1):"object"==typeof f&&(s[n]=f,o+=1)}),o>0){var f=Object.keys(s),l=f.find(function(t){return n.isOS(t)});if(l){var h=this.satisfies(s[l]);if(void 0!==h)return h}var p=f.find(function(t){return n.isPlatform(t)});if(p){var v=this.satisfies(s[p]);if(void 0!==v)return v}}if(c>0){var M=Object.keys(u).find(function(t){return n.isBrowser(t,!0)});if(void 0!==M)return this.compareVersion(u[M])}},n.isBrowser=function(t,n){void 0===n&&(n=!1);var s=this.getBrowserName().toLowerCase(),o=t.toLowerCase(),u=h.default.getBrowserTypeByAlias(o);return n&&u&&(o=u.toLowerCase()),o===s},n.compareVersion=function(t){var n=[0],s=t,o=!1,u=this.getBrowserVersion();if("string"==typeof u)return">"===t[0]||"<"===t[0]?(s=t.substr(1),"="===t[1]?(o=!0,s=t.substr(2)):n=[],">"===t[0]?n.push(1):n.push(-1)):"="===t[0]?s=t.substr(1):"~"===t[0]&&(o=!0,s=t.substr(1)),n.indexOf(h.default.compareVersions(u,s,o))>-1},n.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},n.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},n.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},n.is=function(t){return this.isBrowser(t)||this.isOS(t)||this.isPlatform(t)},n.some=function(t){var n=this;return void 0===t&&(t=[]),t.some(function(t){return n.is(t)})},t})();n.default=v,t.exports=n.default},92:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=/version\/(\d+(\.?_?\d+)+)/i,f=[{test:[/googlebot/i],describe:function(t){var n={name:"Googlebot"},s=u.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/opera/i],describe:function(t){var n={name:"Opera"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/opr\/|opios/i],describe:function(t){var n={name:"Opera"},s=u.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/SamsungBrowser/i],describe:function(t){var n={name:"Samsung Internet for Android"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/Whale/i],describe:function(t){var n={name:"NAVER Whale Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/MZBrowser/i],describe:function(t){var n={name:"MZ Browser"},s=u.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/focus/i],describe:function(t){var n={name:"Focus"},s=u.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/swing/i],describe:function(t){var n={name:"Swing"},s=u.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/coast/i],describe:function(t){var n={name:"Opera Coast"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/yabrowser/i],describe:function(t){var n={name:"Yandex Browser"},s=u.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/ucbrowser/i],describe:function(t){var n={name:"UC Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/Maxthon|mxios/i],describe:function(t){var n={name:"Maxthon"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/epiphany/i],describe:function(t){var n={name:"Epiphany"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/puffin/i],describe:function(t){var n={name:"Puffin"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/sleipnir/i],describe:function(t){var n={name:"Sleipnir"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/k-meleon/i],describe:function(t){var n={name:"K-Meleon"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/micromessenger/i],describe:function(t){var n={name:"WeChat"},s=u.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/qqbrowser/i],describe:function(t){var n={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},s=u.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/msie|trident/i],describe:function(t){var n={name:"Internet Explorer"},s=u.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/\sedg\//i],describe:function(t){var n={name:"Microsoft Edge"},s=u.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/edg([ea]|ios)/i],describe:function(t){var n={name:"Microsoft Edge"},s=u.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/vivaldi/i],describe:function(t){var n={name:"Vivaldi"},s=u.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/seamonkey/i],describe:function(t){var n={name:"SeaMonkey"},s=u.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/sailfish/i],describe:function(t){var n={name:"Sailfish"},s=u.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return s&&(n.version=s),n}},{test:[/silk/i],describe:function(t){var n={name:"Amazon Silk"},s=u.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/phantom/i],describe:function(t){var n={name:"PhantomJS"},s=u.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/slimerjs/i],describe:function(t){var n={name:"SlimerJS"},s=u.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n={name:"BlackBerry"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n={name:"WebOS Browser"},s=u.default.getFirstMatch(c,t)||u.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/bada/i],describe:function(t){var n={name:"Bada"},s=u.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/tizen/i],describe:function(t){var n={name:"Tizen"},s=u.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/qupzilla/i],describe:function(t){var n={name:"QupZilla"},s=u.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var n={name:"Firefox"},s=u.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/chromium/i],describe:function(t){var n={name:"Chromium"},s=u.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/chrome|crios|crmo/i],describe:function(t){var n={name:"Chrome"},s=u.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/GSA/i],describe:function(t){var n={name:"Google Search"},s=u.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){var n=!t.test(/like android/i),s=t.test(/android/i);return n&&s},describe:function(t){var n={name:"Android Browser"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/playstation 4/i],describe:function(t){var n={name:"PlayStation 4"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/safari|applewebkit/i],describe:function(t){var n={name:"Safari"},s=u.default.getFirstMatch(c,t);return s&&(n.version=s),n}},{test:[/.*/i],describe:function(t){var n=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:u.default.getFirstMatch(n,t),version:u.default.getSecondMatch(n,t)}}}];n.default=f,t.exports=n.default},93:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:[/Roku\/DVP/],describe:function(t){var n=u.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:c.OS_MAP.Roku,version:n}}},{test:[/windows phone/i],describe:function(t){var n=u.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.WindowsPhone,version:n}}},{test:[/windows/i],describe:function(t){var n=u.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),s=u.default.getWindowsVersionName(n);return{name:c.OS_MAP.Windows,version:n,versionName:s}}},{test:[/macintosh/i],describe:function(t){var n=u.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),s=u.default.getMacOSVersionName(n),o={name:c.OS_MAP.MacOS,version:n};return s&&(o.versionName=s),o}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var n=u.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:c.OS_MAP.iOS,version:n}}},{test:function(t){var n=!t.test(/like android/i),s=t.test(/android/i);return n&&s},describe:function(t){var n=u.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),s=u.default.getAndroidVersionName(n),o={name:c.OS_MAP.Android,version:n};return s&&(o.versionName=s),o}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n=u.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),s={name:c.OS_MAP.WebOS};return n&&n.length&&(s.version=n),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n=u.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||u.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||u.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:c.OS_MAP.BlackBerry,version:n}}},{test:[/bada/i],describe:function(t){var n=u.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.Bada,version:n}}},{test:[/tizen/i],describe:function(t){var n=u.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.Tizen,version:n}}},{test:[/linux/i],describe:function(){return{name:c.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:c.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var n=u.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:c.OS_MAP.PlayStation4,version:n}}}];n.default=f,t.exports=n.default},94:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var n=u.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",s={type:c.PLATFORMS_MAP.mobile,vendor:"Huawei"};return n&&(s.model=n),s}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(t){var n=t.test(/ipod|iphone/i),s=t.test(/like (ipod|iphone)/i);return n&&!s},describe:function(t){var n=u.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:c.PLATFORMS_MAP.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var n=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&n>=3},describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:c.PLATFORMS_MAP.tv}}}];n.default=f,t.exports=n.default},95:function(t,n,s){"use strict";n.__esModule=!0,n.default=void 0;var o,u=(o=s(17))&&o.__esModule?o:{default:o},c=s(18),f=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:c.ENGINE_MAP.Blink};var n=u.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:c.ENGINE_MAP.EdgeHTML,version:n}}},{test:[/trident/i],describe:function(t){var n={name:c.ENGINE_MAP.Trident},s=u.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){return t.test(/presto/i)},describe:function(t){var n={name:c.ENGINE_MAP.Presto},s=u.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:function(t){var n=t.test(/gecko/i),s=t.test(/like gecko/i);return n&&!s},describe:function(t){var n={name:c.ENGINE_MAP.Gecko},s=u.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:c.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var n={name:c.ENGINE_MAP.WebKit},s=u.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return s&&(n.version=s),n}}];n.default=f,t.exports=n.default}})},"object"==typeof e&&"object"==typeof m?m.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.bowser=n():t.bowser=n()},545,[16]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.UNKNOWN=e.REACT_NATIVE=e.ELECTRON=e.NWJS=e.SAFARI=e.INTERNET_EXPLORER=e.FIREFOX=e.OPERA=e.CHROME=void 0;e.CHROME='chrome';e.OPERA='opera';e.FIREFOX='firefox';e.INTERNET_EXPLORER='iexplorer';e.SAFARI='safari';e.NWJS='nwjs';e.ELECTRON='electron';e.REACT_NATIVE='react-native';e.UNKNOWN='unknown'},546,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.jitsiLocalStorage=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6]));function f(t){var n=h();return function(){var o,s=(0,l.default)(t);if(n){var c=(0,l.default)(this).constructor;o=Reflect.construct(s,arguments,c)}else o=s.apply(this,arguments);return(0,u.default)(this,o)}}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var v=(function(t){(0,s.default)(l,t);var u=f(l);function l(){var t;(0,n.default)(this,l);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=u.call.apply(u,[this].concat(s)))._storage={},t}return(0,o.default)(l,[{key:"clear",value:function(){this._storage={}}},{key:"getItem",value:function(t){return this._storage[t]}},{key:"setItem",value:function(t,n){this._storage[t]=n}},{key:"removeItem",value:function(t){delete this._storage[t]}},{key:"key",value:function(t){var n=Object.keys(this._storage);if(!(n.length<=t))return n[t]}},{key:"serialize",value:function(){return JSON.stringify(this._storage)}},{key:"length",get:function(){return Object.keys(this._storage).length}}]),l})(c.default),y=new((function(t){(0,s.default)(l,t);var u=f(l);function l(){var t;(0,n.default)(this,l),t=u.call(this);try{t._storage=window.localStorage,t._localStorageDisabled=!1}catch(t){}return t._storage||(console.warn('Local storage is disabled.'),t._storage=new v,t._localStorageDisabled=!0),t}return(0,o.default)(l,[{key:"isLocalStorageDisabled",value:function(){return this._localStorageDisabled}},{key:"clear",value:function(){this._storage.clear(),this.emit('changed')}},{key:"getItem",value:function(t){return this._storage.getItem(t)}},{key:"setItem",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._storage.setItem(t,n),o||this.emit('changed')}},{key:"removeItem",value:function(t){this._storage.removeItem(t),this.emit('changed')}},{key:"key",value:function(t){return this._storage.key(t)}},{key:"serialize",value:function(){if(this.isLocalStorageDisabled)return this._storage.serialize();for(var t=this._storage.length,n={},o=0;o<t;o++){var s=this._storage.key(o);n[s]=this._storage.getItem(s)}return JSON.stringify(n)}},{key:"length",get:function(){return this._storage.length}}]),l})(c.default));e.jitsiLocalStorage=y},547,[1,29,30,40,42,39,527]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t={loadScript:function(t,o,s,c,p,f){var l=document,u=l.createElement("script"),v=l.getElementsByTagName("script")[0];if(u.async=o,c){var N=n();if(N){var x=N.src,y=x.substring(0,x.lastIndexOf('/')+1);x&&y&&(t=y+t)}}p&&(u.onload=p),f&&(u.onerror=f),u.src=t,s?v.parentNode.insertBefore(u,v):v.parentNode.appendChild(u)}};m.exports=t},548,[549]);
__d(function(g,r,i,a,m,e,d){var t,n;t=this||window,n=function(){var t=/^(interactive|loaded|complete)$/,n=window.location?window.location.href:null,c=n&&n.replace(/#.*$/,"").replace(/\?.*$/,"")||null,o=document.getElementsByTagName("script"),l="readyState"in(o[0]||document.createElement("script")),u=!window.opera||"[object Opera]"!==window.opera.toString(),f="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error.stackTraceLimit,Error.stackTraceLimit=1/0);var s=!1,p=!1;function h(t,n){var c,l=null;if(n=n||o,"string"==typeof t&&t)for(c=n.length;c--;)if(n[c].src===t){l=n[c];break}return l}function k(t){var n,c,l=null;for(n=0,c=(t=t||o).length;n<c;n++)if(!t[n].hasAttribute("src")){if(l){l=null;break}l=t[n]}return l}function b(t,n){var c,o=null,l="number"==typeof n;return n=l?Math.round(n):0,"string"==typeof t&&t&&(l?c=t.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(c=t.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&c[1]||(c=t.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),c&&c[1]&&(o=n>0?b(t.slice(t.indexOf(c[0])+c[0].length),n-1):c[1])),o}function v(){if(0===o.length)return null;var n,w,y,E,S,x=[],j=v.skipStackDepth||1;for(n=0;n<o.length;n++)u&&l?t.test(o[n].readyState)&&x.push(o[n]):x.push(o[n]);if(w=new Error,s&&(y=w.stack),!y&&p)try{throw w}catch(t){y=t.stack}if(y&&!(S=h(E=b(y,j),x))&&c&&E===c&&(S=k(x)),S||1===x.length&&(S=x[0]),S||f&&(S=document.currentScript),!S&&u&&l)for(n=x.length;n--;)if("interactive"===x[n].readyState){S=x[n];break}return S||(S=x[x.length-1]||null),S}!(function(){try{var t=new Error;throw s="string"==typeof t.stack&&!!t.stack,t}catch(t){p="string"==typeof t.stack&&!!t.stack}})(),v.skipStackDepth=1;var w=v;return w.near=v,w.far=function(){return null},w.origin=function(){return null},w},"function"==typeof define&&define.amd?define([],n):"object"==typeof e?m.exports=n():t.currentExecutingScript=n()},549,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),c=t(r(d[3])),o=r(d[4]),u=r(d[5]),f=t(r(d[6]));function p(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,c)}return s}function h(t){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?p(Object(c),!0).forEach(function(s){(0,n.default)(t,s,c[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}var l=(0,o.getLogger)(__filename),y=new((function(){function t(){(0,s.default)(this,t),this.reset()}return(0,c.default)(t,[{key:"reset",value:function(){this.disposed=!1,this.analyticsHandlers=new Set,this.cache=[],this.permanentProperties={},this.conferenceName='',this.addPermanentProperties({user_agent:navigator.userAgent,browser_name:f.default.getName()})}},{key:"dispose",value:function(){l.warn('Disposing of analytics adapter.'),this.analyticsHandlers&&this.analyticsHandlers.size>0&&this.analyticsHandlers.forEach(function(t){'function'==typeof t.dispose&&t.dispose()}),this.setAnalyticsHandlers([]),this.disposed=!0}},{key:"setAnalyticsHandlers",value:function(t){var n=this;if(!this.disposed){this.analyticsHandlers=new Set(t),this._setUserProperties();var s=this.cache;this.cache=null,s&&s.forEach(function(t){return n._sendEvent(t)})}}},{key:"_setUserProperties",value:function(){var t=this;this.analyticsHandlers.forEach(function(n){try{n.setUserProperties(t.permanentProperties)}catch(t){l.warn("Error in setUserProperties method of one of the analytics handlers: "+t)}})}},{key:"addPermanentProperties",value:function(t){this.permanentProperties=h(h({},this.permanentProperties),t),this._setUserProperties()}},{key:"setConferenceName",value:function(t){this.conferenceName=t,this.addPermanentProperties({conference_name:t})}},{key:"sendEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disposed){var s=null;'string'==typeof t?s={type:u.TYPE_OPERATIONAL,action:t,actionSubject:t,source:t,attributes:n}:'object'==typeof t&&(s=t),this._verifyRequiredFields(s)?this._sendEvent(s):l.error("Dropping a mis-formatted event: "+JSON.stringify(s))}}},{key:"_verifyRequiredFields",value:function(t){if(!t)return!1;t.type||(t.type=u.TYPE_OPERATIONAL);var n=t.type;return n!==u.TYPE_OPERATIONAL&&n!==u.TYPE_PAGE&&n!==u.TYPE_UI&&n!==u.TYPE_TRACK?(l.error("Unknown event type: "+n),!1):n===u.TYPE_PAGE?Boolean(t.name):(t.action=t.action||t.name||t.actionSubject,t.actionSubject=t.actionSubject||t.name||t.action,t.source=t.source||t.name||t.action||t.actionSubject,t.action&&t.actionSubject&&t.source?!!(n!==u.TYPE_TRACK||(t.objectType=t.objectType||'generic-object-type',t.containerType=t.containerType||'conference','conference'!==t.containerType||t.containerId||(t.containerId=this.conferenceName),t.objectType&&t.objectId&&t.containerType&&t.containerId))||(l.error("Required field missing (containerId, containerType, objectId or objectType)"),!1):(l.error('Required field missing (action, actionSubject or source)'),!1))}},{key:"_maybeCacheEvent",value:function(t){return!!this.cache&&(this.cache.push(t),this.cache.length>100&&this.cache.splice(0,1),!0)}},{key:"_sendEvent",value:function(t){this._maybeCacheEvent(t)||this.analyticsHandlers.forEach(function(n){try{n.sendEvent(t)}catch(t){l.warn("Error sending analytics event: "+t)}})}}]),t})());e.default=y},550,[1,51,29,30,432,534,536]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=t(r(d[3])),s=t(r(d[4]));function l(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=u(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function u(t,n){if(t){if("string"==typeof t)return p(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}var f,v=r(d[5]).getLogger(__filename),b='createOffer',h='createAnswer',k='setLocalDescription',y='setRemoteDescription',I='addIceCandidate',E='getUserMedia',D='iceConnectionFailure',S='applicationLog',_='fabricHold',F='fabricResume',w='audioMute',C='audioUnmute',N='videoPause',U='videoResume',A='screenShareStart',z='screenShareStop',M='dominantSpeaker',L='activeDeviceList',R='jitsi',Q='error',W='event',H='mstWithUserID',O=(function(){function t(o,c){(0,n.default)(this,t),this.confID=c.confID,this.tpc=o,this.peerconnection=o.peerconnection,this.remoteUserID=c.remoteUserID||R,this.hasFabric=!1,t.fabrics.add(this),t.backendInitialized&&(this._addNewFabric(),1===t.fabrics.size&&t._emptyReportQueue(this))}return(0,o.default)(t,null,[{key:"_addNewFabricCallback",value:function(n,o){t.backend&&'success'!==n&&v.error("Monitoring status: "+n+" msg: "+o)}},{key:"_initCallback",value:function(n,o){if(v.log("CallStats Status: err="+n+" msg="+o),'success'===n){t.backendInitialized=!0;for(var c,s=!1,u=null,p=l(t.fabrics.values());!(c=p()).done;){var f=c.value;f.hasFabric||(v.debug('addNewFabric - initCallback'),f._addNewFabric()&&(s=!0,u||(u=f)))}s&&t._emptyReportQueue(u)}}},{key:"_emptyReportQueue",value:function(n){for(var o,c=n.confID,s=n.peerconnection,u=l(t.reportsQueue);!(o=u()).done;){var p=o.value;if(p.type===Q){var f=p.data;t._reportError(n,f.type,f.error,f.pc||s)}else if(p.type===W){var v=p.data;t.backend.sendFabricEvent(p.pc||s,v.event,c,v.eventData)}else if(p.type===H){var b=p.data;t.backend.associateMstWithUserID(p.pc||s,b.callStatsId,c,b.ssrc,b.usageLabel,b.containerId)}}t.reportsQueue.length=0}},{key:"_reportError",value:function(n,o,c,s){var l=c;l||(v.warn('No error is passed!'),l=new Error('Unknown error')),t.backendInitialized&&n?t.backend.reportError(s,n.confID,o,l):t.reportsQueue.push({type:Q,data:{error:l,pc:s,type:o}})}},{key:"_reportEvent",value:function(n,o,c){var s=n&&n.peerconnection,l=n&&n.confID;t.backendInitialized&&n?t.backend.sendFabricEvent(s,o,l,c):t.reportsQueue.push({confID:l,pc:s,type:W,data:{event:o,eventData:c}})}},{key:"_traceAndCatchBackendCalls",value:function(t){for(var n=function(n){var o=t[n];t[n]=function(){try{for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return o.apply(t,c)}catch(t){s.default.callErrorHandler(t)}}},o=0,l=['associateMstWithUserID','sendFabricEvent','sendUserFeedback'];o<l.length;o++){n(l[o])}for(var u=function(n){var o=t[n];t[n]=function(){for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];v.debug(n,s),o.apply(t,s)}},p=0,f=['associateMstWithUserID','sendFabricEvent','sendUserFeedback'];p<f.length;p++){u(f[p])}var b=t.reportError;t.reportError=function(n,o,l){for(var u=arguments.length,p=new Array(u>3?u-3:0),f=3;f<u;f++)p[f-3]=arguments[f];l===S?c.default.isReactNative()||console&&console.debug('reportError',n,o,l):v.debug.apply(v,['reportError',n,o,l].concat(p));try{b.call.apply(b,[t,n,o,l].concat(p))}catch(t){l===S?console&&console.error('reportError',t):s.default.callErrorHandler(t)}}}},{key:"initBackend",value:function(n){if(t.backend)throw new Error('CallStats backend has been initialized already!');try{var o,l=callstats;if(t.backend=new l,t._traceAndCatchBackendCalls(t.backend),t.userID={aliasName:n.aliasName,userName:n.userName},t.callStatsID=n.callStatsID,t.callStatsSecret=n.callStatsSecret,n.applicationName&&(o={applicationVersion:n.applicationName+" ("+c.default.getName()+")"}),n.confID){var u=n.confID.match(/.*\/(.*)\/.*/);o.siteID=n.siteID||u&&u[1]||'/'}t.backend.initialize(t.callStatsID,t.callStatsSecret,t.userID,t._initCallback,void 0,o);var p=n.getWiFiStatsMethod;return p&&(t.backend.attachWifiStatsHandler(p),p().then(function(t){t&&v.info('Reported wifi addresses:',JSON.parse(t).addresses)}).catch(function(){})),!0}catch(n){return s.default.callErrorHandler(n),t.backend=null,v.error(n),!1}}},{key:"isBackendInitialized",value:function(){return Boolean(t.backend)}},{key:"sendActiveDeviceListEvent",value:function(n,o){t._reportEvent(o,L,n)}},{key:"sendApplicationLog",value:function(n,o){try{t._reportError(o,S,n,o&&o.peerconnection)}catch(t){console&&'function'==typeof console.error&&console.error('sendApplicationLog failed',t)}}},{key:"sendFeedback",value:function(n,o,c){return new Promise(function(s,l){if(t.backend)t.backend.sendUserFeedback(n,{userID:t.userID,overall:o,comment:c},function(t,n){'success'===t?s(n):l(n)});else{var u='Failed to submit feedback to CallStats - no backend';v.error(u),l(u)}})}},{key:"sendGetUserMediaFailed",value:function(n,o){t._reportError(o,E,n,null)}},{key:"sendMuteEvent",value:function(n,o,c){var s;s='video'===o?n?N:U:n?w:C,t._reportEvent(c,s)}},{key:"fabrics",get:function(){return f||(f=new Set),f}}]),(0,o.default)(t,[{key:"_addNewFabric",value:function(){v.info('addNewFabric',this.remoteUserID);try{var n={remoteEndpointType:this.tpc.isP2P?t.backend.endpointType.peer:t.backend.endpointType.server},o=t.backend.addNewFabric(this.peerconnection,this.remoteUserID,t.backend.fabricUsage.multiplex,this.confID,n,t._addNewFabricCallback);this.hasFabric=!0;var c='success'===o.status;return c||v.error('callstats fabric not initilized',o.message),c}catch(t){return s.default.callErrorHandler(t),!1}}},{key:"associateStreamWithVideoTag",value:function(n,o,c,s,l){if(t.backend){var u=o?t.userID:c;t.backendInitialized?t.backend.associateMstWithUserID(this.peerconnection,u,this.confID,n,s,l):t.reportsQueue.push({type:H,pc:this.peerconnection,data:{callStatsId:u,containerId:l,ssrc:n,usageLabel:s}})}}},{key:"sendDominantSpeakerEvent",value:function(){t._reportEvent(this,M)}},{key:"sendTerminateEvent",value:function(){t.backendInitialized&&t.backend.sendFabricEvent(this.peerconnection,t.backend.fabricEvent.fabricTerminated,this.confID),t.fabrics.delete(this)}},{key:"sendIceConnectionFailedEvent",value:function(){t._reportError(this,D,null,this.peerconnection)}},{key:"sendCreateOfferFailed",value:function(n){t._reportError(this,b,n,this.peerconnection)}},{key:"sendCreateAnswerFailed",value:function(n){t._reportError(this,h,n,this.peerconnection)}},{key:"sendResumeOrHoldEvent",value:function(n){t._reportEvent(this,n?F:_)}},{key:"sendScreenSharingEvent",value:function(n,o){var c;o&&(c={ssrc:o}),t._reportEvent(this,n?A:z,c)}},{key:"sendSetLocalDescFailed",value:function(n){t._reportError(this,k,n,this.peerconnection)}},{key:"sendSetRemoteDescFailed",value:function(n){t._reportError(this,y,n,this.peerconnection)}},{key:"sendAddIceCandidateFailed",value:function(n){t._reportError(this,I,n,this.peerconnection)}}]),t})();e.default=O,O.backend=null,O.reportsQueue=[],O.backendInitialized=!1,O.callStatsID=null,O.callStatsSecret=null,O.userID=null},551,[1,29,30,536,552,432]);
__d(function(g,r,i,a,m,e,d){var n=[],o=window.onerror;var l=window.onunhandledrejection;window.onerror=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];n.forEach(function(n){return n.apply(void 0,u)}),o&&o.apply(void 0,u)},window.onunhandledrejection=function(o){n.forEach(function(n){return n(null,null,null,null,o.reason)}),l&&l(o)};var u={addHandler:function(o){n.push(o)},callErrorHandler:function(n){var o=window.onerror;o&&o(null,null,null,null,n)},callUnhandledRejectionHandler:function(n){var o=window.onunhandledrejection;o&&o(n)}};m.exports=u},552,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=null;function n(t){for(var n=0,o=t.length,l=0;l<o;l++)n<t[l]&&(n=t[l]);return parseFloat(((n-127)/128).toFixed(3))}function o(t,n,o){this.stream=t,this.intervalId=null,this.intervalMilis=n,this.audioLevel=0,this.callback=o}window.AudioContext&&(t=new AudioContext).suspend&&t.suspend(),o.prototype.start=function(){var l=this;if(o.isLocalStatsSupported()){t.resume();var s=t.createAnalyser();s.smoothingTimeConstant=.8,s.fftSize=2048,t.createMediaStreamSource(this.stream).connect(s),this.intervalId=setInterval(function(){var t=new Uint8Array(s.frequencyBinCount);s.getByteTimeDomainData(t);var o,u,c,v,f=n(t);l.audioLevel=(o=f,u=l.audioLevel,c=0,c=(v=u-o)>.2?u-.2:v<-.4?u+.4:o,parseFloat(c.toFixed(3))),l.callback(l.audioLevel)},this.intervalMilis)}},o.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},o.isLocalStatsSupported=function(){return Boolean(t)}},553,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceObserverStats=void 0;var o=n(r(d[2])),s=n(r(d[3])),l=r(d[4]),v=t(r(d[5])),u=r(d[6]);function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=c(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function c(t,n){if(t){if("string"==typeof t)return h(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var b=(0,l.getLogger)(__filename),T=(function(){function t(n,s){(0,o.default)(this,t),this.eventEmitter=n,this.longTasks=0,this.maxDuration=0,this.performanceStatsInterval=s,this.stats=new u.RunningAverage}return(0,s.default)(t,[{key:"getLongTasksStats",value:function(){return{avgRatePerMinute:(60*this.stats.getAverage()).toFixed(2),maxDurationMs:this.maxDuration}}},{key:"startObserver",value:function(){var t=this;this.longTaskEventHandler=function(n){for(var o,s=f(n.getEntries());!(o=s()).done;){var l=o.value;t.longTasks++,t.maxDuration=Math.max(t.maxDuration,l.duration).toFixed(3)}},b.info('Creating a Performance Observer for monitoring Long Tasks'),this.observer=new PerformanceObserver(this.longTaskEventHandler),this.observer.observe({type:'longtask',buffered:!0});var n=Date.now();this.longTasksIntervalId=setInterval(function(){var o=Date.now(),s=t._lastTimeStamp?(o-t._lastTimeStamp)/1e3:(o-n)/1e3,l=t.longTasks/s;t.stats.addNext(l),t.eventEmitter.emit(v.LONG_TASKS_STATS,t.getLongTasksStats()),t.longTasks=0,t._lastTimeStamp=Date.now()},this.performanceStatsInterval)}},{key:"stopObserver",value:function(){this.observer&&this.observer.disconnect(),this.longTaskEventHandler=null,this.longTasksIntervalId&&(clearInterval(this.longTasksIntervalId),this.longTasksIntervalId=null)}}]),t})();e.PerformanceObserverStats=T},554,[12,1,29,30,432,535,555]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.safeCounterIncrement=function(n){var t=n;n>=Number.MAX_SAFE_INTEGER&&(t=0);return t+1},e.calculateAverage=function(n){return n.length>0?n.reduce(function(n,t){return n+t})/n.length:0},e.hashString=function(n){for(var t=0,u=0;u<n.length;u++)t+=Math.pow(31*n.charCodeAt(u),n.length-u),t&=t;return Math.abs(t)},e.filterPositiveValues=function(n){return n.filter(function(n){return n>=0})},e.RunningAverage=void 0;var t=n(r(d[1])),u=n(r(d[2]));var o=(function(){function n(){(0,t.default)(this,n),this.average=0,this.n=0}return(0,u.default)(n,[{key:"addNext",value:function(n){'number'==typeof n&&(this.n+=1,this.average=this.average+(n-this.average)/this.n)}},{key:"getAverage",value:function(){return this.average}}]),n})();e.RunningAverage=o},555,[1,29,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=N;var s=o(r(d[2])),n=r(d[3]),c=r(d[4]),p=t(r(d[5])),u=t(r(d[6])),l=o(r(d[7]));function h(t,o){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=v(t))||o&&t&&"number"==typeof t.length){s&&(t=s);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function v(t,o){if(t){if("string"==typeof t)return f(t,o);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?f(t,o):void 0}}function f(t,o){(null==o||o>t.length)&&(o=t.length);for(var s=0,n=new Array(o);s<o;s++)n[s]=t[s];return n}var y=r(d[8]),S=(0,c.getLogger)(__filename),R={};function b(t,o){return!o||o<=0||!t||t<=0?0:Math.round(t/o*100)}function w(){this.loss={},this.bitrate={download:0,upload:0},this.resolution={},this.framerate=0,this.codec=''}function L(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function N(t,o,s,n){this._browserType=l.default.getName();var c=R[this._browserType];if(!c)throw new Error("The browser type '"+this._browserType+"' isn't supported!");this._usesPromiseGetStats=l.default.isSafari()||l.default.isFirefox()||l.default.isReactNative(),this._getStatValue=this._usesPromiseGetStats?this._defineNewGetStatValueMethod(c):this._defineGetStatValueMethod(c),this.peerconnection=t,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.previousStatsReport=null,this.audioLevelReportHistory={},this.audioLevelsIntervalId=null,this.eventEmitter=n,this.conferenceStats=new L,this.audioLevelsIntervalMilis=o,this.statsIntervalId=null,this.statsIntervalMilis=s,this.ssrc2stats=new Map}R[n.browsers.FIREFOX]={ssrc:'ssrc',packetsReceived:'packetsReceived',packetsLost:'packetsLost',packetsSent:'packetsSent',bytesReceived:'bytesReceived',bytesSent:'bytesSent',framerateMean:'framerateMean',ip:'address',port:'port',protocol:'protocol'},R[n.browsers.CHROME]={receiveBandwidth:'googAvailableReceiveBandwidth',sendBandwidth:'googAvailableSendBandwidth',remoteAddress:'googRemoteAddress',transportType:'googTransportType',localAddress:'googLocalAddress',activeConnection:'googActiveConnection',ssrc:'ssrc',packetsReceived:'packetsReceived',packetsSent:'packetsSent',packetsLost:'packetsLost',bytesReceived:'bytesReceived',bytesSent:'bytesSent',googCodecName:'googCodecName',googFrameHeightReceived:'googFrameHeightReceived',googFrameWidthReceived:'googFrameWidthReceived',googFrameHeightSent:'googFrameHeightSent',googFrameWidthSent:'googFrameWidthSent',googFrameRateReceived:'googFrameRateReceived',googFrameRateSent:'googFrameRateSent',audioInputLevel:'audioInputLevel',audioOutputLevel:'audioOutputLevel',currentRoundTripTime:'googRtt',remoteCandidateType:'googRemoteCandidateType',localCandidateType:'googLocalCandidateType',ip:'ip',port:'port',protocol:'protocol'},R[n.browsers.REACT_NATIVE]={packetsReceived:'packetsReceived',packetsSent:'packetsSent',bytesReceived:'bytesReceived',bytesSent:'bytesSent',frameWidth:'frameWidth',frameHeight:'frameHeight',framesPerSecond:'framesPerSecond',ip:'ip',port:'port',protocol:'protocol'},R[n.browsers.OPERA]=R[n.browsers.CHROME],R[n.browsers.NWJS]=R[n.browsers.CHROME],R[n.browsers.ELECTRON]=R[n.browsers.CHROME],R[n.browsers.SAFARI]=R[n.browsers.CHROME],w.prototype.setLoss=function(t){this.loss=t||{}},w.prototype.setResolution=function(t){this.resolution=t||{}},w.prototype.addBitrate=function(t){this.bitrate.download+=t.download,this.bitrate.upload+=t.upload},w.prototype.resetBitrate=function(){this.bitrate.download=0,this.bitrate.upload=0},w.prototype.setFramerate=function(t){this.framerate=t||0},w.prototype.setCodec=function(t){this.codec=t||''},N.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null)},N.prototype.errorCallback=function(t){y.callErrorHandler(t),S.error('Get stats error',t),this.stop()},N.prototype.start=function(t){var o=this;t&&(l.default.supportsReceiverStats()&&S.info('Using RTCRtpSynchronizationSource for remote audio levels'),this.audioLevelsIntervalId=setInterval(function(){if(l.default.supportsReceiverStats()){var t=o.peerconnection.getAudioLevels();for(var s in t)if(t.hasOwnProperty(s)){var n=2.5*t[s];o.eventEmitter.emit(u.AUDIO_LEVEL,o.peerconnection,Number.parseInt(s,10),n,!1)}}else o.peerconnection.getStats(function(t){var s=null;s=t&&t.result&&'function'==typeof t.result?t.result():t,o.currentAudioLevelsReport=s,o._usesPromiseGetStats?o.processNewAudioLevelReport():o.processAudioLevelReport(),o.baselineAudioLevelsReport=o.currentAudioLevelsReport},function(t){return o.errorCallback(t)})},this.audioLevelsIntervalMilis)),this.statsIntervalId=setInterval(function(){o.peerconnection.getStats(function(t){var s=null;s=t&&t.result&&'function'==typeof t.result?t.result():t,o.currentStatsReport=s;try{o._usesPromiseGetStats?o.processNewStatsReport():o.processStatsReport()}catch(t){y.callErrorHandler(t),S.error("Unsupported key:"+t,t)}o.previousStatsReport=o.currentStatsReport},function(t){return o.errorCallback(t)})},this.statsIntervalMilis)},N.prototype._defineGetStatValueMethod=function(t){var o,s=function(o){var s=t[o];if(s)return s;throw new Error("The property '"+o+"' isn't supported!")};switch(this._browserType){case n.browsers.CHROME:case n.browsers.OPERA:case n.browsers.NWJS:case n.browsers.ELECTRON:o=function(t,o){return t.stat(o)};break;default:o=function(t,o){return t[o]}}return function(t,n){return o(t,s(n))}},N.prototype.getNonNegativeStat=function(t,o){var s=this._getStatValue(t,o);return'number'!=typeof s&&(s=Number(s)),isNaN(s)?0:Math.max(0,s)},N.prototype.processStatsReport=function(){var t=this;if(this.previousStatsReport){var o=this._getStatValue,s={};for(var n in this.currentStatsReport)if(this.currentStatsReport.hasOwnProperty(n)){var c=this.currentStatsReport[n];if(c){try{var p=o(c,'receiveBandwidth'),l=o(c,'sendBandwidth');(p||l)&&(this.conferenceStats.bandwidth={download:Math.round(p/1e3),upload:Math.round(l/1e3)})}catch(t){}if('googCandidatePair'===c.type)if("continue"===(function(){var s=void 0,n=void 0,p=void 0,u=void 0,l=void 0,h=void 0,v=void 0;try{if(!(s=o(c,'activeConnection')))return"continue";n=o(c,'remoteAddress'),v=o(c,'transportType'),u=o(c,'localAddress'),p=o(c,'localCandidateType'),l=o(c,'remoteCandidateType'),h=t.getNonNegativeStat(c,'currentRoundTripTime')}catch(t){}if(!n||!v||!u||'true'!==s)return"continue";var f=t.conferenceStats.transport;return f.some(function(t){return t.ip===n&&t.type===v&&t.localip===u})||f.push({ip:n,type:v,localip:u,p2p:t.peerconnection.isP2P,localCandidateType:p,remoteCandidateType:l,rtt:h}),"continue"})())continue;if('candidatepair'===c.type){if('succeeded'!==c.state||!c.selected)continue;var h=this.currentStatsReport[c.localCandidateId],v=this.currentStatsReport[c.remoteCandidateId];this.conferenceStats.transport.push({ip:v.ipAddress+":"+v.portNumber,type:h.transport,localip:h.ipAddress+":"+h.portNumber,p2p:this.peerconnection.isP2P,localCandidateType:h.candidateType,remoteCandidateType:v.candidateType})}if('ssrc'===c.type||'outboundrtp'===c.type||'inboundrtp'===c.type||'track'===c.type){var f=this.previousStatsReport[n],y=this.getNonNegativeStat(c,'ssrc');if('track'===c.type&&Array.isArray(c.ssrcIds)&&(y=Number(c.ssrcIds[0])),f&&y&&!0!==c.isRemote&&!0!==c.remoteSource){var R=this.ssrc2stats.get(y);R||(R=new w,this.ssrc2stats.set(y,R));var b=!0,L='packetsReceived',N=o(c,L);void 0!==N&&null!==N&&''!==N||(b=!1,void 0!==(N=o(c,L='packetsSent'))&&null!==N||S.warn('No packetsReceived nor packetsSent stat found')),(!N||N<0)&&(N=0);var I=this.getNonNegativeStat(f,L),T=Math.max(0,N-I),A=this.getNonNegativeStat(c,'packetsLost'),k=this.getNonNegativeStat(f,'packetsLost'),C=Math.max(0,A-k);R.setLoss({packetsTotal:T+C,packetsLost:C,isDownloadStream:b});var E=this.getNonNegativeStat(c,'bytesReceived'),M=this.getNonNegativeStat(f,'bytesReceived'),_=Math.max(0,E-M),O=0,F=o(c,'bytesSent');'number'!=typeof F&&'string'!=typeof F||(F=Number(F),isNaN(F)||(s[y]=F,F>0&&(O=F-o(f,'bytesSent')))),O=Math.max(0,O);var H=c.timestamp-f.timestamp,B=0,P=0;H>0&&(B=Math.round(8*_/H),P=Math.round(8*O/H)),R.addBitrate({download:B,upload:P});var V={height:null,width:null};try{var W=void 0,x=void 0;(W=o(c,'googFrameHeightReceived'))&&(x=o(c,'googFrameWidthReceived'))?(V.height=W,V.width=x):(W=o(c,'googFrameHeightSent'))&&(x=o(c,'googFrameWidthSent'))&&(V.height=W,V.width=x)}catch(t){}var D=void 0;try{D=o(c,'googFrameRateReceived')||o(c,'googFrameRateSent')||0}catch(t){try{D=this.getNonNegativeStat(c,'framerateMean')}catch(t){}}R.setFramerate(Math.round(D||0)),V.height&&V.width?R.setResolution(V):R.setResolution(null);var G=void 0;try{G=o(c,'googCodecName')||''}catch(t){}R.setCodec(G)}}}}this.eventEmitter.emit(u.BYTE_SENT_STATS,this.peerconnection,s),this._processAndEmitReport()}},N.prototype._processAndEmitReport=function(){for(var t,o,n,c=this,p={download:0,upload:0},l={download:0,upload:0},v=0,f=0,y={},R={},w={},L=0,N=0,I=0,T=0,A=h(this.ssrc2stats);!(n=A()).done;){var k=n.value,C=(0,s.default)(k,2),E=C[0],M=C[1],_=M.loss,O=_.isDownloadStream?'download':'upload';p[O]+=_.packetsTotal,l[O]+=_.packetsLost,v+=M.bitrate.download,f+=M.bitrate.upload;var F=this.peerconnection.getTrackBySSRC(E);if(F){F.isAudioTrack()?(L+=M.bitrate.download,N+=M.bitrate.upload,t=M.codec):(I+=M.bitrate.download,T+=M.bitrate.upload,o=M.codec);var H=F.getParticipantId();if(H){var B=M.resolution;if(B.width&&B.height&&-1!==B.width&&-1!==B.height){var P=y[H]||{};P[E]=B,y[H]=P}if(0!==M.framerate){var V=R[H]||{};V[E]=M.framerate,R[H]=V}if(t&&o){var W={audio:t,video:o},x=w[H]||{};x[E]=W,w[H]=x}}else S.error("No participant ID returned by "+F)}M.resetBitrate()}this.conferenceStats.bitrate={upload:f,download:v},this.conferenceStats.bitrate.audio={upload:N,download:L},this.conferenceStats.bitrate.video={upload:T,download:I},this.conferenceStats.packetLoss={total:b(l.download+l.upload,p.download+p.upload),download:b(l.download,p.download),upload:b(l.upload,p.upload)};var D,G={};Object.keys(this.audioLevelReportHistory).forEach(function(t){var o=c.audioLevelReportHistory[t],s=o.data,n=o.isLocal,p=s.reduce(function(t,o){return t+o})/s.length;if(n)D=p;else{var u=c.peerconnection.getTrackBySSRC(Number(t));if(u){var l=u.getParticipantId();l&&(G[l]=p)}}}),this.audioLevelReportHistory={},this.eventEmitter.emit(u.CONNECTION_STATS,this.peerconnection,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:y,framerate:R,codec:w,transport:this.conferenceStats.transport,localAvgAudioLevels:D,avgAudioLevels:G}),this.conferenceStats.transport=[]},N.prototype.processAudioLevelReport=function(){if(this.baselineAudioLevelsReport){var t=this._getStatValue;for(var o in this.currentAudioLevelsReport)if(this.currentAudioLevelsReport.hasOwnProperty(o)){var s=this.currentAudioLevelsReport[o];if('ssrc'===s.type||'track'===s.type){var n=this.baselineAudioLevelsReport[o],c=this.getNonNegativeStat(s,'ssrc');if(!c&&Array.isArray(s.ssrcIds)&&(c=Number(s.ssrcIds[0])),n)if(c){var p=void 0;try{p=t(s,'audioInputLevel')||t(s,'audioOutputLevel')}catch(t){return S.warn('Audio Levels are not available in the statistics.'),void clearInterval(this.audioLevelsIntervalId)}if(p){var l=void 0;l='ssrc'===s.type?!t(s,'packetsReceived'):!s.remoteSource,p/=32767,c in this.audioLevelReportHistory||(this.audioLevelReportHistory[c]={isLocal:l,data:[]}),this.audioLevelReportHistory[c].data.push(p),this.eventEmitter.emit(u.AUDIO_LEVEL,this.peerconnection,c,p,l)}}else Date.now()-s.timestamp<3e3&&S.warn('No ssrc: ');else S.warn(c+" not enough data")}}}},N.prototype._defineNewGetStatValueMethod=function(t){var o=function(o){var s=t[o];if(s)return s;throw new Error("The property '"+o+"' isn't supported!")};return function(t,s){return t[o(s)]}},N.prototype.getNonNegativeValue=function(t){var o=t;return'number'!=typeof o&&(o=Number(o)),isNaN(o)?0:Math.max(0,o)},N.prototype._calculateBitrate=function(t,o,s){var n=this.getNonNegativeValue(t[s]),c=this.getNonNegativeValue(o[s]),p=Math.max(0,n-c),u=t.timestamp-o.timestamp,l=0;return u>0&&(l=Math.round(8*p/u)),l},N.prototype.processNewStatsReport=function(){var t=this;if(this.previousStatsReport){var o=this._getStatValue,s={};this.currentStatsReport.forEach(function(n){if('candidate-pair'===n.type&&n.nominated&&'succeeded'===n.state){var c=n.availableIncomingBitrate,p=n.availableOutgoingBitrate;(c||p)&&(t.conferenceStats.bandwidth={download:Math.round(c/1e3),upload:Math.round(p/1e3)});var u=t.currentStatsReport.get(n.remoteCandidateId),l=t.currentStatsReport.get(n.localCandidateId);if(u&&l){var h=o(u,'ip')+":"+o(u,'port'),v=o(l,'ip')+":"+o(l,'port'),f=o(u,'protocol'),y=t.conferenceStats.transport;y.some(function(t){return t.ip===h&&t.type===f&&t.localip===v})||y.push({ip:h,type:f,localIp:v,p2p:t.peerconnection.isP2P,localCandidateType:l.candidateType,remoteCandidateType:u.candidateType,networkType:l.networkType,rtt:1e3*n.currentRoundTripTime})}}else if('inbound-rtp'===n.type||'outbound-rtp'===n.type){var S=t.previousStatsReport.get(n.id),R=t.getNonNegativeValue(n.ssrc);if(!S||!R)return;var b=t.ssrc2stats.get(R);b||(b=new w,t.ssrc2stats.set(R,b));var L=!0,N='packetsReceived';'outbound-rtp'===n.type&&(L=!1,N='packetsSent');var I=n[N];(!I||I<0)&&(I=0);var T=t.getNonNegativeValue(S[N]),A=Math.max(0,I-T),k=t.getNonNegativeValue(n.packetsLost),C=t.getNonNegativeValue(S.packetsLost),E=Math.max(0,k-C);b.setLoss({packetsTotal:A+E,packetsLost:E,isDownloadStream:L});var M,_={height:null,width:null};try{_.height=o(n,'frameHeight'),_.width=o(n,'frameWidth')}catch(t){}try{M=o(n,'framesPerSecond')}catch(t){}b.setFramerate(Math.round(M||0)),_.height&&_.width?b.setResolution(_):b.setResolution(null),'inbound-rtp'===n.type?b.addBitrate({download:t._calculateBitrate(n,S,'bytesReceived'),upload:0}):(s[R]=t.getNonNegativeValue(n.bytesSent),b.addBitrate({download:0,upload:t._calculateBitrate(n,S,'bytesSent')}));var O,F=n.framerateMean;F&&b.setFramerate(Math.round(F||0));try{O=t.currentStatsReport.get(n.codecId)}catch(t){}if(O){var H=O.mimeType.split('/')[1];H&&b.setCodec(H)}}else if('track'===n.type){var B={height:n.frameHeight,width:n.frameWidth},P=n.framesPerSecond;if(!P){var V=t.previousStatsReport.get(n.id);if(V){var W=n.timestamp-V.timestamp;if(W>0&&n.framesSent)P=(n.framesSent-V.framesSent)/W*1e3}if(!P)return}var x=n.trackIdentifier,D=t.peerconnection.getSsrcByTrackId(x);if(!D)return;var G=t.ssrc2stats.get(D);G||(G=new w,t.ssrc2stats.set(D,G)),G.setFramerate(Math.round(P||0)),B.height&&B.width?G.setResolution(B):G.setResolution(null)}}),this.eventEmitter.emit(u.BYTE_SENT_STATS,this.peerconnection,s),this._processAndEmitReport()}},N.prototype.processNewAudioLevelReport=function(){var t=this;this.baselineAudioLevelsReport&&this.currentAudioLevelsReport.forEach(function(o){if('track'===o.type){var s=o.audioLevel;if(s){var n=o.trackIdentifier,c=t.peerconnection.getSsrcByTrackId(n);if(c){var l=c===t.peerconnection.getLocalSSRC(t.peerconnection.getLocalTracks(p.AUDIO));t.eventEmitter.emit(u.AUDIO_LEVEL,t.peerconnection,c,s,l)}}}})}},556,[12,1,17,538,432,557,535,536,552]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEO=e.PRESENTER=e.AUDIO=void 0;e.AUDIO='audio';e.PRESENTER='presenter';e.VIDEO='video'},557,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.CALLSTATS_SCRIPT_URL=void 0;e.CALLSTATS_SCRIPT_URL='https://api.callstats.io/static/callstats-ws.min.js'},558,[]);
__d(function(g,r,i,a,m,e,d){m.exports={LOCAL_JID:'local'}},559,[]);
__d(function(g,r,i,a,m,e,d){function t(t,n){if(!t||!n||'function'!=typeof t.addListener||'function'!=typeof n.emit)throw new Error('Invalid arguments passed to EventEmitterForwarder');this.src=t,this.dest=n}t.prototype.forward=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var s=n[0];n[0]=this.dest,this.src.addListener(s,Function.prototype.bind.apply(this.dest.emit,n))},m.exports=t},560,[]);
__d(function(g,r,i,a,m,e,d){m.exports={CREATE_ANSWER_FAILED:'rtc.create_answer_failed',CREATE_OFFER_FAILED:'rtc.create_offer_failed',DATA_CHANNEL_OPEN:'rtc.data_channel_open',ENDPOINT_CONN_STATUS_CHANGED:'rtc.endpoint_conn_status_changed',DOMINANT_SPEAKER_CHANGED:'rtc.dominant_speaker_changed',LASTN_ENDPOINT_CHANGED:'rtc.lastn_endpoint_changed',GRANTED_PERMISSIONS:'rtc.granted_permissions',SENDER_VIDEO_CONSTRAINTS_CHANGED:'rtc.sender_video_constraints_changed',LASTN_VALUE_CHANGED:'rtc.lastn_value_changed',LOCAL_TRACK_SSRC_UPDATED:'rtc.local_track_ssrc_updated',LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED:'rtc.local_track_max_enabled_resolution_changed',TRACK_ATTACHED:'rtc.track_attached',REMOTE_TRACK_ADDED:'rtc.remote_track_added',REMOTE_TRACK_MUTE:'rtc.remote_track_mute',REMOTE_TRACK_REMOVED:'rtc.remote_track_removed',REMOTE_TRACK_UNMUTE:'rtc.remote_track_unmute',SET_LOCAL_DESCRIPTION_FAILED:'rtc.set_local_description_failed',SET_REMOTE_DESCRIPTION_FAILED:'rtc.set_remote_description_failed',AUDIO_OUTPUT_DEVICE_CHANGED:'rtc.audio_output_device_changed',DEVICE_LIST_CHANGED:'rtc.device_list_changed',DEVICE_LIST_WILL_CHANGE:'rtc.device_list_will_change',DEVICE_LIST_AVAILABLE:'rtc.device_list_available',ENDPOINT_MESSAGE_RECEIVED:'rtc.endpoint_message_received',LOCAL_UFRAG_CHANGED:'rtc.local_ufrag_changed',REMOTE_UFRAG_CHANGED:'rtc.remote_ufrag_changed'}},561,[]);
__d(function(g,r,i,a,m,e,d){m.exports={CAMERA:'camera',DESKTOP:'desktop'}},562,[]);
__d(function(g,r,i,a,m,e,d){m.exports={IDENTITY_UPDATED:'authentication.identity_updated'}},563,[]);
__d(function(g,r,i,a,m,e,d){m.exports={ADD_ICE_CANDIDATE_FAILED:'xmpp.add_ice_candidate_failed',AUDIO_MUTED_BY_FOCUS:'xmpp.audio_muted_by_focus',AUTHENTICATION_REQUIRED:'xmpp.authentication_required',BRIDGE_DOWN:'xmpp.bridge_down',CALL_ACCEPTED:'xmpp.callaccepted.jingle',CALL_INCOMING:'xmpp.callincoming.jingle',CALL_ENDED:'xmpp.callended.jingle',CHAT_ERROR_RECEIVED:'xmpp.chat_error_received',CONFERENCE_PROPERTIES_CHANGED:'xmpp.conference_properties_changed',CONNECTION_ESTABLISHED:'xmpp.connection.connected',CONNECTION_FAILED:'xmpp.connection.failed',CONNECTION_INTERRUPTED:'xmpp.connection.interrupted',CONNECTION_RESTORED:'xmpp.connection.restored',CONNECTION_ICE_FAILED:'xmpp.connection.ice.failed',CONNECTION_RESTARTED:'xmpp.connection.restart',CONNECTION_STATUS_CHANGED:'xmpp.connection.status.changed',DISPLAY_NAME_CHANGED:'xmpp.display_name_changed',EMUC_ROOM_ADDED:'xmpp.emuc_room_added',EMUC_ROOM_REMOVED:'xmpp.emuc_room_removed',ETHERPAD:'xmpp.etherpad',FOCUS_DISCONNECTED:'xmpp.focus_disconnected',FOCUS_LEFT:'xmpp.focus_left',GRACEFUL_SHUTDOWN:'xmpp.graceful_shutdown',ICE_RESTARTING:'rtc.ice_restarting',ICE_RESTART_SUCCESS:'rtc.ice_restart_success',KICKED:'xmpp.kicked',LOCAL_ROLE_CHANGED:'xmpp.localrole_changed',MEETING_ID_SET:'xmpp.meeting_id_set',MESSAGE_RECEIVED:'xmpp.message_received',INVITE_MESSAGE_RECEIVED:'xmpp.invite_message_received',PRIVATE_MESSAGE_RECEIVED:'xmpp.private_message_received',MUC_MEMBER_BOT_TYPE_CHANGED:'xmpp.muc_member_bot_type_changed',MUC_DESTROYED:'xmpp.muc_destroyed',MUC_JOINED:'xmpp.muc_joined',MUC_MEMBER_JOINED:'xmpp.muc_member_joined',MUC_MEMBER_LEFT:'xmpp.muc_member_left',MUC_LOBBY_MEMBER_JOINED:'xmpp.muc_lobby_member_joined',MUC_LOBBY_MEMBER_UPDATED:'xmpp.muc_lobby_member_updated',MUC_LOBBY_MEMBER_LEFT:'xmpp.muc_lobby_member_left',MUC_DENIED_ACCESS:'xmpp.muc_denied access',MUC_LEFT:'xmpp.muc_left',MUC_ROLE_CHANGED:'xmpp.muc_role_changed',MUC_LOCK_CHANGED:'xmpp.muc_lock_changed',MUC_MEMBERS_ONLY_CHANGED:'xmpp.muc_members_only_changed',PARTICIPANT_AUDIO_MUTED:'xmpp.audio_muted',PARTICIPANT_VIDEO_MUTED:'xmpp.video_muted',PARTICIPANT_VIDEO_TYPE_CHANGED:'xmpp.video_type',PARTICIPANT_FEATURES_CHANGED:'xmpp.participant_features_changed',PASSWORD_REQUIRED:'xmpp.password_required',PHONE_NUMBER_CHANGED:'conference.phoneNumberChanged',PRESENCE_RECEIVED:'xmpp.presence_received',PRESENCE_STATUS:'xmpp.presence_status',PROMPT_FOR_LOGIN:'xmpp.prompt_for_login',READY_TO_JOIN:'xmpp.ready_to_join',RECORDER_STATE_CHANGED:'xmpp.recorderStateChanged',REMOTE_STATS:'xmpp.remote_stats',RENEGOTIATION_FAILED:'xmpp.renegotiation_failed',RESERVATION_ERROR:'xmpp.room_reservation_error',ROOM_CONNECT_ERROR:'xmpp.room_connect_error',ROOM_CONNECT_NOT_ALLOWED_ERROR:'xmpp.room_connect_error.not_allowed',ROOM_JOIN_ERROR:'xmpp.room_join_error',ROOM_CONNECT_MEMBERS_ONLY_ERROR:'xmpp.room_connect_error.members_only',ROOM_MAX_USERS_ERROR:'xmpp.room_max_users_error',SENDING_CHAT_MESSAGE:'xmpp.sending_chat_message',SENDING_PRIVATE_CHAT_MESSAGE:'xmpp.sending_private_chat_message',SESSION_ACCEPT_TIMEOUT:'xmpp.session_accept_timeout',SPEAKER_STATS_RECEIVED:'xmpp.speaker_stats_received',CONFERENCE_TIMESTAMP_RECEIVED:'xmpp.conference_timestamp_received',START_MUTED_FROM_FOCUS:'xmpp.start_muted_from_focus',SUBJECT_CHANGED:'xmpp.subject_changed',SUSPEND_DETECTED:'xmpp.suspend_detected',TRANSCRIPTION_STATUS_CHANGED:'xmpp.transcription_status_changed',TRANSPORT_INFO:'xmpp.transportinfo.jingle',VIDEO_SIP_GW_AVAILABILITY_CHANGED:'xmpp.videoSIPGWAvailabilityChanged',VIDEO_SIP_GW_SESSION_STATE_CHANGED:'xmpp.videoSIPGWSessionStateChanged',ICE_CONNECTION_STATE_CHANGED:'xmpp.ice_connection_state_changed',JSON_MESSAGE_RECEIVED:'xmmp.json_message_received'}},564,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(r(d[2])),s=n(r(d[3])),o=r(d[4]),c=r(d[5]),_=t(r(d[6])),h=r(d[7]),f=r(d[8]),l=t(r(d[9])),y=(0,o.getLogger)(__filename),p=(function(){function t(n,s,o,_,f,l,y){(0,u.default)(this,t),this._jid=n,this._id=c.Strophe.getResourceFromJid(n),this._conference=s,this._displayName=o,this._supportsDTMF=!1,this._tracks=[],this._role='none',this._status=l,this._hidden=_,this._statsID=f,this._connectionStatus=h.ParticipantConnectionStatus.ACTIVE,this._properties={},this._identity=y,this._features=new Set}return(0,s.default)(t,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(t){return this._properties[t]}},{key:"hasAnyVideoTrackWebRTCMuted",value:function(){return this.getTracks().some(function(t){return t.getType()===l.VIDEO&&t.isWebRTCTrackMuted()})}},{key:"_setConnectionStatus",value:function(t){this._connectionStatus=t}},{key:"getConnectionStatus",value:function(){return this._connectionStatus}},{key:"setProperty",value:function(t,n){var u=this._properties[t];n!==u&&(this._properties[t]=n,this._conference.eventEmitter.emit(_.PARTICIPANT_PROPERTY_CHANGED,this,t,u,n))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTracksByMediaType",value:function(t){return this.getTracks().filter(function(n){return n.getType()===t})}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatsID",value:function(){return this._statsID}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return'moderator'===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(l.AUDIO)}},{key:"_isMediaTypeMuted",value:function(t){return this.getTracks().reduce(function(n,u){return n&&(u.getType()!==t||u.isMuted())},!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(l.VIDEO)}},{key:"getRole",value:function(){return this._role}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}},{key:"getFeatures",value:function(){return Promise.resolve(this._features)}},{key:"queryFeatures",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return this._getFeaturesPromise?this._getFeaturesPromise:(this._getFeaturesPromise=this._conference.xmpp.caps.getFeatures(this._jid,n).catch(function(u){return u===f.ERROR_FEATURE_VERSION_MISMATCH?t._conference.xmpp.caps.getFeatures(t._jid,n):(y.warn("Failed to discover features of "+t._jid,u),Promise.reject(u))}),this._getFeaturesPromise.then(function(n){return t._getFeaturesPromise=void 0,n},function(n){throw t._getFeaturesPromise=void 0,n}))}},{key:"getBotType",value:function(){return this._botType}}]),t})();e.default=p},565,[12,1,29,30,432,529,524,566,568,557]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ParticipantConnectionStatus=void 0;var o=n(r(d[2])),s=n(r(d[3])),u=n(r(d[4])),c=r(d[5]),h=t(r(d[6])),T=t(r(d[7])),f=t(r(d[8])),l=n(r(d[9])),p=r(d[10]),v=n(r(d[11])),S=n(r(d[12]));function C(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function _(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?C(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function E(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=y(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function y(t,n){if(t){if("string"==typeof t)return R(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?R(t,n):void 0}}function R(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var N=(0,c.getLogger)(__filename),M=500,b=1e4,A={ACTIVE:'active',INACTIVE:'inactive',INTERRUPTED:'interrupted',RESTORING:'restoring'};e.ParticipantConnectionStatus=A;var k=(function(){function t(n,o,u){(0,s.default)(this,t),this.rtc=n,this.conference=o,this.trackTimers={},this.connStatusFromJvb={},this.outOfLastNTimeout='number'==typeof u.outOfLastNTimeout?u.outOfLastNTimeout:M,this.rtcMuteTimeout='number'==typeof u.rtcMuteTimeout?u.rtcMuteTimeout:b,this.rtcMutedTimestamp={},N.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout),this.enteredLastNTimestamp=new Map,this.restoringTimers=new Map,this.connectionStatusMap=new Map}return(0,u.default)(t,null,[{key:"_getNewStateForJvbMode",value:function(t,n,o,s,u){return t?s?A.ACTIVE:v.default.supportsVideoMuteOnConnInterrupted()?u?n?o?A.INTERRUPTED:A.RESTORING:A.INACTIVE:A.ACTIVE:n?A.ACTIVE:A.INACTIVE:A.INTERRUPTED}},{key:"_getNewStateForP2PMode",value:function(t,n){return v.default.supportsVideoMuteOnConnInterrupted()?t||!n?A.ACTIVE:A.INTERRUPTED:A.ACTIVE}}]),(0,u.default)(t,[{key:"_getVideoFrozenTimeout",value:function(t){return this.rtc.isInLastN(t)?this.rtcMuteTimeout:this.outOfLastNTimeout}},{key:"init",value:function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(l.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),this._onP2PStatus=this.refreshConnectionStatusForAll.bind(this),this.conference.on(h.P2P_STATUS,this._onP2PStatus),this._onUserLeft=this.onUserLeft.bind(this),this.conference.on(h.USER_LEFT,this._onUserLeft),v.default.supportsVideoMuteOnConnInterrupted()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(l.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(l.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(h.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(h.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this),this._onTrackVideoTypeChanged=this.onTrackVideoTypeChanged.bind(this)),this._onLastNChanged=this._onLastNChanged.bind(this),this.conference.on(h.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this._onLastNValueChanged=this.refreshConnectionStatusForAll.bind(this),this.rtc.on(l.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged)}},{key:"dispose",value:function(){this.rtc.removeListener(l.default.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),v.default.supportsVideoMuteOnConnInterrupted()&&(this.rtc.removeListener(l.default.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(l.default.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(h.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(h.TRACK_REMOVED,this._onRemoteTrackRemoved)),this.conference.off(h.LAST_N_ENDPOINTS_CHANGED,this._onLastNChanged),this.rtc.removeListener(l.default.LASTN_VALUE_CHANGED,this._onLastNValueChanged),this.conference.off(h.P2P_STATUS,this._onP2PStatus),this.conference.off(h.USER_LEFT,this._onUserLeft);for(var t=0,n=Object.keys(this.trackTimers);t<n.length;t++){var o=n[t];this.clearTimeout(o),this.clearRtcMutedTimestamp(o)}for(var s in this.connectionStatusMap)this.connectionStatusMap.hasOwnProperty(s)&&this.onUserLeft(s);this.connStatusFromJvb={}}},{key:"onEndpointConnStatusChanged",value:function(t,n){N.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED("+Date.now()+"): "+t+": "+n),t!==this.conference.myUserId()&&(this.connStatusFromJvb[t]=n,this.figureOutConnectionStatus(t))}},{key:"_changeConnectionStatus",value:function(t,n){if(t.getConnectionStatus()!==n){var o=t.getId();t._setConnectionStatus(n),N.debug("Emit endpoint conn status("+Date.now()+") "+o+": "+n),S.default.sendLog(JSON.stringify({id:'peer.conn.status',participant:o,status:n})),this.conference.eventEmitter.emit(h.PARTICIPANT_CONN_STATUS_CHANGED,o,n)}}},{key:"clearTimeout",value:function(t){this.trackTimers[t]&&(window.clearTimeout(this.trackTimers[t]),this.trackTimers[t]=null)}},{key:"clearRtcMutedTimestamp",value:function(t){this.rtcMutedTimestamp[t]=null}},{key:"onRemoteTrackAdded",value:function(t){var n=this;t.isLocal()||t.getType()!==f.VIDEO||(N.debug("Detector on remote track added for: "+t.getParticipantId()),t.on(T.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),t.on(T.TRACK_VIDEOTYPE_CHANGED,function(o){return n._onTrackVideoTypeChanged(t,o)}))}},{key:"onRemoteTrackRemoved",value:function(t){if(!t.isLocal()&&t.getType()===f.VIDEO){var n=t.getParticipantId();N.debug("Detector on remote track removed: "+n),t.off(T.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(n),this.clearRtcMutedTimestamp(n),this.figureOutConnectionStatus(n)}}},{key:"isVideoTrackFrozen",value:function(t){if(!v.default.supportsVideoMuteOnConnInterrupted())return!1;var n=t.getId(),o=t.hasAnyVideoTrackWebRTCMuted(),s=this.rtcMutedTimestamp[n],u=this._getVideoFrozenTimeout(n);return o&&'number'==typeof s&&Date.now()-s>=u}},{key:"refreshConnectionStatusForAll",value:function(){for(var t,n=E(this.conference.getParticipants());!(t=n()).done;){var o=t.value;this.figureOutConnectionStatus(o.getId())}}},{key:"figureOutConnectionStatus",value:function(n){var o=this.conference.getParticipantById(n);if(o){var s=this.conference.isP2PActive(),u=this._isRestoringTimedout(n),c=0===this.rtc.getLastN(),h=o.isVideoMuted()||c,T=this.isVideoTrackFrozen(o),l=this.rtc.isInLastN(n),p=this.connStatusFromJvb[n];'boolean'!=typeof p&&(N.debug('Assuming connection active by JVB - no notification'),p=!0);var v=s?t._getNewStateForP2PMode(h,T):t._getNewStateForJvbMode(p,l,u,h,T);v!==A.RESTORING&&this._clearRestoringTimer(n),N.debug("Figure out conn status for "+n+", is video muted: "+h+" is active(jvb): "+p+" video track frozen: "+T+" p2p mode: "+s+" is in last N: "+l+" currentStatus => newStatus: "+o.getConnectionStatus()+" => "+v);var S=this.connectionStatusMap[n]||{};if(!('p2p'in S&&'connectionStatus'in S&&S.p2p===s&&S.connectionStatus===v)){var C=Date.now();if(this.maybeSendParticipantConnectionStatusEvent(n,C),this.connectionStatusMap[n]=_(_({},S),{},{connectionStatus:v,p2p:s,startedMs:C}),!('videoType'in this.connectionStatusMap[n])){var E=o.getTracksByMediaType(f.VIDEO);Array.isArray(E)&&0!==E.length&&(this.connectionStatusMap[n].videoType=E[0].videoType)}}this._changeConnectionStatus(o,v)}else N.debug("figure out conn status - no participant for: "+n)}},{key:"maybeSendParticipantConnectionStatusEvent",value:function(t,n){var o=this.connectionStatusMap[t];o&&'startedMs'in o&&'videoType'in o&&'connectionStatus'in o&&'p2p'in o&&(o.value=n-o.startedMs,S.default.sendAnalytics((0,p.createParticipantConnectionStatusEvent)(o)))}},{key:"_onLastNChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Date.now();N.debug('leaving/entering lastN',t,n,o);for(var s,u=E(t);!(s=u()).done;){var c=s.value;this.enteredLastNTimestamp.delete(c),this._clearRestoringTimer(c),this.figureOutConnectionStatus(c)}for(var h,T=E(n);!(h=T()).done;){var f=h.value;this.enteredLastNTimestamp.set(f,o),this.figureOutConnectionStatus(f)}}},{key:"_clearRestoringTimer",value:function(t){var n=this.restoringTimers.get(t);n&&(clearTimeout(n),this.restoringTimers.delete(t))}},{key:"_isRestoringTimedout",value:function(t){var n=this,o=this.enteredLastNTimestamp.get(t);return!!(o&&Date.now()-o>=1e4)||(this.restoringTimers.get(t)||this.restoringTimers.set(t,setTimeout(function(){return n.figureOutConnectionStatus(t)},1e4)),!1)}},{key:"onUserLeft",value:function(t){this.maybeSendParticipantConnectionStatusEvent(t,Date.now()),delete this.connectionStatusMap[t]}},{key:"onTrackRtcMuted",value:function(t){var n=this,o=t.getParticipantId(),s=this.conference.getParticipantById(o);if(N.debug("Detector track RTC muted: "+o,Date.now()),s){if(this.rtcMutedTimestamp[o]=Date.now(),!s.isVideoMuted()){this.clearTimeout(o);var u=this._getVideoFrozenTimeout(o);this.trackTimers[o]=window.setTimeout(function(){N.debug("Set RTC mute timeout for: "+o+"                     of "+u+" ms"),n.clearTimeout(o),n.figureOutConnectionStatus(o)},u)}}else N.log("No participant for id: "+o)}},{key:"onTrackRtcUnmuted",value:function(t){var n=t.getParticipantId();N.debug("Detector track RTC unmuted: "+n,Date.now()),this.clearTimeout(n),this.clearRtcMutedTimestamp(n),this.figureOutConnectionStatus(n)}},{key:"onSignallingMuteChanged",value:function(t){var n=t.getParticipantId();N.debug("Detector on track signalling mute changed: "+n,t.isMuted()),this.figureOutConnectionStatus(n)}},{key:"onTrackVideoTypeChanged",value:function(t,n){var o=t.getParticipantId(),s=Date.now();this.maybeSendParticipantConnectionStatusEvent(o,s),this.connectionStatusMap[o]=_(_({},this.connectionStatusMap[o]||{}),{},{videoType:n,startedMs:s})}}]),t})();e.default=k},566,[12,1,51,29,30,432,524,567,557,561,534,536,531]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.NO_AUDIO_INPUT=e.NO_DATA_FROM_SOURCE=e.TRACK_VIDEOTYPE_CHANGED=e.TRACK_MUTE_CHANGED=e.TRACK_AUDIO_OUTPUT_CHANGED=e.TRACK_AUDIO_LEVEL_CHANGED=e.LOCAL_TRACK_STOPPED=void 0;e.LOCAL_TRACK_STOPPED='track.stopped';e.TRACK_AUDIO_LEVEL_CHANGED='track.audioLevelsChanged';e.TRACK_AUDIO_OUTPUT_CHANGED='track.audioOutputChanged';e.TRACK_MUTE_CHANGED='track.trackMuteChanged';e.TRACK_VIDEOTYPE_CHANGED='track.videoTypeChanged';e.NO_DATA_FROM_SOURCE='track.no_data_from_source';e.NO_AUDIO_INPUT='track.no_audio_input'},567,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ERROR_FEATURE_VERSION_MISMATCH=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),h=r(d[7]),l=t(r(d[8])),v=t(r(d[9]));function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=r(d[10]).getLogger(__filename),y=['category','type','lang','name'],E=['category','type','lang'];function R(t,n){var o=0;return E.some(function(s){return 0!==(o=t[s]>n[s]?1:t[s]<n[s]&&-1)}),o}function b(t,n){var o=t.sort(R).reduce(function(t,n){return y.reduce(function(t,o,s){return t+(0===s?'':'/')+(n[o]?n[o]:'')},'')+"<"},''),s=n.sort().reduce(function(t,n){return t+n+"<"},'');return(0,h.b64_sha1)(o+s)}e.ERROR_FEATURE_VERSION_MISMATCH="Feature version mismatch";var C=(function(t){(0,u.default)(R,t);var v,y,E=(v=R,y=_(),function(){var t,n=(0,f.default)(v);if(y){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function R(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'http://jitsi.org/jitsimeet';if((0,n.default)(this,R),(t=E.call(this)).node=u,t.disco=o.disco,!t.disco)throw new Error("Missing strophe-plugins (disco plugin is required)!");t.versionToCapabilities=Object.create(null),t.jidToVersion=Object.create(null),t.version='',t.rooms=new Set,t.externalFeatures=new Set;var c=o.emuc;return c.addListener(l.default.EMUC_ROOM_ADDED,function(n){return t._addChatRoom(n)}),c.addListener(l.default.EMUC_ROOM_REMOVED,function(n){return t._removeChatRoom(n)}),Object.keys(c.rooms).forEach(function(n){t._addChatRoom(c.rooms[n])}),h.Strophe.addNamespace('CAPS','http://jabber.org/protocol/caps'),t.disco.addFeature(h.Strophe.NS.CAPS),o.addHandler(t._handleCaps.bind((0,s.default)(t)),h.Strophe.NS.CAPS),t._onMucMemberLeft=t._removeJidToVersionEntry.bind((0,s.default)(t)),t}return(0,o.default)(R,[{key:"addFeature",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.addFeature(t),this._generateVersion(),s&&!this.externalFeatures.has(t)&&(this.externalFeatures.add(t),this.rooms.forEach(function(t){return n._updateRoomWithExternalFeatures(t)})),o&&this.submit()}},{key:"removeFeature",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.disco.removeFeature(t),this._generateVersion(),s&&this.externalFeatures.has(t)&&(this.externalFeatures.delete(t),this.rooms.forEach(function(t){return n._updateRoomWithExternalFeatures(t)})),o&&this.submit()}},{key:"submit",value:function(){this.rooms.forEach(function(t){return t.sendPresence()})}},{key:"_updateRoomWithExternalFeatures",value:function(t){if(0===this.externalFeatures.size)t.removeFromPresence('features');else{var n=[];this.externalFeatures.forEach(function(t){n.push({tagName:'feature',attributes:{var:t}})}),t.addToPresence('features',{children:n})}}},{key:"getFeatures",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,s=t in this.jidToVersion?this.jidToVersion[t]:null;if(!(s&&s.version in this.versionToCapabilities)){var u=s?s.node+"#"+s.version:null;return this._getDiscoInfo(t,u,o).then(function(t){var o=t.features,c=t.identities;if(s){var f=b(Array.from(c),Array.from(o)),h=s.node+"#"+f;return h===u?(n.versionToCapabilities[h]=o,o):n.versionToCapabilities[h]?n.versionToCapabilities[h]:(p.error("Expected node "+u+" but received "+h),Promise.reject("Feature version mismatch"))}return o})}return Promise.resolve(this.versionToCapabilities[s.version])}},{key:"getFeaturesAndIdentities",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return this._getDiscoInfo(t,n,o)}},{key:"_getDiscoInfo",value:function(t,n,o){var s=this;return new Promise(function(u,c){return s.disco.info(t,n,function(t){var n=new Set,o=new Set;$(t).find('>query>feature').each(function(t,o){return n.add(o.getAttribute('var'))}),$(t).find('>query>identity').each(function(t,n){return o.add({type:n.getAttribute('type'),name:n.getAttribute('name'),category:n.getAttribute('category')})}),u({features:n,identities:o})},c,o)})}},{key:"_addChatRoom",value:function(t){this.rooms.add(t),t.addListener(l.default.MUC_MEMBER_LEFT,this._onMucMemberLeft),this._fixChatRoomPresenceMap(t),this._updateRoomWithExternalFeatures(t)}},{key:"_removeChatRoom",value:function(t){this.rooms.delete(t),t.removeListener(l.default.MUC_MEMBER_LEFT,this._onMucMemberLeft)}},{key:"_fixChatRoomPresenceMap",value:function(t){t.addToPresence('c',{attributes:{xmlns:h.Strophe.NS.CAPS,hash:"sha-1",node:this.node,ver:this.version}})}},{key:"_notifyVersionChanged",value:function(){var t=this;this.rooms.forEach(function(n){return t._fixChatRoomPresenceMap(n)})}},{key:"_generateVersion",value:function(){this.version=b(this.disco._identities,this.disco._features),this._notifyVersionChanged()}},{key:"_handleCaps",value:function(t){var n=t.getAttribute('from'),o=t.querySelector('c'),s=o.getAttribute('ver'),u=o.getAttribute('node'),c=this.jidToVersion[n];return this.jidToVersion[n]={version:s,node:u},c&&c.version!==s&&this.eventEmitter.emit(l.default.PARTICIPANT_FEATURES_CHANGED,n),!0}},{key:"_removeJidToVersionEntry",value:function(t){t in this.jidToVersion&&delete this.jidToVersion[t]}}]),R})(v.default);e.default=C},568,[1,29,30,43,40,42,39,529,564,569,432]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),v=t(r(d[3])),u=(function(){function t(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new v.default;(0,n.default)(this,t),this.eventEmitter=s,this.addEventListener=this.on=this.addListener,this.removeEventListener=this.off=this.removeListener}return(0,s.default)(t,[{key:"addListener",value:function(t,n){var s=this;return this.eventEmitter.addListener(t,n),function(){return s.removeEventListener(t,n)}}},{key:"removeListener",value:function(t,n){this.eventEmitter.removeListener(t,n)}}]),t})();e.default=u},569,[1,29,30,527]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var c,s=this,u=n.id,f=n.password,N=n.onCreateResource,E=n.onLoginSuccessful,C=n.roomPassword,v=!1,O=new t.default(this.connection.options),l=new Promise(function(n,t){c=t,O.addListener(o.CONNECTION_DISCONNECTED,function(){O=void 0}),O.addListener(o.CONNECTION_ESTABLISHED,function(){if(!v){E&&E();var o=O.createRoom(s.options.name,s.options.config,N);o.moderator.authenticate().then(function(){O&&O.disconnect(),v||(s.join(C),n())}).catch(function(n){var o=n.error,c=n.message;O.disconnect(),t({authenticationError:o,message:c})})}}),O.addListener(o.CONNECTION_FAILED,function(n,o,c){t({connectionError:n,credentials:c,message:o}),O=void 0}),v||O.connect(u,f)});return l.cancel=function(){v=!0,c({}),O&&O.disconnect()},l};var o=r(d[1]),t=n(r(d[2]))},570,[1,571,572]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DISPLAY_NAME_REQUIRED=e.WRONG_STATE=e.CONNECTION_FAILED=e.CONNECTION_ESTABLISHED=e.CONNECTION_DISCONNECTED=void 0;e.CONNECTION_DISCONNECTED='connection.connectionDisconnected';e.CONNECTION_ESTABLISHED='connection.connectionEstablished';e.CONNECTION_FAILED='connection.connectionFailed';e.WRONG_STATE='connection.wrongState';e.DISPLAY_NAME_REQUIRED='connection.display_name_required'},571,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FEATURE_E2EE=e.FEATURE_JIGASI=e.JITSI_MEET_MUC_TYPE=e.DEFAULT_STUN_SERVERS=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=n(r(d[4])),u=n(r(d[5])),p=n(r(d[6])),l=r(d[7]),h=r(d[8]);r(d[9]);var f=t(r(d[10])),E=t(r(d[11])),v=n(r(d[12])),S=n(r(d[13])),_=r(d[14]),y=n(r(d[15])),C=n(r(d[16])),R=n(r(d[17])),N=n(r(d[18])),T=n(r(d[19])),A=n(r(d[20])),I=n(r(d[21])),b=n(r(d[22])),O=n(r(d[23])),F=n(r(d[24]));function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var P=(0,l.getLogger)(__filename);function D(t){var n=t.enableWebsocketResume,o=t.name,s=t.serviceUrl,c=void 0===s?'/http-bind':s,u=t.shard,p=t.token,l=t.websocketKeepAlive,h=t.websocketKeepAliveUrl,f=t.xmppPing;return p&&(c+=(-1===c.indexOf('?')?'?':'&')+"token="+p+"&room="+o),new T.default({enableWebsocketResume:n,serviceUrl:c,name:o,websocketKeepAlive:l,websocketKeepAliveUrl:h,xmppPing:f,shard:u})}var j=[{urls:'stun:meet-jit-si-turnrelay.jitsi.net:443'}];e.DEFAULT_STUN_SERVERS=j;e.JITSI_MEET_MUC_TYPE="type";e.FEATURE_JIGASI='http://jitsi.org/protocol/jigasi';e.FEATURE_E2EE="https://jitsi.org/meet/e2ee";var U=(function(t){(0,c.default)(U,t);var n,l,C=(n=U,l=k(),function(){var t,o=(0,p.default)(n);if(l){var s=(0,p.default)(this).constructor;t=Reflect.construct(o,arguments,s)}else t=o.apply(this,arguments);return(0,u.default)(this,t)});function U(t,n,s){var c,u;(0,o.default)(this,U),(u=C.call(this)).connection=null,u.disconnectInProgress=!1,u.connectionTimes={},u.options=t,u.token=n,u.authenticatedUser=!1,(0,F.default)(),(0,b.default)();var p=t.xmppPing||{};return p.domain=t.hosts.domain,u.connection=D({name:s,enableWebsocketResume:t.enableWebsocketResume,serviceUrl:t.serviceUrl||t.bosh,token:n,websocketKeepAlive:t.websocketKeepAlive,websocketKeepAliveUrl:t.websocketKeepAliveUrl,xmppPing:p,shard:null==(c=t.deploymentInfo)?void 0:c.shard}),u.connection.on(T.default.Events.CONN_SHARD_CHANGED,function(){var t={shard_changed:!0,suspend_time:u.connection.ping.getPingSuspendTime(),time_since_last_success:u.connection.getTimeSinceLastSuccess()};u.eventEmitter.emit(E.CONNECTION_FAILED,f.OTHER_ERROR,void 0,void 0,t)}),u._initStrophePlugins(),u.caps=new N.default(u.connection,u.options.clientNode),u.initFeaturesList(),u}return(0,s.default)(U,[{key:"initFeaturesList",value:function(){this.caps.addFeature('urn:xmpp:jingle:1'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:1'),this.caps.addFeature('urn:xmpp:jingle:transports:ice-udp:1'),this.caps.addFeature('urn:xmpp:jingle:apps:dtls:0'),this.caps.addFeature('urn:xmpp:jingle:transports:dtls-sctp:1'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:audio'),this.caps.addFeature('urn:xmpp:jingle:apps:rtp:video'),this.options.disableRtx||S.default.isFirefox()&&S.default.isVersionLessThan(84)||this.caps.addFeature('urn:ietf:rfc:4588'),!0===this.options.enableOpusRed&&S.default.supportsAudioRed()&&this.caps.addFeature('http://jitsi.org/opus-red'),(void 0===this.options.enableRemb||this.options.enableRemb)&&this.caps.addFeature('http://jitsi.org/remb'),(void 0===this.options.enableTcc||this.options.enableTcc)&&this.caps.addFeature('http://jitsi.org/tcc'),this.caps.addFeature('urn:ietf:rfc:5761'),this.caps.addFeature('urn:ietf:rfc:5888'),S.default.isChromiumBased()&&!0===this.options.enableLipSync&&(P.info('Lip-sync enabled !'),this.caps.addFeature('http://jitsi.org/meet/lipsync')),this.connection.rayo&&this.caps.addFeature('urn:xmpp:rayo:client:1'),_.E2EEncryption.isSupported(this.options)&&this.caps.addFeature("https://jitsi.org/meet/e2ee",!1,!0)}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,c=window.performance.now(),u=h.Strophe.getStatusString(o).toLowerCase();if(this.connectionTimes[u]=c,P.log("(TIME) Strophe "+u+(s?"["+s+"]":'')+":\t",c),this.eventEmitter.emit(v.default.CONNECTION_STATUS_CHANGED,n,o,s),o===h.Strophe.Status.CONNECTED||o===h.Strophe.Status.ATTACHED)this.connection.jingle.getStunAndTurnCredentials(),P.info("My Jabber ID: "+this.connection.jid),this._resetState(),this.caps.getFeaturesAndIdentities(this.options.hosts.domain).then(function(n){var o=n.features,s=n.identities;o.has(h.Strophe.NS.PING)||P.error("Ping NOT supported by "+t.options.hosts.domain+" - please enable ping in your XMPP server config"),s.forEach(function(n){'speakerstats'===n.type&&(t.speakerStatsComponentAddress=n.name),'conference_duration'===n.type&&(t.conferenceDurationComponentAddress=n.name),'lobbyrooms'===n.type&&(t.lobbySupported=!0,n.name&&t.caps.getFeaturesAndIdentities(n.name,n.type).then(function(n){n.features.forEach(function(n){n.endsWith('#displayname_required')&&t.eventEmitter.emit(E.DISPLAY_NAME_REQUIRED)})}).catch(function(t){return P.warn('Error getting features from lobby.',t&&t.message)}))}),(t.speakerStatsComponentAddress||t.conferenceDurationComponentAddress)&&t.connection.addHandler(t._onPrivateMessage.bind(t),null,'message',null,null)}).catch(function(t){y.default.callErrorHandler(new Error("Feature discovery error: "+t)),P.error('Feature discovery error',t)}),n.password&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&h.Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(E.CONNECTION_ESTABLISHED,h.Strophe.getResourceFromJid(this.connection.jid));else if(o===h.Strophe.Status.CONNFAIL)'x-strophe-bad-non-anon-jid'===s?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=s,'giving-up'===s&&this.eventEmitter.emit(E.CONNECTION_FAILED,f.OTHER_ERROR,s);else if(o===h.Strophe.Status.ERROR)this.lastErrorMsg=s;else if(o===h.Strophe.Status.DISCONNECTED){this.connection.ping.stopInterval();var p=Boolean(this.disconnectInProgress),l=s||this.lastErrorMsg;if(this.anonymousConnectionFailed)this.eventEmitter.emit(E.CONNECTION_FAILED,f.PASSWORD_REQUIRED);else if(this.connectionFailed)this.eventEmitter.emit(E.CONNECTION_FAILED,f.OTHER_ERROR,l,void 0,this._getConnectionFailedReasonDetails());else if(p)this.eventEmitter.emit(E.CONNECTION_DISCONNECTED,l);else{P.error('XMPP connection dropped!');var S=h.Strophe.getLastErrorStatus();S>=500&&S<600?this.eventEmitter.emit(E.CONNECTION_FAILED,f.SERVER_ERROR,l||'server-error',void 0,this._getConnectionFailedReasonDetails()):this.eventEmitter.emit(E.CONNECTION_FAILED,f.CONNECTION_DROPPED_ERROR,l||'connection-dropped-error',void 0,this._getConnectionFailedReasonDetails())}}else o===h.Strophe.Status.AUTHFAIL&&this.eventEmitter.emit(E.CONNECTION_FAILED,f.PASSWORD_REQUIRED,s,n)}},{key:"_connect",value:function(t,n){this._resetState(),this.connection.connect(t,n,this.connectionHandler.bind(this,{jid:t,password:n}))}},{key:"attach",value:function(t){this._resetState();var n=this.connectionTimes.attaching=window.performance.now();P.log('(TIME) Strophe Attaching:\t',n),this.connection.attach(t.jid,t.sid,parseInt(t.rid,10)+1,this.connectionHandler.bind(this,{jid:t.jid,password:t.password}))}},{key:"_resetState",value:function(){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.disconnectInProgress=void 0}},{key:"connect",value:function(t,n){if(!t){var o=this.options.hosts,s=o.anonymousdomain,c=o.domain,u=s||c,p=window.location;if(s){var l=p&&p.search;(l&&-1!==l.indexOf('login=true')||this.token)&&(u=c)}t=u||p&&p.hostname}return this._connect(t,n)}},{key:"createRoom",value:function(t,n,o){var s=t+"@"+(n.customDomain?n.customDomain:this.options.hosts.muc.toLowerCase())+"/",c=o?o(this.connection.jid,this.authenticatedUser):R.default.randomHexString(8).toLowerCase();return P.info("JID "+this.connection.jid+" using MUC nickname "+c),s+=c,this.connection.emuc.createRoom(s,null,n)}},{key:"getJid",value:function(){return this.connection.jid}},{key:"getJingleLog",value:function(){var t=this.connection.jingle;return t?t.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(){var t;(t=this.connection.rayo).dial.apply(t,arguments)}},{key:"ping",value:function(t){var n=this;return new Promise(function(o,s){n.connection.ping.ping(n.connection.pingDomain,o,s,t)})}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(t){var n=this;return this.disconnectInProgress?this.disconnectInProgress:this.connection?(this.disconnectInProgress=new Promise(function(t){n.eventEmitter.on(v.default.CONNECTION_STATUS_CHANGED,function o(s,c){c===h.Strophe.Status.DISCONNECTED&&(t(),n.eventEmitter.removeListener(v.default.CONNECTION_STATUS_CHANGED,o))})}),this._cleanupXmppConnection(t),this.disconnectInProgress):Promise.resolve()}},{key:"_cleanupXmppConnection",value:function(t){if(!this.connection.isUsingWebSocket&&this.connection.flush(),!this.connection.isUsingWebSocket&&null!==t&&void 0!==t){var n=t.type;if(('beforeunload'===n||'unload'===n)&&(this.connection.options.sync=!0,this.connection.sendUnavailableBeacon()))return}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}},{key:"_initStrophePlugins",value:function(){var t={jvb:{iceServers:[]},p2p:{iceServers:[]}},n=this.options.p2p&&this.options.p2p.stunServers||j;Array.isArray(n)&&(P.info('P2P STUN servers: ',n),t.p2p.iceServers=n),this.options.p2p&&this.options.p2p.iceTransportPolicy&&(P.info('P2P ICE transport policy: ',this.options.p2p.iceTransportPolicy),t.p2p.iceTransportPolicy=this.options.p2p.iceTransportPolicy),this.connection.addConnectionPlugin('emuc',new A.default(this)),this.connection.addConnectionPlugin('jingle',new I.default(this,this.eventEmitter,t)),this.connection.addConnectionPlugin('rayo',new O.default)}},{key:"_getConnectionFailedReasonDetails",value:function(){var t={};if(this.options.deploymentInfo&&this.options.deploymentInfo.shard&&this.connection.lastResponseHeaders){var n={};this.connection.lastResponseHeaders.trim().split(/[\r\n]+/).forEach(function(t){var o=t.split(': '),s=o.shift(),c=o.join(': ');n[s]=c}),t.shard_changed=this.options.deploymentInfo.shard!==n['x-jitsi-shard']}return t.suspend_time=this.connection.ping.getPingSuspendTime(),t.time_since_last_success=this.connection.getTimeSinceLastSuccess(),t}},{key:"sendDominantSpeakerEvent",value:function(t){if(this.speakerStatsComponentAddress&&t){var n=(0,h.$msg)({to:this.speakerStatsComponentAddress});n.c('speakerstats',{xmlns:'http://jitsi.org/jitmeet',room:t}).up(),this.connection.send(n)}}},{key:"tryParseJSONAndVerify",value:function(t){try{var n=JSON.parse(t);if(n&&'object'==typeof n){var o=n.type;if(void 0!==o)return n;P.debug("parsing valid json but does not have correct structure",'topic: ',o)}}catch(t){return P.error(t),!1}return!1}},{key:"_onPrivateMessage",value:function(t){var n=t.getAttribute('from');if(n!==this.speakerStatsComponentAddress&&n!==this.conferenceDurationComponentAddress)return!0;var o=$(t).find('>json-message').text(),s=this.tryParseJSONAndVerify(o);return s&&'speakerstats'===s.type&&s.users&&this.eventEmitter.emit(v.default.SPEAKER_STATS_RECEIVED,s.users),s&&'conference_duration'===s.type&&s.created_timestamp&&this.eventEmitter.emit(v.default.CONFERENCE_TIMESTAMP_RECEIVED,s.created_timestamp),!0}}]),U})(C.default);e.default=U},572,[12,1,29,30,40,42,39,432,529,573,574,571,564,536,575,552,569,592,568,593,601,608,623,624,625]);
__d(function(g,r,i,a,m,e,d){var t,n;t=this,n=function(t){'use strict';t.Strophe.addConnectionPlugin('disco',{_connection:null,_identities:[],_features:[],_items:[],init:function(n){this._connection=n,this._identities=[],this._features=[],this._items=[],n.addHandler(this._onDiscoInfo.bind(this),t.Strophe.NS.DISCO_INFO,'iq','get',null,null),n.addHandler(this._onDiscoItems.bind(this),t.Strophe.NS.DISCO_ITEMS,'iq','get',null,null)},addIdentity:function(t,n,s,o){for(var u=0;u<this._identities.length;u++)if(this._identities[u].category==t&&this._identities[u].type==n&&this._identities[u].name==s&&this._identities[u].lang==o)return!1;return this._identities.push({category:t,type:n,name:s,lang:o}),!0},addFeature:function(t){for(var n=0;n<this._features.length;n++)if(this._features[n]==t)return!1;return this._features.push(t),!0},removeFeature:function(t){for(var n=0;n<this._features.length;n++)if(this._features[n]===t)return this._features.splice(n,1),!0;return!1},addItem:function(t,n,s,o){return!(s&&!o)&&(this._items.push({jid:t,name:n,node:s,call_back:o}),!0)},info:function(n,s,o,u,h){var _={xmlns:t.Strophe.NS.DISCO_INFO};s&&(_.node=s);var c=t.$iq({from:this._connection.jid,to:n,type:'get'}).c('query',_);this._connection.sendIQ(c,o,u,h)},items:function(n,s,o,u,h){var _={xmlns:t.Strophe.NS.DISCO_ITEMS};s&&(_.node=s);var c=t.$iq({from:this._connection.jid,to:n,type:'get'}).c('query',_);this._connection.sendIQ(c,o,u,h)},_buildIQResult:function(n,s){var o=n.getAttribute('id'),u=n.getAttribute('from'),h=t.$iq({type:'result',id:o});return null!==u&&h.attrs({to:u}),h.c('query',s)},_onDiscoInfo:function(n){var s,o=n.getElementsByTagName('query')[0].getAttribute('node'),u={xmlns:t.Strophe.NS.DISCO_INFO};o&&(u.node=o);var h=this._buildIQResult(n,u);for(s=0;s<this._identities.length;s++)u={category:this._identities[s].category,type:this._identities[s].type},this._identities[s].name&&(u.name=this._identities[s].name),this._identities[s].lang&&(u['xml:lang']=this._identities[s].lang),h.c('identity',u).up();for(s=0;s<this._features.length;s++)h.c('feature',{var:this._features[s]}).up();return this._connection.send(h.tree()),!0},_onDiscoItems:function(n){var s,o,u={xmlns:t.Strophe.NS.DISCO_ITEMS},h=n.getElementsByTagName('query')[0].getAttribute('node');if(h){for(u.node=h,s=[],o=0;o<this._items.length;o++)if(this._items[o].node==h){s=this._items[o].call_back(n);break}}else s=this._items;var _=this._buildIQResult(n,u);for(o=0;o<s.length;o++){var c={jid:s[o].jid};s[o].name&&(c.name=s[o].name),s[o].node&&(c.node=s[o].node),_.c('item',c).up()}return this._connection.send(_.tree()),!0}})},'object'==typeof e&&void 0!==m?n(r(d[0])):'function'==typeof define&&define.amd?define(['strophe.js'],n):n(t.window)},573,[529]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_ERROR=e.PASSWORD_REQUIRED=e.OTHER_ERROR=e.CONNECTION_DROPPED_ERROR=void 0;e.CONNECTION_DROPPED_ERROR='connection.droppedError';e.OTHER_ERROR='connection.otherError';e.PASSWORD_REQUIRED='connection.passwordRequired';e.SERVER_ERROR='connection.serverError'},574,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.E2EEncryption=void 0;var s=n(r(d[2])),o=n(r(d[3])),c=n(r(d[4])),u=r(d[5]),l=n(r(d[6])),h=t(r(d[7])),y=n(r(d[8])),_=n(r(d[9])),f=n(r(d[10])),p=r(d[11]),E=r(d[12]);function v(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=k(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function k(t,n){if(t){if("string"==typeof t)return b(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?b(t,n):void 0}}function b(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var K=(0,u.getLogger)(__filename),A=5e3,P={name:'ECDSA',namedCurve:'P-521'},C=(function(){function t(n){var s=this;(0,o.default)(this,t),this.conference=n,this._conferenceJoined=!1,this._enabled=!1,this._initialized=!1,this._key=void 0,this._signatureKeyPair=void 0,this._e2eeCtx=new f.default,this._olmAdapter=new p.OlmAdapter(n),this._ratchetKey=(0,l.default)(this._ratchetKeyImpl,A),this._rotateKey=(0,l.default)(this._rotateKeyImpl,A),this.conference.on(h.CONFERENCE_JOINED,function(){s._conferenceJoined=!0}),this.conference.on(h.PARTICIPANT_PROPERTY_CHANGED,this._onParticipantPropertyChanged.bind(this)),this.conference.on(h.USER_JOINED,this._onParticipantJoined.bind(this)),this.conference.on(h.USER_LEFT,this._onParticipantLeft.bind(this)),this.conference.on(h._MEDIA_SESSION_STARTED,this._onMediaSessionStarted.bind(this)),this.conference.on(h.TRACK_ADDED,function(t){return t.isLocal()&&s._onLocalTrackAdded(t)}),this.conference.rtc.on(y.default.REMOTE_TRACK_ADDED,function(t,n){return s._setupReceiverE2EEForTrack(n,t)}),this.conference.on(h.TRACK_MUTE_CHANGED,this._trackMuteChanged.bind(this)),this._olmAdapter.on(p.OlmAdapter.events.OLM_ID_KEY_READY,this._onOlmIdKeyReady.bind(this)),this._olmAdapter.on(p.OlmAdapter.events.PARTICIPANT_E2EE_CHANNEL_READY,this._onParticipantE2EEChannelReady.bind(this)),this._olmAdapter.on(p.OlmAdapter.events.PARTICIPANT_KEY_UPDATED,this._onParticipantKeyUpdated.bind(this))}return(0,c.default)(t,[{key:"isEnabled",value:function(){return this._enabled}},{key:"setEnabled",value:function(t){var n,o=this;return s.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t!==this._enabled){c.next=2;break}return c.abrupt("return");case 2:if(this._enabled=t,this._initialized||!t){c.next=14;break}return c.next=6,s.default.awrap(crypto.subtle.generateKey(P,!0,['sign','verify']));case 6:return this._signatureKeyPair=c.sent,this._e2eeCtx.setSignatureKey(this.conference.myUserId(),this._signatureKeyPair.privateKey),c.next=10,s.default.awrap(crypto.subtle.exportKey('jwk',this._signatureKeyPair.publicKey));case 10:n=c.sent,this.conference.setLocalParticipantProperty('e2ee.signatureKey',JSON.stringify(n)),this.conference._restartMediaSessions(),this._initialized=!0;case 14:this._key=!!t&&this._generateKey(),this._olmAdapter.updateKey(this._key).then(function(t){o._e2eeCtx.setKey(o.conference.myUserId(),o._key,t)});case 16:case"end":return c.stop()}},null,this,null,Promise)}},{key:"_generateKey",value:function(){return window.crypto.getRandomValues(new Uint8Array(32))}},{key:"_onLocalTrackAdded",value:function(t){for(var n,s=v(this.conference._getMediaSessions());!(n=s()).done;){var o=n.value;this._setupSenderE2EEForTrack(o,t)}}},{key:"_onMediaSessionStarted",value:function(t){for(var n,s=v(this.conference.getLocalTracks());!(n=s()).done;){var o=n.value;this._setupSenderE2EEForTrack(t,o)}}},{key:"_onOlmIdKeyReady",value:function(t){K.debug("Olm id key ready: "+t),this.conference.setLocalParticipantProperty('e2ee.idKey',t)}},{key:"_onParticipantJoined",value:function(t){K.debug("Participant "+t+" joined"),this._conferenceJoined&&this._enabled&&this._ratchetKey()}},{key:"_onParticipantLeft",value:function(t){K.debug("Participant "+t+" left"),this._e2eeCtx.cleanup(t),this._enabled&&this._rotateKey()}},{key:"_onParticipantE2EEChannelReady",value:function(t){K.debug("E2EE channel with participant "+t+" is ready")}},{key:"_onParticipantKeyUpdated",value:function(t,n,s){K.debug("Participant "+t+" updated their key"),this._e2eeCtx.setKey(t,n,s)}},{key:"_onParticipantPropertyChanged",value:function(t,n,o,c){var u,l;return s.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:o.t0=n,o.next='e2ee.idKey'===o.t0?3:'e2ee.signatureKey'===o.t0?5:16;break;case 3:return K.debug("Participant "+t.getId()+" updated their id key: "+c),o.abrupt("break",16);case 5:if(K.debug("Participant "+t.getId()+" updated their signature key: "+c),!c){o.next=14;break}return u=JSON.parse(c),o.next=10,s.default.awrap(crypto.subtle.importKey('jwk',u,{name:'ECDSA',namedCurve:u.crv},!0,u.key_ops));case 10:l=o.sent,this._e2eeCtx.setSignatureKey(t.getId(),l),o.next=15;break;case 14:K.warn("e2ee signatureKey for "+t.getId()+" could not be updated with empty value.");case 15:return o.abrupt("break",16);case 16:case"end":return o.stop()}},null,this,null,Promise)}},{key:"_ratchetKeyImpl",value:function(){var t,n,o;return s.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return K.debug('Ratchetting key'),c.next=3,s.default.awrap((0,E.importKey)(this._key));case 3:return t=c.sent,c.next=6,s.default.awrap((0,E.ratchet)(t));case 6:return n=c.sent,this._key=new Uint8Array(n),c.next=10,s.default.awrap(this._olmAdapter.updateCurrentKey(this._key));case 10:o=c.sent,this._e2eeCtx.setKey(this.conference.myUserId(),this._key,o);case 12:case"end":return c.stop()}},null,this,null,Promise)}},{key:"_rotateKeyImpl",value:function(){var t;return s.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return K.debug('Rotating key'),this._key=this._generateKey(),n.next=4,s.default.awrap(this._olmAdapter.updateKey(this._key));case 4:t=n.sent,this._e2eeCtx.setKey(this.conference.myUserId(),this._key,t);case 6:case"end":return n.stop()}},null,this,null,Promise)}},{key:"_setupReceiverE2EEForTrack",value:function(t,n){if(this._enabled){var s=t.findReceiverForTrack(n.track);s?this._e2eeCtx.handleReceiver(s,n.getType(),n.getParticipantId()):K.warn("Could not handle E2EE for "+n+": receiver not found in: "+t)}}},{key:"_setupSenderE2EEForTrack",value:function(t,n){if(this._enabled){var s=t.peerconnection,o=s&&s.findSenderForTrack(n.track);o?this._e2eeCtx.handleSender(o,n.getType(),n.getParticipantId()):K.warn("Could not handle E2EE for "+n+": sender not found in "+s)}}},{key:"_trackMuteChanged",value:function(t){if(_.default.doesVideoMuteByStreamRemove()&&t.isLocal()&&t.isVideoTrack()&&!t.isMuted())for(var n,s=v(this.conference._getMediaSessions());!(n=s()).done;){var o=n.value;this._setupSenderE2EEForTrack(o,t)}}}],[{key:"isSupported",value:function(t){return _.default.supportsInsertableStreams()&&p.OlmAdapter.isSupported()&&!(t.testing&&t.testing.disableE2EE)}}]),t})();e.E2EEncryption=C},575,[12,1,106,29,30,432,576,524,561,536,577,578,591]);
__d(function(g,r,i,a,m,e,d){var t='Expected a function',n=NaN,o='[object Symbol]',u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,v=parseInt,l='object'==typeof g&&g&&g.Object===Object&&g,p='object'==typeof self&&self&&self.Object===Object&&self,b=l||p||Function('return this')(),y=Object.prototype.toString,j=Math.max,O=Math.min,h=function(){return b.Date.now()};function x(t){var n=typeof t;return!!t&&('object'==n||'function'==n)}function T(t){return!!t&&'object'==typeof t}function $(t){return'symbol'==typeof t||T(t)&&y.call(t)==o}function w(t){if('number'==typeof t)return t;if($(t))return n;if(x(t)){var o='function'==typeof t.valueOf?t.valueOf():t;t=x(o)?o+'':o}if('string'!=typeof t)return 0===t?t:+t;t=t.replace(u,'');var l=c.test(t);return l||s.test(t)?v(t.slice(2),l?2:8):f.test(t)?n:+t}m.exports=function(n,o,u){var f,c,s,v,l,p,b=0,y=!1,T=!1,$=!0;if('function'!=typeof n)throw new TypeError(t);function E(t){var o=f,u=c;return f=c=void 0,b=t,v=n.apply(u,o)}function M(t){return b=t,l=setTimeout(W,o),y?E(t):v}function N(t){var n=o-(t-p);return T?O(n,s-(t-b)):n}function S(t){var n=t-p;return void 0===p||n>=o||n<0||T&&t-b>=s}function W(){var t=h();if(S(t))return _(t);l=setTimeout(W,N(t))}function _(t){return l=void 0,$&&f?E(t):(f=c=void 0,v)}function D(){var t=h(),n=S(t);if(f=arguments,c=this,p=t,n){if(void 0===l)return M(p);if(T)return l=setTimeout(W,o),E(p)}return void 0===l&&(l=setTimeout(W,o)),v}return o=w(o)||0,x(u)&&(y=!!u.leading,s=(T='maxWait'in u)?j(w(u.maxWait)||0,o):s,$='trailing'in u?!!u.trailing:$),D.cancel=function(){void 0!==l&&clearTimeout(l),b=0,f=p=c=l=void 0},D.flush=function(){return void 0===l?v:_(h())},D}},576,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=t(r(d[2])),s=(0,r(d[3]).getLogger)(__filename),c=Symbol('kJitsiE2EE'),l=(function(){function t(){(0,o.default)(this,t);var n='',c=document.querySelector('script[src*="sariska-media-transport"]');if(c){var l=c.src.lastIndexOf('/');n=c.src.substring(0,l)+"/"}var p=new Blob(["importScripts(\""+(n+"sariska-media-transport.e2ee-worker.js")+"\");"],{type:'application/javascript'}),u=window.URL.createObjectURL(p);this._worker=new Worker(u,{name:'E2EE Worker'}),this._worker.onerror=function(t){return s.onerror(t)}}return(0,n.default)(t,[{key:"cleanup",value:function(t){this._worker.postMessage({operation:'cleanup',participantId:t})}},{key:"handleReceiver",value:function(t,o,n){var s;t[c]||(t[c]=!0,s=t.createEncodedStreams?t.createEncodedStreams():'video'===o?t.createEncodedVideoStreams():t.createEncodedAudioStreams(),this._worker.postMessage({operation:'decode',readableStream:s.readable||s.readableStream,writableStream:s.writable||s.writableStream,participantId:n},[s.readable||s.readableStream,s.writable||s.writableStream]))}},{key:"handleSender",value:function(t,o,n){var s;t[c]||(t[c]=!0,s=t.createEncodedStreams?t.createEncodedStreams():'video'===o?t.createEncodedVideoStreams():t.createEncodedAudioStreams(),this._worker.postMessage({operation:'encode',readableStream:s.readable||s.readableStream,writableStream:s.writable||s.writableStream,participantId:n},[s.readable||s.readableStream,s.writable||s.writableStream]))}},{key:"setKey",value:function(t,o,n){this._worker.postMessage({operation:'setKey',participantId:t,key:o,keyIndex:n})}},{key:"setSignatureKey",value:function(t,o){this._worker.postMessage({operation:'setSignatureKey',participantId:t,key:o})}}]),t})();e.default=l},577,[1,29,30,432]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.OlmAdapter=void 0;var s=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),c=n(r(d[5])),l=n(r(d[6])),f=n(r(d[7])),_=n(r(d[8])),y=n(r(d[9])),p=n(r(d[10])),h=r(d[11]),v=n(r(d[12])),E=r(d[13]),k=t(r(d[14])),b=n(r(d[15])),I=n(r(d[16])),A=r(d[17]);function P(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=T(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function T(t,n){if(t){if("string"==typeof t)return w(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?w(t,n):void 0}}function w(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var S=(0,h.getLogger)(__filename),O='error',C='key-info',D='key-info-ack',N='session-ack',R='session-init',M=Symbol('OlmData'),K={OLM_ID_KEY_READY:'olm.id_key_ready',PARTICIPANT_E2EE_CHANNEL_READY:'olm.participant_e2ee_channel_ready',PARTICIPANT_KEY_UPDATED:'olm.partitipant_key_updated'},U=(function(t){(0,f.default)(T,t);var n,h,I=(n=T,h=x(),function(){var t,s=(0,y.default)(n);if(h){var o=(0,y.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,_.default)(this,t)});function T(t){var n;return(0,u.default)(this,T),(n=I.call(this))._conf=t,n._init=new b.default,n._key=void 0,n._keyIndex=-1,n._reqs=new Map,T.isSupported()?(n._bootstrapOlm(),n._conf.on(k.ENDPOINT_MESSAGE_RECEIVED,n._onEndpointMessageReceived.bind((0,l.default)(n))),n._conf.on(k.CONFERENCE_JOINED,n._onConferenceJoined.bind((0,l.default)(n))),n._conf.on(k.CONFERENCE_LEFT,n._onConferenceLeft.bind((0,l.default)(n))),n._conf.on(k.USER_LEFT,n._onParticipantLeft.bind((0,l.default)(n)))):n._init.reject(new Error('Olm not supported')),n}return(0,c.default)(T,[{key:"updateCurrentKey",value:function(t){return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this._key=t,n.abrupt("return",this._keyIndex);case 2:case"end":return n.stop()}},null,this,null,Promise)}},{key:"updateKey",value:function(t){var n,u,c,l,f,_=this;return o.default.async(function(y){for(;;)switch(y.prev=y.next){case 0:this._key=t,this._keyIndex++,n=[],u=function(t){var o,u=t.getId(),c=_._getParticipantOlmData(t);if(!c.session)return S.warn("Tried to send key to participant "+u+" but we have no session"),"continue";var l=(0,E.v4)(),f=(o={},(0,s.default)(o,A.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(o,"olm",{type:C,data:{ciphertext:_._encryptKeyInfo(c.session),uuid:l}}),o),y=new b.default;y.setRejectTimeout(5e3),y.catch(function(){_._reqs.delete(l)}),_._reqs.set(l,y),n.push(y),_._sendMessage(f,u)},c=P(this._conf.getParticipants());case 5:if((l=c()).done){y.next=12;break}if(f=l.value,"continue"!==u(f)){y.next=10;break}return y.abrupt("continue",10);case 10:y.next=5;break;case 12:return y.next=14,o.default.awrap(Promise.allSettled(n));case 14:return y.abrupt("return",this._keyIndex);case 15:case"end":return y.stop()}},null,this,null,Promise)}},{key:"_bootstrapOlm",value:function(){var t;return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return S.debug('Initializing Olm...'),n.prev=1,n.next=4,o.default.awrap(Olm.init());case 4:this._olmAccount=new Olm.Account,this._olmAccount.create(),t=JSON.parse(this._olmAccount.identity_keys()),this._idKey=t.curve25519,S.debug("Olm "+Olm.get_library_version().join('.')+" initialized"),this._init.resolve(),this.eventEmitter.emit(K.OLM_ID_KEY_READY,this._idKey),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),S.error('Failed to initialize Olm',n.t0),this._init.reject(n.t0);case 17:case"end":return n.stop()}},null,this,[[1,13]],Promise)}},{key:"_encryptKeyInfo",value:function(t){var n={};return void 0!==this._key&&(n.key=!!this._key&&p.default.fromByteArray(this._key),n.keyIndex=this._keyIndex),t.encrypt(JSON.stringify(n))}},{key:"_getParticipantOlmData",value:function(t){return t[M]=t[M]||{},t[M]}},{key:"_onConferenceJoined",value:function(){var t,n,s,u;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return S.debug('Conference joined'),c.next=3,o.default.awrap(this._init);case 3:for(t=[],n=P(this._conf.getParticipants());!(s=n()).done;)u=s.value,t.push(this._sendSessionInit(u));return c.next=7,o.default.awrap(Promise.allSettled(t));case 7:case"end":return c.stop()}},null,this,null,Promise)}},{key:"_onConferenceLeft",value:function(){var t,n,s;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return S.debug('Conference left'),u.next=3,o.default.awrap(this._init);case 3:for(t=P(this._conf.getParticipants());!(n=t()).done;)s=n.value,this._onParticipantLeft(s.getId(),s);this._olmAccount&&(this._olmAccount.free(),this._olmAccount=void 0);case 5:case"end":return u.stop()}},null,this,null,Promise)}},{key:"_onEndpointMessageReceived",value:function(t,n){var u,c,l,f,_,y,h,E,k,b,I,P,T,w,x,M,U,j,J,L,q,F,B,z,H,G;return o.default.async(function(V){for(;;)switch(V.prev=V.next){case 0:if("olm"===n[A.JITSI_MEET_MUC_TYPE]){V.next=2;break}return V.abrupt("return");case 2:if(n.olm){V.next=5;break}return S.warn('Incorrectly formatted message'),V.abrupt("return");case 5:return V.next=7,o.default.awrap(this._init);case 7:u=n.olm,c=t.getId(),l=this._getParticipantOlmData(t),V.t0=u.type,V.next=V.t0===R?13:V.t0===N?15:V.t0===O?17:V.t0===C?19:V.t0===D?21:23;break;case 13:return l.session?(S.warn("Participant "+c+" already has a session"),this._sendError(t,'Session already established')):((_=new Olm.Session).create_outbound(this._olmAccount,u.data.idKey,u.data.otKey),l.session=_,f={},(0,s.default)(f,A.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(f,"olm",{type:N,data:{ciphertext:this._encryptKeyInfo(_),uuid:u.data.uuid}}),y=f,this._sendMessage(y,c),this.eventEmitter.emit(K.PARTICIPANT_E2EE_CHANNEL_READY,c)),V.abrupt("break",23);case 15:return l.session?(S.warn("Participant "+c+" already has a session"),this._sendError(t,'No session found')):u.data.uuid===l.pendingSessionUuid?(h=u.data.ciphertext,E=this._reqs.get(u.data.uuid),(k=new Olm.Session).create_inbound(this._olmAccount,h.body),this._olmAccount.remove_one_time_keys(k),b=k.decrypt(h.type,h.body),l.session=k,l.pendingSessionUuid=void 0,this.eventEmitter.emit(K.PARTICIPANT_E2EE_CHANNEL_READY,c),this._reqs.delete(u.data.uuid),E.resolve(),(I=Y(b)).key&&(P=p.default.toByteArray(I.key),T=I.keyIndex,l.lastKey=P,this.eventEmitter.emit(K.PARTICIPANT_KEY_UPDATED,c,P,T))):(S.warn('Received ACK with the wrong UUID'),this._sendError(t,'Invalid UUID')),V.abrupt("break",23);case 17:return S.error(u.data.error),V.abrupt("break",23);case 19:return l.session?(w=u.data.ciphertext,x=l.session.decrypt(w.type,w.body),void 0!==(M=Y(x)).key&&void 0!==M.keyIndex&&(j=!!M.key&&p.default.toByteArray(M.key),J=M.keyIndex,(0,v.default)(l.lastKey,j)||(l.lastKey=j,this.eventEmitter.emit(K.PARTICIPANT_KEY_UPDATED,c,j,J)),U={},(0,s.default)(U,A.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(U,"olm",{type:D,data:{ciphertext:this._encryptKeyInfo(l.session),uuid:u.data.uuid}}),L=U,this._sendMessage(L,c))):(S.debug("Received key info message from "+c+" but we have no session for them!"),this._sendError(t,'No session found while processing key-info')),V.abrupt("break",23);case 21:return l.session?(q=u.data.ciphertext,F=l.session.decrypt(q.type,q.body),void 0!==(B=Y(F)).key&&void 0!==B.keyIndex&&(z=!!B.key&&p.default.toByteArray(B.key),H=B.keyIndex,(0,v.default)(l.lastKey,z)||(l.lastKey=z,this.eventEmitter.emit(K.PARTICIPANT_KEY_UPDATED,c,z,H))),G=this._reqs.get(u.data.uuid),this._reqs.delete(u.data.uuid),G.resolve()):(S.debug("Received key info ack message from "+c+" but we have no session for them!"),this._sendError(t,'No session found while processing key-info-ack')),V.abrupt("break",23);case 23:case"end":return V.stop()}},null,this,null,Promise)}},{key:"_onParticipantLeft",value:function(t,n){S.debug("Participant "+t+" left");var s=this._getParticipantOlmData(n);s.session&&(s.session.free(),s.session=void 0)}},{key:"_sendError",value:function(t,n){var o,u=t.getId(),c=(o={},(0,s.default)(o,A.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(o,"olm",{type:O,data:{error:n}}),o);this._sendMessage(c,u)}},{key:"_sendMessage",value:function(t,n){this._conf.sendMessage(t,n)}},{key:"_sendSessionInit",value:function(t){var n,o=this,u=t.getId(),c=this._getParticipantOlmData(t);if(c.session)return S.warn("Tried to send session-init to "+u+" but we already have a session"),Promise.reject();if(void 0!==c.pendingSessionUuid)return S.warn("Tried to send session-init to "+u+" but we already have a pending session"),Promise.reject();this._olmAccount.generate_one_time_keys(1);var l=JSON.parse(this._olmAccount.one_time_keys()),f=Object.values(l.curve25519)[0];if(!f)return Promise.reject(new Error('No one-time-keys generated'));this._olmAccount.mark_keys_as_published();var _=(0,E.v4)(),y=(n={},(0,s.default)(n,A.JITSI_MEET_MUC_TYPE,"olm"),(0,s.default)(n,"olm",{type:R,data:{idKey:this._idKey,otKey:f,uuid:_}}),n),p=new b.default;return p.setRejectTimeout(5e3),p.catch(function(){o._reqs.delete(_),c.pendingSessionUuid=void 0}),this._reqs.set(_,p),this._sendMessage(y,u),c.pendingSessionUuid=_,p}}],[{key:"isSupported",value:function(){return void 0!==window.Olm}}]),T})(I.default);function Y(t){try{return JSON.parse(t)}catch(t){return{}}}e.OlmAdapter=U,U.events=K},578,[12,1,51,106,29,30,43,40,42,39,579,432,528,580,524,590,569,572]);
__d(function(g,r,i,a,m,e,d){'use strict';e.byteLength=function(t){var n=f(t),o=n[0],h=n[1];return 3*(o+h)/4-h},e.toByteArray=function(t){var h,u,c=f(t),C=c[0],y=c[1],s=new o(A(t,C,y)),v=0,l=y>0?C-4:C;for(u=0;u<l;u+=4)h=n[t.charCodeAt(u)]<<18|n[t.charCodeAt(u+1)]<<12|n[t.charCodeAt(u+2)]<<6|n[t.charCodeAt(u+3)],s[v++]=h>>16&255,s[v++]=h>>8&255,s[v++]=255&h;2===y&&(h=n[t.charCodeAt(u)]<<2|n[t.charCodeAt(u+1)]>>4,s[v++]=255&h);1===y&&(h=n[t.charCodeAt(u)]<<10|n[t.charCodeAt(u+1)]<<4|n[t.charCodeAt(u+2)]>>2,s[v++]=h>>8&255,s[v++]=255&h);return s},e.fromByteArray=function(n){for(var o,h=n.length,u=h%3,c=[],f=0,A=h-u;f<A;f+=16383)c.push(C(n,f,f+16383>A?A:f+16383));1===u?(o=n[h-1],c.push(t[o>>2]+t[o<<4&63]+'==')):2===u&&(o=(n[h-2]<<8)+n[h-1],c.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return c.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,h='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',u=0,c=h.length;u<c;++u)t[u]=h[u],n[h.charCodeAt(u)]=u;function f(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function A(t,n,o){return 3*(n+o)/4-o}function C(n,o,h){for(var u,c,f=[],A=o;A<h;A+=3)u=(n[A]<<16&16711680)+(n[A+1]<<8&65280)+(255&n[A+2]),f.push(t[(c=u)>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]);return f.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},579,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return f.default}});var t=o(r(d[0])),n=o(r(d[1])),u=o(r(d[2])),f=o(r(d[3]));function o(t){return t&&t.__esModule?t:{default:t}}},580,[581,584,587,588]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o,u=s(r(d[0])),l=s(r(d[1]));function s(n){return n&&n.__esModule?n:{default:n}}var t=0,c=0;var v=function(s,v,f){var _=v&&f||0,k=v||[],q=(s=s||{}).node||n,w=void 0!==s.clockseq?s.clockseq:o;if(null==q||null==w){var M=s.random||(s.rng||u.default)();null==q&&(q=n=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),null==w&&(w=o=16383&(M[6]<<8|M[7]))}var h=void 0!==s.msecs?s.msecs:Date.now(),b=void 0!==s.nsecs?s.nsecs:c+1,j=h-t+(b-c)/1e4;if(j<0&&void 0===s.clockseq&&(w=w+1&16383),(j<0||h>t)&&void 0===s.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t=h,c=b,o=w;var p=(1e4*(268435455&(h+=122192928e5))+b)%4294967296;k[_++]=p>>>24&255,k[_++]=p>>>16&255,k[_++]=p>>>8&255,k[_++]=255&p;var y=h/4294967296*1e4&268435455;k[_++]=y>>>8&255,k[_++]=255&y,k[_++]=y>>>24&15|16,k[_++]=y>>>16&255,k[_++]=w>>>8|128,k[_++]=255&w;for(var C=0;C<6;++C)k[_+C]=q[C];return v||(0,l.default)(k)};e.default=v},581,[582,583]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!t)throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');return t(o)};var t='undefined'!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||'undefined'!=typeof msCrypto&&'function'==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16)},582,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;for(var t=[],u=0;u<256;++u)t.push((u+256).toString(16).substr(1));var o=function(u,o){var n=o||0,s=t;return(s[u[n+0]]+s[u[n+1]]+s[u[n+2]]+s[u[n+3]]+'-'+s[u[n+4]]+s[u[n+5]]+'-'+s[u[n+6]]+s[u[n+7]]+'-'+s[u[n+8]]+s[u[n+9]]+'-'+s[u[n+10]]+s[u[n+11]]+s[u[n+12]]+s[u[n+13]]+s[u[n+14]]+s[u[n+15]]).toLowerCase()};e.default=o},583,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v3',48,u.default);e.default=l},584,[585,586]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,s,y){function p(t,f,c,p){var v=c&&p||0;if('string'==typeof t&&(t=u(t)),'string'==typeof f&&(f=o(f)),!Array.isArray(t))throw TypeError('value must be an array of bytes');if(!Array.isArray(f)||16!==f.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');var b=y(f.concat(t));if(b[6]=15&b[6]|s,b[8]=63&b[8]|128,c)for(var l=0;l<16;++l)c[v+l]=b[l];return c||(0,n.default)(b)}try{p.name=t}catch(t){}return p.DNS=f,p.URL=c,p},e.URL=e.DNS=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};function o(t){var n=[];return t.replace(/[a-fA-F0-9]{2}/g,function(t){n.push(parseInt(t,16))}),n}function u(t){t=unescape(encodeURIComponent(t));for(var n=[],o=0;o<t.length;++o)n.push(t.charCodeAt(o));return n}var f='6ba7b810-9dad-11d1-80b4-00c04fd430c8';e.DNS=f;var c='6ba7b811-9dad-11d1-80b4-00c04fd430c8';e.URL=c},585,[583]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){for(var t=[],u=32*n.length,f=0;f<u;f+=8){var o=n[f>>5]>>>f%32&255,c=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(c)}return t}function t(n){return 14+(n+64>>>9<<4)+1}function u(n,u){n[u>>5]|=128<<u%32,n[t(u)-1]=u;for(var f=1732584193,c=-271733879,p=-1732584194,A=271733878,y=0;y<n.length;y+=16){var _=f,b=c,U=p,w=A;c=s(c=s(c=s(c=s(c=l(c=l(c=l(c=l(c=h(c=h(c=h(c=h(c=v(c=v(c=v(c=v(c,p=v(p,A=v(A,f=v(f,c,p,A,n[y],7,-680876936),c,p,n[y+1],12,-389564586),f,c,n[y+2],17,606105819),A,f,n[y+3],22,-1044525330),p=v(p,A=v(A,f=v(f,c,p,A,n[y+4],7,-176418897),c,p,n[y+5],12,1200080426),f,c,n[y+6],17,-1473231341),A,f,n[y+7],22,-45705983),p=v(p,A=v(A,f=v(f,c,p,A,n[y+8],7,1770035416),c,p,n[y+9],12,-1958414417),f,c,n[y+10],17,-42063),A,f,n[y+11],22,-1990404162),p=v(p,A=v(A,f=v(f,c,p,A,n[y+12],7,1804603682),c,p,n[y+13],12,-40341101),f,c,n[y+14],17,-1502002290),A,f,n[y+15],22,1236535329),p=h(p,A=h(A,f=h(f,c,p,A,n[y+1],5,-165796510),c,p,n[y+6],9,-1069501632),f,c,n[y+11],14,643717713),A,f,n[y],20,-373897302),p=h(p,A=h(A,f=h(f,c,p,A,n[y+5],5,-701558691),c,p,n[y+10],9,38016083),f,c,n[y+15],14,-660478335),A,f,n[y+4],20,-405537848),p=h(p,A=h(A,f=h(f,c,p,A,n[y+9],5,568446438),c,p,n[y+14],9,-1019803690),f,c,n[y+3],14,-187363961),A,f,n[y+8],20,1163531501),p=h(p,A=h(A,f=h(f,c,p,A,n[y+13],5,-1444681467),c,p,n[y+2],9,-51403784),f,c,n[y+7],14,1735328473),A,f,n[y+12],20,-1926607734),p=l(p,A=l(A,f=l(f,c,p,A,n[y+5],4,-378558),c,p,n[y+8],11,-2022574463),f,c,n[y+11],16,1839030562),A,f,n[y+14],23,-35309556),p=l(p,A=l(A,f=l(f,c,p,A,n[y+1],4,-1530992060),c,p,n[y+4],11,1272893353),f,c,n[y+7],16,-155497632),A,f,n[y+10],23,-1094730640),p=l(p,A=l(A,f=l(f,c,p,A,n[y+13],4,681279174),c,p,n[y],11,-358537222),f,c,n[y+3],16,-722521979),A,f,n[y+6],23,76029189),p=l(p,A=l(A,f=l(f,c,p,A,n[y+9],4,-640364487),c,p,n[y+12],11,-421815835),f,c,n[y+15],16,530742520),A,f,n[y+2],23,-995338651),p=s(p,A=s(A,f=s(f,c,p,A,n[y],6,-198630844),c,p,n[y+7],10,1126891415),f,c,n[y+14],15,-1416354905),A,f,n[y+5],21,-57434055),p=s(p,A=s(A,f=s(f,c,p,A,n[y+12],6,1700485571),c,p,n[y+3],10,-1894986606),f,c,n[y+10],15,-1051523),A,f,n[y+1],21,-2054922799),p=s(p,A=s(A,f=s(f,c,p,A,n[y+8],6,1873313359),c,p,n[y+15],10,-30611744),f,c,n[y+6],15,-1560198380),A,f,n[y+13],21,1309151649),p=s(p,A=s(A,f=s(f,c,p,A,n[y+4],6,-145523070),c,p,n[y+11],10,-1120210379),f,c,n[y+2],15,718787259),A,f,n[y+9],21,-343485551),f=o(f,_),c=o(c,b),p=o(p,U),A=o(A,w)}return[f,c,p,A]}function f(n){if(0===n.length)return[];for(var u=8*n.length,f=new Uint32Array(t(u)),o=0;o<u;o+=8)f[o>>5]|=(255&n[o/8])<<o%32;return f}function o(n,t){var u=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(u>>16)<<16|65535&u}function c(n,t,u,f,c,v){return o((h=o(o(t,n),o(f,v)))<<(l=c)|h>>>32-l,u);var h,l}function v(n,t,u,f,o,v,h){return c(t&u|~t&f,n,t,o,v,h)}function h(n,t,u,f,o,v,h){return c(t&f|u&~f,n,t,o,v,h)}function l(n,t,u,f,o,v,h){return c(t^u^f,n,t,o,v,h)}function s(n,t,u,f,o,v,h){return c(u^(t|~f),n,t,o,v,h)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(t){if('string'==typeof t){var o=unescape(encodeURIComponent(t));t=new Uint8Array(o.length);for(var c=0;c<o.length;++c)t[c]=o.charCodeAt(c)}return n(u(f(t),8*t.length))};e.default=p},586,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(d[0])),t=u(r(d[1]));function u(n){return n&&n.__esModule?n:{default:n}}var f=function(u,f,l){'string'==typeof u&&(f='binary'===u?new Uint8Array(16):null,u=null);var o=(u=u||{}).random||(u.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,f){for(var v=l||0,_=0;_<16;++_)f[v+_]=o[_];return f}return(0,t.default)(o)};e.default=f},587,[582,583]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=f(r(d[0])),u=f(r(d[1]));function f(t){return t&&t.__esModule?t:{default:t}}var l=(0,t.default)('v5',80,u.default);e.default=l},588,[585,589]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,o,f){switch(t){case 0:return n&o^~n&f;case 1:return n^o^f;case 2:return n&o^n&f^o&f;case 3:return n^o^f}}function n(t,n){return t<<n|t>>>32-n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(o){var f=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof o){var c=unescape(encodeURIComponent(o));o=[];for(var v=0;v<c.length;++v)o.push(c.charCodeAt(v))}o.push(128);for(var h=o.length/4+2,s=Math.ceil(h/16),l=new Array(s),p=0;p<s;++p){for(var w=new Uint32Array(16),y=0;y<16;++y)w[y]=o[64*p+4*y]<<24|o[64*p+4*y+1]<<16|o[64*p+4*y+2]<<8|o[64*p+4*y+3];l[p]=w}l[s-1][14]=8*(o.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(o.length-1)&4294967295;for(var M=0;M<s;++M){for(var A=new Uint32Array(80),_=0;_<16;++_)A[_]=l[M][_];for(var U=16;U<80;++U)A[U]=n(A[U-3]^A[U-8]^A[U-14]^A[U-16],1);for(var C=u[0],b=u[1],j=u[2],I=u[3],O=u[4],P=0;P<80;++P){var R=Math.floor(P/20),k=n(C,5)+t(R,b,j,I)+O+f[R]+A[P]>>>0;O=I,I=j,j=n(b,30)>>>0,b=C,C=k}u[0]=u[0]+C>>>0,u[1]=u[1]+b>>>0,u[2]=u[2]+j>>>0,u[3]=u[3]+I>>>0,u[4]=u[4]+O>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};e.default=o},589,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),u=t(r(d[2])),n=(function(){function t(){var u=this;(0,o.default)(this,t),this.promise=new Promise(function(t,o){u.resolve=function(){u.clearRejectTimeout(),t.apply(void 0,arguments)},u.reject=function(){u.clearRejectTimeout(),o.apply(void 0,arguments)}}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return(0,u.default)(t,[{key:"clearRejectTimeout",value:function(){clearTimeout(this._timeout)}},{key:"setRejectTimeout",value:function(t){var o=this;this._timeout=setTimeout(function(){o.reject(new Error('timeout'))},t)}}]),t})();e.default=n},590,[1,29,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deriveKeys=function(t){var u,s,c,l,o;return n.default.async(function(y){for(;;)switch(y.prev=y.next){case 0:return u=new ArrayBuffer,s=new TextEncoder,y.next=4,n.default.awrap(crypto.subtle.deriveKey({name:'HKDF',salt:s.encode('JFrameEncryptionKey'),hash:'SHA-256',info:u},t,{name:'AES-CTR',length:128},!1,['encrypt','decrypt']));case 4:return c=y.sent,y.next=7,n.default.awrap(crypto.subtle.deriveKey({name:'HKDF',salt:s.encode('JFrameAuthenticationKey'),hash:'SHA-256',info:u},t,{name:'HMAC',hash:'SHA-256'},!1,['sign']));case 7:return l=y.sent,y.next=10,n.default.awrap(crypto.subtle.deriveBits({name:'HKDF',salt:s.encode('JFrameSaltKey'),hash:'SHA-256',info:u},t,128));case 10:return o=y.sent,y.abrupt("return",{material:t,encryptionKey:c,authenticationKey:l,saltKey:o});case 12:case"end":return y.stop()}},null,null,null,Promise)},e.ratchet=function(t){var u;return n.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return u=new TextEncoder,n.abrupt("return",crypto.subtle.deriveBits({name:'HKDF',salt:u.encode('JFrameRatchetKey'),hash:'SHA-256',info:new ArrayBuffer},t,256));case 2:case"end":return n.stop()}},null,null,null,Promise)},e.importKey=function(t){return n.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",crypto.subtle.importKey('raw',t,'HKDF',!1,['deriveBits','deriveKey']));case 1:case"end":return n.stop()}},null,null,null,Promise)};var n=t(r(d[1]))},591,[1,106]);
__d(function(g,r,i,a,m,e,d){var n='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';function t(n,t){return Math.floor(Math.random()*(t-n+1))+n}function o(n){return n[t(0,n.length-1)]}var u={randomHexDigit:function(){return o("0123456789abcdef")},randomHexString:function(n){for(var t='';n--;)t+=this.randomHexDigit();return t},randomElement:o,randomAlphanumStr:function(t){for(var u='',f=0;f<t;f+=1)u+=o(n);return u},randomInt:t};m.exports=u},592,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),h=t(r(d[6])),l=r(d[7]),p=r(d[8]);r(d[9]);var f=t(r(d[10])),_=t(r(d[11])),v=t(r(d[12])),k=t(r(d[13]));function S(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=C(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function C(t,n){if(t){if("string"==typeof t)return y(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var A=(0,l.getLogger)(__filename),T=(function(t){(0,c.default)(y,t);var l,f,C=(l=y,f=b(),function(){var t,n=(0,h.default)(l);if(f){var o=(0,h.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function y(t){var s,c=t.enableWebsocketResume,u=t.websocketKeepAlive,h=t.websocketKeepAliveUrl,l=t.serviceUrl,f=t.shard,S=t.xmppPing;return(0,n.default)(this,y),(s=C.call(this))._options={enableWebsocketResume:void 0===c||c,pingOptions:S,shard:f,websocketKeepAlive:void 0===u?6e4:Number(u),websocketKeepAliveUrl:h},s._stropheConn=new p.Strophe.Connection(l),s._usesWebsocket=l.startsWith('ws:')||l.startsWith('wss:'),s._stropheConn.maxRetries=3,s._lastSuccessTracker=new v.default,s._lastSuccessTracker.startTracking((0,o.default)(s),s._stropheConn),s._resumeTask=new _.default(s._stropheConn),s._deferredIQs=[],s.addConnectionPlugin('ping',new k.default({getTimeSinceLastServerResponse:function(){return s.getTimeSinceLastSuccess()},onPingThresholdExceeded:function(){return s._onPingErrorThresholdExceeded()},pingOptions:S})),s._oneSuccessfulConnect=!1,s}return(0,s.default)(y,null,[{key:"Events",get:function(){return{CONN_STATUS_CHANGED:'CONN_STATUS_CHANGED',CONN_SHARD_CHANGED:'CONN_SHARD_CHANGED'}}},{key:"Status",get:function(){return p.Strophe.Status}}]),(0,s.default)(y,[{key:"addConnectionPlugin",value:function(t,n){this[t]=n,n.init(this)}},{key:"addHandler",value:function(){var t;(t=this._stropheConn).addHandler.apply(t,arguments)}},{key:"attach",value:function(t,n,o,s){for(var c,u=arguments.length,h=new Array(u>4?u-4:0),l=4;l<u;l++)h[l-4]=arguments[l];(c=this._stropheConn).attach.apply(c,[t,n,o,this._stropheConnectionCb.bind(this,s)].concat(h))}},{key:"connect",value:function(t,n,o){for(var s,c=arguments.length,u=new Array(c>3?c-3:0),h=3;h<c;h++)u[h-3]=arguments[h];(s=this._stropheConn).connect.apply(s,[t,n,this._stropheConnectionCb.bind(this,o)].concat(u))}},{key:"_stropheConnectionCb",value:function(t,n){this._status=n;var o,s=!1;n===p.Strophe.Status.CONNECTED||n===p.Strophe.Status.ATTACHED?(this._maybeEnableStreamResume(),this._usesWebsocket&&this._oneSuccessfulConnect&&this._keepAliveAndCheckShard(),this._oneSuccessfulConnect=!0,this._maybeStartWSKeepAlive(),this._processDeferredIQs(),this._resumeTask.cancel(),this.ping.startInterval((null==(o=this._options.pingOptions)?void 0:o.domain)||this.domain)):n===p.Strophe.Status.DISCONNECTED&&(this.ping.stopInterval(),(s=this._tryResumingConnection())||clearTimeout(this._wsKeepAlive));if(!s){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];t.apply(void 0,[n].concat(u)),this.eventEmitter.emit(y.Events.CONN_STATUS_CHANGED,n)}}},{key:"_clearDeferredIQs",value:function(){for(var t,n=S(this._deferredIQs);!(t=n()).done;){t.value.reject(new Error('disconnect'))}this._deferredIQs=[]}},{key:"closeWebsocket",value:function(){this._stropheConn&&this._stropheConn._proto&&(this._stropheConn._proto._closeSocket(),this._stropheConn._proto._onClose(null))}},{key:"disconnect",value:function(){var t;this._resumeTask.cancel(),clearTimeout(this._wsKeepAlive),this._clearDeferredIQs(),(t=this._stropheConn).disconnect.apply(t,arguments)}},{key:"flush",value:function(){var t;(t=this._stropheConn).flush.apply(t,arguments)}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccessTracker.getTimeSinceLastSuccess()}},{key:"_maybeEnableStreamResume",value:function(){if(this._options.enableWebsocketResume){var t=this._stropheConn.streamManagement;this.isUsingWebSocket?t?t.isSupported()?t.getResumeToken()||(A.info('Enabling XEP-0198 stream management'),t.enable(!0)):A.warn('Stream resume enabled, but XEP-0198 is not supported by the server'):A.warn('Stream resume enabled, but Strophe streamManagement plugin is not installed'):A.warn('Stream resume enabled, but WebSockets are not enabled')}}},{key:"_maybeStartWSKeepAlive",value:function(){var t=this,n=this._options.websocketKeepAlive;if(this._usesWebsocket&&n>0){this._wsKeepAlive||A.info("WebSocket keep alive interval: "+n+"ms"),clearTimeout(this._wsKeepAlive);var o=n+60*Math.random()*1e3;A.debug("Scheduling next WebSocket keep-alive in "+o+"ms"),this._wsKeepAlive=setTimeout(function(){return t._keepAliveAndCheckShard().then(function(){return t._maybeStartWSKeepAlive()})},o)}}},{key:"_keepAliveAndCheckShard",value:function(){var t=this,n=this._options,o=n.shard,s=n.websocketKeepAliveUrl,c=s||this.service.replace('wss://','https://').replace('ws://','http://');return fetch(c).then(function(n){if(o){var s=n.headers.get('x-jitsi-shard');s!==o&&(A.error("Detected that shard changed from "+o+" to "+s),t.eventEmitter.emit(y.Events.CONN_SHARD_CHANGED))}}).catch(function(t){A.error("Websocket Keep alive failed for url: "+c,{error:t})})}},{key:"_processDeferredIQs",value:function(){for(var t,n=this,o=function(t){if(t.iq){clearTimeout(t.timeout);var o=Date.now()-t.start;n.sendIQ(t.iq,function(n){return t.resolve(n)},function(n){return t.reject(n)},o)}},s=S(this._deferredIQs);!(t=s()).done;){o(t.value)}this._deferredIQs=[]}},{key:"send",value:function(t){if(!this.connected)throw new Error('Not connected');this._stropheConn.send(t)}},{key:"sendIQ",value:function(t,n,o,s){if(this.connected)return this._stropheConn.sendIQ(t,n,o,s);o('Not connected')}},{key:"sendIQ2",value:function(t,n){var o=this,s=n.timeout;return new Promise(function(n,c){if(o.connected)o.sendIQ(t,function(t){return n(t)},function(t){return c(t)},s);else{var u={iq:t,resolve:n,reject:c,start:Date.now(),timeout:setTimeout(function(){u.iq=void 0,c(void 0)},s)};o._deferredIQs.push(u)}})}},{key:"_onPingErrorThresholdExceeded",value:function(){this.isUsingWebSocket&&(A.warn('Ping error threshold exceeded - killing the WebSocket'),this.closeWebsocket())}},{key:"sendPresence",value:function(t,n,o,s){this.connected?this._stropheConn.sendPresence(t,n,o,s):o('Not connected')}},{key:"sendUnavailableBeacon",value:function(){if(!navigator.sendBeacon||this._stropheConn.disconnecting||!this._stropheConn.connected)return!1;this._stropheConn._changeConnectStatus(p.Strophe.Status.DISCONNECTING),this._stropheConn.disconnecting=!0;var t=this._stropheConn._proto._buildBody().attrs({type:'terminate'}),n=(0,p.$pres)({xmlns:p.Strophe.NS.CLIENT,type:'unavailable'});t.cnode(n.tree());var o=navigator.sendBeacon(-1===this.service.indexOf('https://')?"https:"+this.service:this.service,p.Strophe.serialize(t.tree()));return A.info("Successfully send unavailable beacon "+o),this._stropheConn._proto._abortAllRequests(),this._stropheConn._doDisconnect(),!0}},{key:"_tryResumingConnection",value:function(){var t=this._stropheConn.streamManagement;return!(!t||!t.getResumeToken())&&(this._resumeTask.schedule(),!0)}},{key:"connected",get:function(){var t=this._stropheConn&&this._stropheConn._proto&&this._stropheConn._proto.socket;return(this._status===p.Strophe.Status.CONNECTED||this._status===p.Strophe.Status.ATTACHED)&&(!this.isUsingWebSocket||t&&t.readyState===WebSocket.OPEN)}},{key:"disco",get:function(){return this._stropheConn.disco}},{key:"disconnecting",get:function(){return!0===this._stropheConn.disconnecting}},{key:"domain",get:function(){return this._stropheConn.domain}},{key:"isUsingWebSocket",get:function(){return this._usesWebsocket}},{key:"jid",get:function(){return this._stropheConn.jid}},{key:"lastResponseHeaders",get:function(){return this._stropheConn._proto&&this._stropheConn._proto.lastResponseHeaders}},{key:"logger",get:function(){return this._stropheConn.logger}},{key:"options",get:function(){return this._stropheConn.options}},{key:"pingDomain",get:function(){var t;return(null==(t=this._options.pingOptions)?void 0:t.domain)||this.domain}},{key:"service",get:function(){return this._stropheConn.service}},{key:"status",get:function(){return this._status}}]),y})(f.default);e.default=T},593,[1,29,43,30,40,42,39,432,529,594,569,595,598,599]);
__d(function(g,r,i,a,m,e,d){function t(t,s){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||s&&t&&"number"==typeof t.length){o&&(t=o);var h=0;return function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function n(t,n){if(t){if("string"==typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var o,h;o=this,h=function(n){'use strict';n.Strophe.addConnectionPlugin('streamManagement',{logging:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:'urn:xmpp:sm:3',_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_isSupported:!1,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(t){this._acknowledgedStanzaListeners.push(t)},enable:function(t){if(!this._isSupported)throw new Error('The server doesn\'t support urn:xmpp:sm:3 namespace');if(this._connectionStatus!==n.Strophe.Status.CONNECTED)throw new Error('enable() can only be called in the CONNECTED state');this._c.send(n.$build('enable',{xmlns:this._NS,resume:t})),this._c.flush(),this._c.pause()},getResumeToken:function(){return this._resumeToken},isSupported:function(){return this._isSupported},resume:function(){if(!this.getResumeToken())throw new Error('No resume token');if(this._connectionStatus!==n.Strophe.Status.DISCONNECTED)throw new Error('resume() can only be called in the DISCONNECTED state');this._c.options.explicitResourceBinding=!0,this._resuming=!0,this._originalConnect.apply(this._c,this._connectArgs)},requestAcknowledgement:function(){if(this._connectionStatus!==n.Strophe.Status.CONNECTED)throw new Error('requestAcknowledgement() can only be called in the CONNECTED state');this._requestResponseIntervalCount=0,this._c.send(n.$build('r',{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,n.Strophe.addNamespace('SM',this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this),this._originalConnect=this._c.connect,this._c.connect=this._interceptConnectArgs.bind(this),this._originalOnStreamFeaturesAfterSASL=this._c._onStreamFeaturesAfterSASL,this._c._onStreamFeaturesAfterSASL=this._onStreamFeaturesAfterSASL.bind(this),this._originalDoDisconnect=this._c._doDisconnect,this._c._doDisconnect=this._interceptDoDisconnect.bind(this),this._originalDisconnect=this._c.disconnect,this._c.disconnect=this._interceptDisconnect.bind(this)},_interceptDisconnect:function(){this._resumeToken=void 0,this._originalDisconnect.apply(this._c,arguments)},_interceptDoDisconnect:function(){this.getResumeToken()&&!this._resuming&&this._c.connected&&!this._c.disconnecting&&(this._resumeState={handlers:this._c.handlers,timedHandlers:this._c.timedHandlers,removeTimeds:this._c.removeTimeds,removeHandlers:this._c.removeHandlers,addTimeds:this._c.addTimeds,addHandlers:this._c.addHandlers},this._storedJid=this._c.jid,this.logging&&n.Strophe.debug('SM stored resume state, handler count: '+this._resumeState.handlers.length)),this._c._data=[],this._originalDoDisconnect.apply(this._c,arguments)},_interceptConnectArgs:function(){this._connectArgs=arguments,this._originalConnect.apply(this._c,arguments)},_onStreamFeaturesAfterSASL:function(t){return this._isSupported=t.getElementsByTagNameNS(this._NS,"sm").length>0,this._originalOnStreamFeaturesAfterSASL.apply(this._c,arguments)},statusChanged:function(t){if(this._connectionStatus=t,this.getResumeToken()||t!==n.Strophe.Status.CONNECTED&&t!==n.Strophe.Status.DISCONNECTED)if(t===n.Strophe.Status.BINDREQUIRED){for(var s in this._c.jid=this._storedJid,this._resumeState)this._c[s]=this._resumeState[s];this._c.send(n.$build('resume',{xmlns:this._NS,h:this._clientProcessedStanzasCounter,previd:this._resumeToken})),this._c.flush()}else t===n.Strophe.Status.ERROR&&(this.logging&&n.Strophe.debug('SM cleared resume token on error'),this._resumeToken=void 0);else this.logging&&n.Strophe.debug('SM reset state'),this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._resuming=!1,t===n.Strophe.Status.DISCONNECTED&&(this._isSupported=!1),this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,'r'),this._ackHandler=this._c.addHandler(this._handleServerAck.bind(this),this._NS,'a'),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)),this._enabledHandler=this._c._addSysHandler(this._handleEnabled.bind(this),this._NS,'enabled'),this._resumeFailedHandler=this._c._addSysHandler(this._handleResumeFailed.bind(this),this._NS,'failed'),this._resumedHandler=this._c._addSysHandler(this._handleResumed.bind(this),this._NS,'resumed')},xmlOutput:function(t){return(n.Strophe.isTagEqual(t,'iq')||n.Strophe.isTagEqual(t,'presence')||n.Strophe.isTagEqual(t,'message'))&&this._increaseSentStanzasCounter(t),this._originalXMLOutput.call(this._c,t)},_handleEnabled:function(t){return this._isStreamManagementEnabled=!0,this._resumeToken='true'===t.getAttribute('resume')&&t.getAttribute('id'),this._c.resume(),!0},_handleResumeFailed:function(t){var s=t&&t.firstElementChild&&t.firstElementChild.tagName;return this._c._changeConnectStatus(n.Strophe.Status.ERROR,s,t),this._c._doDisconnect(),!0},_handleResumed:function(s){var o=parseInt(s.getAttribute('h'));if(this._handleAcknowledgedStanzas(o,this._serverProcesssedStanzasCounter),this._resuming=!1,this._c.do_bind=!1,this._c.authenticated=!0,this._c.restored=!0,this._unacknowledgedStanzas.length>0){this.logging&&n.Strophe.debug('SM Sending unacknowledged stanzas',this._unacknowledgedStanzas);for(var h,u=t(this._unacknowledgedStanzas);!(h=u()).done;){var c=h.value;this._c.send(c)}}else this.logging&&n.Strophe.debug('SM No unacknowledged stanzas',this._unacknowledgedStanzas);return this._c._changeConnectStatus(n.Strophe.Status.CONNECTED,null),!0},_incomingStanzaHandler:function(t){return(n.Strophe.isTagEqual(t,'iq')||n.Strophe.isTagEqual(t,'presence')||n.Strophe.isTagEqual(t,'message'))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),!0},_handleAcknowledgedStanzas:function(t,s){var o=t-s;o<0&&this._throwError('New reported stanza count lower than previous. New: '+t+' - Previous: '+s),o>this._unacknowledgedStanzas.length&&this._throwError('Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: '+o+' - Unacknowledge Stanza Count: '+this._unacknowledgedStanzas.length+' - New: '+t+' - Previous: '+s);for(var h=0;h<o;h++)for(var u=this._unacknowledgedStanzas.shift(),c=0;c<this._acknowledgedStanzaListeners.length;c++)this._acknowledgedStanzaListeners[c](u);this.logging&&this._unacknowledgedStanzas.length>0&&n.Strophe.warn('SM Unacknowledged stanzas',this._unacknowledgedStanzas),this._serverProcesssedStanzasCounter=t,this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_handleServerAck:function(t){var n=parseInt(t.getAttribute('h'));return this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(n.$build('a',{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){var s=this;if(this._isStreamManagementEnabled){if(-1!==this._unacknowledgedStanzas.indexOf(t))return;this._unacknowledgedStanzas.push(t),this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&setTimeout(function(){s._connectionStatus===n.Strophe.Status.CONNECTED&&s.requestAcknowledgement()},1))}},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw n.Strophe.error(t),new Error(t)}})},'object'==typeof e&&void 0!==m?h(r(d[0])):'function'==typeof define&&define.amd?define(['strophe.js'],h):h((o=o||self).window)},594,[529]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),u=n(r(d[3])),o=r(d[4]),h=t(r(d[5])),l=r(d[6]),c=(0,o.getLogger)(__filename),_=(function(){function t(n){(0,s.default)(this,t),this._stropheConn=n,this._resumeRetryN=0,this._retryDelay=void 0}return(0,u.default)(t,[{key:"schedule",value:function(){var t=this;this._cancelResume(),this._resumeRetryN+=1,this._networkOnlineListener=h.default.addEventListener(h.NETWORK_INFO_EVENT,function(n){n.isOnline?t._scheduleResume():t._cancelResume()}),h.default.isOnline()&&this._scheduleResume()}},{key:"_scheduleResume",value:function(){var t=this;this._resumeTimeout||(this._resumeRetryN=Math.min(3,this._resumeRetryN),this._retryDelay=(0,l.getJitterDelay)(this._resumeRetryN,1500*this._resumeRetryN,3),c.info("Will try to resume the XMPP connection in "+this.retryDelay+"ms"),this._resumeTimeout=setTimeout(function(){return t._resumeConnection()},this.retryDelay))}},{key:"_cancelResume",value:function(){this._resumeTimeout&&(c.info('Canceling connection resume task'),clearTimeout(this._resumeTimeout),this._resumeTimeout=void 0,this._retryDelay=void 0)}},{key:"_resumeConnection",value:function(){var t=this._stropheConn.streamManagement,n=t.getResumeToken();if(n){c.info('Trying to resume the XMPP connection');var s=new URL(this._stropheConn.service),u=s.search,o=/(previd=)([\w-]+)/,h=u.match(o);h&&-1===h.indexOf(n)?u=u.replace(o,"$1"+n):h||(u+=-1===u.indexOf('?')?"?previd="+n:"&previd="+n),s.search=u,this._stropheConn.service=s.toString(),t.resume()}}},{key:"cancel",value:function(){this._cancelResume(),this._resumeRetryN=0,this._networkOnlineListener&&(this._networkOnlineListener(),this._networkOnlineListener=null)}},{key:"retryDelay",get:function(){return this._retryDelay}}]),t})();e.default=_},595,[12,1,29,30,432,596,597]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NetworkInfo=e.NETWORK_INFO_EVENT=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5])),l=r(d[6]),s=t(r(d[7]));function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}e.NETWORK_INFO_EVENT="NETWORK_INFO_CHANGED";var N=(0,l.getLogger)(__filename),O=(function(t){(0,f.default)(v,t);var l,s,O=(l=v,s=_(),function(){var t,n=(0,o.default)(l);if(s){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function v(){var t;return(0,n.default)(this,v),(t=O.call(this))._current={isOnline:!0},t}return(0,u.default)(v,[{key:"updateNetworkInfo",value:function(t){var n=t.isOnline;N.debug('updateNetworkInfo',{isOnline:n}),this._current={isOnline:!0===n},this.eventEmitter.emit("NETWORK_INFO_CHANGED",this._current)}},{key:"isOnline",value:function(){return!0===this._current.isOnline}}]),v})(s.default);e.NetworkInfo=O;var v=new O;e.default=v},596,[1,29,30,40,42,39,432,569]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getJitterDelay=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return Math.floor(Math.random()*(1e3*Math.pow(n,t)-o)+o)}},597,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=(function(){function t(){(0,n.default)(this,t),this._lastSuccess=null}return(0,u.default)(t,[{key:"startTracking",value:function(t,n){var u=this,s=n.rawInput;n.rawInput=function(){t.connected&&(u._lastSuccess=Date.now());for(var c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];s.apply(n,l)}}},{key:"getTimeSinceLastSuccess",value:function(){return this._lastSuccess?Date.now()-this._lastSuccess:null}}]),t})();e.default=s},598,[1,29,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),p=r(d[7]),f=r(d[8]),h=t(r(d[9])),v=t(r(d[10]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var I=(0,p.getLogger)(__filename),P=1e4,y=5e3,_=2,x=(function(t){(0,o.default)(S,t);var p,v,x=(p=S,v=T(),function(){var t,n=(0,c.default)(p);if(v){var s=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function S(t){var s,l=t.getTimeSinceLastServerResponse,o=t.onPingThresholdExceeded,u=t.pingOptions,c=void 0===u?{}:u;return(0,n.default)(this,S),(s=x.call(this)).failedPings=0,s._onPingThresholdExceeded=o,s._getTimeSinceLastServerResponse=l,s.pingInterval='number'==typeof c.interval?c.interval:P,s.pingTimeout='number'==typeof c.timeout?c.timeout:y,s.pingThreshold='number'==typeof c.threshold?c.threshold:_,s.pingTimestampsToKeep=Math.round(12e4/s.pingInterval),s.pingExecIntervals=new Array(s.pingTimestampsToKeep),s}return(0,s.default)(S,[{key:"init",value:function(t){(0,l.default)((0,c.default)(S.prototype),"init",this).call(this,t),f.Strophe.addNamespace('PING','urn:xmpp:ping')}},{key:"ping",value:function(t,n,s,l){this._addPingExecutionTimestamp();var o=(0,f.$iq)({type:'get',to:t});o.c('ping',{xmlns:f.Strophe.NS.PING}),this.connection.sendIQ2(o,{timeout:l}).then(n,s)}},{key:"startInterval",value:function(t){var n=this;clearInterval(this.intervalId),this.intervalId=window.setInterval(function(){var s=Date.now();if(n._getTimeSinceLastServerResponse()<s-n._lastServerCheck)return n._addPingExecutionTimestamp(),n._lastServerCheck=s,void(n.failedPings=0);n.ping(t,function(){n._lastServerCheck=n._getTimeSinceLastServerResponse()+Date.now(),n.failedPings=0},function(t){n.failedPings+=1;var s="Ping "+(t?'error':'timeout');n.failedPings>=n.pingThreshold?(h.default.callErrorHandler(new Error(s)),I.error(s,t),n._onPingThresholdExceeded&&n._onPingThresholdExceeded()):I.warn(s,t)},n.pingTimeout)},this.pingInterval),I.info("XMPP pings will be sent every "+this.pingInterval+" ms")}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,I.info('Ping interval cleared'))}},{key:"_addPingExecutionTimestamp",value:function(){this.pingExecIntervals.push((new Date).getTime()),this.pingExecIntervals.length>this.pingTimestampsToKeep&&this.pingExecIntervals.shift()}},{key:"getPingSuspendTime",value:function(){var t=this.pingExecIntervals.slice();t.push((new Date).getTime());var n=0,s=t[0];return t.forEach(function(t){var l=t-s;l>n&&(n=l),s=t}),n-=this.pingInterval,Math.max(n,0)}}]),S})(v.default);e.default=x},599,[1,29,30,37,40,42,39,432,529,552,600]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionPluginListenable=e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),c=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6]));function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(){return(function(t){(0,u.default)(y,t);var l,v,h=(l=y,v=s(),function(){var t,n=(0,o.default)(l);if(v){var u=(0,o.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function y(){var t;(0,f.default)(this,y);for(var n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];return(t=h.call.apply(h,[this].concat(u))).connection=null,t}return(0,n.default)(y,[{key:"init",value:function(t){this.connection=t}}]),y})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(function(){return function t(){(0,f.default)(this,t)}})())}var h=v();e.default=h;var y=v(l.default);e.ConnectionPluginListenable=y},600,[1,30,40,42,39,29,569]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),s=t(r(d[5])),c=t(r(d[6])),f=r(d[7]),h=r(d[8]),v=t(r(d[9])),p=t(r(d[10])),b=r(d[11]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var J=(0,f.getLogger)(__filename),M=(function(t){(0,l.default)(P,t);var f,b,M=(f=P,b=y(),function(){var t,n=(0,c.default)(f);if(b){var o=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function P(t){var o;return(0,n.default)(this,P),(o=M.call(this)).xmpp=t,o.rooms={},o}return(0,o.default)(P,[{key:"init",value:function(t){(0,u.default)((0,c.default)(P.prototype),"init",this).call(this,t),this.connection.addHandler(this.onPresence.bind(this),null,'presence',null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,'presence','unavailable',null),this.connection.addHandler(this.onPresenceError.bind(this),null,'presence','error',null),this.connection.addHandler(this.onMessage.bind(this),null,'message',null,null),this.connection.addHandler(this.onMute.bind(this),'http://jitsi.org/jitmeet/audio','iq','set',null,null)}},{key:"createRoom",value:function(t,n,o){var u=h.Strophe.getBareJidFromJid(t);if(this.rooms[u]){var l='You are already in the room!';throw J.error(l),new Error(l)}return this.rooms[u]=new p.default(this.connection,t,n,this.xmpp,o),this.eventEmitter.emit(v.default.EMUC_ROOM_ADDED,this.rooms[u]),this.rooms[u]}},{key:"doLeave",value:function(t){this.eventEmitter.emit(v.default.EMUC_ROOM_REMOVED,this.rooms[t]),delete this.rooms[t]}},{key:"onPresence",value:function(t){var n=t.getAttribute('from');if(t.getAttribute('type'))return!0;var o=this.rooms[h.Strophe.getBareJidFromJid(n)];return!o||($(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"201\"]").length&&o.createNonAnonymousRoom(),o.onPresence(t),!0)}},{key:"onPresenceUnavailable",value:function(t){var n=t.getAttribute('from'),o=this.rooms[h.Strophe.getBareJidFromJid(n)];return!o||(o.onPresenceUnavailable(t,n),!0)}},{key:"onPresenceError",value:function(t){var n=t.getAttribute('from'),o=this.rooms[h.Strophe.getBareJidFromJid(n)];return!o||(o.onPresenceError(t,n),!0)}},{key:"onMessage",value:function(t){var n=t.getAttribute('from'),o=this.rooms[h.Strophe.getBareJidFromJid(n)];return!o||(o.onMessage(t,n),!0)}},{key:"onMute",value:function(t){var n=t.getAttribute('from'),o=this.rooms[h.Strophe.getBareJidFromJid(n)];return!o||(o.onMute(t),!0)}}]),P})(b.ConnectionPluginListenable);e.default=M},601,[1,29,30,37,40,42,39,432,529,564,602,600]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parser=void 0;var o=n(r(d[2])),s=n(r(d[3])),u=n(r(d[4])),c=n(r(d[5])),l=n(r(d[6])),f=n(r(d[7])),p=r(d[8]),h=n(r(d[9])),v=r(d[10]),b=t(r(d[11])),y=t(r(d[12])),E=n(r(d[13])),x=n(r(d[14])),_=n(r(d[15])),j=n(r(d[16])),k=n(r(d[17])),N=n(r(d[18]));function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var M=(0,p.getLogger)(__filename),S={packet2JSON:function(t,n){for(var o=0,s=Array.from(t.children);o<s.length;o++){for(var u=s[o],c={attributes:{},children:[],tagName:u.tagName},l=0,f=Array.from(u.attributes);l<f.length;l++){var p=f[l];c.attributes[p.name]=p.value}var h=v.Strophe.getText(u);h&&(c.value=v.Strophe.xmlunescape(h)),n.push(c),this.packet2JSON(u,c.children)}},json2packet:function(t,n){for(var o=0;o<t.length;o++){var s=t[o];s&&(n.c(s.tagName,s.attributes),s.value&&n.t(s.value),s.children&&this.json2packet(s.children,n),n.up())}}};function R(t,n){for(var o=[],s=0;s<t.length;s++)t[s].tagName===n&&o.push(t[s]);return o}e.parser=S;var T=['owner','admin','member'],P=(function(t){(0,c.default)(P,t);var n,p,_=(n=P,p=I(),function(){var t,o=(0,f.default)(n);if(p){var s=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,s)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function P(t,n,s,c,l){var f;return(0,o.default)(this,P),(f=_.call(this)).xmpp=c,f.connection=t,f.roomjid=v.Strophe.getBareJidFromJid(n),f.myroomjid=n,f.password=s,M.info("Joined MUC as "+f.myroomjid),f.members={},f.presMap={},f.presHandlers={},f._removeConnListeners=[],f.joined=!1,f.role=null,f.focusMucJid=null,f.noBridgeAvailable=!1,f.options=l||{},f.moderator=new N.default(f.roomjid,f.xmpp,f.eventEmitter,{connection:f.xmpp.options,conference:f.options}),(void 0===f.options.enableLobby||f.options.enableLobby)&&(f.lobby=new j.default((0,u.default)(f))),f.initPresenceMap(l),f.lastPresences={},f.phoneNumber=null,f.phonePin=null,f.connectionTimes={},f.participantPropertyListener=null,f.locked=!1,f.transcriptionStatus=b.OFF,f}return(0,s.default)(P,[{key:"initPresenceMap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.presMap.to=this.myroomjid,this.presMap.xns='http://jabber.org/protocol/muc',this.presMap.nodes=[],t.statsId&&this.presMap.nodes.push({tagName:'stats-id',value:t.statsId}),this.addVideoInfoToPresence(!1),t.deploymentInfo&&t.deploymentInfo.userRegion&&this.presMap.nodes.push({tagName:'region',attributes:{id:t.deploymentInfo.userRegion,xmlns:'http://jitsi.org/jitsi-meet'}}),this.presenceUpdateTime=Date.now()}},{key:"join",value:function(t){var n=this;return this.password=t,new Promise(function(t){n.options.disableFocus&&M.info("Conference focus disabled for "+n.roomjid),(n.options.disableFocus?Promise.resolve():n.moderator.allocateConferenceFocus()).then(function(){n.sendPresence(!0),n._removeConnListeners.push(n.connection.addEventListener(k.default.Events.CONN_STATUS_CHANGED,n.onConnStatusChanged.bind(n))),t()})})}},{key:"sendPresence",value:function(t){var n=this.presMap.to;if(this.connection&&this.connection.connected&&n&&(this.joined||t)){var o=(0,v.$pres)({to:n});t&&(o.c('x',{xmlns:this.presMap.xns}),this.password&&o.c('password').t(this.password).up(),o.up()),S.json2packet(this.presMap.nodes,o),this.presenceSyncTime=Date.now(),this.connection.send(o),t&&this.connection.flush()}}},{key:"doLeave",value:function(){M.log('do leave',this.myroomjid);var t=(0,v.$pres)({to:this.myroomjid,type:'unavailable'});this.presMap.length=0,!this.connection.isUsingWebSocket&&this.connection.flush(),this.connection.send(t),this.connection.flush()}},{key:"discoRoomInfo",value:function(){var t=this,n=(0,v.$iq)({type:'get',to:this.roomjid}).c('query',{xmlns:v.Strophe.NS.DISCO_INFO});this.connection.sendIQ(n,function(n){var o=1===$(n).find('>query>feature[var="muc_passwordprotected"]').length;o!==t.locked&&(t.eventEmitter.emit(E.default.MUC_LOCK_CHANGED,o),t.locked=o);var s=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_meetingId"]>value');s.length?t.setMeetingId(s.text()):M.warn('No meeting ID from backend');var u=1===$(n).find('>query>feature[var="muc_membersonly"]').length,c=$(n).find('>query>x[type="result"]>field[var="muc#roominfo_lobbyroom"]>value');t.lobby&&t.lobby.setLobbyRoomJid(c&&c.length?c.text():void 0),u!==t.membersOnlyEnabled&&(t.membersOnlyEnabled=u,t.eventEmitter.emit(E.default.MUC_MEMBERS_ONLY_CHANGED,u))},function(t){x.default.callErrorHandler(t),M.error('Error getting room info: ',t)})}},{key:"setMeetingId",value:function(t){this.meetingId!==t&&(this.meetingId&&M.warn("Meeting Id changed from:"+this.meetingId+" to:"+t),this.meetingId=t,this.eventEmitter.emit(E.default.MEETING_ID_SET,t))}},{key:"createNonAnonymousRoom",value:function(){var t=this;if(!this.options.disableDiscoInfo){var n=(0,v.$iq)({type:'get',to:this.roomjid}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}).c('x',{xmlns:'jabber:x:data',type:'submit'});this.connection.sendIQ(n,function(n){if(!$(n).find(">query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_whois\"]").length){var o='non-anonymous rooms not supported';return x.default.callErrorHandler(new Error(o)),void M.error(o)}var s=(0,v.$iq)({to:t.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});s.c('x',{xmlns:'jabber:x:data',type:'submit'}),s.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),s.c('field',{var:'muc#roomconfig_whois'}).c('value').t('anyone').up().up(),t.connection.sendIQ(s)},function(t){x.default.callErrorHandler(t),M.error('Error getting room configuration form: ',t)})}}},{key:"onConnStatusChanged",value:function(t){t===k.default.Status.CONNECTED&&this.sendPresence()}},{key:"onPresence",value:function(t){var n=t.getAttribute('from'),o={},s=t.getElementsByTagName('status')[0];s&&(o.status=s.textContent||'');var u=!1,c=!1,l=t.getElementsByTagNameNS('http://jabber.org/protocol/muc#user','x')[0],f=l&&l.getElementsByTagName('item')[0];o.affiliation=f&&f.getAttribute('affiliation'),o.role=f&&f.getAttribute('role');var p=f&&f.getAttribute('jid');o.jid=p,o.isFocus=p&&0===p.indexOf(this.moderator.getFocusUserJid()+"/"),o.isHiddenDomain=p&&p.indexOf('@')>0&&this.options.hiddenDomain===p.substring(p.indexOf('@')+1,p.indexOf('/')),this.eventEmitter.emit(E.default.PRESENCE_RECEIVED,{fromHiddenDomain:o.isHiddenDomain,presence:t});var b=t.querySelector('x');b&&b.remove();var y=[];S.packet2JSON(t,y),this.lastPresences[n]=y;for(var x=function(t){var n={},o=t.children.find(function(t){return'user'===t.tagName});if(o){n.user={};for(var s=function(t){var s=o.children.find(function(n){return n.tagName===t});s&&(n.user[t]=s.value)},u=0,c=['id','name','avatar'];u<c.length;u++){s(c[u])}}var l=t.children.find(function(t){return'group'===t.tagName});return l&&(n.group=l.value),n},_=0;_<y.length;_++){var j=y[_];switch(j.tagName){case'bot':var k=j.attributes;if(!k)break;var N=k.type;o.botType=N;break;case'nick':o.nick=j.value;break;case'userId':o.id=j.value;break;case'stats-id':o.statsID=j.value;break;case'identity':o.identity=x(j);break;case'features':o.features=this._extractFeatures(j);break;case'stat':var I=j.attributes;if(!I)break;'version'===I.name&&(o.version=I.value)}}if(n===this.myroomjid){var R='owner'===o.affiliation?o.role:'none';if(this.role!==R&&(this.role=R,this.eventEmitter.emit(E.default.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var T=this.connectionTimes['muc.joined']=window.performance.now();M.log('(TIME) MUC joined:\t',T),this.password&&(this.locked=!0),this.presenceUpdateTime>=this.presenceSyncTime&&this.sendPresence(),this.eventEmitter.emit(E.default.MUC_JOINED),!this.options.disableDiscoInfo&&this.discoRoomInfo()}}else if(void 0===p)M.info('Ignoring member with undefined JID');else if(void 0===this.members[n])this.members[n]=o,M.log('entered',n,o),u=void 0!==o.status,c=void 0!==o.version,o.isFocus?this._initFocus(n,o.features):(this.eventEmitter.emit(E.default.MUC_MEMBER_JOINED,n,o.nick,o.role,o.isHiddenDomain,o.statsID,o.status,o.identity,o.botType,o.jid,o.features),u=!1);else{var P=this.members[n];P.role!==o.role&&(P.role=o.role,this.eventEmitter.emit(E.default.MUC_ROLE_CHANGED,n,o.role)),P.affiliation!==o.affiliation&&(P.affiliation=o.affiliation),P.botType!==o.botType&&(P.botType=o.botType,this.eventEmitter.emit(E.default.MUC_MEMBER_BOT_TYPE_CHANGED,n,o.botType)),o.isFocus&&(P.isFocus=!0,this._initFocus(n,o.features)),o.displayName&&(P.displayName=o.displayName),P.status!==o.status&&(u=!0,P.status=o.status),P.version!==o.version&&(c=!0,P.version=o.version),(0,h.default)(P.features,o.features)||(P.features=o.features,this.eventEmitter.emit(E.default.PARTICIPANT_FEATURES_CHANGED,n,o.features))}for(var O=0;O<y.length;O++){var C=y[O];switch(C.tagName){case'nick':if(!o.isFocus){var A=this.xmpp.options.displayJids?v.Strophe.getResourceFromJid(n):o.nick;this.eventEmitter.emit(E.default.DISPLAY_NAME_CHANGED,n,A)}break;case'bridgeNotAvailable':o.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(E.default.BRIDGE_DOWN));break;case'conference-properties':if(o.isFocus){for(var w={},D=0;D<C.children.length;D++){var F=C.children[D].attributes;F&&F.key&&(w[F.key]=F.value)}this.eventEmitter.emit(E.default.CONFERENCE_PROPERTIES_CHANGED,w),this.restartByTerminateSupported='true'===w['support-terminate-restart'],M.info("Jicofo supports restart by terminate: "+this.supportsRestartByTerminate())}break;case'transcription-status':var $=C.attributes;if(!$)break;var L=$.status;L&&L!==this.transcriptionStatus&&(this.transcriptionStatus=L,this.eventEmitter.emit(E.default.TRANSCRIPTION_STATUS_CHANGED,L));break;case'call-control':var U=C.attributes;if(!U)break;this.phoneNumber=U.phone||null,this.phonePin=U.pin||null,this.eventEmitter.emit(E.default.PHONE_NUMBER_CHANGED);break;default:this.processNode(C,n)}}u&&this.eventEmitter.emit(E.default.PRESENCE_STATUS,n,o.status),c&&M.info("Received version for "+p+": "+o.version)}},{key:"_extractFeatures",value:function(t){for(var n=new Set,o=0;o<t.children.length;o++){var s=t.children[o].attributes;s&&s.var&&n.add(s.var)}return n}},{key:"_initFocus",value:function(t,n){this.focusMucJid=t,this.focusFeatures=n}},{key:"setParticipantPropertyListener",value:function(t){this.participantPropertyListener=t}},{key:"supportsRestartByTerminate",value:function(){return this.restartByTerminateSupported}},{key:"processNode",value:function(t,n){try{var o=this.presHandlers[t.tagName];t.tagName.startsWith('jitsi_participant_')&&(o=[this.participantPropertyListener]),o&&o.forEach(function(o){o(t,v.Strophe.getResourceFromJid(n),n)})}catch(n){x.default.callErrorHandler(n),M.error("Error processing:"+t.tagName+" node.",n)}}},{key:"sendMessage",value:function(t,n,o){var s=(0,v.$msg)({to:this.roomjid,type:'groupchat'});'body'===n?s.c(n,t).up():s.c(n,{xmlns:'http://jitsi.org/jitmeet'},t).up(),o&&s.c('nick',{xmlns:'http://jabber.org/protocol/nick'}).t(o).up().up(),this.connection.send(s),this.eventEmitter.emit(E.default.SENDING_CHAT_MESSAGE,t)}},{key:"sendPrivateMessage",value:function(t,n,o,s){var u=(0,v.$msg)({to:this.roomjid+"/"+t,type:'chat'});'body'===o?u.c(o,n).up():u.c(o,{xmlns:'http://jitsi.org/jitmeet'},n).up(),s&&u.c('nick',{xmlns:'http://jabber.org/protocol/nick'}).t(s).up().up(),this.connection.send(u),this.eventEmitter.emit(E.default.SENDING_PRIVATE_CHAT_MESSAGE,n)}},{key:"setSubject",value:function(t){var n=(0,v.$msg)({to:this.roomjid,type:'groupchat'});n.c('subject',t),this.connection.send(n)}},{key:"onParticipantLeft",value:function(t,n){delete this.lastPresences[t],n||(this.eventEmitter.emit(E.default.MUC_MEMBER_LEFT,t),this.moderator.onMucMemberLeft(t))}},{key:"onPresenceUnavailable",value:function(t,n){var o=this;if($(t).find('>ignore[xmlns="http://jitsi.org/jitmeet/"]').length)return!0;var s=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy');if(s.length){var u,c=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy>reason");return c.length&&(u=c.text()),this.eventEmitter.emit(E.default.MUC_DESTROYED,u,s.attr('jid')),this.connection.emuc.doLeave(this.roomjid),!0}var l=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"110\"]").length,f=$(t).find(">x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"307\"]").length,p=Object.keys(this.members);if(f){var h,b=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item>actor');b.length&&(h=b.attr('nick')),this.eventEmitter.emit(E.default.KICKED,l,h,v.Strophe.getResourceFromJid(n))}l?(p.forEach(function(t){var n=o.members[t];delete o.members[t],o.onParticipantLeft(t,n.isFocus)}),this.connection.emuc.doLeave(this.roomjid),f||this.eventEmitter.emit(E.default.MUC_LEFT)):(delete this.members[n],this.onParticipantLeft(n,!1))}},{key:"onMessage",value:function(t,n){var o=$(t).find('>nick[xmlns="http://jabber.org/protocol/nick"]').text()||v.Strophe.getResourceFromJid(n),s=t.getAttribute('type');if('error'===s){var u=$(t).find('>error>text').text();return this.eventEmitter.emit(E.default.CHAT_ERROR_RECEIVED,u),!0}var c=$(t).find('>body').text(),l=$(t).find('>subject');if(l.length){var f=l.text();(f||''===f)&&(this.eventEmitter.emit(E.default.SUBJECT_CHANGED,f),M.log("Subject is changed to "+f))}var p,h=$(t).find('>delay').attr('stamp');if(!h&&(h=$(t).find('>[xmlns="jabber:x:delay"]').attr('stamp'))){var b=h.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);h=b[1]+"-"+b[2]+"-"+b[3]+"Z"}if(n===this.roomjid)if($(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length)this.discoRoomInfo();else if((p=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>invite'))&&p.length){var y,x=$(t).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>password');x&&x.length&&(y=x.text()),this.eventEmitter.emit(E.default.INVITE_MESSAGE_RECEIVED,n,p.attr('from'),c,y)}var _=$(t).find('>json-message').text();if(_){var j=this.xmpp.tryParseJSONAndVerify(_);if(j&&void 0===h)return void this.eventEmitter.emit(E.default.JSON_MESSAGE_RECEIVED,n,j)}c&&('chat'===s?this.eventEmitter.emit(E.default.PRIVATE_MESSAGE_RECEIVED,n,o,c,this.myroomjid,h):'groupchat'===s&&this.eventEmitter.emit(E.default.MESSAGE_RECEIVED,n,o,c,this.myroomjid,h))}},{key:"onPresenceError",value:function(t,n){if($(t).find(">error[type=\"auth\"]>not-authorized[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length)M.log('on password required',n),this.eventEmitter.emit(E.default.PASSWORD_REQUIRED);else if($(t).find(">error[type=\"cancel\"]>not-allowed[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length){v.Strophe.getDomainFromJid(t.getAttribute('to'))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(E.default.ROOM_JOIN_ERROR):(M.warn('onPresError ',t),this.eventEmitter.emit(E.default.ROOM_CONNECT_NOT_ALLOWED_ERROR))}else if($(t).find('>error>service-unavailable').length)M.warn('Maximum users limit for the room has been reached',t),this.eventEmitter.emit(E.default.ROOM_MAX_USERS_ERROR);else if($(t).find(">error[type=\"auth\"]>registration-required[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]").length){var o,s=$(t).find('>lobbyroom');s.length&&(o=s.text()),this.eventEmitter.emit(E.default.ROOM_CONNECT_MEMBERS_ONLY_ERROR,o)}else M.warn('onPresError ',t),this.eventEmitter.emit(E.default.ROOM_CONNECT_ERROR)}},{key:"setAffiliation",value:function(t,n){var o=(0,v.$iq)({to:this.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{affiliation:n,nick:v.Strophe.getResourceFromJid(t)}).c('reason').t("Your affiliation has been changed to '"+n+"'.").up().up().up();this.connection.sendIQ(o,function(o){return M.log('Set affiliation of participant with jid: ',t,'to',n,o)},function(t){return M.log('Set affiliation of participant error: ',t)})}},{key:"kick",value:function(t){var n=(0,v.$iq)({to:this.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{nick:v.Strophe.getResourceFromJid(t),role:'none'}).c('reason').t('You have been kicked.').up().up().up();this.connection.sendIQ(n,function(n){return M.log('Kick participant with jid: ',t,n)},function(t){return M.log('Kick participant error: ',t)})}},{key:"lockRoom",value:function(t,n,o,s){var u=this;this.connection.sendIQ((0,v.$iq)({to:this.roomjid,type:'get'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}),function(c){if($(c).find(">query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_roomsecret\"]").length){var l=(0,v.$iq)({to:u.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});l.c('x',{xmlns:'jabber:x:data',type:'submit'}),l.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),l.c('field',{var:'muc#roomconfig_roomsecret'}).c('value').t(t).up().up(),l.c('field',{var:'muc#roomconfig_passwordprotectedroom'}).c('value').t(null===t||0===t.length?'0':'1').up().up(),u.membersOnlyEnabled&&l.c('field',{var:'muc#roomconfig_membersonly'}).c('value').t('true').up().up(),l.c('field',{var:'muc#roomconfig_whois'}).c('value').t('anyone').up().up(),u.connection.sendIQ(l,n,o)}else s()},o)}},{key:"setMembersOnly",value:function(t,n,o){var s=this;t&&Object.values(this.members).filter(function(t){return!t.isFocus}).length&&Object.values(this.members).forEach(function(t){t.jid&&!T.includes(t.affiliation)&&s.xmpp.connection.sendIQ((0,v.$iq)({to:s.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#admin'}).c('item',{affiliation:'member',jid:t.jid}).up().up())});var u=o||function(){};this.xmpp.connection.sendIQ((0,v.$iq)({to:this.roomjid,type:'get'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'}),function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_membersonly"]').length){var c=(0,v.$iq)({to:s.roomjid,type:'set'}).c('query',{xmlns:'http://jabber.org/protocol/muc#owner'});c.c('x',{xmlns:'jabber:x:data',type:'submit'}),c.c('field',{var:'FORM_TYPE'}).c('value').t('http://jabber.org/protocol/muc#roomconfig').up().up(),c.c('field',{var:'muc#roomconfig_membersonly'}).c('value').t(t?'true':'false').up().up(),s.locked&&c.c('field',{var:'muc#roomconfig_passwordprotectedroom'}).c('value').t('1').up().up(),s.xmpp.connection.sendIQ(c,n,u)}else u(new Error('Setting members only room not supported!'))},u)}},{key:"addToPresence",value:function(t,n){n.tagName=t,this.removeFromPresence(t),this.presMap.nodes.push(n),this.presenceUpdateTime=Date.now()}},{key:"getFromPresence",value:function(t){return this.presMap.nodes.find(function(n){return t===n.tagName})}},{key:"removeFromPresence",value:function(t){var n=this.presMap.nodes.filter(function(n){return t!==n.tagName});this.presMap.nodes=n,this.presenceUpdateTime=Date.now()}},{key:"addPresenceListener",value:function(t,n){if('function'!=typeof n)throw new Error('"handler" is not a function');var o=this.presHandlers[t];o||(this.presHandlers[t]=o=[]),-1===o.indexOf(n)?o.push(n):M.warn("Trying to add the same handler more than once for: "+t)}},{key:"removePresenceListener",value:function(t,n){var o=this.presHandlers[t],s=o?o.indexOf(n):-1;-1!==s?o.splice(s,1):M.warn("Handler for: "+t+" was not registered")}},{key:"isFocus",value:function(t){var n=this.members[t];return n?n.isFocus:null}},{key:"isModerator",value:function(){return'moderator'===this.role}},{key:"getMemberRole",value:function(t){return this.members[t]?this.members[t].role:null}},{key:"setVideoMute",value:function(t,n){this.sendVideoInfoPresence(t),n&&n(t)}},{key:"setAudioMute",value:function(t,n){return this.sendAudioInfoPresence(t,n)}},{key:"addAudioInfoToPresence",value:function(t){this.addToPresence('audiomuted',{attributes:{xmlns:'http://jitsi.org/jitmeet/audio'},value:t.toString()})}},{key:"sendAudioInfoPresence",value:function(t,n){this.addAudioInfoToPresence(t),this.sendPresence(),n&&n()}},{key:"addVideoInfoToPresence",value:function(t){this.addToPresence('videomuted',{attributes:{xmlns:'http://jitsi.org/jitmeet/video'},value:t.toString()})}},{key:"sendVideoInfoPresence",value:function(t){this.addVideoInfoToPresence(t),this.sendPresence()}},{key:"getMediaPresenceInfo",value:function(t,n){var o=this.lastPresences[this.roomjid+"/"+t];if(!o)return null;var s={muted:!1,videoType:void 0},u=null;if(n===y.AUDIO)u=R(o,'audiomuted');else{if(n!==y.VIDEO)return M.error("Unsupported media type: "+n),null;u=R(o,'videomuted');var c=R(o,'jitsi_participant_codecType'),l=R(o,'videoType');l.length>0&&(s.videoType=l[0].value),c.length>0&&(s.codecType=c[0].value)}return s.muted=u.length>0&&'true'===u[0].value,s}},{key:"isSIPCallingSupported",value:function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()}},{key:"dial",value:function(t){return this.connection.rayo.dial(t,'fromnumber',v.Strophe.getBareJidFromJid(this.myroomjid),this.password,this.focusMucJid)}},{key:"hangup",value:function(){return this.connection.rayo.hangup()}},{key:"getLobby",value:function(){return this.lobby}},{key:"getPhoneNumber",value:function(){return this.phoneNumber}},{key:"getPhonePin",value:function(){return this.phonePin}},{key:"getMeetingId",value:function(){return this.meetingId}},{key:"muteParticipant",value:function(t,n){M.info('set mute',n);var o=(0,v.$iq)({to:this.focusMucJid,type:'set'}).c('mute',{xmlns:'http://jitsi.org/jitmeet/audio',jid:t}).t(n.toString()).up();this.connection.sendIQ(o,function(t){return M.log('set mute',t)},function(t){return M.log('set mute error',t)})}},{key:"onMute",value:function(t){if(t.getAttribute('from')===this.focusMucJid){var n=$(t).find('mute');n.length&&'true'===n.text()?this.eventEmitter.emit(E.default.AUDIO_MUTED_BY_FOCUS,n.attr('actor')):M.warn("Ignoring a mute request which does not explicitly specify a positive mute command.")}else M.warn('Ignored mute from non focus peer')}},{key:"clean",value:function(){this._removeConnListeners.forEach(function(t){return t()}),this._removeConnListeners=[],this.joined=!1}},{key:"leave",value:function(){var t=this;return new Promise(function(n,o){var s=setTimeout(function(){return c(!0)},5e3),u=t.eventEmitter;function c(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.removeListener(E.default.MUC_LEFT,c),clearTimeout(s),t?o(new Error("The timeout for the confirmation about leaving the room expired.")):n()}t.clean(),u.on(E.default.MUC_LEFT,c),t.doLeave()})}}]),P})(_.default);e.default=P},602,[12,1,29,30,43,40,42,39,432,528,529,603,557,564,552,569,604,593,605]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.OFF=e.ON=void 0;e.ON='on';e.OFF='off'},603,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=o(r(d[2])),b=r(d[3]),s=r(d[4]),l=o(r(d[5])),R=(0,b.getLogger)(__filename),u=(function(){function o(n){var b=this;(0,t.default)(this,o),this.xmpp=n.xmpp,this.mainRoom=n;var s=this._maybeJoinLobbyRoom.bind(this);this.mainRoom.addEventListener(l.default.LOCAL_ROLE_CHANGED,s),this.mainRoom.addEventListener(l.default.MUC_MEMBERS_ONLY_CHANGED,s),this.mainRoom.addEventListener(l.default.ROOM_CONNECT_MEMBERS_ONLY_ERROR,function(o){b.lobbyRoomJid=o})}return(0,n.default)(o,[{key:"isSupported",value:function(){return this.xmpp.lobbySupported}},{key:"enable",value:function(){var o=this;return this.isSupported()?new Promise(function(t,n){o.mainRoom.setMembersOnly(!0,t,n)}):Promise.reject(new Error('Lobby not supported!'))}},{key:"disable",value:function(){this.isSupported()&&this.mainRoom.isModerator()&&this.lobbyRoom&&this.mainRoom.membersOnlyEnabled&&this.mainRoom.setMembersOnly(!1)}},{key:"_leaveLobbyRoom",value:function(){var o=this;this.lobbyRoom&&this.lobbyRoom.leave().then(function(){o.lobbyRoom=void 0,R.info('Lobby room left!')}).catch(function(){})}},{key:"setLobbyRoomJid",value:function(o){this.lobbyRoomJid=o}},{key:"_maybeJoinLobbyRoom",value:function(){this.isSupported()&&(this.mainRoom.joined&&this.mainRoom.isModerator()&&this.mainRoom.membersOnlyEnabled&&!this.lobbyRoom&&this.join().then(function(){return R.info('Joined lobby room')}).catch(function(o){return R.error('Failed joining lobby',o)}))}},{key:"join",value:function(o,t){var n=this,b=this.mainRoom.joined&&this.mainRoom.isModerator();if(!this.lobbyRoomJid)return Promise.reject(new Error('Missing lobbyRoomJid, cannot join lobby room.'));var u=s.Strophe.getNodeFromJid(this.lobbyRoomJid),c=s.Strophe.getDomainFromJid(this.lobbyRoomJid);return this.lobbyRoom=this.xmpp.createRoom(u,{customDomain:c,disableDiscoInfo:!0,disableFocus:!0,enableLobby:!1}),o&&(this.lobbyRoom.removeFromPresence('nick'),this.lobbyRoom.addToPresence('nick',{attributes:{xmlns:'http://jabber.org/protocol/nick'},value:o})),b?(this.lobbyRoom.addPresenceListener("email",function(o,t){n.mainRoom.eventEmitter.emit(l.default.MUC_LOBBY_MEMBER_UPDATED,t,{email:o.value})}),this.lobbyRoom.addEventListener(l.default.MUC_MEMBER_JOINED,function(o,t,b,R,u,c,f,E,y){Object.values(n.mainRoom.members).find(function(o){return o.jid===y})||n.mainRoom.eventEmitter.emit(l.default.MUC_LOBBY_MEMBER_JOINED,s.Strophe.getResourceFromJid(o),t,f?f.avatar:void 0)}),this.lobbyRoom.addEventListener(l.default.MUC_MEMBER_LEFT,function(o){n.mainRoom.eventEmitter.emit(l.default.MUC_LOBBY_MEMBER_LEFT,s.Strophe.getResourceFromJid(o))}),this.lobbyRoom.addEventListener(l.default.MUC_DESTROYED,function(){Object.keys(n.lobbyRoom.members).forEach(function(o){return n.mainRoom.eventEmitter.emit(l.default.MUC_LOBBY_MEMBER_LEFT,s.Strophe.getResourceFromJid(o))}),n.lobbyRoom.clean(),n.lobbyRoom=void 0,R.info('Lobby room left(destroyed)!')})):(this.lobbyRoom.addEventListener(l.default.KICKED,function(o){if(o)return n.mainRoom.eventEmitter.emit(l.default.MUC_DENIED_ACCESS),void n.lobbyRoom.clean()}),this.mainRoom.addEventListener(l.default.INVITE_MESSAGE_RECEIVED,function(o,t,b,s){R.debug("Received approval to join "+o+" "+t+" "+b),o===n.mainRoom.roomjid&&(n.mainRoom.join(s),n._leaveLobbyRoom())}),this.lobbyRoom.addEventListener(l.default.MUC_DESTROYED,function(o,t){t?n.mainRoom.join():(n.lobbyRoom.clean(),n.mainRoom.eventEmitter.emit(l.default.MUC_DESTROYED,o))}),this.mainRoom.addEventListener(l.default.MUC_JOINED,function(){n._leaveLobbyRoom()})),new Promise(function(o,s){n.lobbyRoom.addEventListener(l.default.MUC_JOINED,function(){o(),t&&!b&&(n.lobbyRoom.removeFromPresence("email"),n.lobbyRoom.addToPresence("email",{value:t}),n.lobbyRoom.sendPresence())}),n.lobbyRoom.addEventListener(l.default.ROOM_JOIN_ERROR,s),n.lobbyRoom.addEventListener(l.default.ROOM_CONNECT_NOT_ALLOWED_ERROR,s),n.lobbyRoom.addEventListener(l.default.ROOM_CONNECT_ERROR,s),n.lobbyRoom.join()})}},{key:"denyAccess",value:function(o){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find(function(t){return s.Strophe.getResourceFromJid(t)===o});t?this.lobbyRoom.kick(t):R.error("Not found member for "+o+" in lobby room.")}}},{key:"approveAccess",value:function(o){if(this.isSupported()&&this.mainRoom.isModerator()){var t=Object.keys(this.lobbyRoom.members).find(function(t){return s.Strophe.getResourceFromJid(t)===o});if(t){var n=this.lobbyRoom.members[t].jid,b=(0,s.$msg)({to:this.mainRoom.roomjid}).c('x',{xmlns:'http://jabber.org/protocol/muc#user'}).c('invite',{to:n});this.xmpp.connection.sendIQ(b,function(){},function(o){R.error("Error sending invite for "+n,o)})}else R.error("Not found member for "+t+" in lobby room.")}}}]),o})();e.default=u},604,[1,29,30,432,529,564]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var o=r(d[1]),n=r(d[2]),s=t(r(d[3])),c=r(d[4]),u=r(d[5]),f=r(d[6]),p=(0,o.getLogger)(__filename);function l(t){var o=1;return function(n){if(!n){var s=Math.pow(2,o-1);return o+=1,s*t}o=1}}function h(t,o,n,c){function u(t){if(t.data&&t.data.sessionId){if(t.origin!==window.location.origin)return void p.warn("Ignoring sessionId from different origin: "+t.origin);s.default.sessionId=t.data.sessionId}}this.roomName=t,this.xmppService=o,this.getNextTimeout=l(1e3),this.getNextErrorTimeout=l(1e3),this.externalAuthEnabled=!1,this.options=c,this.sipGatewayEnabled=!1,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener('message',u,!1):window.attachEvent('onmessage',u)}h.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},h.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},h.prototype.onMucMemberLeft=function(t){p.info("Someone left is it focus ? "+t),'focus'===n.Strophe.getResourceFromJid(t)&&(p.info('Focus has left the room - leaving conference'),this.eventEmitter.emit(u.FOCUS_LEFT))},h.prototype.setFocusUserJid=function(t){this.focusUserJid||(this.focusUserJid=t,p.info("Focus jid set to:  "+this.focusUserJid))},h.prototype.getFocusUserJid=function(){return this.focusUserJid},h.prototype.getFocusComponent=function(){var t=this.options.connection.hosts.focus;return t||(t="focus."+this.options.connection.hosts.domain),t},h.prototype.createConferenceIq=function(){var t=(0,n.$iq)({to:this.getFocusComponent(),type:'set'}),o=s.default.sessionId,c=s.default.machineId,u=this.options.conference;return p.info("Session ID: "+o+" machine UID: "+c),t.c('conference',{xmlns:'http://jitsi.org/protocol/focus',room:this.roomName,'machine-uid':c}),o&&t.attrs({'session-id':o}),t.c('property',{name:'disableRtx',value:Boolean(u.disableRtx)}).up(),void 0!==u.audioPacketDelay&&t.c('property',{name:'audioPacketDelay',value:u.audioPacketDelay}).up(),u.startBitrate&&t.c('property',{name:'startBitrate',value:u.startBitrate}).up(),u.minBitrate&&t.c('property',{name:'minBitrate',value:u.minBitrate}).up(),u.opusMaxAverageBitrate&&t.c('property',{name:'opusMaxAverageBitrate',value:u.opusMaxAverageBitrate}).up(),void 0!==this.options.conference.startAudioMuted&&t.c('property',{name:'startAudioMuted',value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&t.c('property',{name:'startVideoMuted',value:this.options.conference.startVideoMuted}).up(),void 0!==this.options.conference.stereo&&t.c('property',{name:'stereo',value:this.options.conference.stereo}).up(),t.up(),t},h.prototype.parseSessionId=function(t){var o=$(t).find('conference').attr('session-id');o&&(p.info("Received sessionId:  "+o),s.default.sessionId=o)},h.prototype.parseConfigOptions=function(t){this.setFocusUserJid($(t).find('conference').attr('focusjid'));var o=$(t).find(">conference>property[name='authentication'][value='true']").length>0;p.info("Authentication enabled: "+o),this.externalAuthEnabled=$(t).find(">conference>property[name='externalAuth'][value='true']").length>0,p.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(t);var n=$(t).find('>conference').attr('identity');this.eventEmitter.emit(c.IDENTITY_UPDATED,o,n),$(t).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),p.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},h.prototype.allocateConferenceFocus=function(){var t=this;return new Promise(function(o){t.setFocusUserJid(t.options.connection.focusUserJid),t.connection.sendIQ(t.createConferenceIq(),function(n){return t._allocateConferenceFocusSuccess(n,o)},function(n){return t._allocateConferenceFocusError(n,o)}),t.connection.flush()})},h.prototype._allocateConferenceFocusError=function(t,o){var c=this,l=$(t).find('>error>session-invalid').length||$(t).find('>error>not-acceptable').length;if(l&&(p.info('Session expired! - removing'),s.default.sessionId=void 0),$(t).find('>error>graceful-shutdown').length)this.eventEmitter.emit(u.GRACEFUL_SHUTDOWN);else{var h=$(t).find('>error>reservation-error');if(h.length){var v,E=h.attr('error-code'),y=$(t).find('>error>text');return y&&(v=y.text()),void this.eventEmitter.emit(u.RESERVATION_ERROR,E,v)}if($(t).find('>error>not-authorized').length)return p.warn('Unauthorized to start the conference',t),n.Strophe.getDomainFromJid(t.getAttribute('to'))!==this.options.connection.hosts.anonymousdomain&&(this.externalAuthEnabled=!0),void this.eventEmitter.emit(u.AUTHENTICATION_REQUIRED);var I=this.getNextErrorTimeout(),x="Focus error, retry after "+I;f.callErrorHandler(new Error(x)),p.error(x,t);var w=this.getFocusComponent(),F=I/1e3;l||this.eventEmitter.emit(u.FOCUS_DISCONNECTED,w,F),this.getNextTimeout(!0),window.setTimeout(function(){return c.allocateConferenceFocus().then(o)},I)}},h.prototype._allocateConferenceFocusSuccess=function(t,o){var n=this;if(this.parseConfigOptions(t),this.getNextErrorTimeout(!0),'true'===$(t).find('conference').attr('ready'))this.getNextTimeout(!0),o();else{var s=this.getNextTimeout();p.info("Waiting for the focus... "+s),window.setTimeout(function(){return n.allocateConferenceFocus().then(o)},s)}},h.prototype.authenticate=function(){var t=this;return new Promise(function(o,n){t.connection.sendIQ(t.createConferenceIq(),function(n){t.parseSessionId(n),o()},function(t){return n({error:$(t).find('iq>error :first').prop('tagName'),message:$(t).find('iq>error>text').text()})})})},h.prototype.getLoginUrl=function(t,o){this._getLoginUrl(!1,t,o)},h.prototype._getLoginUrl=function(t,o,c){var u=(0,n.$iq)({to:this.getFocusComponent(),type:'get'}),l={xmlns:'http://jitsi.org/protocol/focus',room:this.roomName,'machine-uid':s.default.machineId},h='auth url';function v(t,o){f.callErrorHandler(new Error(t)),p.error(t,o),c(o)}t&&(l.popup=!0,h="POPUP "+h),u.c('login-url',l),this.connection.sendIQ(u,function(t){var n=$(t).find('login-url').attr('url');(n=decodeURIComponent(n))?(p.info("Got "+h+": "+n),o(n)):v("Failed to get "+h+" from the focus",t)},v.bind(void 0,"Get "+h+" error"))},h.prototype.getPopupLoginUrl=function(t,o){this._getLoginUrl(!0,t,o)},h.prototype.logout=function(t){var o=(0,n.$iq)({to:this.getFocusComponent(),type:'set'}),c=s.default.sessionId;c?(o.c('logout',{xmlns:'http://jitsi.org/protocol/focus','session-id':c}),this.connection.sendIQ(o,function(o){var n=$(o).find('logout').attr('logout-url');n&&(n=decodeURIComponent(n)),p.info("Log out OK, url: "+n,o),s.default.sessionId=void 0,t(n)},function(t){f.callErrorHandler(new Error("Logout error")),p.error("Logout error",t)})):t()}},605,[1,432,529,606,563,564,552]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o,n=r(d[1]),l=r(d[2]),u=t(r(d[3])),I=(0,l.getLogger)(__filename),_={_storage:n.jitsiLocalStorage,init:function(t){this._storage=t||n.jitsiLocalStorage},get callStatsUserName(){return s||(s=this._storage.getItem('callStatsUserName'))||(s=c(),this._storage.setItem('callStatsUserName',s)),s},get machineId(){return o||(o=this._storage.getItem('jitsiMeetId'))||(o=f(),this._storage.setItem('jitsiMeetId',o)),o},get sessionId(){return this._storage.getItem('sessionId')},set sessionId(t){t?this._storage.setItem('sessionId',t):this._storage.removeItem('sessionId')}};function c(){var t=u.default.generateUsername();return I.log('generated callstats uid',t),t}function f(){var t=h()+h()+h()+h();return I.log('generated id',t),t}function h(){return(Math.random().toString(16)+"000000000").substr(2,8)}e.default=_},606,[1,538,432,607]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),l=['Aaliyah','Aaron','Abagail','Abbey','Abbie','Abbigail','Abby','Abdiel','Abdul','Abdullah','Abe','Abel','Abelardo','Abigail','Abigale','Abigayle','Abner','Abraham','Ada','Adah','Adalberto','Adaline','Adam','Adan','Addie','Addison','Adela','Adelbert','Adele','Adelia','Adeline','Adell','Adella','Adelle','Aditya','Adolf','Adolfo','Adolph','Adolphus','Adonis','Adrain','Adrian','Adriana','Adrianna','Adriel','Adrien','Adrienne','Afton','Aglae','Agnes','Agustin','Agustina','Ahmad','Ahmed','Aida','Aidan','Aiden','Aileen','Aisha','Aiyana','Akeem','Al','Alaina','Alan','Alana','Alanis','Alanna','Alayna','Alba','Albert','Alberta','Albertha','Alberto','Albin','Albina','Alda','Alden','Alec','Aleen','Alejandra','Alejandrin','Alek','Alena','Alene','Alessandra','Alessandro','Alessia','Aletha','Alex','Alexa','Alexander','Alexandra','Alexandre','Alexandrea','Alexandria','Alexandrine','Alexandro','Alexane','Alexanne','Alexie','Alexis','Alexys','Alexzander','Alf','Alfonso','Alfonzo','Alford','Alfred','Alfreda','Alfredo','Ali','Alia','Alice','Alicia','Alisa','Alisha','Alison','Alivia','Aliya','Aliyah','Aliza','Alize','Allan','Allen','Allene','Allie','Allison','Ally','Alphonso','Alta','Althea','Alva','Alvah','Alvena','Alvera','Alverta','Alvina','Alvis','Alyce','Alycia','Alysa','Alysha','Alyson','Alysson','Amalia','Amanda','Amani','Amara','Amari','Amaya','Amber','Ambrose','Amelia','Amelie','Amely','America','Americo','Amie','Amina','Amir','Amira','Amiya','Amos','Amparo','Amy','Amya','Ana','Anabel','Anabelle','Anahi','Anais','Anastacio','Anastasia','Anderson','Andre','Andreane','Andreanne','Andres','Andrew','Andy','Angel','Angela','Angelica','Angelina','Angeline','Angelita','Angelo','Angie','Angus','Anibal','Anika','Anissa','Anita','Aniya','Aniyah','Anjali','Anna','Annabel','Annabell','Annabelle','Annalise','Annamae','Annamarie','Anne','Annetta','Annette','Annie','Ansel','Ansley','Anthony','Antoinette','Antone','Antonetta','Antonette','Antonia','Antonietta','Antonina','Antonio','Antwan','Antwon','Anya','April','Ara','Araceli','Aracely','Arch','Archibald','Ardella','Arden','Ardith','Arely','Ari','Ariane','Arianna','Aric','Ariel','Arielle','Arjun','Arlene','Arlie','Arlo','Armand','Armando','Armani','Arnaldo','Arne','Arno','Arnold','Arnoldo','Arnulfo','Aron','Art','Arthur','Arturo','Arvel','Arvid','Arvilla','Aryanna','Asa','Asha','Ashlee','Ashleigh','Ashley','Ashly','Ashlynn','Ashton','Ashtyn','Asia','Assunta','Astrid','Athena','Aubree','Aubrey','Audie','Audra','Audreanne','Audrey','August','Augusta','Augustine','Augustus','Aurelia','Aurelie','Aurelio','Aurore','Austen','Austin','Austyn','Autumn','Ava','Avery','Avis','Axel','Ayana','Ayden','Ayla','Aylin','Baby','Bailee','Bailey','Barbara','Barney','Baron','Barrett','Barry','Bart','Bartholome','Barton','Baylee','Beatrice','Beau','Beaulah','Bell','Bella','Belle','Ben','Benedict','Benjamin','Bennett','Bennie','Benny','Benton','Berenice','Bernadette','Bernadine','Bernard','Bernardo','Berneice','Bernhard','Bernice','Bernie','Berniece','Bernita','Berry','Bert','Berta','Bertha','Bertram','Bertrand','Beryl','Bessie','Beth','Bethany','Bethel','Betsy','Bette','Bettie','Betty','Bettye','Beulah','Beverly','Bianka','Bill','Billie','Billy','Birdie','Blair','Blaise','Blake','Blanca','Blanche','Blaze','Bo','Bobbie','Bobby','Bonita','Bonnie','Boris','Boyd','Brad','Braden','Bradford','Bradley','Bradly','Brady','Braeden','Brain','Brandi','Brando','Brandon','Brandt','Brandy','Brandyn','Brannon','Branson','Brant','Braulio','Braxton','Brayan','Breana','Breanna','Breanne','Brenda','Brendan','Brenden','Brendon','Brenna','Brennan','Brennon','Brent','Bret','Brett','Bria','Brian','Briana','Brianne','Brice','Bridget','Bridgette','Bridie','Brielle','Brigitte','Brionna','Brisa','Britney','Brittany','Brock','Broderick','Brody','Brook','Brooke','Brooklyn','Brooks','Brown','Bruce','Bryana','Bryce','Brycen','Bryon','Buck','Bud','Buddy','Buford','Bulah','Burdette','Burley','Burnice','Buster','Cade','Caden','Caesar','Caitlyn','Cale','Caleb','Caleigh','Cali','Calista','Callie','Camden','Cameron','Camila','Camilla','Camille','Camren','Camron','Camryn','Camylle','Candace','Candelario','Candice','Candida','Candido','Cara','Carey','Carissa','Carlee','Carleton','Carley','Carli','Carlie','Carlo','Carlos','Carlotta','Carmel','Carmela','Carmella','Carmelo','Carmen','Carmine','Carol','Carolanne','Carole','Carolina','Caroline','Carolyn','Carolyne','Carrie','Carroll','Carson','Carter','Cary','Casandra','Casey','Casimer','Casimir','Casper','Cassandra','Cassandre','Cassidy','Cassie','Catalina','Caterina','Catharine','Catherine','Cathrine','Cathryn','Cathy','Cayla','Ceasar','Cecelia','Cecil','Cecile','Cecilia','Cedrick','Celestine','Celestino','Celia','Celine','Cesar','Chad','Chadd','Chadrick','Chaim','Chance','Chandler','Chanel','Chanelle','Charity','Charlene','Charles','Charley','Charlie','Charlotte','Chase','Chasity','Chauncey','Chaya','Chaz','Chelsea','Chelsey','Chelsie','Chesley','Chester','Chet','Cheyanne','Cheyenne','Chloe','Chris','Christ','Christa','Christelle','Christian','Christiana','Christina','Christine','Christop','Christophe','Christopher','Christy','Chyna','Ciara','Cicero','Cielo','Cierra','Cindy','Citlalli','Clair','Claire','Clara','Clarabelle','Clare','Clarissa','Clark','Claud','Claude','Claudia','Claudie','Claudine','Clay','Clemens','Clement','Clementina','Clementine','Clemmie','Cleo','Cleora','Cleta','Cletus','Cleve','Cleveland','Clifford','Clifton','Clint','Clinton','Clotilde','Clovis','Cloyd','Clyde','Coby','Cody','Colby','Cole','Coleman','Colin','Colleen','Collin','Colt','Colten','Colton','Columbus','Concepcion','Conner','Connie','Connor','Conor','Conrad','Constance','Constantin','Consuelo','Cooper','Cora','Coralie','Corbin','Cordelia','Cordell','Cordia','Cordie','Corene','Corine','Cornelius','Cornell','Corrine','Cortez','Cortney','Cory','Coty','Courtney','Coy','Craig','Crawford','Creola','Cristal','Cristian','Cristina','Cristobal','Cristopher','Cruz','Crystal','Crystel','Cullen','Curt','Curtis','Cydney','Cynthia','Cyril','Cyrus','Dagmar','Dahlia','Daija','Daisha','Daisy','Dakota','Dale','Dallas','Dallin','Dalton','Damaris','Dameon','Damian','Damien','Damion','Damon','Dan','Dana','Dandre','Dane','D\'angelo','Dangelo','Danial','Daniela','Daniella','Danielle','Danika','Dannie','Danny','Dante','Danyka','Daphne','Daphnee','Daphney','Darby','Daren','Darian','Dariana','Darien','Dario','Darion','Darius','Darlene','Daron','Darrel','Darrell','Darren','Darrick','Darrin','Darrion','Darron','Darryl','Darwin','Daryl','Dashawn','Dasia','Dave','David','Davin','Davion','Davon','Davonte','Dawn','Dawson','Dax','Dayana','Dayna','Dayne','Dayton','Dean','Deangelo','Deanna','Deborah','Declan','Dedric','Dedrick','Dee','Deion','Deja','Dejah','Dejon','Dejuan','Delaney','Delbert','Delfina','Delia','Delilah','Dell','Della','Delmer','Delores','Delpha','Delphia','Delphine','Delta','Demarco','Demarcus','Demario','Demetris','Demetrius','Demond','Dena','Denis','Dennis','Deon','Deondre','Deontae','Deonte','Dereck','Derek','Derick','Deron','Derrick','Deshaun','Deshawn','Desiree','Desmond','Dessie','Destany','Destin','Destinee','Destiney','Destini','Destiny','Devan','Devante','Deven','Devin','Devon','Devonte','Devyn','Dewayne','Dewitt','Dexter','Diamond','Diana','Dianna','Diego','Dillan','Dillon','Dimitri','Dina','Dino','Dion','Dixie','Dock','Dolly','Dolores','Domenic','Domenica','Domenick','Domenico','Domingo','Dominic','Dominique','Don','Donald','Donato','Donavon','Donna','Donnell','Donnie','Donny','Dora','Dorcas','Dorian','Doris','Dorothea','Dorothy','Dorris','Dortha','Dorthy','Doug','Douglas','Dovie','Doyle','Drake','Drew','Duane','Dudley','Dulce','Duncan','Durward','Dustin','Dusty','Dwight','Dylan','Earl','Earlene','Earline','Earnest','Earnestine','Easter','Easton','Ebba','Ebony','Ed','Eda','Edd','Eddie','Eden','Edgar','Edgardo','Edison','Edmond','Edmund','Edna','Eduardo','Edward','Edwardo','Edwin','Edwina','Edyth','Edythe','Effie','Efrain','Efren','Eileen','Einar','Eino','Eladio','Elaina','Elbert','Elda','Eldon','Eldora','Eldred','Eldridge','Eleanora','Eleanore','Eleazar','Electa','Elena','Elenor','Elenora','Eleonore','Elfrieda','Eli','Elian','Eliane','Elias','Eliezer','Elijah','Elinor','Elinore','Elisa','Elisabeth','Elise','Eliseo','Elisha','Elissa','Eliza','Elizabeth','Ella','Ellen','Ellie','Elliot','Elliott','Ellis','Ellsworth','Elmer','Elmira','Elmo','Elmore','Elna','Elnora','Elody','Eloisa','Eloise','Elouise','Eloy','Elroy','Elsa','Else','Elsie','Elta','Elton','Elva','Elvera','Elvie','Elvis','Elwin','Elwyn','Elyse','Elyssa','Elza','Emanuel','Emelia','Emelie','Emely','Emerald','Emerson','Emery','Emie','Emil','Emile','Emilia','Emiliano','Emilie','Emilio','Emily','Emma','Emmalee','Emmanuel','Emmanuelle','Emmet','Emmett','Emmie','Emmitt','Emmy','Emory','Ena','Enid','Enoch','Enola','Enos','Enrico','Enrique','Ephraim','Era','Eriberto','Eric','Erica','Erich','Erick','Ericka','Erik','Erika','Erin','Erling','Erna','Ernest','Ernestina','Ernestine','Ernesto','Ernie','Ervin','Erwin','Eryn','Esmeralda','Esperanza','Esta','Esteban','Estefania','Estel','Estell','Estella','Estelle','Estevan','Esther','Estrella','Etha','Ethan','Ethel','Ethelyn','Ethyl','Ettie','Eudora','Eugene','Eugenia','Eula','Eulah','Eulalia','Euna','Eunice','Eusebio','Eva','Evalyn','Evan','Evangeline','Evans','Eve','Eveline','Evelyn','Everardo','Everett','Everette','Evert','Evie','Ewald','Ewell','Ezekiel','Ezequiel','Ezra','Fabian','Fabiola','Fae','Fannie','Fanny','Fatima','Faustino','Fausto','Favian','Fay','Faye','Federico','Felicia','Felicita','Felicity','Felipa','Felipe','Felix','Felton','Fermin','Fern','Fernando','Ferne','Fidel','Filiberto','Filomena','Finn','Fiona','Flavie','Flavio','Fleta','Fletcher','Flo','Florence','Florencio','Florian','Florida','Florine','Flossie','Floy','Floyd','Ford','Forest','Forrest','Foster','Frances','Francesca','Francesco','Francis','Francisca','Francisco','Franco','Frank','Frankie','Franz','Fred','Freda','Freddie','Freddy','Frederic','Frederick','Frederik','Frederique','Fredrick','Fredy','Freeda','Freeman','Freida','Frida','Frieda','Friedrich','Fritz','Furman','Gabe','Gabriel','Gabriella','Gabrielle','Gaetano','Gage','Gail','Gardner','Garett','Garfield','Garland','Garnet','Garnett','Garret','Garrett','Garrick','Garrison','Garry','Garth','Gaston','Gavin','Gay','Gayle','Gaylord','Gene','General','Genesis','Genevieve','Gennaro','Genoveva','Geo','Geoffrey','George','Georgette','Georgiana','Georgianna','Geovanni','Geovanny','Geovany','Gerald','Geraldine','Gerard','Gerardo','Gerda','Gerhard','Germaine','German','Gerry','Gerson','Gertrude','Gia','Gianni','Gideon','Gilbert','Gilberto','Gilda','Giles','Gillian','Gina','Gino','Giovani','Giovanna','Giovanni','Giovanny','Gisselle','Giuseppe','Gladyce','Gladys','Glen','Glenda','Glenna','Glennie','Gloria','Godfrey','Golda','Golden','Gonzalo','Gordon','Grace','Gracie','Graciela','Grady','Graham','Grant','Granville','Grayce','Grayson','Green','Greg','Gregg','Gregoria','Gregorio','Gregory','Greta','Gretchen','Greyson','Griffin','Grover','Guadalupe','Gudrun','Guido','Guillermo','Guiseppe','Gunnar','Gunner','Gus','Gussie','Gust','Gustave','Guy','Gwen','Gwendolyn','Hadley','Hailee','Hailey','Hailie','Hal','Haleigh','Haley','Halie','Halle','Hallie','Hank','Hanna','Hannah','Hans','Hardy','Harley','Harmon','Harmony','Harold','Harrison','Harry','Harvey','Haskell','Hassan','Hassie','Hattie','Haven','Hayden','Haylee','Hayley','Haylie','Hazel','Hazle','Heath','Heather','Heaven','Heber','Hector','Heidi','Helen','Helena','Helene','Helga','Hellen','Helmer','Heloise','Henderson','Henri','Henriette','Henry','Herbert','Herman','Hermann','Hermina','Herminia','Herminio','Hershel','Herta','Hertha','Hester','Hettie','Hilario','Hilbert','Hilda','Hildegard','Hillard','Hillary','Hilma','Hilton','Hipolito','Hiram','Hobart','Holden','Hollie','Hollis','Holly','Hope','Horace','Horacio','Hortense','Hosea','Houston','Howard','Howell','Hoyt','Hubert','Hudson','Hugh','Hulda','Humberto','Hunter','Hyman','Ian','Ibrahim','Icie','Ida','Idell','Idella','Ignacio','Ignatius','Ike','Ila','Ilene','Iliana','Ima','Imani','Imelda','Immanuel','Imogene','Ines','Irma','Irving','Irwin','Isaac','Isabel','Isabell','Isabella','Isabelle','Isac','Isadore','Isai','Isaiah','Isaias','Isidro','Ismael','Isobel','Isom','Israel','Issac','Itzel','Iva','Ivah','Ivory','Ivy','Izabella','Izaiah','Jabari','Jace','Jacey','Jacinthe','Jacinto','Jack','Jackeline','Jackie','Jacklyn','Jackson','Jacky','Jaclyn','Jacquelyn','Jacques','Jacynthe','Jada','Jade','Jaden','Jadon','Jadyn','Jaeden','Jaida','Jaiden','Jailyn','Jaime','Jairo','Jakayla','Jake','Jakob','Jaleel','Jalen','Jalon','Jalyn','Jamaal','Jamal','Jamar','Jamarcus','Jamel','Jameson','Jamey','Jamie','Jamil','Jamir','Jamison','Jammie','Jan','Jana','Janae','Jane','Janelle','Janessa','Janet','Janice','Janick','Janie','Janis','Janiya','Jannie','Jany','Jaquan','Jaquelin','Jaqueline','Jared','Jaren','Jarod','Jaron','Jarred','Jarrell','Jarret','Jarrett','Jarrod','Jarvis','Jasen','Jasmin','Jason','Jasper','Jaunita','Javier','Javon','Javonte','Jay','Jayce','Jaycee','Jayda','Jayde','Jayden','Jaydon','Jaylan','Jaylen','Jaylin','Jaylon','Jayme','Jayne','Jayson','Jazlyn','Jazmin','Jazmyn','Jazmyne','Jean','Jeanette','Jeanie','Jeanne','Jed','Jedediah','Jedidiah','Jeff','Jefferey','Jeffery','Jeffrey','Jeffry','Jena','Jenifer','Jennie','Jennifer','Jennings','Jennyfer','Jensen','Jerad','Jerald','Jeramie','Jeramy','Jerel','Jeremie','Jeremy','Jermain','Jermaine','Jermey','Jerod','Jerome','Jeromy','Jerrell','Jerrod','Jerrold','Jerry','Jess','Jesse','Jessica','Jessie','Jessika','Jessy','Jessyca','Jesus','Jett','Jettie','Jevon','Jewel','Jewell','Jillian','Jimmie','Jimmy','Jo','Joan','Joana','Joanie','Joanne','Joannie','Joanny','Joany','Joaquin','Jocelyn','Jodie','Jody','Joe','Joel','Joelle','Joesph','Joey','Johan','Johann','Johanna','Johathan','John','Johnathan','Johnathon','Johnnie','Johnny','Johnpaul','Johnson','Jolie','Jon','Jonas','Jonatan','Jonathan','Jonathon','Jordan','Jordane','Jordi','Jordon','Jordy','Jordyn','Jorge','Jose','Josefa','Josefina','Joseph','Josephine','Josh','Joshua','Joshuah','Josiah','Josiane','Josianne','Josie','Josue','Jovan','Jovani','Jovanny','Jovany','Joy','Joyce','Juana','Juanita','Judah','Judd','Jude','Judge','Judson','Judy','Jules','Julia','Julian','Juliana','Julianne','Julie','Julien','Juliet','Julio','Julius','June','Junior','Junius','Justen','Justice','Justina','Justine','Juston','Justus','Justyn','Juvenal','Juwan','Kacey','Kaci','Kacie','Kade','Kaden','Kadin','Kaela','Kaelyn','Kaia','Kailee','Kailey','Kailyn','Kaitlin','Kaitlyn','Kale','Kaleb','Kaleigh','Kaley','Kali','Kallie','Kameron','Kamille','Kamren','Kamron','Kamryn','Kane','Kara','Kareem','Karelle','Karen','Kari','Kariane','Karianne','Karina','Karine','Karl','Karlee','Karley','Karli','Karlie','Karolann','Karson','Kasandra','Kasey','Kassandra','Katarina','Katelin','Katelyn','Katelynn','Katharina','Katherine','Katheryn','Kathleen','Kathlyn','Kathryn','Kathryne','Katlyn','Katlynn','Katrina','Katrine','Kattie','Kavon','Kay','Kaya','Kaycee','Kayden','Kayla','Kaylah','Kaylee','Kayleigh','Kayley','Kayli','Kaylie','Kaylin','Keagan','Keanu','Keara','Keaton','Keegan','Keeley','Keely','Keenan','Keira','Keith','Kellen','Kelley','Kelli','Kellie','Kelly','Kelsi','Kelsie','Kelton','Kelvin','Ken','Kendall','Kendra','Kendrick','Kenna','Kennedi','Kennedy','Kenneth','Kennith','Kenny','Kenton','Kenya','Kenyatta','Kenyon','Keon','Keshaun','Keshawn','Keven','Kevin','Kevon','Keyon','Keyshawn','Khalid','Khalil','Kian','Kiana','Kianna','Kiara','Kiarra','Kiel','Kiera','Kieran','Kiley','Kim','Kimberly','King','Kip','Kira','Kirk','Kirsten','Kirstin','Kitty','Kobe','Koby','Kody','Kolby','Kole','Korbin','Korey','Kory','Kraig','Kris','Krista','Kristian','Kristin','Kristina','Kristofer','Kristoffer','Kristopher','Kristy','Krystal','Krystel','Krystina','Kurt','Kurtis','Kyla','Kyle','Kylee','Kyleigh','Kyler','Kylie','Kyra','Lacey','Lacy','Ladarius','Lafayette','Laila','Laisha','Lamar','Lambert','Lamont','Lance','Landen','Lane','Laney','Larissa','Laron','Larry','Larue','Laura','Laurel','Lauren','Laurence','Lauretta','Lauriane','Laurianne','Laurie','Laurine','Laury','Lauryn','Lavada','Lavern','Laverna','Laverne','Lavina','Lavinia','Lavon','Lavonne','Lawrence','Lawson','Layla','Layne','Lazaro','Lea','Leann','Leanna','Leanne','Leatha','Leda','Lee','Leif','Leila','Leilani','Lela','Lelah','Leland','Lelia','Lempi','Lemuel','Lenna','Lennie','Lenny','Lenora','Lenore','Leo','Leola','Leon','Leonard','Leonardo','Leone','Leonel','Leonie','Leonor','Leonora','Leopold','Leopoldo','Leora','Lera','Lesley','Leslie','Lesly','Lessie','Lester','Leta','Letha','Letitia','Levi','Lew','Lewis','Lexi','Lexie','Lexus','Lia','Liam','Liana','Libbie','Libby','Lila','Lilian','Liliana','Liliane','Lilla','Lillian','Lilliana','Lillie','Lilly','Lily','Lilyan','Lina','Lincoln','Linda','Lindsay','Lindsey','Linnea','Linnie','Linwood','Lionel','Lisa','Lisandro','Lisette','Litzy','Liza','Lizeth','Lizzie','Llewellyn','Lloyd','Logan','Lois','Lola','Lolita','Loma','Lon','London','Lonie','Lonnie','Lonny','Lonzo','Lora','Loraine','Loren','Lorena','Lorenz','Lorenza','Lorenzo','Lori','Lorine','Lorna','Lottie','Lou','Louie','Louisa','Lourdes','Louvenia','Lowell','Loy','Loyal','Loyce','Lucas','Luciano','Lucie','Lucienne','Lucile','Lucinda','Lucio','Lucious','Lucius','Lucy','Ludie','Ludwig','Lue','Luella','Luigi','Luis','Luisa','Lukas','Lula','Lulu','Luna','Lupe','Lura','Lurline','Luther','Luz','Lyda','Lydia','Lyla','Lynn','Lyric','Lysanne','Mabel','Mabelle','Mable','Mac','Macey','Maci','Macie','Mack','Mackenzie','Macy','Madaline','Madalyn','Maddison','Madeline','Madelyn','Madelynn','Madge','Madie','Madilyn','Madisen','Madison','Madisyn','Madonna','Madyson','Mae','Maegan','Maeve','Mafalda','Magali','Magdalen','Magdalena','Maggie','Magnolia','Magnus','Maia','Maida','Maiya','Major','Makayla','Makenna','Makenzie','Malachi','Malcolm','Malika','Malinda','Mallie','Mallory','Malvina','Mandy','Manley','Manuel','Manuela','Mara','Marc','Marcel','Marcelina','Marcelino','Marcella','Marcelle','Marcellus','Marcelo','Marcia','Marco','Marcos','Marcus','Margaret','Margarete','Margarett','Margaretta','Margarette','Margarita','Marge','Margie','Margot','Margret','Marguerite','Maria','Mariah','Mariam','Marian','Mariana','Mariane','Marianna','Marianne','Mariano','Maribel','Marie','Mariela','Marielle','Marietta','Marilie','Marilou','Marilyne','Marina','Mario','Marion','Marisa','Marisol','Maritza','Marjolaine','Marjorie','Marjory','Mark','Markus','Marlee','Marlen','Marlene','Marley','Marlin','Marlon','Marques','Marquis','Marquise','Marshall','Marta','Martin','Martina','Martine','Marty','Marvin','Mary','Maryam','Maryjane','Maryse','Mason','Mateo','Mathew','Mathias','Mathilde','Matilda','Matilde','Matt','Matteo','Mattie','Maud','Maude','Maudie','Maureen','Maurice','Mauricio','Maurine','Maverick','Mavis','Max','Maxie','Maxime','Maximilian','Maximillia','Maximillian','Maximo','Maximus','Maxine','Maxwell','May','Maya','Maybell','Maybelle','Maye','Maymie','Maynard','Mayra','Mazie','Mckayla','Mckenna','Mckenzie','Meagan','Meaghan','Meda','Megane','Meggie','Meghan','Mekhi','Melany','Melba','Melisa','Melissa','Mellie','Melody','Melvin','Melvina','Melyna','Melyssa','Mercedes','Meredith','Merl','Merle','Merlin','Merritt','Mertie','Mervin','Meta','Mia','Micaela','Micah','Michael','Michaela','Michale','Micheal','Michel','Michele','Michelle','Miguel','Mikayla','Mike','Mikel','Milan','Miles','Milford','Miller','Millie','Milo','Milton','Mina','Minerva','Minnie','Miracle','Mireille','Mireya','Misael','Missouri','Misty','Mitchel','Mitchell','Mittie','Modesta','Modesto','Mohamed','Mohammad','Mohammed','Moises','Mollie','Molly','Mona','Monica','Monique','Monroe','Monserrat','Monserrate','Montana','Monte','Monty','Morgan','Moriah','Morris','Mortimer','Morton','Mose','Moses','Moshe','Mossie','Mozell','Mozelle','Muhammad','Muriel','Murl','Murphy','Murray','Mustafa','Mya','Myah','Mylene','Myles','Myra','Myriam','Myrl','Myrna','Myron','Myrtice','Myrtie','Myrtis','Myrtle','Nadia','Nakia','Name','Nannie','Naomi','Naomie','Napoleon','Narciso','Nash','Nasir','Nat','Natalia','Natalie','Natasha','Nathan','Nathanael','Nathanial','Nathaniel','Nathen','Nayeli','Neal','Ned','Nedra','Neha','Neil','Nelda','Nella','Nelle','Nellie','Nels','Nelson','Neoma','Nestor','Nettie','Neva','Newell','Newton','Nia','Nicholas','Nicholaus','Nichole','Nick','Nicklaus','Nickolas','Nico','Nicola','Nicolas','Nicole','Nicolette','Nigel','Nikita','Nikki','Nikko','Niko','Nikolas','Nils','Nina','Noah','Noble','Noe','Noel','Noelia','Noemi','Noemie','Noemy','Nola','Nolan','Nona','Nora','Norbert','Norberto','Norene','Norma','Norris','Norval','Norwood','Nova','Novella','Nya','Nyah','Nyasia','Obie','Oceane','Ocie','Octavia','Oda','Odell','Odessa','Odie','Ofelia','Okey','Ola','Olaf','Ole','Olen','Oleta','Olga','Olin','Oliver','Ollie','Oma','Omari','Omer','Ona','Onie','Opal','Ophelia','Ora','Oral','Oran','Oren','Orie','Orin','Orion','Orland','Orlando','Orlo','Orpha','Orrin','Orval','Orville','Osbaldo','Osborne','Oscar','Osvaldo','Oswald','Oswaldo','Otha','Otho','Otilia','Otis','Ottilie','Ottis','Otto','Ova','Owen','Ozella','Pablo','Paige','Palma','Pamela','Pansy','Paolo','Paris','Parker','Pascale','Pasquale','Pat','Patience','Patricia','Patrick','Patsy','Pattie','Paul','Paula','Pauline','Paxton','Payton','Pearl','Pearlie','Pearline','Pedro','Peggie','Penelope','Percival','Percy','Perry','Pete','Peter','Petra','Peyton','Philip','Phoebe','Phyllis','Pierce','Pierre','Pietro','Pink','Pinkie','Piper','Polly','Porter','Precious','Presley','Preston','Price','Prince','Princess','Priscilla','Providenci','Prudence','Queen','Queenie','Quentin','Quincy','Quinn','Quinten','Quinton','Rachael','Rachel','Rachelle','Rae','Raegan','Rafael','Rafaela','Raheem','Rahsaan','Rahul','Raina','Raleigh','Ralph','Ramiro','Ramon','Ramona','Randal','Randall','Randi','Randy','Ransom','Raoul','Raphael','Raphaelle','Raquel','Rashad','Rashawn','Rasheed','Raul','Raven','Ray','Raymond','Raymundo','Reagan','Reanna','Reba','Rebeca','Rebecca','Rebeka','Rebekah','Reece','Reed','Reese','Regan','Reggie','Reginald','Reid','Reilly','Reina','Reinhold','Remington','Rene','Renee','Ressie','Reta','Retha','Retta','Reuben','Reva','Rex','Rey','Reyes','Reymundo','Reyna','Reynold','Rhea','Rhett','Rhianna','Rhiannon','Rhoda','Ricardo','Richard','Richie','Richmond','Rick','Rickey','Rickie','Ricky','Rico','Rigoberto','Riley','Rita','River','Robb','Robbie','Robert','Roberta','Roberto','Robin','Robyn','Rocio','Rocky','Rod','Roderick','Rodger','Rodolfo','Rodrick','Rodrigo','Roel','Rogelio','Roger','Rogers','Rolando','Rollin','Roma','Romaine','Roman','Ron','Ronaldo','Ronny','Roosevelt','Rory','Rosa','Rosalee','Rosalia','Rosalind','Rosalinda','Rosalyn','Rosamond','Rosanna','Rosario','Roscoe','Rose','Rosella','Roselyn','Rosemarie','Rosemary','Rosendo','Rosetta','Rosie','Rosina','Roslyn','Ross','Rossie','Rowan','Rowena','Rowland','Roxane','Roxanne','Roy','Royal','Royce','Rozella','Ruben','Rubie','Ruby','Rubye','Rudolph','Rudy','Rupert','Russ','Russel','Russell','Rusty','Ruth','Ruthe','Ruthie','Ryan','Ryann','Ryder','Rylan','Rylee','Ryleigh','Ryley','Sabina','Sabrina','Sabryna','Sadie','Sadye','Sage','Saige','Sallie','Sally','Salma','Salvador','Salvatore','Sam','Samanta','Samantha','Samara','Samir','Sammie','Sammy','Samson','Sandra','Sandrine','Sandy','Sanford','Santa','Santiago','Santina','Santino','Santos','Sarah','Sarai','Sarina','Sasha','Saul','Savanah','Savanna','Savannah','Savion','Scarlett','Schuyler','Scot','Scottie','Scotty','Seamus','Sean','Sebastian','Sedrick','Selena','Selina','Selmer','Serena','Serenity','Seth','Shad','Shaina','Shakira','Shana','Shane','Shanel','Shanelle','Shania','Shanie','Shaniya','Shanna','Shannon','Shanny','Shanon','Shany','Sharon','Shaun','Shawn','Shawna','Shaylee','Shayna','Shayne','Shea','Sheila','Sheldon','Shemar','Sheridan','Sherman','Sherwood','Shirley','Shyann','Shyanne','Sibyl','Sid','Sidney','Sienna','Sierra','Sigmund','Sigrid','Sigurd','Silas','Sim','Simeon','Simone','Sincere','Sister','Skye','Skyla','Skylar','Sofia','Soledad','Solon','Sonia','Sonny','Sonya','Sophia','Sophie','Spencer','Stacey','Stacy','Stan','Stanford','Stanley','Stanton','Stefan','Stefanie','Stella','Stephan','Stephania','Stephanie','Stephany','Stephen','Stephon','Sterling','Steve','Stevie','Stewart','Stone','Stuart','Summer','Sunny','Susan','Susana','Susanna','Susie','Suzanne','Sven','Syble','Sydnee','Sydney','Sydni','Sydnie','Sylvan','Sylvester','Sylvia','Tabitha','Tad','Talia','Talon','Tamara','Tamia','Tania','Tanner','Tanya','Tara','Taryn','Tate','Tatum','Tatyana','Taurean','Tavares','Taya','Taylor','Teagan','Ted','Telly','Terence','Teresa','Terrance','Terrell','Terrence','Terrill','Terry','Tess','Tessie','Tevin','Thad','Thaddeus','Thalia','Thea','Thelma','Theo','Theodora','Theodore','Theresa','Therese','Theresia','Theron','Thomas','Thora','Thurman','Tia','Tiana','Tianna','Tiara','Tierra','Tiffany','Tillman','Timmothy','Timmy','Timothy','Tina','Tito','Titus','Tobin','Toby','Tod','Tom','Tomas','Tomasa','Tommie','Toney','Toni','Tony','Torey','Torrance','Torrey','Toy','Trace','Tracey','Tracy','Travis','Travon','Tre','Tremaine','Tremayne','Trent','Trenton','Tressa','Tressie','Treva','Trever','Trevion','Trevor','Trey','Trinity','Trisha','Tristian','Tristin','Triston','Troy','Trudie','Trycia','Trystan','Turner','Twila','Tyler','Tyra','Tyree','Tyreek','Tyrel','Tyrell','Tyrese','Tyrique','Tyshawn','Tyson','Ubaldo','Ulices','Ulises','Una','Unique','Urban','Uriah','Uriel','Ursula','Vada','Valentin','Valentina','Valentine','Valerie','Vallie','Van','Vance','Vanessa','Vaughn','Veda','Velda','Vella','Velma','Velva','Vena','Verda','Verdie','Vergie','Verla','Verlie','Vern','Verna','Verner','Vernice','Vernie','Vernon','Verona','Veronica','Vesta','Vicenta','Vicente','Vickie','Vicky','Victor','Victoria','Vida','Vidal','Vilma','Vince','Vincent','Vincenza','Vincenzo','Vinnie','Viola','Violet','Violette','Virgie','Virgil','Virginia','Virginie','Vita','Vito','Viva','Vivian','Viviane','Vivianne','Vivien','Vivienne','Vladimir','Wade','Waino','Waldo','Walker','Wallace','Walter','Walton','Wanda','Ward','Warren','Watson','Wava','Waylon','Wayne','Webster','Weldon','Wellington','Wendell','Wendy','Werner','Westley','Weston','Whitney','Wilber','Wilbert','Wilburn','Wiley','Wilford','Wilfred','Wilfredo','Wilfrid','Wilhelm','Wilhelmine','Will','Willa','Willard','William','Willie','Willis','Willow','Willy','Wilma','Wilmer','Wilson','Wilton','Winfield','Winifred','Winnifred','Winona','Winston','Woodrow','Wyatt','Wyman','Xander','Xavier','Xzavier','Yadira','Yasmeen','Yasmin','Yasmine','Yazmin','Yesenia','Yessenia','Yolanda','Yoshiko','Yvette','Yvonne','Zachariah','Zachary','Zachery','Zack','Zackary','Zackery','Zakary','Zander','Zane','Zaria','Zechariah','Zelda','Zella','Zelma','Zena','Zetta','Zion','Zita','Zoe','Zoey','Zoie','Zoila','Zola','Zora','Zula'];m.exports={generateUsername:function(){return n.randomElement(l)+"-"+n.randomAlphanumStr(3)}}},607,[592]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),p=r(d[8]),v=r(d[9]),h=t(r(d[10])),y=t(r(d[11])),x=t(r(d[12])),j=t(r(d[13])),C=t(r(d[14])),w=t(r(d[15]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var E=(0,f.getLogger)(__filename),R=(function(t){(0,c.default)(S,t);var f,C,R=(f=S,C=T(),function(){var t,n=(0,l.default)(f);if(C){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,u.default)(this,t)});function S(t,s,o){var c;return(0,n.default)(this,S),(c=R.call(this)).xmpp=t,c.eventEmitter=s,c.sessions={},c.jvbIceConfig=o.jvb,c.p2pIceConfig=o.p2p,c.mediaConstraints={offerToReceiveAudio:!0,offerToReceiveVideo:!0},c}return(0,s.default)(S,[{key:"init",value:function(t){(0,o.default)((0,l.default)(S.prototype),"init",this).call(this,t),this.connection.addHandler(this.onJingle.bind(this),'urn:xmpp:jingle:1','iq','set',null,null)}},{key:"onJingle",value:function(t){var n=$(t).find('jingle').attr('sid'),s=$(t).find('jingle').attr('action'),o=t.getAttribute('from'),c=(0,p.$iq)({type:'result',to:o,id:t.getAttribute('id')});E.log("on jingle "+s+" from "+o,t);var u=this.sessions[n];if('session-initiate'!==s){if(!u)return c.attrs({type:'error'}),c.c('error',{type:'cancel'}).c('item-not-found',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up().c('unknown-session',{xmlns:'urn:xmpp:jingle:errors:1'}),E.warn('invalid session id',t),this.connection.send(c),!0;if(o!==u.remoteJid)return E.warn('jid mismatch for session id',n,u.remoteJid,t),c.attrs({type:'error'}),c.c('error',{type:'cancel'}).c('item-not-found',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up().c('unknown-session',{xmlns:'urn:xmpp:jingle:errors:1'}),this.connection.send(c),!0}else if(void 0!==u)return c.attrs({type:'error'}),c.c('error',{type:'cancel'}).c('service-unavailable',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up(),E.warn('duplicate session id',n,t),this.connection.send(c),!0;var l=window.performance.now(),f='focus'!==p.Strophe.getResourceFromJid(o);switch(s){case'session-initiate':E.log('(TIME) received session-initiate:\t',l);var j=$(t).find('jingle>startmuted');if(j&&j.length>0){var C=j.attr('audio'),T=j.attr('video');this.eventEmitter.emit(h.default.START_MUTED_FROM_FOCUS,'true'===C,'true'===T)}E.info("Marking session from "+o+" as "+(f?'':'*not*')+" P2P");var R=f?this.p2pIceConfig:this.jvbIceConfig;u=new w.default($(t).find('jingle').attr('sid'),$(t).attr('to'),o,this.connection,this.mediaConstraints,JSON.parse(JSON.stringify(R)),f,!1),this.sessions[u.sid]=u,this.eventEmitter.emit(h.default.CALL_INCOMING,u,$(t).find('>jingle'),l);break;case'session-accept':this.eventEmitter.emit(h.default.CALL_ACCEPTED,u,$(t).find('>jingle'));break;case'content-modify':u.modifyContents($(t).find('>jingle'));break;case'transport-info':this.eventEmitter.emit(h.default.TRANSPORT_INFO,u,$(t).find('>jingle'));break;case'session-terminate':E.log('terminating...',u.sid);var S=null,_=null;$(t).find('>jingle>reason').length&&(S=$(t).find('>jingle>reason>:first')[0].tagName,_=$(t).find('>jingle>reason>text').text()),this.terminate(u.sid,S,_),this.eventEmitter.emit(h.default.CALL_ENDED,u,S,_);break;case'transport-replace':E.info('(TIME) Start transport replace:\t',l),y.default.sendAnalytics((0,v.createJingleEvent)(v.ACTION_JINGLE_TR_RECEIVED,{p2p:f,value:l})),u.replaceTransport($(t).find('>jingle'),function(){var t=window.performance.now();E.info('(TIME) Transport replace success:\t',t),y.default.sendAnalytics((0,v.createJingleEvent)(v.ACTION_JINGLE_TR_SUCCESS,{p2p:f,value:t}))},function(t){x.default.callErrorHandler(t),E.error('Transport replace failed',t),u.sendTransportReject()});break;case'addsource':case'source-add':u.addRemoteStream($(t).find('>jingle>content'));break;case'removesource':case'source-remove':u.removeRemoteStream($(t).find('>jingle>content'));break;default:E.warn('jingle action not implemented',s),c.attrs({type:'error'}),c.c('error',{type:'cancel'}).c('bad-request',{xmlns:'urn:ietf:params:xml:ns:xmpp-stanzas'}).up()}return this.connection.send(c),!0}},{key:"newP2PJingleSession",value:function(t,n){var s=new w.default(j.default.randomHexString(12),t,n,this.connection,this.mediaConstraints,this.p2pIceConfig,!0,!0);return this.sessions[s.sid]=s,s}},{key:"terminate",value:function(t,n,s){this.sessions.hasOwnProperty(t)&&('ended'!==this.sessions[t].state&&this.sessions[t].onTerminated(n,s),delete this.sessions[t])}},{key:"getStunAndTurnCredentials",value:function(){var t=this;this.connection.sendIQ((0,p.$iq)({type:'get',to:this.xmpp.options.hosts.domain}).c('services',{xmlns:'urn:xmpp:extdisco:2'}),function(n){return t.onReceiveStunAndTurnCredentials(n)},function(n){E.warn('getting turn credentials with extdisco:2 failed, trying extdisco:1',n),t.connection.sendIQ((0,p.$iq)({type:'get',to:t.xmpp.options.hosts.domain}).c('services',{xmlns:'urn:xmpp:extdisco:1'}),function(n){return t.onReceiveStunAndTurnCredentials(n)},function(t){E.warn('getting turn credentials failed',t),E.warn('is mod_turncredentials or similar installed and configured?')})})}},{key:"onReceiveStunAndTurnCredentials",value:function(t){var n=[];$(t).find('>services>service').each(function(t,s){var o={},c=(s=$(s)).attr('type');switch(c){case'stun':o.urls="stun:"+s.attr('host'),s.attr('port')&&(o.urls+=":"+s.attr('port')),n.push(o);break;case'turn':case'turns':o.urls=c+":",o.username=s.attr('username'),o.urls+=s.attr('host'),s.attr('port')&&(o.urls+=":"+s.attr('port'));var u=s.attr('transport');u&&'udp'!==u&&(o.urls+="?transport="+u),o.credential=s.attr('password')||o.credential,n.push(o)}});for(var s,o=this.xmpp.options,c=n.length-1;c>0;c--){var u=Math.floor(Math.random()*(c+1)),l=n[c];n[c]=n[u],n[u]=l}s=o.useTurnUdp?function(t){return t.urls.startsWith('turn')}:function(t){return t.urls.startsWith('turn')&&t.urls.indexOf('transport=tcp')>=0},this.jvbIceConfig.iceServers=n.filter(s),this.p2pIceConfig.iceServers=n}},{key:"getLog",value:function(){var t=this,n={};return Object.keys(this.sessions).forEach(function(s){var o=t.sessions[s].peerconnection;o&&o.updateLog&&(n["jingle_"+s]={updateLog:o.updateLog,stats:o.stats,url:window.location.href})}),n}}]),S})(C.default);e.default=R},608,[1,29,30,37,40,42,39,432,529,534,564,531,552,592,600,609]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=n(r(d[4])),u=n(r(d[5])),l=n(r(d[6])),f=n(r(d[7])),p=r(d[8]),h=r(d[9]),v=n(r(d[10])),S=r(d[11]),C=n(r(d[12])),y=n(r(d[13])),E=n(r(d[14])),I=n(r(d[15])),_=r(d[16]),R=n(r(d[17])),w=n(r(d[18])),b=t(r(d[19])),T=n(r(d[20])),k=n(r(d[21])),A=n(r(d[22])),D=n(r(d[23])),x=n(r(d[24])),N=n(r(d[25]));function P(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=O(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function O(t,n){if(t){if("string"==typeof t)return j(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?j(t,n):void 0}}function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var J=(0,p.getLogger)(__filename),M=(function(t){(0,u.default)(O,t);var n,p,w=(n=O,p=V(),function(){var t,o=(0,f.default)(n);if(p){var s=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,s)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function O(t,n,c,u,l,f,p,h){var v;return(0,o.default)(this,O),(v=w.call(this,t,n,c,u,l,f,h))._bridgeSessionId=null,v._cachedOldLocalSdp=void 0,v._cachedNewLocalSdp=void 0,v._iceCheckingStartedTimestamp=null,v._gatheringStartedTimestamp=null,v.localRecvMaxFrameHeight=void 0,v._localVideoActive=!0,v._remoteVideoActive=!0,v._gatheringReported=!1,v.lasticecandidate=!1,v.closed=!1,v.isP2P=p,v.remoteRecvMaxFrameHeight=void 0,v.signalingLayer=new x.default,v.modificationQueue=new E.default,v.wasConnected=!1,v.establishmentDuration=void 0,v._xmppListeners=[],v._xmppListeners.push(u.addEventListener(N.default.Events.CONN_STATUS_CHANGED,v.onXmppStatusChanged.bind((0,s.default)(v)))),v._removeSenderVideoConstraintsChangeListener=void 0,v}return(0,c.default)(O,null,[{key:"parseVideoSenders",value:function(t){var n=t.find('>content[name="video"]');if(n.length){var o=n[0].getAttribute('senders');if('both'===o||'initiator'===o||'responder'===o||'none'===o)return o}return null}},{key:"parseMaxFrameHeight",value:function(t){var n=t.find('>content[name="video"]>max-frame-height');return n.length?Number(n.text()):null}}]),(0,c.default)(O,[{key:"_assertNotEnded",value:function(){return this.state!==b.ENDED}},{key:"doInitialize",value:function(t){var n=this;this.failICE=Boolean(t.failICE),this.lasticecandidate=!1,this.options=t,this.isReconnect=!1,this.wasstable=!1,this.webrtcIceUdpDisable=Boolean(t.webrtcIceUdpDisable),this.webrtcIceTcpDisable=Boolean(t.webrtcIceTcpDisable);var o={disableRtx:t.disableRtx};if(t.gatherStats&&(o.maxstats=300),o.capScreenshareBitrate=!1,o.enableInsertableStreams=t.enableInsertableStreams,o.videoQuality=t.videoQuality,o.forceTurnRelay=t.forceTurnRelay,this.isP2P){o.disableSimulcast=!0;var s=this._abtestSuspendVideoEnabled(t);void 0!==s&&(o.abtestSuspendVideo=s)}else o.disableSimulcast=t.disableSimulcast||t.preferH264&&!t.disableH264,t.testing&&t.testing.capScreenshareBitrate&&'number'==typeof t.testing.capScreenshareBitrate&&(o.capScreenshareBitrate=Math.random()<t.testing.capScreenshareBitrate,y.default.analytics.addPermanentProperties({capScreenshareBitrate:o.capScreenshareBitrate}));t.startSilent&&(o.startSilent=!0),this.peerconnection=this.rtc.createPeerConnection(this.signalingLayer,this.iceConfig,this.isP2P,o),this.peerconnection.onicecandidate=function(t){if(t){var o=t.candidate,s=window.performance.now();if(o){null===n._gatheringStartedTimestamp&&(n._gatheringStartedTimestamp=s);var c=o.protocol;if('string'==typeof c)if('tcp'===(c=c.toLowerCase())||'ssltcp'===c){if(n.webrtcIceTcpDisable)return}else if('udp'===c&&n.webrtcIceUdpDisable)return}else n._gatheringReported||(y.default.sendAnalytics(S.ICE_DURATION,{phase:'gathering',value:s-n._gatheringStartedTimestamp,p2p:n.isP2P,initiator:n.isInitiator}),n._gatheringReported=!0);n.sendIceCandidate(o)}},this.peerconnection.onsignalingstatechange=function(){'stable'===n.peerconnection.signalingState?n.wasstable=!0:'closed'!==n.peerconnection.signalingState&&'closed'!==n.peerconnection.connectionState||n.room.eventEmitter.emit(C.default.SUSPEND_DETECTED,n)},this.peerconnection.oniceconnectionstatechange=function(){var t=window.performance.now();switch(n.isP2P||(n.room.connectionTimes["ice.state."+n.peerconnection.iceConnectionState]=t),J.log("(TIME) ICE "+n.peerconnection.iceConnectionState+" P2P? "+n.isP2P+":\t",t),y.default.sendAnalytics(S.ICE_STATE_CHANGED,{p2p:n.isP2P,state:n.peerconnection.iceConnectionState,signaling_state:n.peerconnection.signalingState,reconnect:n.isReconnect,value:t}),n.room.eventEmitter.emit(C.default.ICE_CONNECTION_STATE_CHANGED,n,n.peerconnection.iceConnectionState),n.peerconnection.iceConnectionState){case'checking':n._iceCheckingStartedTimestamp=t;break;case'connected':if('stable'===n.peerconnection.signalingState){var o=!n.options.enableIceRestart&&n.room.supportsRestartByTerminate();(n.isReconnect||o)&&n.room.eventEmitter.emit(C.default.CONNECTION_RESTORED,n)}if(!n.wasConnected&&n.wasstable){y.default.sendAnalytics(S.ICE_DURATION,{phase:'checking',value:t-n._iceCheckingStartedTimestamp,p2p:n.isP2P,initiator:n.isInitiator});var s=Math.min(n._iceCheckingStartedTimestamp,n._gatheringStartedTimestamp);n.establishmentDuration=t-s,y.default.sendAnalytics(S.ICE_DURATION,{phase:'establishment',value:n.establishmentDuration,p2p:n.isP2P,initiator:n.isInitiator}),n.wasConnected=!0,n.room.eventEmitter.emit(C.default.CONNECTION_ESTABLISHED,n)}n.isReconnect=!1;break;case'disconnected':n.isReconnect=!0,n.wasstable&&n.room.eventEmitter.emit(C.default.CONNECTION_INTERRUPTED,n);break;case'failed':n.room.eventEmitter.emit(C.default.CONNECTION_ICE_FAILED,n)}},this.peerconnection.onnegotiationneeded=function(){var t=n.peerconnection.signalingState,o=n.peerconnection.remoteDescription;if(R.default.usesUnifiedPlan()&&'stable'===t&&o&&'string'==typeof o.sdp){J.debug("onnegotiationneeded fired on "+n.peerconnection+" in state: "+t);n.modificationQueue.push(function(t){var o=new k.default(n.peerconnection.localDescription.sdp);n._renegotiate().then(function(){var s=new k.default(n.peerconnection.localDescription.sdp);n.notifyMySSRCUpdate(o,s),t()},t)},function(t){t?J.error('onnegotiationneeded error',t):J.debug('onnegotiationneeded executed - OK')})}},this.signalingLayer.setChatRoom(this.room),!this.isP2P&&t.enableLayerSuspension&&(this._removeSenderVideoConstraintsChangeListener=this.rtc.addListener(v.default.SENDER_VIDEO_CONSTRAINTS_CHANGED,function(){n.eventEmitter.emit(T.default.REMOTE_VIDEO_CONSTRAINTS_CHANGED,n)}))}},{key:"getRemoteRecvMaxFrameHeight",value:function(){return this.isP2P?this.remoteRecvMaxFrameHeight:this.options.enableLayerSuspension?this.rtc.getSenderVideoConstraints().idealHeight:void 0}},{key:"sendIceCandidate",value:function(t){var n=this,o=new k.default(this.peerconnection.localDescription.sdp);if(t&&t.candidate.length&&!this.lasticecandidate){var s=D.default.iceparams(o.media[t.sdpMLineIndex],o.session),c=D.default.candidateToJingle(t.candidate);if(!s||!c){return I.default.callErrorHandler(new Error("failed to get ice && jcand")),void J.error("failed to get ice && jcand")}s.xmlns='urn:xmpp:jingle:transports:ice-udp:1',this.usedrip?(0===this.dripContainer.length&&setTimeout(function(){0!==n.dripContainer.length&&(n.sendIceCandidates(n.dripContainer),n.dripContainer=[])},20),this.dripContainer.push(t)):this.sendIceCandidates([t])}else J.log('sendIceCandidate: last candidate.'),this.lasticecandidate=!0}},{key:"sendIceCandidates",value:function(t){var n=this;if(this._assertNotEnded('sendIceCandidates')){J.log('sendIceCandidates',t);for(var o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-info',initiator:this.initiatorJid,sid:this.sid}),s=new k.default(this.peerconnection.localDescription.sdp),c=function(c){var u=t.filter(function(t){return t.sdpMLineIndex===c}),l=D.default.parseMLine(s.media[c].split('\r\n')[0]);if(u.length>0){var f=D.default.iceparams(s.media[c],s.session);f.xmlns='urn:xmpp:jingle:transports:ice-udp:1',o.c('content',{creator:n.initiatorJid===n.localJid?'initiator':'responder',name:u[0].sdpMid?u[0].sdpMid:l.media}).c('transport',f);for(var p=0;p<u.length;p++){var h=D.default.candidateToJingle(u[p].candidate);n.failICE&&(h.ip='1.1.1.1'),o.c('candidate',h).up()}var v=D.default.findLine(s.media[c],'a=fingerprint:',s.session);if(v){var S=D.default.parseFingerprint(v);S.required=!0,o.c('fingerprint',{xmlns:'urn:xmpp:jingle:apps:dtls:0'}).t(S.fingerprint),delete S.fingerprint,o.attrs(S),o.up()}o.up(),o.up()}},u=0;u<s.media.length;u++)c(u);this.connection.sendIQ(o,null,this.newJingleErrorHandler(o),1e4)}}},{key:"sendIceFailedNotification",value:function(){var t=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-info',initiator:this.initiatorJid,sid:this.sid}).c('ice-state',{xmlns:'http://jitsi.org/protocol/focus'}).t('failed').up();this._bridgeSessionId&&t.c('bridge-session',{xmlns:'http://jitsi.org/protocol/focus',id:this._bridgeSessionId}),this.connection.sendIQ2(t,{timeout:65}).catch(this.newJingleErrorHandler(t))}},{key:"addIceCandidates",value:function(t){var n=this;if('closed'!==this.peerconnection.signalingState){var o=[];if(t.find('>content>transport>candidate').each(function(t,n){var s=D.default.candidateFromJingle(n);s=s.replace('\r\n','').replace('a=','');var c=new RTCIceCandidate({sdpMLineIndex:0,sdpMid:'',candidate:s});o.push(c)}),o.length){J.debug("Queued add ("+o.length+") ICE candidates task..."),this.modificationQueue.push(function(t){for(var s,c=P(o);!(s=c()).done;){var u=s.value;n.peerconnection.addIceCandidate(u).then(function(){return J.debug('addIceCandidate ok!')},function(t){return J.error('addIceCandidate failed!',t)})}t()})}else J.error('No ICE candidates to add ?',t[0]&&t[0].outerHTML)}else J.warn('Ignored add ICE candidate when in closed state')}},{key:"readSsrcInfo",value:function(t){var n=this;$(t).find(">description>source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]").each(function(t,o){var s=Number(o.getAttribute('ssrc'));n.isP2P?n.signalingLayer.setSSRCOwner(s,h.Strophe.getResourceFromJid(n.remoteJid)):$(o).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each(function(t,o){var c=o.getAttribute('owner');c&&c.length&&(isNaN(s)||s<0?J.warn("Invalid SSRC "+s+" value received for "+c):n.signalingLayer.setSSRCOwner(s,h.Strophe.getResourceFromJid(c)))})})}},{key:"generateRecvonlySsrc",value:function(){this.peerconnection?this.peerconnection.generateRecvonlySsrc():J.error('Unable to generate recvonly SSRC - no peerconnection')}},{key:"getConfiguredVideoCodec",value:function(){return this.peerconnection.getConfiguredVideoCodec()}},{key:"acceptOffer",value:function(t,n,o,s){var c=this;this.setOfferAnswerCycle(t,function(){c.sendSessionAccept(n,o)},o,s)}},{key:"invite",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.isInitiator)throw new Error('Trying to invite from the responder session');this.modificationQueue.push(function(o){for(var s,c=[],u=P(n);!(s=u()).done;){var l=s.value;c.push(t.peerconnection.addTrack(l,t.isInitiator))}Promise.all(c).then(function(){return t.peerconnection.createOffer(t.mediaConstraints)}).then(function(n){return t.peerconnection.setLocalDescription(n)}).then(function(){t.sendSessionInitiate(t.peerconnection.localDescription.sdp)}).then(function(){return o()},function(t){return o(t)})},function(t){t?J.error('invite error',t):J.debug('invite executed - OK')})}},{key:"sendSessionInitiate",value:function(t){var n=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-initiate',initiator:this.initiatorJid,sid:this.sid});new k.default(t).toJingle(n,this.isInitiator?'initiator':'responder'),n=n.tree(),J.info('Session-initiate: ',n),this.connection.sendIQ(n,function(){J.info('Got RESULT for "session-initiate"')},function(t){J.error('"session-initiate" error',t)},1e4)}},{key:"setAnswer",value:function(t){if(!this.isInitiator)throw new Error('Trying to set an answer on the responder session');this.setOfferAnswerCycle(t,function(){J.info('setAnswer - succeeded')},function(t){J.error('setAnswer failed: ',t)})}},{key:"setOfferAnswerCycle",value:function(t,n,o){var s=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.modificationQueue.push(function(n){for(var o,u=[],l=P(c);!(o=l()).done;){var f=o.value;u.push(s.peerconnection.addTrack(f,s.isInitiator))}var p=s._processNewJingleOfferIq(t),h=s.peerconnection.localDescription.sdp,v=$(t).find(">bridge-session[xmlns=\"http://jitsi.org/protocol/focus\"]").attr('id');v!==s._bridgeSessionId&&(s._bridgeSessionId=v),Promise.all(u).then(function(){return s._renegotiate(p.raw)}).then(function(){if(s.state===b.PENDING&&(s.state=b.ACTIVE,!s.isP2P||s._localVideoActive&&!s.localRecvMaxFrameHeight||s.sendContentModify()),h){var t=new k.default(s.peerconnection.localDescription.sdp);s.notifyMySSRCUpdate(new k.default(h),t)}}).then(function(){return n()},function(t){return n(t)})},function(t){t?o(t):n()})}},{key:"setVideoCodecs",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.peerconnection.getConfiguredVideoCodec();if(this._assertNotEnded()&&n!==s){J.info(this+" Switching video codec from "+s+" to "+n),this.peerconnection.setVideoCodecs(n,o);this.modificationQueue.push(function(n){t._renegotiate().then(function(){return n()},function(t){return n(t)})})}}},{key:"replaceTransport",value:function(t,n,o){var s=this;if(this.options.enableForcedReload){var c=new k.default(this.peerconnection.localDescription.sdp);return this.sendTransportAccept(c,n,o),void this.room.eventEmitter.emit(C.default.CONNECTION_RESTARTED,this)}this.room.eventEmitter.emit(C.default.ICE_RESTARTING,this);var u=t.clone();t.find('>content[name=\'data\']').attr('senders','rejected'),t.find('>content>description>source').remove(),t.find('>content>description>ssrc-group').remove();var l=t.find('>content>transport>fingerprint');l.attr('hash','sha-1'),l.text('00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00'),this.setOfferAnswerCycle(t,function(){s.setOfferAnswerCycle(u,function(){var t=new k.default(s.peerconnection.localDescription.sdp);s.sendTransportAccept(t,n,o),s.room.eventEmitter.emit(C.default.ICE_RESTART_SUCCESS,s,u)},o)},o)}},{key:"sendSessionAccept",value:function(t,n){var o=this,s=new k.default(this.peerconnection.localDescription.sdp),c=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-accept',initiator:this.initiatorJid,responder:this.responderJid,sid:this.sid});this.webrtcIceTcpDisable&&(s.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(s.removeUdpCandidates=!0),this.failICE&&(s.failICE=!0),s.toJingle(c,this.initiatorJid===this.localJid?'initiator':'responder',null),c=c.tree(),J.info('Sending session-accept',c),this.connection.sendIQ(c,t,this.newJingleErrorHandler(c,function(t){n(t),o.room.eventEmitter.emit(C.default.SESSION_ACCEPT_TIMEOUT,o)}),1e4)}},{key:"sendContentModify",value:function(){var t=this.localRecvMaxFrameHeight,n=this._localVideoActive?'both':'none',o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'content-modify',initiator:this.initiatorJid,sid:this.sid}).c('content',{name:'video',senders:n});void 0!==t&&(o=o.c('max-frame-height',{xmlns:'http://jitsi.org/jitmeet/video'}).t(t)),J.info(this+" sending content-modify, video senders: "+n+", max frame height: "+t),this.connection.sendIQ(o,null,this.newJingleErrorHandler(o),1e4)}},{key:"setReceiverVideoConstraint",value:function(t){J.info(this+" setReceiverVideoConstraint - max frame height: "+t),this.localRecvMaxFrameHeight=t,this.isP2P?this.state===b.ACTIVE&&this.sendContentModify():this.rtc.setReceiverVideoConstraint(t)}},{key:"sendTransportAccept",value:function(t,n,o){var s=this,c=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-accept',initiator:this.initiatorJid,sid:this.sid});t.media.forEach(function(n,o){var u=D.default.parseMLine(n.split('\r\n')[0]);c.c('content',{creator:s.initiatorJid===s.localJid?'initiator':'responder',name:u.media}),t.transportToJingle(o,c),c.up()}),c=c.tree(),J.info('Sending transport-accept: ',c),this.connection.sendIQ(c,n,this.newJingleErrorHandler(c,o),1e4)}},{key:"sendTransportReject",value:function(t,n){var o=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'transport-reject',initiator:this.initiatorJid,sid:this.sid});o=o.tree(),J.info('Sending \'transport-reject',o),this.connection.sendIQ(o,t,this.newJingleErrorHandler(o,n),1e4)}},{key:"setSenderMaxBitrates",value:function(){return this._assertNotEnded()?this.peerconnection.setMaxBitRate():Promise.resolve()}},{key:"setSenderVideoConstraint",value:function(t){if(this._assertNotEnded()){if(J.info(this+" setSenderVideoConstraint: "+t),!this.isP2P&&R.default.isReactNative()&&void 0!==t){var n=t>0;return this.setMediaTransferActive(!0,n)}return this.peerconnection.setSenderVideoConstraint(t)}return Promise.resolve()}},{key:"setSenderVideoDegradationPreference",value:function(){return this._assertNotEnded()?this.peerconnection.setSenderVideoDegradationPreference():Promise.resolve()}},{key:"terminate",value:function(t,n,o){if(this.state!==b.ENDED){if(!o||Boolean(o.sendSessionTerminate)){var s=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'session-terminate',initiator:this.initiatorJid,sid:this.sid}).c('reason').c(o&&o.reason||'success').up();o&&o.reasonDescription?s.c('text').t(o.reasonDescription).up().up():s.up(),this._bridgeSessionId&&s.c('bridge-session',{xmlns:'http://jitsi.org/protocol/focus',id:this._bridgeSessionId,restart:o&&!0===o.requestRestart}).up(),s=s.tree(),J.info('Sending session-terminate',s),this.connection.sendIQ(s,t,this.newJingleErrorHandler(s,n),1e4)}else J.info("Skipped sending session-terminate for "+this);this.connection.jingle.terminate(this.sid)}}},{key:"onTerminated",value:function(t,n){J.info("Session terminated "+this,t,n),this._xmppListeners.forEach(function(t){return t()}),this._xmppListeners=[],this._removeSenderVideoConstraintsChangeListener&&this._removeSenderVideoConstraintsChangeListener(),this.close()}},{key:"onXmppStatusChanged",value:function(t){t===N.default.Status.CONNECTED&&this._cachedOldLocalSdp&&(J.info('Sending SSRC update on reconnect'),this.notifyMySSRCUpdate(this._cachedOldLocalSdp,this._cachedNewLocalSdp))}},{key:"_parseSsrcInfoFromSourceAdd",value:function(t,n){var o=[];return $(t).each(function(t,s){var c=$(s).attr('name'),u='';$(s).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=this.getAttribute('semantics'),n=$(this).find('>source').map(function(){return this.getAttribute('ssrc')}).get();n.length&&(u+="a=ssrc-group:"+t+" "+n.join(' ')+"\r\n")}),$(s).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=$(this).attr('ssrc');n.containsSSRC(t)?J.warn("Source-add request for existing SSRC: "+t):$(this).find('>parameter').each(function(){u+="a=ssrc:"+t+" "+$(this).attr('name'),$(this).attr('value')&&$(this).attr('value').length&&(u+=":"+$(this).attr('value')),u+='\r\n'})}),n.media.forEach(function(t,n){D.default.findLine(t,"a=mid:"+c)&&(o[n]||(o[n]=''),o[n]+=u)})}),o}},{key:"addRemoteStream",value:function(t){this._addOrRemoveRemoteStream(!0,t)}},{key:"removeRemoteStream",value:function(t){this._addOrRemoveRemoteStream(!1,t)}},{key:"_addOrRemoveRemoteStream",value:function(t,n){var o=this,s=t?'addRemoteStream':'removeRemoteStream';t&&this.readSsrcInfo(n);this.modificationQueue.push(function(c){if(!o.peerconnection.localDescription||!o.peerconnection.localDescription.sdp){var u=s+" - localDescription not ready yet";return J.error(u),void c(u)}J.log("Processing "+s),J.log('ICE connection state: ',o.peerconnection.iceConnectionState);var l=new k.default(o.peerconnection.localDescription.sdp),f=new k.default(o.peerconnection.remoteDescription.sdp),p=t?o._parseSsrcInfoFromSourceAdd(n,f):o._parseSsrcInfoFromSourceRemove(n,f),h=t?o._processRemoteAddSource(p):o._processRemoteRemoveSource(p);o._renegotiate(h.raw).then(function(){var t=new k.default(o.peerconnection.localDescription.sdp);J.log(s+" - OK, SDPs: ",l,t),o.notifyMySSRCUpdate(l,t),c()},function(t){J.error(s+" failed:",t),c(t)})})}},{key:"_processNewJingleOfferIq",value:function(t){var n=new k.default('');return this.webrtcIceTcpDisable&&(n.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(n.removeUdpCandidates=!0),this.failICE&&(n.failICE=!0),n.fromJingle(t),this.readSsrcInfo($(t).find('>content')),n}},{key:"_processRemoteRemoveSource",value:function(t){var n=R.default.usesPlanB()?new k.default(this.peerconnection.remoteDescription.sdp):new k.default(this.peerconnection.peerconnection.remoteDescription.sdp);return t.forEach(function(t,o){(t=t.split('\r\n')).pop(),R.default.usesPlanB()?t.forEach(function(t){n.media[o]=n.media[o].replace(t+"\r\n",'')}):t.forEach(function(t){var o=n.media.findIndex(function(n){return n.includes(t)});o>-1&&(n.media[o]=n.media[o].replace(t+"\r\n",''),R.default.isFirefox()&&(n.media[o]=n.media[o].replace('a=sendonly','a=inactive')))})}),n.raw=n.session+n.media.join(''),n}},{key:"_processRemoteAddSource",value:function(t){var n=new k.default(this.peerconnection.remoteDescription.sdp);return t.forEach(function(t,o){n.media[o]+=t}),n.raw=n.session+n.media.join(''),n}},{key:"_renegotiate",value:function(t){if('closed'===this.peerconnection.signalingState){var n=new Error('Attempted to renegotiate in state closed');return this.room.eventEmitter.emit(C.default.RENEGOTIATION_FAILED,n,this),Promise.reject(n)}var o=t||this.peerconnection.remoteDescription.sdp;if(!o){var s=new Error("Can not renegotiate without remote description, current state: "+this.state);return this.room.eventEmitter.emit(C.default.RENEGOTIATION_FAILED,s,this),Promise.reject(s)}var c=new RTCSessionDescription({type:this.isInitiator?'answer':'offer',sdp:o});return this.isInitiator?this._initiatorRenegotiate(c):this._responderRenegotiate(c)}},{key:"_responderRenegotiate",value:function(t){var n=this;return J.debug('Renegotiate: setting remote description'),this.peerconnection.setRemoteDescription(t).then(function(){return J.debug('Renegotiate: creating answer'),n.peerconnection.createAnswer(n.mediaConstraints).then(function(t){return J.debug('Renegotiate: setting local description'),n.peerconnection.setLocalDescription(t)})})}},{key:"_initiatorRenegotiate",value:function(t){var n=this;return J.debug('Renegotiate: creating offer'),this.peerconnection.createOffer(this.mediaConstraints).then(function(o){return J.debug('Renegotiate: setting local description'),n.peerconnection.setLocalDescription(o).then(function(){return J.debug('Renegotiate: setting remote description'),n.peerconnection.setRemoteDescription(t)})})}},{key:"replaceTrack",value:function(t,n){var o=this,s=function(s){var c=o.peerconnection.localDescription.sdp;R.default.usesPlanB()&&(o.peerconnection.options.capScreenshareBitrate&&t&&n&&n.isVideoTrack()&&o.peerconnection.clearRecvonlySsrc(),!t&&n&&n.isVideoTrack()?o.peerconnection.clearRecvonlySsrc():t&&t.isVideoTrack()&&!n&&(o.peerconnection.clearRecvonlySsrc(),o.peerconnection.generateRecvonlySsrc())),o.peerconnection.replaceTrack(t,n).then(function(s){var u=Promise.resolve();return s&&(t||n)&&o.state===b.ACTIVE&&(u=o._renegotiate().then(function(){var t=new k.default(o.peerconnection.localDescription.sdp);o.notifyMySSRCUpdate(new k.default(c),t)})),u.then(function(){if(n&&n.isVideoTrack())return o.peerconnection.setSenderVideoDegradationPreference().then(function(){return o.peerconnection.setSenderVideoConstraint()}).then(function(){return o.peerconnection.setMaxBitRate()})})}).then(function(){return s()},function(t){return s(t)})};return new Promise(function(t,n){o.modificationQueue.push(s,function(o){o?(J.error('Replace track error:',o),n(o)):(J.info('Replace track done!'),t())})})}},{key:"_parseSsrcInfoFromSourceRemove",value:function(t,n){var o=[];return $(t).each(function(t,s){var c=$(s).attr('name'),u='';$(s).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=this.getAttribute('semantics'),n=$(this).find('>source').map(function(){return this.getAttribute('ssrc')}).get();n.length&&(u+="a=ssrc-group:"+t+" "+n.join(' ')+"\r\n")});var l=[];$(s).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var t=$(this).attr('ssrc');l.push(t)}),n.media.forEach(function(t,n){D.default.findLine(t,"a=mid:"+c)&&(o[n]||(o[n]=''),l.forEach(function(s){var c=D.default.findLines(t,"a=ssrc:"+s);c.length&&(o[n]+=c.join('\r\n')+"\r\n")}),o[n]+=u)})}),o}},{key:"_verifyNoSSRCChanged",value:function(t,n){var o=new k.default(this.peerconnection.localDescription.sdp),s=new A.default(n,o),c=s.getNewMedia();if(Object.keys(c).length)return J.error(this+" - some SSRC were added on "+t,c),!1;var u=(s=new A.default(o,n)).getNewMedia();return!Object.keys(u).length||(J.error(this+" - some SSRCs were removed on "+t,u),!1)}},{key:"addTrackAsUnmute",value:function(t){var n=this;return this._addRemoveTrackAsMuteUnmute(!1,t).then(function(){if(t.isVideoTrack()&&R.default.doesVideoMuteByStreamRemove())return n.setSenderMaxBitrates().then(function(){return n.setSenderVideoDegradationPreference()}).then(function(){return n.setSenderVideoConstraint()})})}},{key:"removeTrackAsMute",value:function(t){return this._addRemoveTrackAsMuteUnmute(!0,t)}},{key:"_addRemoveTrackAsMuteUnmute",value:function(t,n){var o=this;if(!n)return Promise.reject('invalid "track" argument value');var s=t?'removeTrackMute':'addTrackUnmute',c=function(c){var u=o.peerconnection;if(u){var l=u.localDescription.sdp;(t?u.removeTrackMute(n):u.addTrackUnmute(n)).then(function(t){t&&l&&u.remoteDescription.sdp?o._renegotiate().then(function(){o._verifyNoSSRCChanged(s,new k.default(l)),c()}):c()},c)}else c("Error:  tried "+s+" track with no active peerconnection")};return new Promise(function(t,n){o.modificationQueue.push(c,function(o){o?n(o):t()})})}},{key:"setMediaTransferActive",value:function(t,n){var o=this;if(!this.peerconnection)return Promise.reject("Can not modify transfer active state, before \"initialize\" is called");var s=t?'audio active':'audio inactive',c=n?'video active':'video inactive';J.info("Queued make "+c+", "+s+" task...");var u=function(s){var c=o.state===b.ACTIVE,u=o.peerconnection.setAudioTransferActive(t);o._localVideoActive!==n&&(o._localVideoActive=n,o.isP2P&&c&&o.sendContentModify());var l=o.peerconnection.setVideoTransferActive(o._localVideoActive&&o._remoteVideoActive);c&&(u||l)?o._renegotiate().then(s,s):s()};return new Promise(function(t,n){o.modificationQueue.push(u,function(o){o?n(o):t()})})}},{key:"modifyContents",value:function(t){var n=this,o=O.parseVideoSenders(t),s=O.parseMaxFrameHeight(t);if(s&&(J.info(this+" received remote max frame height: "+s),this.remoteRecvMaxFrameHeight=s,this.eventEmitter.emit(T.default.REMOTE_VIDEO_CONSTRAINTS_CHANGED,this)),null!==o){J.debug(this+" queued \"content-modify\" task(video senders=\""+o+"\")"),this.modificationQueue.push(function(t){n._assertNotEnded('content-modify')&&n._modifyRemoteVideoActive(o)?n._renegotiate().then(t,t):t()},function(t){t&&J.error('"content-modify" failed',t)})}else J.error(this+" - failed to parse video \"senders\" attribute in\"content-modify\" action")}},{key:"_modifyRemoteVideoActive",value:function(t){var n='both'===t||'initiator'===t&&this.isInitiator||'responder'===t&&!this.isInitiator;return n!==this._remoteVideoActive&&(J.debug(this+" new remote video active: "+n),this._remoteVideoActive=n),this.peerconnection.setVideoTransferActive(this._localVideoActive&&this._remoteVideoActive)}},{key:"notifyMySSRCUpdate",value:function(t,n){if(this.state===b.ACTIVE){if(!this.connection.connected)return this._cachedOldLocalSdp||(this._cachedOldLocalSdp=t),this._cachedNewLocalSdp=n,void J.warn('Not sending SSRC update while the signaling is disconnected');this._cachedOldLocalSdp=void 0,this._cachedNewLocalSdp=void 0;var o=new A.default(n,t),s=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'source-remove',initiator:this.initiatorJid,sid:this.sid});o.toJingle(s)?(J.info('Sending source-remove',s.tree()),this.connection.sendIQ(s,null,this.newJingleErrorHandler(s),1e4)):J.log('removal not necessary'),o=new A.default(t,n);var c=(0,h.$iq)({to:this.remoteJid,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:'source-add',initiator:this.initiatorJid,sid:this.sid});o.toJingle(c)?(J.info('Sending source-add',c.tree()),this.connection.sendIQ(c,null,this.newJingleErrorHandler(c),1e4)):J.log('addition not necessary')}else J.warn("Skipping SSRC update in '"+this.state+" ' state.")}},{key:"newJingleErrorHandler",value:function(t,n){var o=this;return function(t){var s={},c=$(t).find('error');if(c.length){s.code=c.attr('code');var u=$(t).find('error :first');u.length&&(s.reason=u[0].tagName);var l=c.find('>text');l.length&&(s.msg=l.text())}t||(s.reason='timeout'),s.session=o.toString(),n?n(s):o.state===b.ENDED&&'item-not-found'===s.reason?J.debug("Jingle error: "+JSON.stringify(s)):I.default.callErrorHandler(new Error("Jingle error: "+JSON.stringify(s)))}}},{key:"getIceConnectionState",value:function(){return this.peerconnection.getConnectionState()}},{key:"close",value:function(){var t=this;this.state=b.ENDED,this.establishmentDuration=void 0,this.peerconnection&&(this.peerconnection.onicecandidate=null,this.peerconnection.oniceconnectionstatechange=null,this.peerconnection.onnegotiationneeded=null,this.peerconnection.onsignalingstatechange=null),this.modificationQueue.clear(),this.modificationQueue.push(function(n){t.signalingLayer.setChatRoom(null),t.peerconnection&&t.peerconnection.close(),n()}),this.modificationQueue.shutdown()}},{key:"toString",value:function(){return"JingleSessionPC[p2p="+this.isP2P+",initiator="+this.isInitiator+",sid="+this.sid+"]"}},{key:"_abtestSuspendVideoEnabled",value:function(t){var n=t.abTesting;if(n&&n.enableSuspendVideoTest){var o=this._getInitiatorJid();return(0,_.integerHash)(o)%2==0}}}]),O})(w.default);e.default=M},609,[12,1,29,43,30,40,42,39,432,529,561,534,564,531,610,552,612,536,613,614,615,616,619,617,620,593]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1])),s=u(r(d[2])),n=u(r(d[3])),o=(function(){function u(){(0,t.default)(this,u),this._queue=n.default.queue(this._processQueueTasks.bind(this),1),this._stopped=!1}return(0,s.default)(u,[{key:"clear",value:function(){this._queue.kill()}},{key:"_processQueueTasks",value:function(u,t){u(t)}},{key:"push",value:function(u,t){this._stopped?t&&t(new Error('The queue has been stopped')):this._queue.push(u,t)}},{key:"shutdown",value:function(){this._stopped=!0}}]),u})();e.default=o},610,[1,29,30,611]);
__d(function(g,r,i,a,m,e,d){!(function(){var n,t,u={};function c(t){var u=!1;return function(){if(u)throw new Error("Callback was already called.");u=!0,t.apply(n,arguments)}}null!=(n=this)&&(t=n.async),u.noConflict=function(){return n.async=t,u};var o=Object.prototype.toString,l=Array.isArray||function(n){return'[object Array]'===o.call(n)},f=function(n,t){if(n.forEach)return n.forEach(t);for(var u=0;u<n.length;u+=1)t(n[u],u,n)},s=function(n,t){if(n.map)return n.map(t);var u=[];return f(n,function(n,c,o){u.push(t(n,c,o))}),u},p=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var u in n)n.hasOwnProperty(u)&&t.push(u);return t};'undefined'!=typeof process&&process.nextTick?(u.nextTick=process.nextTick,'undefined'!=typeof setImmediate?u.setImmediate=function(n){setImmediate(n)}:u.setImmediate=u.nextTick):'function'==typeof setImmediate?(u.nextTick=function(n){setImmediate(n)},u.setImmediate=u.nextTick):(u.nextTick=function(n){setTimeout(n,0)},u.setImmediate=u.nextTick),u.each=function(n,t,u){if(u=u||function(){},!n.length)return u();var o=0;function l(t){t?(u(t),u=function(){}):(o+=1)>=n.length&&u()}f(n,function(n){t(n,c(l))})},u.forEach=u.each,u.eachSeries=function(n,t,u){if(u=u||function(){},!n.length)return u();var c=0;!(function o(){t(n[c],function(t){t?(u(t),u=function(){}):(c+=1)>=n.length?u():o()})})()},u.forEachSeries=u.eachSeries,u.eachLimit=function(n,t,u,c){y(t).apply(null,[n,u,c])},u.forEachLimit=u.eachLimit;var y=function(n){return function(t,u,c){if(c=c||function(){},!t.length||n<=0)return c();var o=0,l=0,f=0;!(function s(){if(o>=t.length)return c();for(;f<n&&l<t.length;)f+=1,u(t[(l+=1)-1],function(n){n?(c(n),c=function(){}):(f-=1,(o+=1)>=t.length?c():s())})})()}},h=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[u.each].concat(t))}},v=function(n,t){return function(){var u=Array.prototype.slice.call(arguments);return t.apply(null,[y(n)].concat(u))}},k=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[u.eachSeries].concat(t))}},A=function(n,t,u,c){if(t=s(t,function(n,t){return{index:t,value:n}}),c){var o=[];n(t,function(n,t){u(n.value,function(u,c){o[n.index]=c,t(u)})},function(n){c(n,o)})}else n(t,function(n,t){u(n.value,function(n){t(n)})})};u.map=h(A),u.mapSeries=k(A),u.mapLimit=function(n,t,u,c){return x(t)(n,u,c)};var x=function(n){return v(n,A)};u.reduce=function(n,t,c,o){u.eachSeries(n,function(n,u){c(t,n,function(n,c){t=c,u(n)})},function(n){o(n,t)})},u.inject=u.reduce,u.foldl=u.reduce,u.reduceRight=function(n,t,c,o){var l=s(n,function(n){return n}).reverse();u.reduce(l,t,c,o)},u.foldr=u.reduceRight;var S=function(n,t,u,c){var o=[];n(t=s(t,function(n,t){return{index:t,value:n}}),function(n,t){u(n.value,function(u){u&&o.push(n),t()})},function(n){c(s(o.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};u.filter=h(S),u.filterSeries=k(S),u.select=u.filter,u.selectSeries=u.filterSeries;var I=function(n,t,u,c){var o=[];n(t=s(t,function(n,t){return{index:t,value:n}}),function(n,t){u(n.value,function(u){u||o.push(n),t()})},function(n){c(s(o.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};u.reject=h(I),u.rejectSeries=k(I);var b=function(n,t,u,c){n(t,function(n,t){u(n,function(u){u?(c(n),c=function(){}):t()})},function(n){c()})};u.detect=h(b),u.detectSeries=k(b),u.some=function(n,t,c){u.each(n,function(n,u){t(n,function(n){n&&(c(!0),c=function(){}),u()})},function(n){c(!1)})},u.any=u.some,u.every=function(n,t,c){u.each(n,function(n,u){t(n,function(n){n||(c(!1),c=function(){}),u()})},function(n){c(!0)})},u.all=u.every,u.sortBy=function(n,t,c){u.map(n,function(n,u){t(n,function(t,c){t?u(t):u(null,{value:n,criteria:c})})},function(n,t){if(n)return c(n);c(null,s(t.sort(function(n,t){var u=n.criteria,c=t.criteria;return u<c?-1:u>c?1:0}),function(n){return n.value}))})},u.auto=function(n,t){t=t||function(){};var c=p(n),o=c.length;if(!o)return t();var s={},y=[],h=function(n){y.unshift(n)},v=function(n){for(var t=0;t<y.length;t+=1)if(y[t]===n)return void y.splice(t,1)},k=function(){o--,f(y.slice(0),function(n){n()})};h(function(){if(!o){var n=t;t=function(){},n(null,s)}}),f(c,function(c){var o=l(n[c])?n[c]:[n[c]],y=function(n){var o=Array.prototype.slice.call(arguments,1);if(o.length<=1&&(o=o[0]),n){var l={};f(p(s),function(n){l[n]=s[n]}),l[c]=o,t(n,l),t=function(){}}else s[c]=o,u.setImmediate(k)},A=o.slice(0,Math.abs(o.length-1))||[],x=function(){return t=function(n,t){return n&&s.hasOwnProperty(t)},u=!0,((n=A).reduce?n.reduce(t,u):(f(n,function(n,c,o){u=t(u,n,c,o)}),u))&&!s.hasOwnProperty(c);var n,t,u};if(x())o[o.length-1](y,s);else{h(function n(){x()&&(v(n),o[o.length-1](y,s))})}})},u.retry=function(n,t,c){var o=[];'function'==typeof n&&(c=t,t=n,n=5),n=parseInt(n,10)||5;var l=function(l,f){for(var s=function(n,t){return function(u){n(function(n,c){u(!n||t,{err:n,result:c})},f)}};n;)o.push(s(t,!(n-=1)));u.series(o,function(n,t){t=t[t.length-1],(l||c)(t.err,t.result)})};return c?l():l},u.waterfall=function(n,t){if(t=t||function(){},!l(n)){var c=new Error('First argument to waterfall must be an array of functions');return t(c)}if(!n.length)return t();!(function n(c){return function(o){if(o)t.apply(null,arguments),t=function(){};else{var l=Array.prototype.slice.call(arguments,1),f=c.next();f?l.push(n(f)):l.push(t),u.setImmediate(function(){c.apply(null,l)})}}})(u.iterator(n))()};var w=function(n,t,u){if(u=u||function(){},l(t))n.map(t,function(n,t){n&&n(function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),t.call(null,n,u)})},u);else{var c={};n.each(p(t),function(n,u){t[n](function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),c[n]=o,u(t)})},function(n){u(n,c)})}};u.parallel=function(n,t){w({map:u.map,each:u.each},n,t)},u.parallelLimit=function(n,t,u){w({map:x(t),each:y(t)},n,u)},u.series=function(n,t){if(t=t||function(){},l(n))u.mapSeries(n,function(n,t){n&&n(function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),t.call(null,n,u)})},t);else{var c={};u.eachSeries(p(n),function(t,u){n[t](function(n){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]),c[t]=o,u(n)})},function(n){t(n,c)})}},u.iterator=function(n){return(function t(u){var c=function t(){return n.length&&n[u].apply(null,arguments),t.next()};return c.next=function(){return u<n.length-1?t(u+1):null},c})(0)},u.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var T=function(n,t,u,c){var o=[];n(t,function(n,t){u(n,function(n,u){o=o.concat(u||[]),t(n)})},function(n){c(n,o)})};u.concat=h(T),u.concatSeries=k(T),u.whilst=function(n,t,c){n()?t(function(o){if(o)return c(o);u.whilst(n,t,c)}):c()},u.doWhilst=function(n,t,c){n(function(o){if(o)return c(o);var l=Array.prototype.slice.call(arguments,1);t.apply(null,l)?u.doWhilst(n,t,c):c()})},u.until=function(n,t,c){n()?c():t(function(o){if(o)return c(o);u.until(n,t,c)})},u.doUntil=function(n,t,c){n(function(o){if(o)return c(o);var l=Array.prototype.slice.call(arguments,1);t.apply(null,l)?c():u.doUntil(n,t,c)})},u.queue=function(n,t){function o(n,t,c,o){if(n.started||(n.started=!0),l(t)||(t=[t]),0==t.length)return u.setImmediate(function(){n.drain&&n.drain()});f(t,function(t){var l={data:t,callback:'function'==typeof o?o:null};c?n.tasks.unshift(l):n.tasks.push(l),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),u.setImmediate(n.process)})}void 0===t&&(t=1);var s=0,p={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){o(p,n,!1,t)},kill:function(){p.drain=null,p.tasks=[]},unshift:function(n,t){o(p,n,!0,t)},process:function(){if(!p.paused&&s<p.concurrency&&p.tasks.length){var t=p.tasks.shift();p.empty&&0===p.tasks.length&&p.empty(),s+=1;var u=c(function(){s-=1,t.callback&&t.callback.apply(t,arguments),p.drain&&p.tasks.length+s===0&&p.drain(),p.process()});n(t.data,u)}},length:function(){return p.tasks.length},running:function(){return s},idle:function(){return p.tasks.length+s===0},pause:function(){!0!==p.paused&&(p.paused=!0,p.process())},resume:function(){!1!==p.paused&&(p.paused=!1,p.process())}};return p},u.priorityQueue=function(n,t){function c(n,t){return n.priority-t.priority}function o(n,t,u){for(var c=-1,o=n.length-1;c<o;){var l=c+(o-c+1>>>1);u(t,n[l])>=0?c=l:o=l-1}return c}function s(n,t,s,p){if(n.started||(n.started=!0),l(t)||(t=[t]),0==t.length)return u.setImmediate(function(){n.drain&&n.drain()});f(t,function(t){var l={data:t,priority:s,callback:'function'==typeof p?p:null};n.tasks.splice(o(n.tasks,l,c)+1,0,l),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),u.setImmediate(n.process)})}var p=u.queue(n,t);return p.push=function(n,t,u){s(p,n,t,u)},delete p.unshift,p},u.cargo=function(n,t){var c=!1,o=[],p={tasks:o,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,c){l(n)||(n=[n]),f(n,function(n){o.push({data:n,callback:'function'==typeof c?c:null}),p.drained=!1,p.saturated&&o.length===t&&p.saturated()}),u.setImmediate(p.process)},process:function u(){if(!c){if(0===o.length)return p.drain&&!p.drained&&p.drain(),void(p.drained=!0);var l='number'==typeof t?o.splice(0,t):o.splice(0,o.length),y=s(l,function(n){return n.data});p.empty&&p.empty(),c=!0,n(y,function(){c=!1;var n=arguments;f(l,function(t){t.callback&&t.callback.apply(null,n)}),u()})}},length:function(){return o.length},running:function(){return c}};return p};var E=function(n){return function(t){var u=Array.prototype.slice.call(arguments,1);t.apply(null,u.concat([function(t){var u=Array.prototype.slice.call(arguments,1);'undefined'!=typeof console&&(t?console.error&&console.error(t):console[n]&&f(u,function(t){console[n](t)}))}]))}};u.log=E('log'),u.dir=E('dir'),u.memoize=function(n,t){var c={},o={};t=t||function(n){return n};var l=function(){var l=Array.prototype.slice.call(arguments),f=l.pop(),s=t.apply(null,l);s in c?u.nextTick(function(){f.apply(null,c[s])}):s in o?o[s].push(f):(o[s]=[f],n.apply(null,l.concat([function(){c[s]=arguments;var n=o[s];delete o[s];for(var t=0,u=n.length;t<u;t++)n[t].apply(null,arguments)}])))};return l.memo=c,l.unmemoized=n,l},u.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},u.times=function(n,t,c){for(var o=[],l=0;l<n;l++)o.push(l);return u.map(o,t,c)},u.timesSeries=function(n,t,c){for(var o=[],l=0;l<n;l++)o.push(l);return u.mapSeries(o,t,c)},u.seq=function(){var n=arguments;return function(){var t=this,c=Array.prototype.slice.call(arguments),o=c.pop();u.reduce(n,c,function(n,u,c){u.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);c(n,t)}]))},function(n,u){o.apply(t,[n].concat(u))})}},u.compose=function(){return u.seq.apply(null,Array.prototype.reverse.call(arguments))};var j=function(n,t){var u=function(){var u=this,c=Array.prototype.slice.call(arguments),o=c.pop();return n(t,function(n,t){n.apply(u,c.concat([t]))},o)};if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return u.apply(this,c)}return u};u.applyEach=h(j),u.applyEachSeries=k(j),u.forever=function(n,t){!(function u(c){if(c){if(t)return t(c);throw c}n(u)})()},void 0!==m&&m.exports?m.exports=u:'undefined'!=typeof define&&define.amd?define([],function(){return u}):n.async=u})()},611,[]);
__d(function(g,r,i,a,m,e,d){m.exports={integerHash:function(t){if(!t)return 0;var n,h=0;for(n=0;n<t.length;n++)h+=t.charCodeAt(n)*Math.pow(31,t.length-1-n),h=Math.abs(0|h);return h}}},612,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),u=n(r(d[3])),c=n(r(d[4])),s=n(r(d[5])),l=n(r(d[6])),f=r(d[7]),h=n(r(d[8])),v=t(r(d[9]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=(0,f.getLogger)(__filename),k=(function(t){(0,c.default)(k,t);var n,f,h=(n=k,f=y(),function(){var t,o=(0,l.default)(n);if(f){var u=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return(0,s.default)(this,t)});function k(t,n,u,c,s,l,f){var v;return(0,o.default)(this,k),(v=h.call(this)).sid=t,v.localJid=n,v.remoteJid=u,v.connection=c,v.mediaConstraints=s,v.iceConfig=l,v.isInitiator=f,v.usedrip=!0,v.dripContainer=[],v.room=null,v.state=null,v.rtc=null,v}return(0,u.default)(k,[{key:"initialize",value:function(t,n,o){if(null!==this.state){var u="attempt to initiate on session "+this.sid+"\n                   in state "+this.state;throw p.error(u),new Error(u)}this.room=t,this.rtc=n,this.state=v.PENDING,this.doInitialize(o)}},{key:"doInitialize",value:function(t){}},{key:"addIceCandidates",value:function(t){}},{key:"getState",value:function(){return this.state}},{key:"addSources",value:function(t){}},{key:"removeSources",value:function(t){}},{key:"terminate",value:function(t,n,o){}},{key:"acceptOffer",value:function(t,n,o){}},{key:"_getInitiatorJid",value:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"initiatorJid",get:function(){return this.isInitiator?this.localJid:this.remoteJid}},{key:"responderJid",get:function(){return this.isInitiator?this.remoteJid:this.localJid}}]),k})(h.default);e.default=k},613,[12,1,29,30,40,42,39,432,569,614]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ENDED=e.ACTIVE=e.PENDING=void 0;e.PENDING='pending';e.ACTIVE='active';e.ENDED='ended'},614,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={REMOTE_VIDEO_CONSTRAINTS_CHANGED:'media_session.REMOTE_VIDEO_CONSTRAINTS_CHANGED'}},615,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;var n=t(r(d[1])),s=t(r(d[2])),p=t(r(d[3]));function u(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=o(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var p=0;return function(){return p>=t.length?{done:!0}:{done:!1,value:t[p++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function o(t,n){if(t){if("string"==typeof t)return c(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,p=new Array(n);s<n;s++)p[s]=t[s];return p}function f(t){for(var n=t.split('\r\nm='),s=1,p=n.length;s<p;s++){var u="m="+n[s];s!==p-1&&(u+='\r\n'),n[s]=u}var o=n.shift()+"\r\n";this.media=n,this.raw=o+n.join(''),this.session=o}f.prototype.failICE=!1,f.prototype.removeTcpCandidates=!1,f.prototype.removeUdpCandidates=!1,f.prototype.getMediaSsrcMap=function(){for(var t=this,n={},s=function(s){var u={mediaindex:s,mid:p.default.parseMID(p.default.findLine(t.media[s],'a=mid:')),ssrcs:{},ssrcGroups:[]};n[s]=u,p.default.findLines(t.media[s],'a=ssrc:').forEach(function(t){var n=t.substring(7).split(' ')[0];u.ssrcs[n]||(u.ssrcs[n]={ssrc:n,lines:[]}),u.ssrcs[n].lines.push(t)}),p.default.findLines(t.media[s],'a=ssrc-group:').forEach(function(t){var n=t.indexOf(' '),s=t.substr(0,n).substr(13),p=t.substr(14+s.length).split(' ');p.length&&u.ssrcGroups.push({semantics:s,ssrcs:p})})},u=0;u<this.media.length;u++)s(u);return n},f.prototype.containsSSRC=function(t){var n=this.getMediaSsrcMap(),s=!1;return Object.keys(n).forEach(function(p){s||n[p].ssrcs[t]&&(s=!0)}),s},f.prototype.toJingle=function(t,o){p.default.findLines(this.session,'a=group:').forEach(function(n){var s=n.split(' '),p=s.shift().substr(8);t.c('group',{xmlns:'urn:xmpp:jingle:apps:grouping:0',semantics:p});for(var u=0;u<s.length;u++)t.c('content',{name:s[u]}).up();t.up()});for(var c=0;c<this.media.length;c++){var f=p.default.parseMLine(this.media[c].split('\r\n')[0]);if('audio'===f.media||'video'===f.media||'application'===f.media){var l=void 0,h=p.default.findLine(this.media[c],'a=ssrc:');l=!!h&&h.substring(7).split(' ')[0],t.c('content',{creator:o,name:f.media});var v=p.default.findLine(this.media[c],'a=mid:');if(v){var b=p.default.parseMID(v);t.attrs({name:b})}if('audio'===f.media||'video'===f.media){t.c('description',{xmlns:'urn:xmpp:jingle:apps:rtp:1',media:f.media}),l&&t.attrs({ssrc:l});for(var x=0;x<f.fmt.length;x++){var y=p.default.findLine(this.media[c],"a=rtpmap:"+f.fmt[x]);t.c('payload-type',p.default.parseRTPMap(y));var j=p.default.findLine(this.media[c],"a=fmtp:"+f.fmt[x]);if(j)for(var A=p.default.parseFmtp(j),L=0;L<A.length;L++)t.c('parameter',A[L]).up();this.rtcpFbToJingle(c,t,f.fmt[x]),t.up()}if(l){for(var C,S=u(p.default.parseSSRC(this.media[c]));!(C=S()).done;){var T=C.value,E=(0,n.default)(T,2),w=E[0],I=E[1];t.c('source',{ssrc:w,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),I.forEach(function(n){var s=n.indexOf(' '),u=n.substr(s+1);if(t.c('parameter'),-1===u.indexOf(':'))t.attrs({name:u});else{var o=u.split(':',2)[0];t.attrs({name:o});var c=u.split(':',2)[1];c=p.default.filterSpecialChars(c),t.attrs({value:c})}t.up()}),t.up()}p.default.findLines(this.media[c],'a=ssrc-group:').forEach(function(n){var s=n.indexOf(' '),p=n.substr(0,s).substr(13),u=n.substr(14+p.length).split(' ');u.length&&(t.c('ssrc-group',{semantics:p,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),u.forEach(function(n){return t.c('source',{ssrc:n}).up()}),t.up())})}var F=p.default.findLines(this.media[c],'a=rid:');if(F.length&&s.default.usesRidsForSimulcast()){var P=F.map(function(t){return t.split(':')[1]}).map(function(t){return t.split(' ')[0]});P.forEach(function(n){t.c('source',{rid:n,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),t.up()}),p.default.findLine(this.media[c],'a=simulcast:')&&(t.c('rid-group',{semantics:'SIM',xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),P.forEach(function(n){t.c('source',{rid:n}).up()}),t.up())}p.default.findLine(this.media[c],'a=rtcp-mux')&&t.c('rtcp-mux').up(),this.rtcpFbToJingle(c,t,'*');for(var M=p.default.findLines(this.media[c],'a=extmap:'),J=0;J<M.length;J++){var $=p.default.parseExtmap(M[J]);if(t.c('rtp-hdrext',{xmlns:'urn:xmpp:jingle:apps:rtp:rtp-hdrext:0',uri:$.uri,id:$.value}),$.hasOwnProperty('direction'))switch($.direction){case'sendonly':t.attrs({senders:'responder'});break;case'recvonly':t.attrs({senders:'initiator'});break;case'sendrecv':t.attrs({senders:'both'});break;case'inactive':t.attrs({senders:'none'})}t.up()}t.up()}this.transportToJingle(c,t);var O=this.media[c];p.default.findLine(O,'a=sendrecv',this.session)?t.attrs({senders:'both'}):p.default.findLine(O,'a=sendonly',this.session)?t.attrs({senders:'initiator'}):p.default.findLine(O,'a=recvonly',this.session)?t.attrs({senders:'responder'}):p.default.findLine(O,'a=inactive',this.session)&&t.attrs({senders:'none'}),'0'!==f.port||p.default.findLine(O,'a=bundle-only',this.session)||t.attrs({senders:'rejected'}),t.up()}}return t.up(),t},f.prototype.transportToJingle=function(t,n){var s=this;n.c('transport');var u=p.default.findLine(this.media[t],'a=sctpmap:',this.session);if(u){var o=p.default.parseSCTPMap(u);n.c('sctpmap',{xmlns:'urn:xmpp:jingle:transports:dtls-sctp:1',number:o[0],protocol:o[1]}),o.length>2&&n.attrs({streams:o[2]}),n.up()}p.default.findLines(this.media[t],'a=fingerprint:',this.session).forEach(function(u){var o=p.default.parseFingerprint(u);o.xmlns='urn:xmpp:jingle:apps:dtls:0',n.c('fingerprint').t(o.fingerprint),delete o.fingerprint;var c=p.default.findLine(s.media[t],'a=setup:',s.session);c&&(o.setup=c.substr(8)),n.attrs(o),n.up()});var c=p.default.iceparams(this.media[t],this.session);c&&(c.xmlns='urn:xmpp:jingle:transports:ice-udp:1',n.attrs(c),p.default.findLines(this.media[t],'a=candidate:',this.session).forEach(function(t){var u=p.default.candidateToJingle(t);s.failICE&&(u.ip='1.1.1.1');var o=u&&'string'==typeof u.protocol?u.protocol.toLowerCase():'';s.removeTcpCandidates&&('tcp'===o||'ssltcp'===o)||s.removeUdpCandidates&&'udp'===o||n.c('candidate',u).up()}));n.up()},f.prototype.rtcpFbToJingle=function(t,n,s){p.default.findLines(this.media[t],"a=rtcp-fb:"+s).forEach(function(t){var s=p.default.parseRTCPFB(t);'trr-int'===s.type?(n.c('rtcp-fb-trr-int',{xmlns:'urn:xmpp:jingle:apps:rtp:rtcp-fb:0',value:s.params[0]}),n.up()):(n.c('rtcp-fb',{xmlns:'urn:xmpp:jingle:apps:rtp:rtcp-fb:0',type:s.type}),s.params.length>0&&n.attrs({subtype:s.params[0]}),n.up())})},f.prototype.rtcpFbFromJingle=function(t,n){var s='',p=t.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return p.length&&(s+='a=rtcp-fb:* trr-int ',p.attr('value')?s+=p.attr('value'):s+='0',s+='\r\n'),t.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]').each(function(t,p){s+="a=rtcp-fb:"+n+" "+p.getAttribute('type'),p.hasAttribute('subtype')&&(s+=" "+p.getAttribute('subtype')),s+='\r\n'}),s},f.prototype.fromJingle=function(t){var n=this,s=Date.now();this.raw="v=0\r\no=- "+s+" 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n";var p=$(t).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]');p.length&&p.each(function(t,s){var p=$(s).find('>content').map(function(t,n){return n.getAttribute('name')}).get();p.length>0&&(n.raw+="a=group:"+(s.getAttribute('semantics')||s.getAttribute('type'))+" "+p.join(' ')+"\r\n")}),this.session=this.raw,t.find('>content').each(function(t,s){var p=n.jingle2media($(s));n.media.push(p)}),this.raw=this.session+this.media.join('')},f.prototype.jingle2media=function(t){var n=this,s=t.find('>description'),u=t.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]'),o='',c=u.find('>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]'),f={media:s.attr('media'),port:'1'};if('rejected'===t.attr('senders')&&(f.port='0'),u.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').length?f.proto=c.length?'DTLS/SCTP':'RTP/SAVPF':f.proto='RTP/AVPF',c.length){o+="m=application "+f.port+" DTLS/SCTP "+c.attr('number')+"\r\n",o+="a=sctpmap:"+c.attr('number')+" "+c.attr('protocol');var l=c.attr('streams');o+=l?" "+l+"\r\n":'\r\n'}else f.fmt=s.find('>payload-type').map(function(t,n){return n.getAttribute('id')}).get(),o+=p.default.buildMLine(f)+"\r\n";switch(o+='c=IN IP4 0.0.0.0\r\n',c.length||(o+='a=rtcp:1 IN IP4 0.0.0.0\r\n'),u.length&&(u.attr('ufrag')&&(o+=p.default.buildICEUfrag(u.attr('ufrag'))+"\r\n"),u.attr('pwd')&&(o+=p.default.buildICEPwd(u.attr('pwd'))+"\r\n"),u.find('>fingerprint[xmlns="urn:xmpp:jingle:apps:dtls:0"]').each(function(t,n){o+="a=fingerprint:"+n.getAttribute('hash'),o+=" "+$(n).text(),o+='\r\n',n.hasAttribute('setup')&&(o+="a=setup:"+n.getAttribute('setup')+"\r\n")})),u.find('>candidate').each(function(t,s){var u=s.getAttribute('protocol');u='string'==typeof u?u.toLowerCase():'',n.removeTcpCandidates&&('tcp'===u||'ssltcp'===u)||n.removeUdpCandidates&&'udp'===u||(n.failICE&&s.setAttribute('ip','1.1.1.1'),o+=p.default.candidateFromJingle(s))}),t.attr('senders')){case'initiator':o+='a=sendonly\r\n';break;case'responder':o+='a=recvonly\r\n';break;case'none':o+='a=inactive\r\n';break;case'both':o+='a=sendrecv\r\n'}return o+="a=mid:"+t.attr('name')+"\r\n",s.find('>rtcp-mux').length&&(o+='a=rtcp-mux\r\n'),s.find('>payload-type').each(function(t,s){o+=p.default.buildRTPMap(s)+"\r\n",$(s).find('>parameter').length&&(o+="a=fmtp:"+s.getAttribute('id')+" ",o+=$(s).find('>parameter').map(function(t,n){var s=n.getAttribute('name');return(s?s+"=":'')+n.getAttribute('value')}).get().join('; '),o+='\r\n'),o+=n.rtcpFbFromJingle($(s),s.getAttribute('id'))}),o+=this.rtcpFbFromJingle(s,'*'),s.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]').each(function(t,n){o+="a=extmap:"+n.getAttribute('id')+" "+n.getAttribute('uri')+"\r\n"}),s.find('>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(t,n){var s=n.getAttribute('semantics'),p=$(n).find('>source').map(function(t,n){return n.getAttribute('ssrc')}).get();p.length&&(o+="a=ssrc-group:"+s+" "+p.join(' ')+"\r\n")}),s.find('>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(t,n){var s=n.getAttribute('ssrc');$(n).find('>parameter').each(function(t,n){var u=n.getAttribute('name'),c=n.getAttribute('value');c=p.default.filterSpecialChars(c),o+="a=ssrc:"+s+" "+u,c&&c.length&&(o+=":"+c),o+='\r\n'})}),o}},616,[1,17,536,617]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=r(d[2]),s=t(r(d[3])),u=t(r(d[4])),p=t(r(d[5]));function l(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=f(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function f(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var h=(0,o.getLogger)(__filename),b={filterSpecialChars:function(t){return t?t.replace(/[\\\/\{,\}\+]/g,''):t},iceparams:function(t,n){var o,s,u=null;return(s=b.findLine(t,'a=ice-ufrag:',n))&&(o=b.findLine(t,'a=ice-pwd:',n))&&(u={ufrag:b.parseICEUfrag(s),pwd:b.parseICEPwd(o)}),u},parseICEUfrag:function(t){return t.substring(12)},buildICEUfrag:function(t){return"a=ice-ufrag:"+t},parseICEPwd:function(t){return t.substring(10)},buildICEPwd:function(t){return"a=ice-pwd:"+t},parseMID:function(t){return t.substring(6)},parseMLine:function(t){var n={},o=t.substring(2).split(' ');return n.media=o.shift(),n.port=o.shift(),n.proto=o.shift(),''===o[o.length-1]&&o.pop(),n.fmt=o,n},buildMLine:function(t){return"m="+t.media+" "+t.port+" "+t.proto+" "+t.fmt.join(' ')},parseRTPMap:function(t){var n={},o=t.substring(9).split(' ');return n.id=o.shift(),o=o[0].split('/'),n.name=o.shift(),n.clockrate=o.shift(),n.channels=o.length?o.shift():'1',n},parseSCTPMap:function(t){var n=t.substring(10).split(' ');return[n[0],n[1],n.length>2?n[2]:null]},buildRTPMap:function(t){var n="a=rtpmap:"+t.getAttribute('id')+" "+t.getAttribute('name')+"/"+t.getAttribute('clockrate');return t.getAttribute('channels')&&'1'!==t.getAttribute('channels')&&(n+="/"+t.getAttribute('channels')),n},parseCrypto:function(t){var n={},o=t.substring(9).split(' ');return n.tag=o.shift(),n['crypto-suite']=o.shift(),n['key-params']=o.shift(),o.length&&(n['session-params']=o.join(' ')),n},parseFingerprint:function(t){var n={},o=t.substring(14).split(' ');return n.hash=o.shift(),n.fingerprint=o.shift(),n},parseFmtp:function(t){var n=[],o=t.split(' ');o.shift(),o=o.join(' ').split(';');for(var s=0;s<o.length;s++){for(var u=o[s].split('=')[0];u.length&&' '===u[0];)u=u.substring(1);var p=o[s].split('=')[1];u&&p?n.push({name:u,value:p}):u&&n.push({name:'',value:u})}return n},parseICECandidate:function(t){var n={},o=t.split(' ');n.foundation=o[0].substring(12),n.component=o[1],n.protocol=o[2].toLowerCase(),n.priority=o[3],n.ip=o[4],n.port=o[5],n.type=o[7],n.generation=0;for(var s=8;s<o.length;s+=2)switch(o[s]){case'raddr':n['rel-addr']=o[s+1];break;case'rport':n['rel-port']=o[s+1];break;case'generation':n.generation=o[s+1];break;case'tcptype':n.tcptype=o[s+1];break;default:h.log("parseICECandidate not translating \""+o[s]+"\" = \""+o[s+1]+"\"")}return n.network='1',n.id=Math.random().toString(36).substr(2,10),n},buildICECandidate:function(t){var n=["a=candidate:"+t.foundation,t.component,t.protocol,t.priority,t.ip,t.port,'typ',t.type].join(' ');switch(n+=' ',t.type){case'srflx':case'prflx':case'relay':t.hasOwnAttribute('rel-addr')&&t.hasOwnAttribute('rel-port')&&(n+='raddr',n+=' ',n+=t['rel-addr'],n+=' ',n+='rport',n+=' ',n+=t['rel-port'],n+=' ')}return t.hasOwnAttribute('tcptype')&&(n+='tcptype',n+=' ',n+=t.tcptype,n+=' '),n+='generation',n+=' ',n+=t.hasOwnAttribute('generation')?t.generation:'0'},parseSSRC:function(t){for(var n=new Map,o=t.split('\r\n'),s=0;s<o.length;s++)if('a=ssrc:'===o[s].substring(0,7)){var u=o[s].split('a=ssrc:')[1].split(' ')[0];n.get(u)||n.set(u,[]),n.get(u).push(o[s])}return n},parseRTCPFB:function(t){var n=t.substr(10).split(' '),o={};return o.pt=n.shift(),o.type=n.shift(),o.params=n,o},parseExtmap:function(t){var n=t.substr(9).split(' '),o={};return o.value=n.shift(),-1===o.value.indexOf('/')?o.direction='both':(o.direction=o.value.substr(o.value.indexOf('/')+1),o.value=o.value.substr(0,o.value.indexOf('/'))),o.uri=n.shift(),o.params=n,o},findLine:function(t,n,o){for(var s=t.split('\r\n'),u=0;u<s.length;u++)if(s[u].substring(0,n.length)===n)return s[u];if(!o)return!1;s=o.split('\r\n');for(var p=0;p<s.length;p++)if(s[p].substring(0,n.length)===n)return s[p];return!1},findLines:function(t,n,o){for(var s=t.split('\r\n'),u=[],p=0;p<s.length;p++)s[p].substring(0,n.length)===n&&u.push(s[p]);if(u.length||!o)return u;s=o.split('\r\n');for(var l=0;l<s.length;l++)s[l].substring(0,n.length)===n&&u.push(s[l]);return u},candidateToJingle:function(t){if(0===t.indexOf('candidate:'))t="a="+t;else if('a=candidate:'!==t.substring(0,12))return h.log("parseCandidate called with a line that is not a candidate line"),h.log(t),null;'\r\n'===t.substring(t.length-2)&&(t=t.substring(0,t.length-2));var n={},o=t.split(' ');if('typ'!==o[6])return h.log('did not find typ in the right place'),h.log(t),null;n.foundation=o[0].substring(12),n.component=o[1],n.protocol=o[2].toLowerCase(),n.priority=o[3],n.ip=o[4],n.port=o[5],n.type=o[7],n.generation='0';for(var s=8;s<o.length;s+=2)switch(o[s]){case'raddr':n['rel-addr']=o[s+1];break;case'rport':n['rel-port']=o[s+1];break;case'generation':n.generation=o[s+1];break;case'tcptype':n.tcptype=o[s+1];break;default:h.log("not translating \""+o[s]+"\" = \""+o[s+1]+"\"")}return n.network='1',n.id=Math.random().toString(36).substr(2,10),n},candidateFromJingle:function(t){var n='a=candidate:';n+=t.getAttribute('foundation'),n+=' ',n+=t.getAttribute('component'),n+=' ';var o=t.getAttribute('protocol');switch(u.default.isFirefox()&&'ssltcp'===o.toLowerCase()&&(o='tcp'),n+=o,n+=' ',n+=t.getAttribute('priority'),n+=' ',n+=t.getAttribute('ip'),n+=' ',n+=t.getAttribute('port'),n+=' ',n+='typ',n+=" "+t.getAttribute('type'),n+=' ',t.getAttribute('type')){case'srflx':case'prflx':case'relay':t.getAttribute('rel-addr')&&t.getAttribute('rel-port')&&(n+='raddr',n+=' ',n+=t.getAttribute('rel-addr'),n+=' ',n+='rport',n+=' ',n+=t.getAttribute('rel-port'),n+=' ')}return'tcp'===o.toLowerCase()&&(n+='tcptype',n+=' ',n+=t.getAttribute('tcptype'),n+=' '),n+='generation',n+=' ',(n+=t.getAttribute('generation')||'0')+"\r\n"},parsePrimaryVideoSsrc:function(t){var n=t.ssrcs.map(function(t){return t.id}).filter(function(t,n,o){return o.indexOf(t)===n}).length,o=t.ssrcGroups&&t.ssrcGroups.length||0;if(!(n>1&&0===o)){var s=null;if(1===n)s=t.ssrcs[0].id;else if(2===n){var u=t.ssrcGroups.find(function(t){return'FID'===t.semantics});u&&(s=u.ssrcs.split(' ')[0])}else if(n>=3){var p=t.ssrcGroups.find(function(t){return'SIM'===t.semantics});p&&(s=p.ssrcs.split(' ')[0])}return s}},generateSsrc:function(){return p.default.randomInt(1,4294967295)},getSsrcAttribute:function(t,n,o){for(var s=0;s<t.ssrcs.length;++s){var u=t.ssrcs[s];if(u.id===n&&u.attribute===o)return u.value}},parseGroupSsrcs:function(t){return t.ssrcs.split(' ').map(function(t){return parseInt(t,10)})},getMedia:function(t,n){return t.media.find(function(t){return t.type===n})},getUfrag:function(t){var n=t.split('\n').filter(function(t){return t.startsWith('a=ice-ufrag:')});if(n.length>0)return n[0].substr('a=ice-ufrag:'.length)},preferCodec:function(t,n){if(t&&n){var o=t.rtp.filter(function(t){return t.codec&&t.codec.toLowerCase()===n.toLowerCase()}).map(function(t){return t.payload});if(o){for(var s,u=t.payloads.toString().split(' ').map(function(t){return parseInt(t,10)}),p=l(o.reverse());!(s=p()).done;){var f=s.value,c=u.indexOf(f);u.splice(c,1),u.unshift(f)}t.payloads=u.join(' ')}}},stripCodec:function(t,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&o){for(var p,f=[],c=[],h=o.toLowerCase()===s.default.H264&&u,b=l(t.rtp);!(p=b()).done;){var v=p.value;v.codec&&v.codec.toLowerCase()===o.toLowerCase()&&(h?f.push(v.payload):c.push(v.payload))}if(h&&(c=t.fmtp.filter(function(t){return f.indexOf(t.payload)>-1&&t.config.includes('profile-level-id=64')}).map(function(t){return t.payload})),c.length>0){var y,A=c.map(function(t){return"apt="+t}),w=t.fmtp.filter(function(t){return-1!==A.indexOf(t.config)});(y=c).push.apply(y,(0,n.default)(w.map(function(t){return t.payload})));var C=t.payloads.toString().split(' ').map(Number).filter(function(t){return-1===c.indexOf(t)});0===C.length?(t.port=0,t.direction='inactive',t.payloads='*'):t.payloads=C.join(' '),t.rtp=t.rtp.filter(function(t){return-1!==C.indexOf(t.payload)}),t.fmtp=t.fmtp.filter(function(t){return-1!==C.indexOf(t.payload)}),t.rtcpFb&&(t.rtcpFb=t.rtcpFb.filter(function(t){return-1!==C.indexOf(t.payload)}))}}}},v=b;e.default=v},617,[1,25,432,618,536,592]);
__d(function(g,r,i,a,m,e,d){m.exports={H264:'h264',VP8:'vp8',VP9:'vp9'}},618,[]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=s(r(d[1]));function t(s,n){if(!n)return!1;if(s.length!==n.length)return!1;for(var t=0,c=s.length;t<c;t++)if(s[t]instanceof Array&&n[t]instanceof Array){if(!s[t].equals(n[t]))return!1}else if(s[t]!==n[t])return!1;return!0}function c(s,n){if(this.mySDP=s,this.otherSDP=n,!s)throw new Error('"mySDP" is undefined!');if(!n)throw new Error('"otherSDP" is undefined!')}c.prototype.getNewMedia=function(){var s=this.mySDP.getMediaSsrcMap(),n=this.otherSDP.getMediaSsrcMap(),c={};return Object.keys(n).forEach(function(o){var u=s[o],f=n[o];u||!f?(Object.keys(f.ssrcs).forEach(function(s){if(-1===Object.keys(u.ssrcs).indexOf(s))c[o]||(c[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),c[o].ssrcs[s]=f.ssrcs[s];else if(f.ssrcs[s].lines&&u.ssrcs[s].lines){void 0!==u.ssrcs[s].lines.find(function(s){return-1!==s.indexOf('msid')})!==(void 0!==f.ssrcs[s].lines.find(function(s){return-1!==s.indexOf('msid')}))&&(c[o]||(c[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),c[o].ssrcs[s]=f.ssrcs[s])}}),f.ssrcGroups.forEach(function(s){for(var n=!1,p=0;p<u.ssrcGroups.length;p++){var l=u.ssrcGroups[p];if(s.semantics===l.semantics&&t(s.ssrcs,l.ssrcs)){n=!0;break}}n||(c[o]||(c[o]={mediaindex:f.mediaindex,mid:f.mid,ssrcs:{},ssrcGroups:[]}),c[o].ssrcGroups.push(s))})):c[o]=f}),c},c.prototype.toJingle=function(s){var t=this.getNewMedia(),c=!1;return Object.keys(t).forEach(function(o){c=!0;var u=t[o];s.c('content',{name:u.mid}),s.c('description',{xmlns:'urn:xmpp:jingle:apps:rtp:1',media:u.mid}),Object.keys(u.ssrcs).forEach(function(t){var c=u.ssrcs[t];s.c('source',{xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),s.attrs({ssrc:c.ssrc}),c.lines.forEach(function(t){var c=t.indexOf(' '),o=t.substr(c+1);if(s.c('parameter'),-1===o.indexOf(':'))s.attrs({name:o});else{var u=o.split(':',2),f=u[0],p=n.default.filterSpecialChars(u[1]);s.attrs({name:f}),s.attrs({value:p})}s.up()}),s.up()}),u.ssrcGroups.forEach(function(n){n.ssrcs.length&&(s.c('ssrc-group',{semantics:n.semantics,xmlns:'urn:xmpp:jingle:apps:rtp:ssma:0'}),n.ssrcs.forEach(function(n){s.c('source',{ssrc:n}).up()}),s.up())}),s.up(),s.up()}),c}},619,[1,617]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),u=n(r(d[3])),s=n(r(d[4])),c=n(r(d[5])),f=n(r(d[6])),l=r(d[7]),v=t(r(d[8])),h=t(r(d[9])),_=n(r(d[10]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var E=(0,l.getLogger)(__filename),R=(function(t){(0,s.default)(R,t);var n,l,_=(n=R,l=y(),function(){var t,o=(0,f.default)(n);if(l){var u=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function R(){var t;return(0,o.default)(this,R),(t=_.call(this)).ssrcOwners=new Map,t.chatRoom=null,t}return(0,u.default)(R,[{key:"setChatRoom",value:function(t){var n=this,o=this.chatRoom;this.chatRoom=t,o&&(o.removePresenceListener('audiomuted',this._audioMuteHandler),o.removePresenceListener('videomuted',this._videoMuteHandler),o.removePresenceListener('videoType',this._videoTypeHandler)),t&&(this._audioMuteHandler=function(t,o){n.eventEmitter.emit(h.PEER_MUTED_CHANGED,o,v.AUDIO,'true'===t.value)},t.addPresenceListener('audiomuted',this._audioMuteHandler),this._videoMuteHandler=function(t,o){n.eventEmitter.emit(h.PEER_MUTED_CHANGED,o,v.VIDEO,'true'===t.value)},t.addPresenceListener('videomuted',this._videoMuteHandler),this._videoTypeHandler=function(t,o){n.eventEmitter.emit(h.PEER_VIDEO_TYPE_CHANGED,o,t.value)},t.addPresenceListener('videoType',this._videoTypeHandler))}},{key:"getPeerMediaInfo",value:function(t,n){if(this.chatRoom)return this.chatRoom.getMediaPresenceInfo(t,n);E.error('Requested peer media info, before room was set')}},{key:"getSSRCOwner",value:function(t){return this.ssrcOwners.get(t)}},{key:"setSSRCOwner",value:function(t,n){if('number'!=typeof t)throw new TypeError("SSRC("+t+") must be a number");this.ssrcOwners.set(t,n)}}]),R})(_.default);e.default=R},620,[12,1,29,30,40,42,39,432,557,621,622]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.PEER_VIDEO_TYPE_CHANGED=e.PEER_MUTED_CHANGED=void 0;e.PEER_MUTED_CHANGED='signaling.peerMuted';e.PEER_VIDEO_TYPE_CHANGED='signaling.peerVideoType'},621,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5]));function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var s=(function(t){(0,f.default)(y,t);var s,p,v=(s=y,p=l(),function(){var t,n=(0,c.default)(s);if(p){var u=(0,c.default)(this).constructor;t=Reflect.construct(n,arguments,u)}else t=n.apply(this,arguments);return(0,o.default)(this,t)});function y(){return(0,n.default)(this,y),v.apply(this,arguments)}return(0,u.default)(y,[{key:"getSSRCOwner",value:function(t){throw new Error('not implemented')}},{key:"getPeerMediaInfo",value:function(t,n){throw new Error('not implemented')}}]),y})(t(r(d[6])).default);e.default=s},622,[1,29,30,40,42,39,569]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){s.Strophe.addConnectionPlugin('logger',new p)};var n=t(r(d[1])),o=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5])),f=t(r(d[6])),s=r(d[7]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=(function(t){(0,c.default)(y,t);var s,p,v=(s=y,p=h(),function(){var t,n=(0,f.default)(s);if(p){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,l.default)(this,t)});function y(){var t;return(0,n.default)(this,y),(t=v.call(this)).log=[],t}return(0,o.default)(y,[{key:"init",value:function(t){(0,u.default)((0,f.default)(y.prototype),"init",this).call(this,t),this.connection.rawInput=this.logIncoming.bind(this),this.connection.rawOutput=this.logOutgoing.bind(this)}},{key:"logIncoming",value:function(t){this.log.push([(new Date).getTime(),'incoming',t])}},{key:"logOutgoing",value:function(t){this.log.push([(new Date).getTime(),'outgoing',t])}}]),y})(t(r(d[8])).default)},623,[1,29,30,37,40,42,39,529,600]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),u=n(r(d[3])),l=n(r(d[4])),c=n(r(d[5])),f=n(r(d[6])),s=r(d[7]),p=r(d[8]),v=n(r(d[9]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var h=(0,s.getLogger)(__filename),R=(function(n){(0,l.default)(w,n);var s,v,R=(s=w,v=y(),function(){var n,t=(0,f.default)(s);if(v){var o=(0,f.default)(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return(0,c.default)(this,n)});function w(){return(0,t.default)(this,w),R.apply(this,arguments)}return(0,o.default)(w,[{key:"init",value:function(n){(0,u.default)((0,f.default)(w.prototype),"init",this).call(this,n),this.connection.addHandler(this.onRayo.bind(this),"urn:xmpp:rayo:1",'iq','set',null,null)}},{key:"onRayo",value:function(n){h.info('Rayo IQ',n)}},{key:"dial",value:function(n,t,o,u,l){var c=this;return new Promise(function(f,s){if(l){var v=(0,p.$iq)({type:'set',to:l});v.c('dial',{xmlns:"urn:xmpp:rayo:1",to:n,from:t}),v.c('header',{name:'JvbRoomName',value:o}).up(),u&&u.length&&v.c('header',{name:'JvbRoomPassword',value:u}).up(),c.connection.sendIQ(v,function(n){h.info('Dial result ',n);var t=$(n).find('ref').attr('uri');c.callResource=t.substr('xmpp:'.length),h.info("Received call resource: "+c.callResource),f()},function(n){h.info('Dial error ',n),s(n)})}else s(new Error('Internal error!'))})}},{key:"hangup",value:function(){var n=this;return new Promise(function(t,o){if(!n.callResource)return o(new Error('No call in progress')),void h.warn('No call in progress');var u=(0,p.$iq)({type:'set',to:n.callResource});u.c('hangup',{xmlns:"urn:xmpp:rayo:1"}),n.connection.sendIQ(u,function(o){h.info('Hangup result ',o),n.callResource=null,t()},function(t){h.info('Hangup error ',t),n.callResource=null,o(new Error('Hangup error '))})})}}]),w})(v.default);e.default=R},624,[1,29,30,37,40,42,39,432,529,600]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){s.Strophe.log=function(t,o){switch(S.trace('Strophe',t,o),'string'==typeof o&&-1!==o.indexOf('Request ')&&-1!==o.indexOf('timed out (secondary), restarting')&&(t=s.Strophe.LogLevel.WARN),t){case s.Strophe.LogLevel.DEBUG:-1!==n&&N.test(o)&&(S.debug('Reset lastErrorStatus'),n=-1);break;case s.Strophe.LogLevel.WARN:S.warn("Strophe: "+o);var c=E.exec(o);c&&2===c.length&&(n=parseInt(c[1],10),S.debug("lastErrorStatus set to: "+n));break;case s.Strophe.LogLevel.ERROR:case s.Strophe.LogLevel.FATAL:o="Strophe: "+o,u.default.callErrorHandler(new Error(o)),S.error(o)}},s.Strophe.getLastErrorStatus=function(){return n},s.Strophe.getStatusString=function(t){switch(t){case s.Strophe.Status.BINDREQUIRED:return'BINDREQUIRED';case s.Strophe.Status.ERROR:return'ERROR';case s.Strophe.Status.CONNECTING:return'CONNECTING';case s.Strophe.Status.CONNFAIL:return'CONNFAIL';case s.Strophe.Status.AUTHENTICATING:return'AUTHENTICATING';case s.Strophe.Status.AUTHFAIL:return'AUTHFAIL';case s.Strophe.Status.CONNECTED:return'CONNECTED';case s.Strophe.Status.DISCONNECTED:return'DISCONNECTED';case s.Strophe.Status.DISCONNECTING:return'DISCONNECTING';case s.Strophe.Status.ATTACHED:return'ATTACHED';default:return'unknown'}}};var o=r(d[1]),s=r(d[2]),u=t(r(d[3])),S=(0,o.getLogger)(__filename),n=-1,N=/request id \d+.\d+ got 200/,E=/request errored, status: (\d+), number of errors: \d+/},625,[1,432,529,552]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.CodecSelection=void 0;var n=o(r(d[2])),c=o(r(d[3])),s=r(d[4]),f=t(r(d[5])),u=o(r(d[6])),l=t(r(d[7])),v=o(r(d[8]));function p(t,o){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=h(t))||o&&t&&"number"==typeof t.length){n&&(t=n);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function h(t,o){if(t){if("string"==typeof t)return C(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,o):void 0}}function C(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,c=new Array(o);n<o;n++)c[n]=t[n];return c}var b=(0,s.getLogger)(__filename),y=(function(){function t(o,c){var s=this;(0,n.default)(this,t),this.conference=o,this.options=c,this.disabledCodec=c.disabledCodec===u.default.VP8?void 0:this._getCodecMimeType(c.disabledCodec);var l=this._getCodecMimeType(c.jvbCodec),p=this._getCodecMimeType(c.p2pCodec);this.jvbPreferredCodec=l&&this._isCodecSupported(l)?l:u.default.VP8,this.p2pPreferredCodec=p&&this._isCodecSupported(p)?p:u.default.VP8,b.debug("Codec preferences for the conference are JVB: "+this.jvbPreferredCodec+",\n            P2P: "+this.p2pPreferredCodec),v.default.isFirefox()&&this.jvbPreferredCodec===u.default.VP9&&(this.jvbPreferredCodec=u.default.VP8),this.conference.on(f.USER_JOINED,function(){return s._selectPreferredCodec()}),this.conference.on(f.USER_LEFT,function(){return s._selectPreferredCodec()}),this.conference.on(f._MEDIA_SESSION_STARTED,function(t){return s._onMediaSessionStared(t)})}return(0,c.default)(t,[{key:"_getCodecMimeType",value:function(t){return'string'==typeof t?Object.values(u.default).find(function(o){return o===t.toLowerCase()}):null}},{key:"_isCodecSupported",value:function(t){return!(!v.default.isFirefox()&&!v.default.isReactNative())||window.RTCRtpReceiver&&window.RTCRtpReceiver.getCapabilities('video').codecs.some(function(o){return o.mimeType.toLowerCase()==="video/"+t})}},{key:"_onMediaSessionStared",value:function(t){var o=t.isP2P?this.p2pPreferredCodec:this.jvbPreferredCodec,n=this.disabledCodec&&this._isCodecSupported(this.disabledCodec)?this.disabledCodec:null;this._selectPreferredCodec(t,o,n)}},{key:"_selectPreferredCodec",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=t||this.conference.jvbJingleSession,s=o||this.jvbPreferredCodec,f=s;if(c&&!c.isP2P&&!this.options.enforcePreferredCodec)for(var u,v=p(this.conference.getParticipants().map(function(t){return t.getId()}));!(u=v()).done;){var h=u.value,C=c.signalingLayer.getPeerMediaInfo(h,l.VIDEO);C&&C.codecType&&C.codecType!==s&&(f=C.codecType)}c&&c.setVideoCodecs(f,n)}},{key:"getPreferredCodec",value:function(){return this.jvbPreferredCodec}}]),t})();e.CodecSelection=y},626,[12,1,29,30,432,524,618,557,536]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),l=n(r(d[5])),c=n(r(d[6])),f=n(r(d[7])),h=n(r(d[8])),v=r(d[9]),p=t(r(d[10])),_=t(r(d[11])),y=n(r(d[12])),k=n(r(d[13])),A=n(r(d[14])),E=n(r(d[15])),C=n(r(d[16])),D=n(r(d[17])),O=r(d[18]),b=n(r(d[19])),L=n(r(d[20])),N=n(r(d[21])),T=n(r(d[22]));function S(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=I(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function I(t,n){if(t){if("string"==typeof t)return P(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?P(t,n):void 0}}function P(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function w(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,o)}return s}function M(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?w(Object(s),!0).forEach(function(n){(0,h.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var R=(0,v.getLogger)(__filename),H=0,j=0;function U(t,n){var s=[],o=null;return t.forEach(function(t){t.mediaType===_.AUDIO?o=n.micDeviceId:t.videoType===k.default.CAMERA&&(o=n.cameraDeviceId),j=(0,O.safeCounterIncrement)(j);var u=new L.default(M(M({},t),{},{deviceId:o,facingMode:n.facingMode,rtcId:j,effects:n.effects}));s.push(u)}),s}function x(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(t){var n=t.sourceId,s=t.sourceType,o=t.stream,u=t.track,l=t.videoType,c=t.effects,f=u.getSettings(),h=f.deviceId,v=f.facingMode;return j=(0,O.safeCounterIncrement)(j),new L.default({deviceId:h,facingMode:v,mediaType:u.kind,rtcId:j,sourceId:n,sourceType:s,stream:o,track:u,videoType:l||null,effects:c})})}var F=(function(t){(0,l.default)(k,t);var n,h,v=(n=k,h=V(),function(){var t,s=(0,f.default)(n);if(h){var o=(0,f.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,c.default)(this,t)});function k(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.default)(this,k),(n=v.call(this)).conference=t,n.peerConnections=new Map,n.localTracks=[],n.options=o,n._channel=null,n._lastN=-1,n._lastNEndpoints=null,n._senderVideoConstraints={},n._maxFrameHeight=void 0,n._pinnedEndpoint=null,n._selectedEndpoints=[],n._lastNChangeListener=n._onLastNChanged.bind((0,u.default)(n)),n._onDeviceListChanged=n._onDeviceListChanged.bind((0,u.default)(n)),n._updateAudioOutputForAudioTracks=n._updateAudioOutputForAudioTracks.bind((0,u.default)(n)),N.default.isDeviceChangeAvailable('output')&&(N.default.addListener(y.default.AUDIO_OUTPUT_DEVICE_CHANGED,n._updateAudioOutputForAudioTracks),N.default.addListener(y.default.DEVICE_LIST_CHANGED,n._onDeviceListChanged)),n}return(0,o.default)(k,[{key:"destroy",value:function(){N.default.removeListener(y.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._updateAudioOutputForAudioTracks),N.default.removeListener(y.default.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this.removeListener(y.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener),this._channelOpenListener&&this.removeListener(y.default.DATA_CHANNEL_OPEN,this._channelOpenListener)}},{key:"initializeBridgeChannel",value:function(t,n){var s=this;this._channel=new b.default(t,n,this.eventEmitter,this._senderVideoConstraintsChanged.bind(this)),this._channelOpenListener=function(){try{s._channel.sendPinnedEndpointMessage(s._pinnedEndpoint),s._channel.sendSelectedEndpointsMessage(s._selectedEndpoints),void 0!==s._maxFrameHeight&&s._channel.sendReceiverVideoConstraintMessage(s._maxFrameHeight)}catch(t){C.default.callErrorHandler(t),R.error("Cannot send selected("+s._selectedEndpoint+")pinned("+s._pinnedEndpoint+")frameHeight("+s._maxFrameHeight+") endpoint message",t)}s.removeListener(y.default.DATA_CHANNEL_OPEN,s._channelOpenListener),s._channelOpenListener=null,-1!==s._lastN&&s._channel.sendSetLastNMessage(s._lastN)},this.addListener(y.default.DATA_CHANNEL_OPEN,this._channelOpenListener),this.addListener(y.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener)}},{key:"_onDeviceListChanged",value:function(){this._updateAudioOutputForAudioTracks(N.default.getAudioOutputDevice())}},{key:"_senderVideoConstraintsChanged",value:function(t){R.info('Remote max frame height received on bridge channel: ',JSON.stringify(t)),this._senderVideoConstraints=t,this.eventEmitter.emit(y.default.SENDER_VIDEO_CONSTRAINTS_CHANGED)}},{key:"_onLastNChanged",value:function(){var t,n,s=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=this._lastNEndpoints||[];this._lastNEndpoints=o,t=u.filter(function(t){return!s.isInLastN(t)}),n=o.filter(function(t){return-1===u.indexOf(t)}),this.conference.eventEmitter.emit(p.LAST_N_ENDPOINTS_CHANGED,t,n)}},{key:"onCallEnded",value:function(){this._channel&&(this._channel&&'websocket'===this._channel.mode&&this._channel.close(),this._channel=null)}},{key:"setReceiverVideoConstraint",value:function(t){this._maxFrameHeight=t,this._channel&&this._channel.isOpen()&&this._channel.sendReceiverVideoConstraintMessage(t)}},{key:"selectEndpoints",value:function(t){this._selectedEndpoints=t,this._channel&&this._channel.isOpen()&&this._channel.sendSelectedEndpointsMessage(t)}},{key:"pinEndpoint",value:function(t){this._pinnedEndpoint=t,this._channel&&this._channel.isOpen()&&this._channel.sendPinnedEndpointMessage(t)}},{key:"createPeerConnection",value:function(t,n,s,o){var u=k.getPCConstraints(s);void 0!==o.abtestSuspendVideo&&(N.default.setSuspendVideo(u,o.abtestSuspendVideo),E.default.analytics.addPermanentProperties({abtestSuspendVideo:o.abtestSuspendVideo})),o.enableInsertableStreams&&(R.debug('E2EE - setting insertable streams constraints'),n.encodedInsertableStreams=!0,n.forceEncodedAudioInsertableStreams=!0,n.forceEncodedVideoInsertableStreams=!0),A.default.supportsSdpSemantics()&&(n.sdpSemantics='plan-b'),o.forceTurnRelay&&(n.iceTransportPolicy='relay'),n.bundlePolicy='max-bundle',H=(0,O.safeCounterIncrement)(H);var l=new T.default(this,H,t,n,u,s,o);return this.peerConnections.set(l.id,l),l}},{key:"_removePeerConnection",value:function(t){var n=t.id;return!!this.peerConnections.has(n)&&(this.peerConnections.delete(n),!0)}},{key:"addLocalTrack",value:function(t){if(!t)throw new Error('track must not be null nor undefined');this.localTracks.push(t),t.conference=this.conference}},{key:"getLastN",value:function(){return this._lastN}},{key:"getSenderVideoConstraints",value:function(){return this._senderVideoConstraints}},{key:"getLocalVideoTrack",value:function(){var t=this.getLocalTracks(_.VIDEO);return t.length?t[0]:void 0}},{key:"getLocalAudioTrack",value:function(){var t=this.getLocalTracks(_.AUDIO);return t.length?t[0]:void 0}},{key:"getLocalTracks",value:function(t){var n=this.localTracks.slice();return void 0!==t&&(n=n.filter(function(n){return n.getType()===t})),n}},{key:"getRemoteTracks",value:function(t){for(var n,s=[],o=S(this.peerConnections.values());!(n=o()).done;){var u=n.value.getRemoteTracks(void 0,t);u&&(s=s.concat(u))}return s}},{key:"setAudioMute",value:function(t){var n=[];return this.getLocalTracks(_.AUDIO).forEach(function(s){n.push(t?s.mute():s.unmute())}),Promise.all(n)}},{key:"removeLocalTrack",value:function(t){var n=this.localTracks.indexOf(t);-1!==n&&this.localTracks.splice(n,1)}},{key:"removeRemoteTracks",value:function(t){for(var n,s=[],o=S(this.peerConnections.values());!(n=o()).done;){var u=n.value.removeRemoteTracks(t);s=s.concat(u)}return R.debug("Removed remote tracks for "+t+" count: "+s.length),s}},{key:"closeBridgeChannel",value:function(){this._channel&&(this._channel.close(),this._channel=null,this.removeListener(y.default.LASTN_ENDPOINT_CHANGED,this._lastNChangeListener))}},{key:"setAudioLevel",value:function(t,n,s,o){var u=t.getTrackBySSRC(n);u&&(u.isAudioTrack()?(u.isLocal()!==o&&R.error(u+" was expected to "+(o?'be':'not be')+" local"),u.setAudioLevel(s,t)):R.warn("Received audio level for non-audio track: "+n))}},{key:"sendChannelMessage",value:function(t,n){if(!this._channel)throw new Error('Channel support is disabled!');this._channel.sendMessage(t,n)}},{key:"setLastN",value:function(t){this._lastN!==t&&(this._lastN=t,this._channel&&this._channel.isOpen()&&this._channel.sendSetLastNMessage(t),this.eventEmitter.emit(y.default.LASTN_VALUE_CHANGED,t))}},{key:"isInLastN",value:function(t){return!this._lastNEndpoints||this._lastNEndpoints.indexOf(t)>-1}},{key:"_updateAudioOutputForAudioTracks",value:function(t){for(var n,s=S(this.getRemoteTracks(_.AUDIO));!(n=s()).done;){n.value.setAudioOutput(t)}}}],[{key:"newCreateLocalTracks",value:function(t){return x(t)}},{key:"obtainAudioAndVideoPermissions",value:function(t){var n=A.default.usesNewGumFlow();return(n?N.default.newObtainAudioAndVideoPermissions(t):N.default.obtainAudioAndVideoPermissions(t)).then(function(s){return n?x(s):U(s,t)})}},{key:"addListener",value:function(t,n){N.default.addListener(t,n)}},{key:"removeListener",value:function(t,n){N.default.removeListener(t,n)}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=t,N.default.init(this.options)}},{key:"getPCConstraints",value:function(t){var n=t?N.default.p2pPcConstraints:N.default.pcConstraints;return n?JSON.parse(JSON.stringify(n)):{}}},{key:"attachMediaStream",value:function(t,n){return N.default.attachMediaStream(t,n)}},{key:"getStreamID",value:function(t){return N.default.getStreamID(t)}},{key:"getTrackID",value:function(t){return N.default.getTrackID(t)}},{key:"isDeviceListAvailable",value:function(){return N.default.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(t){return N.default.isDeviceChangeAvailable(t)}},{key:"isWebRtcSupported",value:function(){return A.default.isSupported()}},{key:"getAudioOutputDevice",value:function(){return N.default.getAudioOutputDevice()}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return N.default.getCurrentlyAvailableMediaDevices()}},{key:"getEventDataForActiveDevice",value:function(t){return N.default.getEventDataForActiveDevice(t)}},{key:"setAudioOutputDevice",value:function(t){return N.default.setAudioOutputDevice(t)}},{key:"isUserStream",value:function(t){return k.isUserStreamById(N.default.getStreamID(t))}},{key:"isUserStreamById",value:function(t){return t&&'mixedmslabel'!==t&&'default'!==t}},{key:"enumerateDevices",value:function(t){N.default.enumerateDevices(t)}},{key:"stopMediaStream",value:function(t){N.default.stopMediaStream(t)}},{key:"isDesktopSharingEnabled",value:function(){return N.default.isDesktopSharingEnabled()}}]),k})(D.default);e.default=F},627,[12,1,29,30,43,40,42,39,51,432,524,557,561,562,536,531,552,569,555,628,629,632,653]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),o=n(r(d[2])),s=r(d[3]),l=n(r(d[4])),c=r(d[5]),h=n(r(d[6])),u=n(r(d[7])),_=(0,s.getLogger)(__filename),f=(function(){function n(o,s,l,c){if((0,t.default)(this,n),!o&&!s)throw new TypeError('At least peerconnection or wsUrl must be given');if(o&&s)throw new TypeError('Just one of peerconnection or wsUrl must be given');if(o?_.debug('constructor() with peerconnection'):_.debug("constructor() with wsUrl:\""+s+"\""),this._channel=null,this._eventEmitter=l,this._mode=null,this._areRetriesEnabled=!1,this._closedFromClient=!1,this._senderVideoConstraintsChanged=c,o){var h=o.createDataChannel('JVB data channel',{protocol:'http://jitsi.org/protocols/colibri'});this._handleChannel(h),this._mode='datachannel'}else s&&(this._areRetriesEnabled=!0,this._wsUrl=s,this._initWebSocket())}return(0,o.default)(n,[{key:"_initWebSocket",value:function(){var n=new WebSocket(this._wsUrl);this._handleChannel(n),this._mode='websocket'}},{key:"_startConnectionRetries",value:function(){var n=this,t=1;this._retryTimeout=setTimeout(function o(){n.isOpen()||(n._initWebSocket(n._wsUrl),t=Math.min(2*t,60),n._retryTimeout=setTimeout(o,1e3*t))},1e3*t)}},{key:"_stopConnectionRetries",value:function(){this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=void 0)}},{key:"_retryWebSocketConnection",value:function(n){var t=this;if(this._areRetriesEnabled){var o=n.code,s=n.reason;h.default.sendAnalytics((0,c.createBridgeChannelClosedEvent)(o,s)),this._areRetriesEnabled=!1,this._eventEmitter.once(l.default.DATA_CHANNEL_OPEN,function(){t._stopConnectionRetries(),t._areRetriesEnabled=!0}),this._startConnectionRetries()}}},{key:"close",value:function(){if(this._closedFromClient=!0,this._stopConnectionRetries(),this._areRetriesEnabled=!1,this._channel){try{this._channel.close()}catch(n){}this._channel=null}}},{key:"isOpen",value:function(){return this._channel&&('open'===this._channel.readyState||this._channel.readyState===WebSocket.OPEN)}},{key:"sendMessage",value:function(n,t){this._send({colibriClass:'EndpointMessage',msgPayload:t,to:n})}},{key:"sendSetLastNMessage",value:function(n){_.log("Sending lastN="+n+"."),this._send({colibriClass:'LastNChangedEvent',lastN:n})}},{key:"sendPinnedEndpointMessage",value:function(n){_.log("Sending pinned endpoint: "+n+"."),this._send({colibriClass:'PinnedEndpointChangedEvent',pinnedEndpoint:n||null})}},{key:"sendSelectedEndpointsMessage",value:function(n){_.log("Sending selected endpoints: "+n+"."),this._send({colibriClass:'SelectedEndpointsChangedEvent',selectedEndpoints:n})}},{key:"sendReceiverVideoConstraintMessage",value:function(n){_.log("Sending ReceiverVideoConstraint with maxFrameHeight="+n+"px"),this._send({colibriClass:'ReceiverVideoConstraint',maxFrameHeight:n})}},{key:"_handleChannel",value:function(n){var t=this,o=this._eventEmitter;n.onopen=function(){_.info(t._mode+" channel opened"),o.emit(l.default.DATA_CHANNEL_OPEN)},n.onerror=function(n){'websocket'!==t._mode&&_.error("Channel error: "+n.message)},n.onmessage=function(n){var s,c=n.data;try{s=JSON.parse(c)}catch(n){return u.default.callErrorHandler(n),void _.error('Failed to parse channel message as JSON: ',c,n)}var h=s.colibriClass;switch(h){case'DominantSpeakerEndpointChangeEvent':var f=s.dominantSpeakerEndpoint;_.info("New dominant speaker: "+f+"."),o.emit(l.default.DOMINANT_SPEAKER_CHANGED,f);break;case'EndpointConnectivityStatusChangeEvent':var v=s.endpoint,C='true'===s.active;_.info("Endpoint connection status changed: "+v+" active="+C),o.emit(l.default.ENDPOINT_CONN_STATUS_CHANGED,v,C);break;case'EndpointMessage':o.emit(l.default.ENDPOINT_MESSAGE_RECEIVED,s.from,s.msgPayload);break;case'LastNEndpointsChangeEvent':var E=s.lastNEndpoints;_.info("New forwarded endpoints: "+E),o.emit(l.default.LASTN_ENDPOINT_CHANGED,E);break;case'SenderVideoConstraints':var p=s.videoConstraints;p&&(_.info("SenderVideoConstraints: "+JSON.stringify(p)),t._senderVideoConstraintsChanged(p));break;case'ServerHello':_.info("Received ServerHello, version="+s.version+".");break;default:_.debug('Channel JSON-formatted message: ',s),o.emit("rtc.datachannel."+h,s)}},n.onclose=function(n){_.info("Channel closed by "+(t._closedFromClient?'client':'server')),'websocket'===t._mode&&(t._closedFromClient||(_.error("Channel closed: "+n.code+" "+n.reason),t._retryWebSocketConnection(n))),t._channel=null},this._channel=n}},{key:"_send",value:function(n){var t=this._channel;if(!this.isOpen())throw _.error('Bridge Channel send: no opened channel.'),new Error('No opened channel');t.send(JSON.stringify(n))}},{key:"mode",get:function(){return this._mode}}]),n})();e.default=f},628,[1,29,30,432,561,534,531,552]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),o=n(r(d[3])),c=n(r(d[4])),u=n(r(d[5])),f=n(r(d[6])),h=n(r(d[7])),l=n(r(d[8])),_=n(r(d[9])),v=r(d[10]),E=n(r(d[11])),S=r(d[12]),k=r(d[13]),y=n(r(d[14])),T=t(r(d[15])),p=n(r(d[16])),D=n(r(d[17])),I=r(d[18]),M=n(r(d[19])),A=n(r(d[20])),w=n(r(d[21])),C=n(r(d[22]));function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var R=(0,v.getLogger)(__filename),N=(function(t){(0,h.default)(N,t);var n,v,w=(n=N,v=P(),function(){var t,s=(0,_.default)(n);if(v){var o=(0,_.default)(this).constructor;t=Reflect.construct(s,arguments,o)}else t=s.apply(this,arguments);return(0,l.default)(this,t)});function N(t){var n,s=t.deviceId,c=t.facingMode,f=t.mediaType,h=t.resolution,l=t.rtcId,_=t.sourceId,v=t.sourceType,E=t.stream,S=t.track,y=t.videoType,T=t.effects,I=void 0===T?[]:T;(0,o.default)(this,N),(n=w.call(this,null,E,S,function(){return n.emit(k.LOCAL_TRACK_STOPPED)},f,y))._setEffectInProgress=!1;var A=I.find(function(t){return t.isEnabled((0,u.default)(n))});return A&&n._startStreamEffect(A),n.rtcId=l,n.sourceId=_,n.sourceType=v,M.default.usesNewGumFlow()?(n.resolution=S.getSettings().height,n.maxEnabledResolution=h,n._constraints=S.getConstraints(),Object.keys(n._constraints).length||y!==D.default.CAMERA||(n._constraints={height:S.getSettings().height,width:S.getSettings().width})):(n.resolution=M.default.isFirefox()?null:h,n.maxEnabledResolution=n.resolution),n.deviceId=s,n._prevSetMuted=Promise.resolve(),n._facingMode=c,n._trackEnded=!1,n._hasSentData=!1,n._testDataSent=!0,n._realDeviceId=''===n.deviceId?void 0:n.deviceId,n._trackMutedTS=0,n._onDeviceListWillChange=function(t){var s=n._realDeviceId;n._setRealDeviceIdFromDeviceList(t),(void 0===n.getTrack().readyState&&void 0!==n._realDeviceId&&!t.find(function(t){return t.deviceId===n._realDeviceId})||void 0!==s&&void 0===n._realDeviceId)&&(n._trackEnded=!0)},n.isAudioTrack()&&C.default.isDeviceChangeAvailable('output')&&(n._onAudioOutputDeviceChanged=n.setAudioOutput.bind((0,u.default)(n)),C.default.addListener(p.default.AUDIO_OUTPUT_DEVICE_CHANGED,n._onAudioOutputDeviceChanged)),C.default.addListener(p.default.DEVICE_LIST_WILL_CHANGE,n._onDeviceListWillChange),n._initNoDataFromSourceHandlers(),n}return(0,c.default)(N,[{key:"isEnded",value:function(){return this.isVideoTrack()&&this.isMuted()?this._trackEnded:'ended'===this.getTrack().readyState||this._trackEnded}},{key:"_initNoDataFromSourceHandlers",value:function(){var t=this;this._isNoDataFromSourceEventsEnabled()&&(this._setHandler('track_mute',function(){t._trackMutedTS=window.performance.now(),t._fireNoDataFromSourceEvent()}),this._setHandler('track_unmute',function(){t._fireNoDataFromSourceEvent(),A.default.sendAnalyticsAndLog(I.TRACK_UNMUTED,{media_type:t.getType(),track_type:'local',value:window.performance.now()-t._trackMutedTS})}),this.isVideoTrack()&&this.videoType===D.default.CAMERA&&this._setHandler('track_ended',function(){t.isReceivingData()||t._fireNoDataFromSourceEvent()}))}},{key:"_isNoDataFromSourceEventsEnabled",value:function(){return!this.isVideoTrack()||this.videoType!==D.default.DESKTOP}},{key:"_fireNoDataFromSourceEvent",value:function(){var t=!this.isReceivingData();this.emit(k.NO_DATA_FROM_SOURCE,t),A.default.sendAnalytics((0,I.createNoDataFromSourceEvent)(this.getType(),t)),A.default.sendLog(JSON.stringify({name:k.NO_DATA_FROM_SOURCE,log:t}))}},{key:"_setRealDeviceIdFromDeviceList",value:function(t){var n=this.getTrack(),s=n.kind+"input",o=t.find(function(t){return t.kind===s&&t.label===n.label});if(!o&&'default'===this._realDeviceId){var c=(n.label||'').replace('Default - ','');o=t.find(function(t){return t.kind===s&&t.label===c})}this._realDeviceId=o?o.deviceId:void 0}},{key:"_setStream",value:function(t){(0,f.default)((0,_.default)(N.prototype),"_setStream",this).call(this,t),t?(this.storedMSID=this.getMSID(),R.debug("Setting new MSID: "+this.storedMSID+" on "+this)):R.debug("Setting 'null' stream on "+this)}},{key:"_startStreamEffect",value:function(t){this._streamEffect=t,this._originalStream=this.stream,this._setStream(this._streamEffect.startEffect(this._originalStream)),this.track=this.stream.getTracks()[0]}},{key:"_stopStreamEffect",value:function(){this._streamEffect&&(this._streamEffect.stopEffect(),this._setStream(this._originalStream),this._originalStream=null,this.track=this.stream.getTracks()[0])}},{key:"_switchStreamEffect",value:function(t){this._streamEffect&&(this._stopStreamEffect(),this._streamEffect=void 0),t&&this._startStreamEffect(t)}},{key:"setEffect",value:function(t){var n=this;if(void 0===this._streamEffect&&void 0===t)return Promise.resolve();if(void 0!==t&&!t.isEnabled(this))return Promise.reject(new Error('Incompatible effect instance!'));if(!0===this._setEffectInProgress)return Promise.reject(new Error('setEffect already in progress!'));if(this.isMuted()&&!this.isAudioTrack())return this._streamEffect=t,Promise.resolve();var s=this.conference;return s?(this._setEffectInProgress=!0,M.default.usesUnifiedPlan()?(this._switchStreamEffect(t),this.isVideoTrack()&&this.containers.forEach(function(t){return C.default.attachMediaStream(t,n.stream)}),s.replaceTrack(this,this).then(function(){n._setEffectInProgress=!1}).catch(function(t){throw n._setEffectInProgress=!1,n._switchStreamEffect(),R.error('Failed to switch to the new stream!',t),t})):s.removeTrack(this).then(function(){return n._switchStreamEffect(t),n.isVideoTrack()&&n.containers.forEach(function(t){return C.default.attachMediaStream(t,n.stream)}),s.addTrack(n)}).then(function(){n._setEffectInProgress=!1}).catch(function(t){throw n._setEffectInProgress=!1,n._switchStreamEffect(),R.error('Failed to switch to the new stream!',t),t})):(this._switchStreamEffect(t),Promise.resolve())}},{key:"mute",value:function(){return this._queueSetMuted(!0)}},{key:"unmute",value:function(){return this._queueSetMuted(!1)}},{key:"_queueSetMuted",value:function(t){var n=this._setMuted.bind(this,t);return this._prevSetMuted=this._prevSetMuted.then(n,n),this._prevSetMuted}},{key:"_setMuted",value:function(t){var n=this;if(this.isMuted()===t)return Promise.resolve();if(this.disposed)return Promise.reject(new E.default(S.TRACK_IS_DISPOSED));var o=Promise.resolve(),c=function(){return R.info("Mute "+n+": "+t)};if(this.isAudioTrack()||this.videoType===D.default.DESKTOP||!M.default.doesVideoMuteByStreamRemove())c(),this.track&&(this.track.enabled=!t);else if(t)o=new Promise(function(t,s){c(),n._removeStreamFromConferenceAsMute(function(){n._streamEffect&&n._stopStreamEffect(),n._unregisterHandlers(),n.stopStream(),n._setStream(null),t()},s)});else{c();var u={cameraDeviceId:this.getDeviceId(),devices:[T.VIDEO],effects:this._streamEffect?[this._streamEffect]:[],facingMode:this.getCameraFacingMode()};M.default.usesNewGumFlow()?o=C.default.newObtainAudioAndVideoPermissions((0,s.default)({},u,{constraints:{video:this._constraints}})):(this.resolution&&(u.resolution=this.resolution),o=C.default.obtainAudioAndVideoPermissions(u)),o=o.then(function(t){var s=n.getType()===T.PRESENTER?T.VIDEO:n.getType(),o=M.default.usesNewGumFlow()?t.find(function(t){return t.track.kind===s}):t.find(function(t){return t.mediaType===s});if(!o)throw new E.default(S.TRACK_NO_STREAM_FOUND);return n._setStream(o.stream),n.track=o.track,n.videoType!==o.videoType&&(R.warn(n+": video type has changed after unmute!",n.videoType,o.videoType),n.videoType=o.videoType),n._streamEffect&&n._startStreamEffect(n._streamEffect),n.containers.map(function(t){return C.default.attachMediaStream(t,n.stream)}),n._addStreamToConferenceAsUnmute()})}return o.then(function(){return n._sendMuteStatus(t)}).then(function(){return n.emit(k.TRACK_MUTE_CHANGED,n)})}},{key:"_addStreamToConferenceAsUnmute",value:function(){var t=this;return this.conference?new Promise(function(n,s){t.conference._addLocalTrackAsUnmute(t).then(n,function(t){return s(new Error(t))})}):Promise.resolve()}},{key:"_removeStreamFromConferenceAsMute",value:function(t,n){this.conference?this.conference._removeLocalTrackAsMute(this).then(t,function(t){return n(new Error(t))}):t()}},{key:"_sendMuteStatus",value:function(t){var n=this;return this.conference&&this.conference.room?new Promise(function(s){n.conference.room[n.isAudioTrack()?'setAudioMute':'setVideoMute'](t,s)}):Promise.resolve()}},{key:"dispose",value:function(){var t=this;this._switchStreamEffect();var n=Promise.resolve();return this.conference&&(n=this.conference.removeTrack(this)),this.stream&&(this.stopStream(),this.detach()),C.default.removeListener(p.default.DEVICE_LIST_WILL_CHANGE,this._onDeviceListWillChange),this._onAudioOutputDeviceChanged&&C.default.removeListener(p.default.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),n.then(function(){return(0,f.default)((0,_.default)(N.prototype),"dispose",t).call(t)})}},{key:"isMuted",value:function(){return!this.stream||(!(!this.isVideoTrack()||this.isActive())||(!this.track||!this.track.enabled))}},{key:"_setConference",value:function(t){this.conference=t;for(var n=0;n<this.containers.length;n++)this._maybeFireTrackAttached(this.containers[n])}},{key:"isLocal",value:function(){return!0}},{key:"getDeviceId",value:function(){return this._realDeviceId||this.deviceId}},{key:"getParticipantId",value:function(){return this.conference&&this.conference.myUserId()}},{key:"_onByteSentStatsReceived",value:function(t,n){var s=this;n>0&&(this._hasSentData=!0);var o=t.getConnectionState();this._testDataSent&&'connected'===o&&(setTimeout(function(){s._hasSentData||(R.warn(s+" 'bytes sent' <= 0:                         "+n),A.default.analytics.sendEvent(I.NO_BYTES_SENT,{media_type:s.getType()}))},3e3),this._testDataSent=!1)}},{key:"getCameraFacingMode",value:function(){if(this.isVideoTrack()&&this.videoType===D.default.CAMERA){var t;try{t=this.track.getSettings()}catch(t){}return t&&'facingMode'in t?t.facingMode:void 0!==this._facingMode?this._facingMode:y.default.USER}}},{key:"stopStream",value:function(){this._stopStreamInProgress=!0;try{C.default.stopMediaStream(this.stream)}finally{this._stopStreamInProgress=!1}}},{key:"_switchCamera",value:function(){this.isVideoTrack()&&this.videoType===D.default.CAMERA&&'function'==typeof this.track._switchCamera&&(this.track._switchCamera(),this._facingMode=this._facingMode===y.default.ENVIRONMENT?y.default.USER:y.default.ENVIRONMENT)}},{key:"isReceivingData",value:function(){return!(!this.isVideoTrack()||!this.isMuted()&&!this._stopStreamInProgress&&this.videoType!==D.default.DESKTOP)||!!this.stream&&(this._effectEnabled?this._originalStream:this.stream).getTracks().some(function(t){return!('readyState'in t&&'live'!==t.readyState||'muted'in t&&!0===t.muted)})}},{key:"toString",value:function(){return"LocalTrack["+this.rtcId+","+this.getType()+"]"}}]),N})(w.default);e.default=N},629,[12,1,16,29,30,43,37,40,42,39,432,532,533,567,630,557,561,562,534,536,531,631,632]);
__d(function(g,r,i,a,m,e,d){m.exports={ENVIRONMENT:'environment',USER:'user'}},630,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),u=n(r(d[3])),o=n(r(d[4])),c=n(r(d[5])),l=n(r(d[6])),h=n(r(d[7])),f=r(d[8]),v=t(r(d[9])),k=t(r(d[10])),y=n(r(d[11])),p=n(r(d[12]));function T(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=_(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function _(t,n){if(t){if("string"==typeof t)return A(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?A(t,n):void 0}}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,u=new Array(n);s<n;s++)u[s]=t[s];return u}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var I=(0,f.getLogger)(__filename),S={track_mute:'onmute',track_unmute:'onunmute',track_ended:'onended'},L=(function(t){(0,o.default)(_,t);var n,h,f=(n=_,h=b(),function(){var t,s=(0,l.default)(n);if(h){var u=(0,l.default)(this).constructor;t=Reflect.construct(s,arguments,u)}else t=s.apply(this,arguments);return(0,c.default)(this,t)});function _(t,n,u,o,c,l){var h;return(0,s.default)(this,_),(h=f.call(this)).addEventListener=h.addListener,h.removeEventListener=h.off=h.removeListener,h.containers=[],h.conference=t,h.audioLevel=-1,h.type=c,h.track=u,h.videoType=l,h.handlers=new Map,h.disposed=!1,h._streamInactiveHandler=o,h._setStream(n),h}return(0,u.default)(_,[{key:"_addMediaStreamInactiveHandler",value:function(t){y.default.isFirefox()?this.track.onended=t:this.stream.oninactive=t}},{key:"_setHandler",value:function(t,n){if(S.hasOwnProperty(t)){if(n?this.handlers.set(t,n):this.handlers.delete(t),this.stream)for(var s,u=T(this.stream.getTracks());!(s=u()).done;){s.value[S[t]]=n}}else I.error("Invalid handler type "+t)}},{key:"_unregisterHandlers",value:function(){if(this.stream){for(var t,n=T(this.handlers.keys());!(t=n()).done;)for(var s,u=t.value,o=T(this.stream.getVideoTracks());!(s=o()).done;){s.value[S[u]]=void 0}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(void 0)}else I.warn(this+": unable to unregister handlers - no stream object")}},{key:"_setStream",value:function(t){if(this.stream!==t&&(this.stream=t,this.stream)){for(var n,s=T(this.handlers.keys());!(n=s()).done;){var u=n.value;this._setHandler(u,this.handlers.get(u))}this._streamInactiveHandler&&this._addMediaStreamInactiveHandler(this._streamInactiveHandler)}}},{key:"getType",value:function(){return this.type}},{key:"isAudioTrack",value:function(){return this.getType()===k.AUDIO}},{key:"isWebRTCTrackMuted",value:function(){return this.track&&this.track.muted}},{key:"isVideoTrack",value:function(){return this.getType()===k.VIDEO}},{key:"isLocal",value:function(){throw new Error('Not implemented by subclass')}},{key:"isLocalAudioTrack",value:function(){return this.isAudioTrack()&&this.isLocal()}},{key:"getOriginalStream",value:function(){return this.stream}},{key:"getStreamId",value:function(){return this.stream?this.stream.id:null}},{key:"getTrack",value:function(){return this.track}},{key:"getTrackLabel",value:function(){return this.track.label}},{key:"getTrackId",value:function(){return this.track?this.track.id:null}},{key:"getUsageLabel",value:function(){return this.isAudioTrack()?'mic':this.videoType?this.videoType:'default'}},{key:"_maybeFireTrackAttached",value:function(t){this.conference&&t&&this.conference._onTrackAttach(this,t)}},{key:"attach",value:function(t){this.stream&&(this._onTrackAttach(t),p.default.attachMediaStream(t,this.stream)),this.containers.push(t),this._maybeFireTrackAttached(t),this._attachTTFMTracker(t)}},{key:"detach",value:function(t){for(var n=this.containers,s=n.length-1;s>=0;--s){var u=n[s];t||(this._onTrackDetach(u),p.default.attachMediaStream(u,null)),t&&u!==t||n.splice(s,1)}t&&(this._onTrackDetach(t),p.default.attachMediaStream(t,null))}},{key:"_onTrackAttach",value:function(t){}},{key:"_onTrackDetach",value:function(t){}},{key:"_attachTTFMTracker",value:function(t){}},{key:"dispose",value:function(){return this.removeAllListeners(),this.disposed=!0,Promise.resolve()}},{key:"isScreenSharing",value:function(){}},{key:"getId",value:function(){return this.stream?p.default.getStreamID(this.stream):null}},{key:"isActive",value:function(){return void 0===this.stream.active||this.stream.active}},{key:"setAudioLevel",value:function(t,n){var s=t;y.default.supportsReceiverStats()&&void 0!==n&&this.isMuted()&&(s=0),this.audioLevel!==s?(this.audioLevel=s,this.emit(v.TRACK_AUDIO_LEVEL_CHANGED,s,n)):0===this.audioLevel&&0===s&&this.isLocal()&&!this.isWebRTCTrackMuted()&&this.emit(v.NO_AUDIO_INPUT,s)}},{key:"getMSID",value:function(){var t=this.getStreamId(),n=this.getTrackId();return t&&n?t+" "+n:null}},{key:"setAudioOutput",value:function(t){var n=this;return p.default.isDeviceChangeAvailable('output')?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(n){return n.setSinkId(t).catch(function(t){throw I.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",n,t),t})})).then(function(){n.emit(v.TRACK_AUDIO_OUTPUT_CHANGED,t)}):Promise.reject(new Error('Audio output device change is not supported'))}}]),_})(h.default);e.default=L},631,[12,1,29,30,40,42,39,527,432,567,557,536,632]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(d[2])),s=o(r(d[3])),u=o(r(d[4])),c=o(r(d[5])),l=o(r(d[6])),f=o(r(d[7])),v=o(r(d[8])),p=r(d[9]),h=o(r(d[10])),k=o(r(d[11])),y=o(r(d[12])),S=t(r(d[13])),D=o(r(d[14])),w=o(r(d[15])),b=o(r(d[16])),C=r(d[17]),I=o(r(d[18])),A=o(r(d[19])),O=o(r(d[20])),T=o(r(d[21])),E=o(r(d[22])),_=o(r(d[23]));function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function M(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);o&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function R(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?M(Object(n),!0).forEach(function(o){(0,f.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var x=(0,p.getLogger)(__filename);I.default.usesAdapter()&&r(d[24]);var F,V,N=new v.default,U=['audio','video'],j={video:{height:{ideal:720,max:720,min:240}}},G=5,H='default',W=!1,L=!1,B=!1,J=!1,K=!1,z=!1,q=document.createElement('audio'),Q=void 0!==q.setSinkId;function X(){}function Y(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)return function(t){navigator.mediaDevices.enumerateDevices().then(function(o){re(o),t(o)},function(){re([]),t([])})}}function Z(t,o,n){w.default[n]&&(o&&(t.video.width={ideal:w.default[n].width},t.video.height={ideal:w.default[n].height}),t.video.mandatory.minWidth=w.default[n].width,t.video.mandatory.minHeight=w.default[n].height),t.video.mandatory.minWidth&&(t.video.mandatory.maxWidth=t.video.mandatory.minWidth),t.video.mandatory.minHeight&&(t.video.mandatory.maxHeight=t.video.mandatory.minHeight)}function $(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={audio:!1,video:!1},s=I.default.isFirefox()||I.default.isSafari()||I.default.isReactNative();if(t.indexOf('video')>=0){if(n.video={mandatory:{},optional:[]},o.cameraDeviceId)s&&(n.video.deviceId=o.cameraDeviceId),n.video.mandatory.sourceId=o.cameraDeviceId;else{var u=o.facingMode||y.default.USER;s&&(n.video.facingMode=u),n.video.optional.push({facingMode:u})}(o.minFps||o.maxFps||o.fps)&&((o.minFps||o.fps)&&(o.minFps=o.minFps||o.fps,n.video.mandatory.minFrameRate=o.minFps),o.maxFps&&(n.video.mandatory.maxFrameRate=o.maxFps)),Z(n,s,o.resolution)}if(t.indexOf('audio')>=0&&(I.default.isReactNative()?n.audio=!0:I.default.isFirefox()?o.micDeviceId?n.audio={mandatory:{},deviceId:o.micDeviceId,optional:[{sourceId:o.micDeviceId}]}:n.audio=!0:(n.audio={mandatory:{},optional:[]},o.micDeviceId&&(s&&(n.audio.deviceId=o.micDeviceId),n.audio.optional.push({sourceId:o.micDeviceId})),n.audio.optional.push({echoCancellation:!B&&!L},{googEchoCancellation:!B&&!L},{googAutoGainControl:!K&&!L},{googNoiseSuppression:!J&&!L},{googHighpassFilter:!z&&!L},{googNoiseSuppression2:!J&&!L},{googEchoCancellation2:!B&&!L},{googAutoGainControl2:!K&&!L}))),t.indexOf('screen')>=0)if(I.default.isChrome())n.video={mandatory:ie(R(R({},o),{},{source:'screen'})),optional:[]};else if(I.default.isFirefox())n.video={mozMediaSource:'window',mediaSource:'window',frameRate:o.frameRate||{min:G,max:G}};else{var c="'screen' WebRTC media source is supported only in Chrome and Firefox";O.default.callErrorHandler(new Error(c)),x.error(c)}return t.indexOf('desktop')>=0&&(n.video={mandatory:ie(R(R({},o),{},{source:'desktop'})),optional:[]},I.default.isElectron()&&o.screenShareAudio&&o.desktopStream.indexOf('screen')>=0&&(n.audio={mandatory:{chromeMediaSource:n.video.mandatory.chromeMediaSource}})),o.bandwidth&&(n.video||(n.video={mandatory:{},optional:[]}),n.video.optional.push({bandwidth:o.bandwidth})),I.default.isFirefox()&&o.firefox_fake_device&&(n.fake=!0),n}function ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,h.default)(o.constraints||j);if(t.indexOf('video')>=0)if(n.video||(n.video={}),I.default.isSafari()&&(n.video.height&&n.video.height.ideal?n.video.height={ideal:(0,h.default)(n.video.height.ideal)}:x.warn('Ideal camera height missing, camera may not start properly'),n.video.width&&n.video.width.ideal?n.video.width={ideal:(0,h.default)(n.video.width.ideal)}:x.warn('Ideal camera width missing, camera may not start properly')),o.cameraDeviceId)n.video.deviceId=o.cameraDeviceId;else{var s=o.facingMode||y.default.USER;n.video.facingMode=s}else n.video=!1;return t.indexOf('audio')>=0?(n.audio&&'boolean'!=typeof n.audio||(n.audio={}),I.default.isFirefox()||I.default.isSafari()?n.audio={deviceId:o.micDeviceId,autoGainControl:!K&&!L,echoCancellation:!B&&!L,noiseSuppression:!J&&!L}:(n.audio.optional||(n.audio.optional=[]),n.audio.optional.push({sourceId:o.micDeviceId},{echoCancellation:!B&&!L},{googEchoCancellation:!B&&!L},{googAutoGainControl:!K&&!L},{googNoiseSuppression:!J&&!L},{googHighpassFilter:!z&&!L},{googNoiseSuppression2:!J&&!L},{googEchoCancellation2:!B&&!L},{googAutoGainControl2:!K&&!L}))):n.audio=!1,t.indexOf('desktop')>=0&&(n.video&&'boolean'!=typeof n.video||(n.video={}),n.video={mandatory:ie(R(R({},o),{},{source:'desktop'}))}),n}function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.desktopStream,n=t.frameRate,s=void 0===n?{min:G,max:G}:n,u=s.max,c=s.min,l={chromeMediaSource:t.source,maxWidth:window.screen.width,maxHeight:window.screen.height};return'number'==typeof c&&(l.minFrameRate=c),'number'==typeof u&&(l.maxFrameRate=u),void 0!==o&&(l.chromeMediaSourceId=o),l}function te(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={frameRate:G},n=t.desktopSharingFrameRate;return n&&n.max&&(o.frameRate=n.max),o}function oe(t,o){var n=Boolean(o)&&o.getAudioTracks().length>0,s=Boolean(o)&&o.getVideoTracks().length>0,u={};-1!==t.indexOf('video')&&(u.video=s),-1!==t.indexOf('audio')&&(u.audio=n),N.emit(D.default.GRANTED_PERMISSIONS,u)}function ne(t){return t.length!==F.length||t.map(o).sort().join('')!==F.map(o).sort().join('');function o(t){return JSON.stringify({kind:t.kind,deviceId:t.deviceId,groupId:t.groupId,label:t.label,facing:t.facing})}}function ae(t){var o=t.filter(function(t){return'audioinput'===t.kind}).length,n=t.filter(function(t){return'audiooutput'===t.kind}).length,s=t.filter(function(t){return'videoinput'===t.kind}).length,u=t.filter(function(t){return'videooutput'===t.kind}).length;t.forEach(function(t){var c={audio_input_device_count:o,audio_output_device_count:n,video_input_device_count:s,video_output_device_count:u,device_id:t.deviceId,device_group_id:t.groupId,device_kind:t.kind,device_label:t.label};A.default.sendAnalytics(C.AVAILABLE_DEVICE,c)})}function re(t){ne(t)&&de(t)}function de(t){F=t.slice(0),x.info('list of media devices has changed:',F),ae(F),N.emit(D.default.DEVICE_LIST_WILL_CHANGE,F),N.emit(D.default.DEVICE_LIST_CHANGED,F)}function se(t,o){var n,s,u,c=[];if(t){var l=t.audioVideo;if(l){var f=l.getAudioTracks();if(f.length){n=new MediaStream;for(var v=0;v<f.length;v++)n.addTrack(f[v])}var p=l.getVideoTracks();if(p.length){u=new MediaStream;for(var h=0;h<p.length;h++)u.addTrack(p[h])}l.release&&l.release(!1)}else n=t.audio,u=t.video;s=t.desktop}if(s){var k=s,y=k.stream,D=k.sourceId,w=k.sourceType;c.push({stream:y,sourceId:D,sourceType:w,track:y.getVideoTracks()[0],mediaType:S.VIDEO,videoType:b.default.DESKTOP})}return n&&c.push({stream:n,track:n.getAudioTracks()[0],mediaType:S.AUDIO,videoType:null}),u&&c.push({stream:u,track:u.getVideoTracks()[0],mediaType:S.VIDEO,videoType:b.default.CAMERA,resolution:o}),c}var ue=new((function(t){(0,u.default)(p,t);var o,f,v=(o=p,f=P(),function(){var t,n=(0,l.default)(o);if(f){var s=(0,l.default)(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function p(){return(0,n.default)(this,p),v.call(this,N)}return(0,s.default)(p,[{key:"init",value:function(){var t,o=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('boolean'==typeof n.disableAEC&&(B=n.disableAEC,x.info("Disable AEC: "+B)),'boolean'==typeof n.disableNS&&(J=n.disableNS,x.info("Disable NS: "+J)),'boolean'==typeof n.disableAP&&(L=n.disableAP,x.info("Disable AP: "+L)),'boolean'==typeof n.disableAGC&&(K=n.disableAGC,x.info("Disable AGC: "+K)),'boolean'==typeof n.disableHPF&&(z=n.disableHPF,x.info("Disable HPF: "+z)),F=[],window.clearInterval(V),V=void 0,this.enumerateDevices=Y(),I.default.usesNewGumFlow())this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=(t=function(t,o){t&&(t.srcObject=o)},function(o,n){var s=t.apply(ue,arguments);return n&&ue.isDeviceChangeAvailable('output')&&n.getAudioTracks&&n.getAudioTracks().length&&W&&o.setSinkId(ue.getAudioOutputDevice()).catch(function(t){var n=new k.default(t,null,['audiooutput']);O.default.callUnhandledRejectionHandler({promise:this,reason:n}),x.warn("Failed to set audio output device for the element. Default audio output device will be used instead",o,n)}),s}),this.getStreamID=function(t){return t.id},this.getTrackID=function(t){return t.id};else{if(!I.default.isReactNative()){var s='Endpoint does not appear to be WebRTC-capable';throw x.error(s),new Error(s)}this.RTCPeerConnectionType=RTCPeerConnection,this.attachMediaStream=void 0,this.getStreamID=function(t){var o=t.id;return'number'==typeof o?o:E.default.filterSpecialChars(o)},this.getTrackID=function(t){return t.id}}this._initPCConstraints(),_.default.init(n,this.getUserMediaWithConstraints.bind(this)),this.isDeviceListAvailable()&&this.enumerateDevices(function(t){F=t.slice(0),x.debug('Available devices: ',F),ae(F),N.emit(D.default.DEVICE_LIST_AVAILABLE,F),I.default.supportsDeviceChangeEvent()?navigator.mediaDevices.addEventListener('devicechange',function(){return o.enumerateDevices(X)}):V=window.setInterval(function(){return o.enumerateDevices(X)},3e3)})}},{key:"_initPCConstraints",value:function(){I.default.isFirefox()?this.pcConstraints={}:(I.default.isChromiumBased()||I.default.isReactNative())&&(this.pcConstraints={optional:[{googHighStartBitrate:0},{googPayloadPadding:!0},{googScreencastMinBitrate:100},{googCpuOveruseDetection:!0},{googCpuOveruseEncodeUsage:!0},{googCpuUnderuseThreshold:55},{googCpuOveruseThreshold:85}]},this.p2pPcConstraints=JSON.parse(JSON.stringify(this.pcConstraints))),this.p2pPcConstraints=this.p2pPcConstraints||this.pcConstraints}},{key:"getUserMediaWithConstraints",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$(t,o);return x.info('Get media constraints',JSON.stringify(n)),new Promise(function(o,s){navigator.mediaDevices.getUserMedia(n).then(function(n){x.log('onUserMediaSuccess'),oe(t,n),o(n)}).catch(function(o){x.warn("Failed to get access to local media. "+o+" "+JSON.stringify(n)),oe(t,void 0),s(new k.default(o,n,t))})})}},{key:"_newGetUserMediaWithConstraints",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,s){navigator.mediaDevices.getUserMedia(o).then(function(o){x.log('onUserMediaSuccess'),oe(t,o),n(o)}).catch(function(n){x.warn("Failed to get access to local media. "+n+" "+JSON.stringify(o)),oe(t,void 0),s(new k.default(n,o,t))})})}},{key:"_newGetDesktopMedia",value:function(t){var o=this;return _.default.isSupported()?new Promise(function(n,s){_.default.obtainStream(o._parseDesktopSharingOptions(t),function(t){n(t)},function(t){s(t)})}):Promise.reject(new Error('Desktop sharing is not supported!'))}},{key:"obtainAudioAndVideoPermissions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.devices=t.devices||[].concat(U),t.resolution=t.resolution||720,t.devices.includes('desktop')&&!_.default.isSupported()?Promise.reject(new Error('Desktop sharing is not supported!')):this._getAudioAndVideoStreams(t).then(function(o){return se(o,t.resolution)})}},{key:"_getAudioAndVideoStreams",value:function(t){var o=this,n=t.devices.includes('desktop');return t.devices=t.devices.filter(function(t){return'desktop'!==t}),(t.devices.length?this.getUserMediaWithConstraints(t.devices,t):Promise.resolve(null)).then(function(n){var s=o._getMissingTracks(t.devices,n);return s.length?(o.stopMediaStream(n),o.getUserMediaWithConstraints(s,t).then(function(){return Promise.reject(new k.default({name:'UnknownError'},$(t.devices,t),s))})):n}).then(function(s){if(!n)return{audioVideo:s};if(t.desktopSharingSourceDevice)throw o.stopMediaStream(s),new Error("Using a camera as screenshare source isnot supported on this browser.");return new Promise(function(n,u){_.default.obtainStream(o._parseDesktopSharingOptions(t),function(t){return n({audioVideo:s,desktop:t})},function(t){s&&o.stopMediaStream(s),u(t)})})})}},{key:"_getMissingTracks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,n=[],s=t.includes('audio'),u=o&&o.getAudioTracks().length>0;s&&!u&&n.push('audio');var c=t.includes('video'),l=o&&o.getVideoTracks().length>0;return c&&!l&&n.push('video'),n}},{key:"_parseDesktopSharingOptions",value:function(t){return{desktopSharingSources:t.desktopSharingSources,gumOptions:{frameRate:t.desktopSharingFrameRate},trackOptions:te(t)}}},{key:"newObtainAudioAndVideoPermissions",value:function(t){var o=this;x.info('Using the new gUM flow');var n=[],s=function(){if(!(-1!==(t.devices||[]).indexOf('desktop')))return Promise.resolve();var o=t.desktopSharingSourceDevice,n=t.desktopSharingSources,s=t.desktopSharingFrameRate;if(o){var u=F&&F.find(function(t){return'videoinput'===t.kind&&(t.deviceId===o||t.label===o)});if(!u)return Promise.reject(new k.default({name:'ConstraintNotSatisfiedError'},{},[o]));var c=this._parseDesktopSharingOptions(t),l=c.gumOptions,f=c.trackOptions,v={video:R(R({},l),{},{deviceId:u.deviceId})};return this._newGetUserMediaWithConstraints(['video'],v).then(function(t){var o=t&&t.getTracks()[0];return(o&&o.applyConstraints?o.applyConstraints(f):Promise.resolve()).then(function(){return{sourceType:'device',stream:t}})})}return this._newGetDesktopMedia({desktopSharingSources:n,desktopSharingFrameRate:s})}.bind(this),u=function(){var o=(t.devices||['audio','video']).filter(function(t){return'audio'===t||'video'===t});if(!o.length)return Promise.resolve();var n=ee(o,t);return x.info('Got media constraints: ',JSON.stringify(n)),this._newGetUserMediaWithConstraints(o,n)}.bind(this);return s().then(function(t){if(t){var o=t.stream,s=t.sourceId,u=t.sourceType,c=o.getAudioTracks();if(c.length){var l=new MediaStream(c);n.push({stream:l,sourceId:s,sourceType:u,track:l.getAudioTracks()[0]})}var f=o.getVideoTracks();if(f.length){var v=new MediaStream(f);n.push({stream:v,sourceId:s,sourceType:u,track:v.getVideoTracks()[0],videoType:b.default.DESKTOP})}}}).then(u).then(function(o){if(o){var s=o.getAudioTracks();if(s.length){var u=new MediaStream(s);n.push({stream:u,track:u.getAudioTracks()[0],effects:t.effects})}var c=o.getVideoTracks();if(c.length){var l=new MediaStream(c);n.push({stream:l,track:l.getVideoTracks()[0],videoType:b.default.CAMERA,effects:t.effects})}}}).then(function(){return n}).catch(function(t){return n.forEach(function(t){var n=t.stream;o.stopMediaStream(n)}),Promise.reject(t)})}},{key:"isDeviceListAvailable",value:function(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}},{key:"isDeviceChangeAvailable",value:function(t){return'output'!==t&&'audiooutput'!==t||Q}},{key:"stopMediaStream",value:function(t){t&&(t.getTracks().forEach(function(t){t.stop&&t.stop()}),t.stop&&t.stop(),t.release&&t.release())}},{key:"isDesktopSharingEnabled",value:function(){return _.default.isSupported()}},{key:"setAudioOutputDevice",value:function(t){return this.isDeviceChangeAvailable('output')?q.setSinkId(t).then(function(){H=t,W=!0,x.log("Audio output device set to "+t),N.emit(D.default.AUDIO_OUTPUT_DEVICE_CHANGED,t)}):Promise.reject(new Error('Audio output device change is not supported'))}},{key:"getAudioOutputDevice",value:function(){return H}},{key:"getCurrentlyAvailableMediaDevices",value:function(){return F}},{key:"getEventDataForActiveDevice",value:function(t){var o=[],n={deviceId:t.deviceId,kind:t.kind,label:t.label,groupId:t.groupId};return o.push(n),{deviceList:o}}},{key:"setSuspendVideo",value:function(t,o){t.optional||(t.optional=[]),t.optional=t.optional.filter(function(t){return!t.hasOwnProperty('googSuspendBelowMinBitrate')}),o&&t.optional.push({googSuspendBelowMinBitrate:'true'})}}]),p})(T.default));var ce=ue;e.default=ce},632,[12,1,29,30,40,42,39,51,527,432,633,532,630,557,561,634,562,534,536,531,552,569,617,635,636]);
__d(function(g,r,i,a,m,e,d){var t='__lodash_hash_undefined__',n=9007199254740991,o='[object Arguments]',c='[object Boolean]',u='[object Date]',f='[object Function]',s='[object GeneratorFunction]',l='[object Map]',_='[object Number]',p='[object Object]',h='[object RegExp]',y='[object Set]',v='[object String]',b='[object Symbol]',j='[object ArrayBuffer]',w='[object DataView]',O='[object Float32Array]',A='[object Float64Array]',x='[object Int8Array]',S='[object Int16Array]',P='[object Int32Array]',$='[object Uint8Array]',k='[object Uint8ClampedArray]',E='[object Uint16Array]',I='[object Uint32Array]',F=/\w*$/,M=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,U={};U[o]=U['[object Array]']=U[j]=U[w]=U[c]=U[u]=U[O]=U[A]=U[x]=U[S]=U[P]=U[l]=U[_]=U[p]=U[h]=U[y]=U[v]=U[b]=U[$]=U[k]=U[E]=U[I]=!0,U['[object Error]']=U[f]=U["[object WeakMap]"]=!1;var W='object'==typeof g&&g&&g.Object===Object&&g,D='object'==typeof self&&self&&self.Object===Object&&self,R=W||D||Function('return this')(),T='object'==typeof e&&e&&!e.nodeType&&e,z=T&&'object'==typeof m&&m&&!m.nodeType&&m,C=z&&z.exports===T;function L(t,n){return t.set(n[0],n[1]),t}function V(t,n){return t.add(n),t}function G(t,n){for(var o=-1,c=t?t.length:0;++o<c&&!1!==n(t[o],o,t););return t}function N(t,n){for(var o=-1,c=n.length,u=t.length;++o<c;)t[u+o]=n[o];return t}function q(t,n,o,c){var u=-1,f=t?t.length:0;for(c&&f&&(o=t[++u]);++u<f;)o=n(o,t[u],u,t);return o}function H(t,n){for(var o=-1,c=Array(t);++o<t;)c[o]=n(o);return c}function J(t,n){return null==t?void 0:t[n]}function K(t){var n=!1;if(null!=t&&'function'!=typeof t.toString)try{n=!!(t+'')}catch(t){}return n}function Q(t){var n=-1,o=Array(t.size);return t.forEach(function(t,c){o[++n]=[c,t]}),o}function X(t,n){return function(o){return t(n(o))}}function Y(t){var n=-1,o=Array(t.size);return t.forEach(function(t){o[++n]=t}),o}var Z,tt=Array.prototype,rt=Function.prototype,et=Object.prototype,nt=R['__core-js_shared__'],ot=(Z=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||''))?'Symbol(src)_1.'+Z:'',ct=rt.toString,ut=et.hasOwnProperty,at=et.toString,it=RegExp('^'+ct.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),ft=C?R.Buffer:void 0,st=R.Symbol,lt=R.Uint8Array,_t=X(Object.getPrototypeOf,Object),pt=Object.create,ht=et.propertyIsEnumerable,yt=tt.splice,vt=Object.getOwnPropertySymbols,bt=ft?ft.isBuffer:void 0,dt=X(Object.keys,Object),jt=rr(R,'DataView'),gt=rr(R,'Map'),wt=rr(R,'Promise'),Ot=rr(R,'Set'),At=rr(R,'WeakMap'),mt=rr(Object,'create'),xt=fr(jt),St=fr(gt),Pt=fr(wt),$t=fr(Ot),kt=fr(At),Et=st?st.prototype:void 0,It=Et?Et.valueOf:void 0;function Ft(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Mt(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Bt(t){var n=-1,o=t?t.length:0;for(this.clear();++n<o;){var c=t[n];this.set(c[0],c[1])}}function Ut(t){this.__data__=new Mt(t)}function Wt(t,n){var o=_r(t)||lr(t)?H(t.length,String):[],c=o.length,u=!!c;for(var f in t)!n&&!ut.call(t,f)||u&&('length'==f||ar(f,c))||o.push(f);return o}function Dt(t,n,o){var c=t[n];ut.call(t,n)&&sr(c,o)&&(void 0!==o||n in t)||(t[n]=o)}function Rt(t,n){for(var o=t.length;o--;)if(sr(t[o][0],n))return o;return-1}function Tt(t,n){return t&&Xt(n,gr(n),t)}function zt(t,n,c,u,l,_,h){var y;if(u&&(y=_?u(t,l,_,h):u(t)),void 0!==y)return y;if(!dr(t))return t;var v=_r(t);if(v){if(y=or(t),!n)return Qt(t,y)}else{var b=nr(t),j=b==f||b==s;if(yr(t))return Gt(t,n);if(b==p||b==o||j&&!_){if(K(t))return _?t:{};if(y=cr(j?{}:t),!n)return Yt(t,Tt(y,t))}else{if(!U[b])return _?t:{};y=ur(t,b,zt,n)}}h||(h=new Ut);var w=h.get(t);if(w)return w;if(h.set(t,y),!v)var O=c?Zt(t):gr(t);return G(O||t,function(o,f){O&&(o=t[f=o]),Dt(y,f,zt(o,n,c,u,f,t,h))}),y}function Ct(t,n,o){var c=n(t);return _r(t)?c:N(c,o(t))}function Lt(t){return!(!dr(t)||ot&&ot in t)&&(vr(t)||K(t)?it:M).test(fr(t))}function Vt(t){if(!ir(t))return dt(t);var n=[];for(var o in Object(t))ut.call(t,o)&&'constructor'!=o&&n.push(o);return n}function Gt(t,n){if(n)return t.slice();var o=new t.constructor(t.length);return t.copy(o),o}function Nt(t){var n=new t.constructor(t.byteLength);return new lt(n).set(new lt(t)),n}function qt(t,n){var o=n?Nt(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function Ht(t,n,o){return q(n?o(Q(t),!0):Q(t),L,new t.constructor)}function Jt(t,n,o){return q(n?o(Y(t),!0):Y(t),V,new t.constructor)}function Kt(t,n){var o=n?Nt(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Qt(t,n){var o=-1,c=t.length;for(n||(n=Array(c));++o<c;)n[o]=t[o];return n}function Xt(t,n,o,c){o||(o={});for(var u=-1,f=n.length;++u<f;){var s=n[u],l=c?c(o[s],t[s],s,o,t):void 0;Dt(o,s,void 0===l?t[s]:l)}return o}function Yt(t,n){return Xt(t,er(t),n)}function Zt(t){return Ct(t,gr,er)}function tr(t,n){var o,c,u=t.__data__;return('string'==(c=typeof(o=n))||'number'==c||'symbol'==c||'boolean'==c?'__proto__'!==o:null===o)?u['string'==typeof n?'string':'hash']:u.map}function rr(t,n){var o=J(t,n);return Lt(o)?o:void 0}Ft.prototype.clear=function(){this.__data__=mt?mt(null):{}},Ft.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ft.prototype.get=function(n){var o=this.__data__;if(mt){var c=o[n];return c===t?void 0:c}return ut.call(o,n)?o[n]:void 0},Ft.prototype.has=function(t){var n=this.__data__;return mt?void 0!==n[t]:ut.call(n,t)},Ft.prototype.set=function(n,o){return this.__data__[n]=mt&&void 0===o?t:o,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var n=this.__data__,o=Rt(n,t);return!(o<0||(o==n.length-1?n.pop():yt.call(n,o,1),0))},Mt.prototype.get=function(t){var n=this.__data__,o=Rt(n,t);return o<0?void 0:n[o][1]},Mt.prototype.has=function(t){return Rt(this.__data__,t)>-1},Mt.prototype.set=function(t,n){var o=this.__data__,c=Rt(o,t);return c<0?o.push([t,n]):o[c][1]=n,this},Bt.prototype.clear=function(){this.__data__={hash:new Ft,map:new(gt||Mt),string:new Ft}},Bt.prototype.delete=function(t){return tr(this,t).delete(t)},Bt.prototype.get=function(t){return tr(this,t).get(t)},Bt.prototype.has=function(t){return tr(this,t).has(t)},Bt.prototype.set=function(t,n){return tr(this,t).set(t,n),this},Ut.prototype.clear=function(){this.__data__=new Mt},Ut.prototype.delete=function(t){return this.__data__.delete(t)},Ut.prototype.get=function(t){return this.__data__.get(t)},Ut.prototype.has=function(t){return this.__data__.has(t)},Ut.prototype.set=function(t,n){var o=this.__data__;if(o instanceof Mt){var c=o.__data__;if(!gt||c.length<199)return c.push([t,n]),this;o=this.__data__=new Bt(c)}return o.set(t,n),this};var er=vt?X(vt,Object):function(){return[]},nr=function(t){return at.call(t)};function or(t){var n=t.length,o=t.constructor(n);return n&&'string'==typeof t[0]&&ut.call(t,'index')&&(o.index=t.index,o.input=t.input),o}function cr(t){return'function'!=typeof t.constructor||ir(t)?{}:dr(n=_t(t))?pt(n):{};var n}function ur(t,n,o,f){var s,p,M,B=t.constructor;switch(n){case j:return Nt(t);case c:case u:return new B(+t);case w:return qt(t,f);case O:case A:case x:case S:case P:case $:case k:case E:case I:return Kt(t,f);case l:return Ht(t,f,o);case _:case v:return new B(t);case h:return(M=new(p=t).constructor(p.source,F.exec(p))).lastIndex=p.lastIndex,M;case y:return Jt(t,f,o);case b:return s=t,It?Object(It.call(s)):{}}}function ar(t,o){return!!(o=null==o?n:o)&&('number'==typeof t||B.test(t))&&t>-1&&t%1==0&&t<o}function ir(t){var n=t&&t.constructor;return t===('function'==typeof n&&n.prototype||et)}function fr(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+''}catch(t){}}return''}function sr(t,n){return t===n||t!=t&&n!=n}function lr(t){return hr(t)&&ut.call(t,'callee')&&(!ht.call(t,'callee')||at.call(t)==o)}(jt&&nr(new jt(new ArrayBuffer(1)))!=w||gt&&nr(new gt)!=l||wt&&"[object Promise]"!=nr(wt.resolve())||Ot&&nr(new Ot)!=y||At&&"[object WeakMap]"!=nr(new At))&&(nr=function(t){var n=at.call(t),o=n==p?t.constructor:void 0,c=o?fr(o):void 0;if(c)switch(c){case xt:return w;case St:return l;case Pt:return"[object Promise]";case $t:return y;case kt:return"[object WeakMap]"}return n});var _r=Array.isArray;function pr(t){return null!=t&&br(t.length)&&!vr(t)}function hr(t){return jr(t)&&pr(t)}var yr=bt||function(){return!1};function vr(t){var n=dr(t)?at.call(t):'';return n==f||n==s}function br(t){return'number'==typeof t&&t>-1&&t%1==0&&t<=n}function dr(t){var n=typeof t;return!!t&&('object'==n||'function'==n)}function jr(t){return!!t&&'object'==typeof t}function gr(t){return pr(t)?Wt(t):Vt(t)}m.exports=function(t){return zt(t,!0,!0)}},633,[]);
__d(function(g,r,i,a,m,e,d){m.exports={1080:{width:1920,height:1080,order:8},fullhd:{width:1920,height:1080,order:8},720:{width:1280,height:720,order:7},hd:{width:1280,height:720,order:7},960:{width:960,height:720,order:6},540:{width:960,height:540,order:5},qhd:{width:960,height:540,order:5},360:{width:640,height:360,order:4},640:{width:640,height:480,order:3},vga:{width:640,height:480,order:3},180:{width:320,height:180,order:2},320:{width:320,height:240,order:1}}},634,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=t(r(d[4])),u=n(r(d[5]));function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function p(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?l(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var f=r(d[6]).getLogger(__filename),S=null;function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{response:{},gumOptions:{}},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,u=t.response||{},l=u.streamId,f=u.streamType,v=u.screenShareAudio,E=u.error;if(l){var O=p({desktopStream:l,screenShareAudio:v},t.gumOptions);S(['desktop'],O).then(function(t){return n({stream:t,sourceId:l,sourceType:f})},o)}else{if(''===l)return void o(new s.default(c.SCREENSHARING_USER_CANCELED));o(new s.default(c.SCREENSHARING_GENERIC_ERROR,E))}}var E={obtainStream:null,init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.options=t,S=n,this.obtainStream=this._createObtainStreamMethod(),this.obtainStream||f.info('Desktop sharing disabled')},_createObtainStreamMethod:function(){return u.default.isNWJS()?function(t,n,o){window.JitsiMeetNW.obtainDesktopStream(n,function(t,n){var u;u=t&&'InvalidStateError'===t.name?new s.default(c.SCREENSHARING_USER_CANCELED):new s.default(t,n,['desktop']),'function'==typeof o&&o(u)})}:u.default.isElectron()?this.obtainScreenOnElectron:u.default.isReactNative()&&u.default.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMediaRN:u.default.supportsGetDisplayMedia()?this.obtainScreenFromGetDisplayMedia:(f.log('Screen sharing not supported on ',u.default.getName()),null)},isSupported:function(){return null!==this.obtainStream},obtainScreenOnElectron:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(window.JitsiMeetScreenObtainer&&window.JitsiMeetScreenObtainer.openDesktopPicker){var u=t.desktopSharingSources,l=t.gumOptions;window.JitsiMeetScreenObtainer.openDesktopPicker({desktopSharingSources:u||['screen','window']},function(t,s){return v({response:{streamId:t,streamType:s,screenShareAudio:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},gumOptions:l},n,o)},function(t){return o(new s.default(c.ELECTRON_DESKTOP_PICKER_ERROR,t))})}else o(new s.default(c.ELECTRON_DESKTOP_PICKER_NOT_FOUND))},obtainScreenFromGetDisplayMedia:function(t,n,o){f.info('Using getDisplayMedia for screen sharing'),(navigator.getDisplayMedia?navigator.getDisplayMedia.bind(navigator):navigator.mediaDevices.getDisplayMedia.bind(navigator.mediaDevices))({video:!0,audio:!0,cursor:'always'}).then(function(o){var s;if(o&&o.getTracks()&&o.getTracks().length>0){var c=o.getVideoTracks()[0];c&&(s=c.applyConstraints(t.trackOptions))}else s=Promise.resolve();s.then(function(){return n({stream:o,sourceId:o.id})})}).catch(function(t){var n={errorName:t&&t.name,errorMsg:t&&t.message,errorStack:t&&t.stack};f.error('getDisplayMedia error',n),n.errorMsg&&-1!==n.errorMsg.indexOf('denied by system')?o(new s.default(c.PERMISSION_DENIED)):o(new s.default(c.SCREENSHARING_USER_CANCELED))})},obtainScreenFromGetDisplayMediaRN:function(t,n,o){f.info('Using getDisplayMedia for screen sharing'),navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(t){n({stream:t,sourceId:t.id})}).catch(function(){o(new s.default(c.SCREENSHARING_USER_CANCELED))})}};e.default=E},635,[12,1,51,532,533,536,432]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t=(0,r(d[0]).adapterFactory)({window:window});e.default=t},636,[637]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.adapterFactory=function(){var l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},S=s.log,C=s.detectBrowser(l),p={browserDetails:C,commonShim:c,extractVersion:s.extractVersion,disableLog:s.disableLog,disableWarnings:s.disableWarnings};switch(C.browser){case'chrome':if(!t||!t.shimPeerConnection||!f.shimChrome)return S('Chrome shim is not included in this adapter release.'),p;S('adapter.js shimming chrome.'),p.browserShim=t,t.shimGetUserMedia(l),t.shimMediaStream(l),t.shimPeerConnection(l),t.shimOnTrack(l),t.shimAddTrackRemoveTrack(l),t.shimGetSendersWithDtmf(l),t.shimGetStats(l),t.shimSenderReceiverGetStats(l),t.fixNegotiationNeeded(l),c.shimRTCIceCandidate(l),c.shimConnectionState(l),c.shimMaxMessageSize(l),c.shimSendThrowTypeError(l),c.removeAllowExtmapMixed(l);break;case'firefox':if(!h||!h.shimPeerConnection||!f.shimFirefox)return S('Firefox shim is not included in this adapter release.'),p;S('adapter.js shimming firefox.'),p.browserShim=h,h.shimGetUserMedia(l),h.shimPeerConnection(l),h.shimOnTrack(l),h.shimRemoveStream(l),h.shimSenderGetStats(l),h.shimReceiverGetStats(l),h.shimRTCDataChannel(l),h.shimAddTransceiver(l),h.shimCreateOffer(l),h.shimCreateAnswer(l),c.shimRTCIceCandidate(l),c.shimConnectionState(l),c.shimMaxMessageSize(l),c.shimSendThrowTypeError(l);break;case'edge':if(!n||!n.shimPeerConnection||!f.shimEdge)return S('MS edge shim is not included in this adapter release.'),p;S('adapter.js shimming edge.'),p.browserShim=n,n.shimGetUserMedia(l),n.shimGetDisplayMedia(l),n.shimPeerConnection(l),n.shimReplaceTrack(l),c.shimMaxMessageSize(l),c.shimSendThrowTypeError(l);break;case'safari':if(!o||!f.shimSafari)return S('Safari shim is not included in this adapter release.'),p;S('adapter.js shimming safari.'),p.browserShim=o,o.shimRTCIceServerUrls(l),o.shimCreateOfferLegacy(l),o.shimCallbacksAPI(l),o.shimLocalStreamsAPI(l),o.shimRemoteStreamsAPI(l),o.shimTrackEventTransceiver(l),o.shimGetUserMedia(l),c.shimRTCIceCandidate(l),c.shimMaxMessageSize(l),c.shimSendThrowTypeError(l),c.removeAllowExtmapMixed(l);break;default:S('Unsupported browser!')}return p};var s=l(r(d[0])),t=l(r(d[1])),n=l(r(d[2])),h=l(r(d[3])),o=l(r(d[4])),c=l(r(d[5]));function l(s){if(s&&s.__esModule)return s;var t={};if(null!=s)for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);return t.default=s,t}},637,[638,639,642,648,651,652]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}e.extractVersion=c,e.wrapPeerConnectionEvent=function(t,n,o){if(!t.RTCPeerConnection)return;var s=t.RTCPeerConnection.prototype,u=s.addEventListener;s.addEventListener=function(t,s){if(t!==n)return u.apply(this,arguments);var c=function(t){var n=o(t);n&&s(n)};return this._eventMap=this._eventMap||{},this._eventMap[s]=c,u.apply(this,[t,c])};var c=s.removeEventListener;s.removeEventListener=function(t,o){if(t!==n||!this._eventMap||!this._eventMap[o])return c.apply(this,arguments);var s=this._eventMap[o];return delete this._eventMap[o],c.apply(this,[t,s])},Object.defineProperty(s,'on'+n,{get:function(){return this['_on'+n]},set:function(t){this['_on'+n]&&(this.removeEventListener(n,this['_on'+n]),delete this['_on'+n]),t&&this.addEventListener(n,this['_on'+n]=t)},enumerable:!0,configurable:!0})},e.disableLog=function(t){if('boolean'!=typeof t)return new Error('Argument type: '+(void 0===t?'undefined':n(t))+'. Please use a boolean.');return s=t,t?'adapter.js logging disabled':'adapter.js logging enabled'},e.disableWarnings=function(t){if('boolean'!=typeof t)return new Error('Argument type: '+(void 0===t?'undefined':n(t))+'. Please use a boolean.');return u=!t,'adapter.js deprecation warnings '+(t?'disabled':'enabled')},e.log=function(){if('object'===('undefined'==typeof window?'undefined':n(window))){if(s)return;'undefined'!=typeof console&&'function'==typeof console.log&&console.log.apply(console,arguments)}},e.deprecated=function(t,n){if(!u)return;console.warn(t+' is deprecated, please use '+n+' instead.')},e.detectBrowser=function(t){var n=t.navigator,o={browser:null,version:null};if(void 0===t||!t.navigator)return o.browser='Not a browser.',o;if(n.mozGetUserMedia)o.browser='firefox',o.version=c(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)o.browser='chrome',o.version=c(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))o.browser='edge',o.version=c(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return o.browser='Not a supported browser.',o;o.browser='safari',o.version=c(n.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=t.RTCRtpTransceiver&&'currentDirection'in t.RTCRtpTransceiver.prototype}return o},e.compactObject=function n(s){if(!f(s))return s;return Object.keys(s).reduce(function(u,c){var p=f(s[c]),l=p?n(s[c]):s[c],b=p&&!Object.keys(l).length;return void 0===l||b?u:t(u,o({},c,l))},{})},e.walkStats=p,e.filterStats=function(t,n,o){var s=o?'outbound-rtp':'inbound-rtp',u=new Map;if(null===n)return u;var c=[];return t.forEach(function(t){'track'===t.type&&t.trackIdentifier===n.id&&c.push(t)}),c.forEach(function(n){t.forEach(function(o){o.type===s&&o.trackId===n.id&&p(t,o,u)})}),u};var s=!0,u=!0;function c(t,n,o){var s=t.match(n);return s&&s.length>=o&&parseInt(s[o],10)}function f(t){return'[object Object]'===Object.prototype.toString.call(t)}function p(t,n,o){n&&!o.has(n.id)&&(o.set(n.id,n),Object.keys(n).forEach(function(s){s.endsWith('Id')?p(t,t.get(n[s]),o):s.endsWith('Ids')&&n[s].forEach(function(n){p(t,t.get(n),o)})}))}},638,[16]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=e.shimGetUserMedia=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=r(d[0]);Object.defineProperty(e,'shimGetUserMedia',{enumerable:!0,get:function(){return n.shimGetUserMedia}});var o=r(d[1]);Object.defineProperty(e,'shimGetDisplayMedia',{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),e.shimMediaStream=function(t){t.MediaStream=t.MediaStream||t.webkitMediaStream},e.shimOnTrack=function(n){if('object'!==(void 0===n?'undefined':t(n))||!n.RTCPeerConnection||'ontrack'in n.RTCPeerConnection.prototype)s.wrapPeerConnectionEvent(n,'track',function(t){return t.transceiver||Object.defineProperty(t,'transceiver',{value:{receiver:t.receiver}}),t});else{Object.defineProperty(n.RTCPeerConnection.prototype,'ontrack',{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener('track',this._ontrack),this.addEventListener('track',this._ontrack=t)},enumerable:!0,configurable:!0});var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._ontrackpoly||(this._ontrackpoly=function(o){o.stream.addEventListener('addtrack',function(s){var c=void 0;c=n.RTCPeerConnection.prototype.getReceivers?t.getReceivers().find(function(t){return t.track&&t.track.id===s.track.id}):{track:s.track};var p=new Event('track');p.track=s.track,p.receiver=c,p.transceiver={receiver:c},p.streams=[o.stream],t.dispatchEvent(p)}),o.stream.getTracks().forEach(function(s){var c=void 0;c=n.RTCPeerConnection.prototype.getReceivers?t.getReceivers().find(function(t){return t.track&&t.track.id===s.id}):{track:s};var p=new Event('track');p.track=s,p.receiver=c,p.transceiver={receiver:c},p.streams=[o.stream],t.dispatchEvent(p)})},this.addEventListener('addstream',this._ontrackpoly)),o.apply(this,arguments)}}},e.shimGetSendersWithDtmf=function(n){if('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&!('getSenders'in n.RTCPeerConnection.prototype)&&'createDTMFSender'in n.RTCPeerConnection.prototype){var o=function(t,n){return{track:n,get dtmf(){return void 0===this._dtmf&&('audio'===n.kind?this._dtmf=t.createDTMFSender(n):this._dtmf=null),this._dtmf},_pc:t}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var s=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(t,n){var c=s.apply(this,arguments);return c||(c=o(this,t),this._senders.push(c)),c};var c=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(t){c.apply(this,arguments);var n=this._senders.indexOf(t);-1!==n&&this._senders.splice(n,1)}}var p=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._senders=this._senders||[],p.apply(this,[t]),t.getTracks().forEach(function(t){n._senders.push(o(n,t))})};var h=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(t){var n=this;this._senders=this._senders||[],h.apply(this,[t]),t.getTracks().forEach(function(t){var o=n._senders.find(function(n){return n.track===t});o&&n._senders.splice(n._senders.indexOf(o),1)})}}else if('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&'getSenders'in n.RTCPeerConnection.prototype&&'createDTMFSender'in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!('dtmf'in n.RTCRtpSender.prototype)){var f=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=f.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n},Object.defineProperty(n.RTCRtpSender.prototype,'dtmf',{get:function(){return void 0===this._dtmf&&('audio'===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},e.shimGetStats=function(t){if(!t.RTCPeerConnection)return;var n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var t=this,o=Array.prototype.slice.call(arguments),s=o[0],c=o[1],p=o[2];if(arguments.length>0&&'function'==typeof s)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||'function'!=typeof s))return n.apply(this,[]);var h=function(t){var n={},o=t.result();return o.forEach(function(t){var o={id:t.id,timestamp:t.timestamp,type:{localcandidate:'local-candidate',remotecandidate:'remote-candidate'}[t.type]||t.type};t.names().forEach(function(n){o[n]=t.stat(n)}),n[o.id]=o}),n},f=function(t){return new Map(Object.keys(t).map(function(n){return[n,t[n]]}))};if(arguments.length>=2){return n.apply(this,[function(t){c(f(h(t)))},s])}return new Promise(function(o,s){n.apply(t,[function(t){o(f(h(t)))},s])}).then(c,p)}},e.shimSenderReceiverGetStats=function(n){if(!('object'===(void 0===n?'undefined':t(n))&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!('getStats'in n.RTCRtpSender.prototype)){var o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});var c=n.RTCPeerConnection.prototype.addTrack;c&&(n.RTCPeerConnection.prototype.addTrack=function(){var t=c.apply(this,arguments);return t._pc=this,t}),n.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(n){return s.filterStats(n,t.track,!0)})}}if(!('getStats'in n.RTCRtpReceiver.prototype)){var p=n.RTCPeerConnection.prototype.getReceivers;p&&(n.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=p.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n}),s.wrapPeerConnectionEvent(n,'track',function(t){return t.receiver._pc=t.srcElement,t}),n.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(n){return s.filterStats(n,t.track,!1)})}}if(!('getStats'in n.RTCRtpSender.prototype&&'getStats'in n.RTCRtpReceiver.prototype))return;var h=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){var t=arguments[0],o=void 0,s=void 0,c=void 0;return this.getSenders().forEach(function(n){n.track===t&&(o?c=!0:o=n)}),this.getReceivers().forEach(function(n){return n.track===t&&(s?c=!0:s=n),n.track===t}),c||o&&s?Promise.reject(new DOMException('There are more than one sender or receiver for the track.','InvalidAccessError')):o?o.getStats():s?s.getStats():Promise.reject(new DOMException('There is no sender or receiver for the track.','InvalidAccessError'))}return h.apply(this,arguments)}},e.shimAddTrackRemoveTrackWithNative=p,e.shimAddTrackRemoveTrack=function(t){if(!t.RTCPeerConnection)return;var n=s.detectBrowser(t);if(t.RTCPeerConnection.prototype.addTrack&&n.version>=65)return p(t);var o=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,n=o.apply(this);return this._reverseStreams=this._reverseStreams||{},n.map(function(n){return t._reverseStreams[n.id]})};var h=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(n){var o=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},n.getTracks().forEach(function(t){var n=o.getSenders().find(function(n){return n.track===t});if(n)throw new DOMException('Track already exists.','InvalidAccessError')}),!this._reverseStreams[n.id]){var s=new t.MediaStream(n.getTracks());this._streams[n.id]=s,this._reverseStreams[s.id]=n,n=s}h.apply(this,[n])};var f=t.RTCPeerConnection.prototype.removeStream;function u(t,n){var o=n.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(n){var s=t._reverseStreams[n],c=t._streams[s.id];o=o.replace(new RegExp(c.id,'g'),s.id)}),new RTCSessionDescription({type:n.type,sdp:o})}function v(t,n){var o=n.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(n){var s=t._reverseStreams[n],c=t._streams[s.id];o=o.replace(new RegExp(s.id,'g'),c.id)}),new RTCSessionDescription({type:n.type,sdp:o})}t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(n,o){var s=this;if('closed'===this.signalingState)throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');var c=[].slice.call(arguments,1);if(1!==c.length||!c[0].getTracks().find(function(t){return t===n}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.",'NotSupportedError');var p=this.getSenders().find(function(t){return t.track===n});if(p)throw new DOMException('Track already exists.','InvalidAccessError');this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var h=this._streams[o.id];if(h)h.addTrack(n),Promise.resolve().then(function(){s.dispatchEvent(new Event('negotiationneeded'))});else{var f=new t.MediaStream([n]);this._streams[o.id]=f,this._reverseStreams[f.id]=o,this.addStream(f)}return this.getSenders().find(function(t){return t.track===n})},['createOffer','createAnswer'].forEach(function(n){var o=t.RTCPeerConnection.prototype[n],s=c({},n,function(){var t=this,n=arguments,s=arguments.length&&'function'==typeof arguments[0];return s?o.apply(this,[function(o){var s=u(t,o);n[0].apply(null,[s])},function(t){n[1]&&n[1].apply(null,t)},arguments[2]]):o.apply(this,arguments).then(function(n){return u(t,n)})});t.RTCPeerConnection.prototype[n]=s[n]});var C=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=v(this,arguments[0]),C.apply(this,arguments)):C.apply(this,arguments)};var l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,'localDescription');Object.defineProperty(t.RTCPeerConnection.prototype,'localDescription',{get:function(){var t=l.get.apply(this);return''===t.type?t:u(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var n=this;if('closed'===this.signalingState)throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.','InvalidStateError');if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.",'TypeError');var o=t._pc===this;if(!o)throw new DOMException('Sender was not created by this connection.','InvalidAccessError');this._streams=this._streams||{};var s=void 0;Object.keys(this._streams).forEach(function(o){var c=n._streams[o].getTracks().find(function(n){return t.track===n});c&&(s=n._streams[o])}),s&&(1===s.getTracks().length?this.removeStream(this._reverseStreams[s.id]):s.removeTrack(t.track),this.dispatchEvent(new Event('negotiationneeded')))}},e.shimPeerConnection=function(t){var n=s.detectBrowser(t);!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection);if(!t.RTCPeerConnection)return;var o=0===t.RTCPeerConnection.prototype.addIceCandidate.length;n.version<53&&['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(n){var o=t.RTCPeerConnection.prototype[n],s=c({},n,function(){return arguments[0]=new('addIceCandidate'===n?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)});t.RTCPeerConnection.prototype[n]=s[n]});var p=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return o||arguments[0]?n.version<78&&arguments[0]&&''===arguments[0].candidate?Promise.resolve():p.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},e.fixNegotiationNeeded=function(t){s.wrapPeerConnectionEvent(t,'negotiationneeded',function(t){var n=t.target;if('stable'===n.signalingState)return t})};var s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[2]));function c(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function p(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(n){return t._shimmedLocalStreams[n][0]})};var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,o){if(!o)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var s=n.apply(this,arguments);return this._shimmedLocalStreams[o.id]?-1===this._shimmedLocalStreams[o.id].indexOf(s)&&this._shimmedLocalStreams[o.id].push(s):this._shimmedLocalStreams[o.id]=[o,s],s};var o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(function(t){if(n.getSenders().find(function(n){return n.track===t}))throw new DOMException('Track already exists.','InvalidAccessError')});var s=this.getSenders();o.apply(this,arguments);var c=this.getSenders().filter(function(t){return-1===s.indexOf(t)});this._shimmedLocalStreams[t.id]=[t].concat(c)};var s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],s.apply(this,arguments)};var c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var n=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(function(o){var s=n._shimmedLocalStreams[o].indexOf(t);-1!==s&&n._shimmedLocalStreams[o].splice(s,1),1===n._shimmedLocalStreams[o].length&&delete n._shimmedLocalStreams[o]}),c.apply(this,arguments)}}},639,[640,641,638]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};e.shimGetUserMedia=function(c){var u=c&&c.navigator;if(!u.mediaDevices)return;var s=t.detectBrowser(c),f=function(t){if('object'!==(void 0===t?'undefined':o(t))||t.mandatory||t.optional)return t;var n={};return Object.keys(t).forEach(function(c){if('require'!==c&&'advanced'!==c&&'mediaSource'!==c){var u='object'===o(t[c])?t[c]:{ideal:t[c]};void 0!==u.exact&&'number'==typeof u.exact&&(u.min=u.max=u.exact);var s=function(o,t){return o?o+t.charAt(0).toUpperCase()+t.slice(1):'deviceId'===t?'sourceId':t};if(void 0!==u.ideal){n.optional=n.optional||[];var f={};'number'==typeof u.ideal?(f[s('min',c)]=u.ideal,n.optional.push(f),(f={})[s('max',c)]=u.ideal,n.optional.push(f)):(f[s('',c)]=u.ideal,n.optional.push(f))}void 0!==u.exact&&'number'!=typeof u.exact?(n.mandatory=n.mandatory||{},n.mandatory[s('',c)]=u.exact):['min','max'].forEach(function(o){void 0!==u[o]&&(n.mandatory=n.mandatory||{},n.mandatory[s(o,c)]=u[o])})}}),t.advanced&&(n.optional=(n.optional||[]).concat(t.advanced)),n},l=function(t,c){if(s.version>=61)return c(t);if((t=JSON.parse(JSON.stringify(t)))&&'object'===o(t.audio)){var l=function(o,t,n){t in o&&!(n in o)&&(o[n]=o[t],delete o[t])};t=JSON.parse(JSON.stringify(t)),l(t.audio,'autoGainControl','googAutoGainControl'),l(t.audio,'noiseSuppression','googNoiseSuppression'),t.audio=f(t.audio)}if(t&&'object'===o(t.video)){var v=t.video.facingMode;v=v&&('object'===(void 0===v?'undefined':o(v))?v:{ideal:v});var p=s.version<66;if(v&&('user'===v.exact||'environment'===v.exact||'user'===v.ideal||'environment'===v.ideal)&&(!u.mediaDevices.getSupportedConstraints||!u.mediaDevices.getSupportedConstraints().facingMode||p)){delete t.video.facingMode;var y=void 0;if('environment'===v.exact||'environment'===v.ideal?y=['back','rear']:'user'!==v.exact&&'user'!==v.ideal||(y=['front']),y)return u.mediaDevices.enumerateDevices().then(function(o){var u=(o=o.filter(function(o){return'videoinput'===o.kind})).find(function(o){return y.some(function(t){return o.label.toLowerCase().includes(t)})});return!u&&o.length&&y.includes('back')&&(u=o[o.length-1]),u&&(t.video.deviceId=v.exact?{exact:u.deviceId}:{ideal:u.deviceId}),t.video=f(t.video),n('chrome: '+JSON.stringify(t)),c(t)})}t.video=f(t.video)}return n('chrome: '+JSON.stringify(t)),c(t)},v=function(o){return s.version>=64?o:{name:{PermissionDeniedError:'NotAllowedError',PermissionDismissedError:'NotAllowedError',InvalidStateError:'NotAllowedError',DevicesNotFoundError:'NotFoundError',ConstraintNotSatisfiedError:'OverconstrainedError',TrackStartError:'NotReadableError',MediaDeviceFailedDueToShutdown:'NotAllowedError',MediaDeviceKillSwitchOn:'NotAllowedError',TabCaptureError:'AbortError',ScreenCaptureError:'AbortError',DeviceCaptureError:'AbortError'}[o.name]||o.name,message:o.message,constraint:o.constraint||o.constraintName,toString:function(){return this.name+(this.message&&': ')+this.message}}};if(u.getUserMedia=function(o,t,n){l(o,function(o){u.webkitGetUserMedia(o,t,function(o){n&&n(v(o))})})}.bind(u),u.mediaDevices.getUserMedia){var p=u.mediaDevices.getUserMedia.bind(u.mediaDevices);u.mediaDevices.getUserMedia=function(o){return l(o,function(o){return p(o).then(function(t){if(o.audio&&!t.getAudioTracks().length||o.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(o){o.stop()}),new DOMException('','NotFoundError');return t},function(o){return Promise.reject(v(o))})})}}};var t=(function(o){if(o&&o.__esModule)return o;var t={};if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t.default=o,t})(r(d[0]));var n=t.log},640,[638]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=function(t,o){if(t.navigator.mediaDevices&&'getDisplayMedia'in t.navigator.mediaDevices)return;if(!t.navigator.mediaDevices)return;if('function'!=typeof o)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");t.navigator.mediaDevices.getDisplayMedia=function(n){return o(n).then(function(o){var v=n.video&&n.video.width,c=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:'desktop',chromeMediaSourceId:o,maxFrameRate:s||3}},v&&(n.video.mandatory.maxWidth=v),c&&(n.video.mandatory.maxHeight=c),t.navigator.mediaDevices.getUserMedia(n)})}}},641,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=e.shimGetUserMedia=void 0;var t=r(d[0]);Object.defineProperty(e,'shimGetUserMedia',{enumerable:!0,get:function(){return t.shimGetUserMedia}});var n=r(d[1]);Object.defineProperty(e,'shimGetDisplayMedia',{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),e.shimPeerConnection=function(t){var n=s.detectBrowser(t);if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(t){return t}),t.RTCSessionDescription||(t.RTCSessionDescription=function(t){return t}),n.version<15025)){var o=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,'enabled');Object.defineProperty(t.MediaStreamTrack.prototype,'enabled',{set:function(t){o.set.call(this,t);var n=new Event('enabled');n.enabled=t,this.dispatchEvent(n)}})}!t.RTCRtpSender||'dtmf'in t.RTCRtpSender.prototype||Object.defineProperty(t.RTCRtpSender.prototype,'dtmf',{get:function(){return void 0===this._dtmf&&('audio'===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):'video'===this.track.kind&&(this._dtmf=null)),this._dtmf}});t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);var p=(0,f.default)(t,n.version);t.RTCPeerConnection=function(t){return t&&t.iceServers&&(t.iceServers=(0,c.filterIceServers)(t.iceServers,n.version),s.log('ICE servers after filtering:',t.iceServers)),new p(t)},t.RTCPeerConnection.prototype=p.prototype},e.shimReplaceTrack=function(t){!t.RTCRtpSender||'replaceTrack'in t.RTCRtpSender.prototype||(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)};var o,s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[2])),c=r(d[3]),p=r(d[4]),f=(o=p)&&o.__esModule?o:{default:o}},642,[643,644,638,645,646]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetUserMedia=function(n){var t=n&&n.navigator,s=function(n){return{name:{PermissionDeniedError:'NotAllowedError'}[n.name]||n.name,message:n.message,constraint:n.constraint,toString:function(){return this.name}}},o=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(n){return o(n).catch(function(n){return Promise.reject(s(n))})}}},643,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=function(t){if(!('getDisplayMedia'in t.navigator))return;if(!t.navigator.mediaDevices)return;if(t.navigator.mediaDevices&&'getDisplayMedia'in t.navigator.mediaDevices)return;t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)}},644,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.filterIceServers=function(u,n){var l=!1;return(u=JSON.parse(JSON.stringify(u))).filter(function(u){if(u&&(u.urls||u.url)){var n=u.urls||u.url;u.url&&!u.urls&&t.deprecated('RTCIceServer.url','RTCIceServer.urls');var s='string'==typeof n;return s&&(n=[n]),n=n.filter(function(t){if(0===t.indexOf('stun:'))return!1;var u=t.startsWith('turn')&&!t.startsWith('turn:[')&&t.includes('transport=udp');return u&&!l?(l=!0,!0):u&&!l}),delete u.url,u.urls=s?n[0]:n,!!n.length}})};var t=(function(t){if(t&&t.__esModule)return t;var u={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u[n]=t[n]);return u.default=t,u})(r(d[0]))},645,[638]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]);function s(t,s,o,c,p){var l=n.writeRtpDescription(t.kind,s);if(l+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),l+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),'offer'===o?'actpass':p||'active'),l+='a=mid:'+t.mid+'\r\n',t.rtpSender&&t.rtpReceiver?l+='a=sendrecv\r\n':t.rtpSender?l+='a=sendonly\r\n':t.rtpReceiver?l+='a=recvonly\r\n':l+='a=inactive\r\n',t.rtpSender){var f=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=f;var u='msid:'+(c?c.id:'-')+' '+f+'\r\n';l+='a='+u,l+='a=ssrc:'+t.sendEncodingParameters[0].ssrc+' '+u,t.sendEncodingParameters[0].rtx&&(l+='a=ssrc:'+t.sendEncodingParameters[0].rtx.ssrc+' '+u,l+='a=ssrc-group:FID '+t.sendEncodingParameters[0].ssrc+' '+t.sendEncodingParameters[0].rtx.ssrc+'\r\n')}return l+='a=ssrc:'+t.sendEncodingParameters[0].ssrc+' cname:'+n.localCName+'\r\n',t.rtpSender&&t.sendEncodingParameters[0].rtx&&(l+='a=ssrc:'+t.sendEncodingParameters[0].rtx.ssrc+' cname:'+n.localCName+'\r\n'),l}function o(t,n){var s=!1;return(t=JSON.parse(JSON.stringify(t))).filter(function(t){if(t&&(t.urls||t.url)){var o=t.urls||t.url;t.url&&!t.urls&&console.warn('RTCIceServer.url is deprecated! Use urls instead.');var c='string'==typeof o;return c&&(o=[o]),o=o.filter(function(t){return 0===t.indexOf('turn:')&&-1!==t.indexOf('transport=udp')&&-1===t.indexOf('turn:[')&&!s?(s=!0,!0):0===t.indexOf('stun:')&&n>=14393&&-1===t.indexOf('?transport=udp')}),delete t.url,t.urls=c?o[0]:o,!!o.length}})}function c(t,n){var s={codecs:[],headerExtensions:[],fecMechanisms:[]},o=function(t,n){t=parseInt(t,10);for(var s=0;s<n.length;s++)if(n[s].payloadType===t||n[s].preferredPayloadType===t)return n[s]},c=function(t,n,s,c){var p=o(t.parameters.apt,s),l=o(n.parameters.apt,c);return p&&l&&p.name.toLowerCase()===l.name.toLowerCase()};return t.codecs.forEach(function(o){for(var p=0;p<n.codecs.length;p++){var l=n.codecs[p];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if('rtx'===o.name.toLowerCase()&&o.parameters&&l.parameters.apt&&!c(o,l,t.codecs,n.codecs))continue;(l=JSON.parse(JSON.stringify(l))).numChannels=Math.min(o.numChannels,l.numChannels),s.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(t){for(var n=0;n<o.rtcpFeedback.length;n++)if(o.rtcpFeedback[n].type===t.type&&o.rtcpFeedback[n].parameter===t.parameter)return!0;return!1});break}}}),t.headerExtensions.forEach(function(t){for(var o=0;o<n.headerExtensions.length;o++){var c=n.headerExtensions[o];if(t.uri===c.uri){s.headerExtensions.push(c);break}}}),s}function p(t,n,s){return-1!=={offer:{setLocalDescription:['stable','have-local-offer'],setRemoteDescription:['stable','have-remote-offer']},answer:{setLocalDescription:['have-remote-offer','have-local-pranswer'],setRemoteDescription:['have-local-offer','have-remote-pranswer']}}[n][t].indexOf(s)}function l(t,n){var s=t.getRemoteCandidates().find(function(t){return n.foundation===t.foundation&&n.ip===t.ip&&n.port===t.port&&n.priority===t.priority&&n.protocol===t.protocol&&n.type===t.type});return s||t.addRemoteCandidate(n),!s}function f(t,n){var s=new Error(n);return s.name=t,s.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],s}m.exports=function(u,v){function h(t,n){n.addTrack(t),n.dispatchEvent(new u.MediaStreamTrackEvent('addtrack',{track:t}))}function y(t,n,s,o){var c=new Event('track');c.track=n,c.receiver=s,c.transceiver={receiver:s},c.streams=o,u.setTimeout(function(){t._dispatchEvent('track',c)})}var S=function(t){var s=this,c=document.createDocumentFragment();if(['addEventListener','removeEventListener','dispatchEvent'].forEach(function(t){s[t]=c[t].bind(c)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState='stable',this.iceConnectionState='new',this.connectionState='new',this.iceGatheringState='new',t=JSON.parse(JSON.stringify(t||{})),this.usingBundle='max-bundle'===t.bundlePolicy,'negotiate'===t.rtcpMuxPolicy)throw f('NotSupportedError','rtcpMuxPolicy \'negotiate\' is not supported');switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy='require'),t.iceTransportPolicy){case'all':case'relay':break;default:t.iceTransportPolicy='all'}switch(t.bundlePolicy){case'balanced':case'max-compat':case'max-bundle':break;default:t.bundlePolicy='balanced'}if(t.iceServers=o(t.iceServers||[],v),this._iceGatherers=[],t.iceCandidatePoolSize)for(var p=t.iceCandidatePoolSize;p>0;p--)this._iceGatherers.push(new u.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(S.prototype,'localDescription',{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(S.prototype,'remoteDescription',{configurable:!0,get:function(){return this._remoteDescription}}),S.prototype.onicecandidate=null,S.prototype.onaddstream=null,S.prototype.ontrack=null,S.prototype.onremovestream=null,S.prototype.onsignalingstatechange=null,S.prototype.oniceconnectionstatechange=null,S.prototype.onconnectionstatechange=null,S.prototype.onicegatheringstatechange=null,S.prototype.onnegotiationneeded=null,S.prototype.ondatachannel=null,S.prototype._dispatchEvent=function(t,n){this._isClosed||(this.dispatchEvent(n),'function'==typeof this['on'+t]&&this['on'+t](n))},S.prototype._emitGatheringStateChange=function(){var t=new Event('icegatheringstatechange');this._dispatchEvent('icegatheringstatechange',t)},S.prototype.getConfiguration=function(){return this._config},S.prototype.getLocalStreams=function(){return this.localStreams},S.prototype.getRemoteStreams=function(){return this.remoteStreams},S.prototype._createTransceiver=function(t,n){var s=this.transceivers.length>0,o={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:t,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&s)o.iceTransport=this.transceivers[0].iceTransport,o.dtlsTransport=this.transceivers[0].dtlsTransport;else{var c=this._createIceAndDtlsTransports();o.iceTransport=c.iceTransport,o.dtlsTransport=c.dtlsTransport}return n||this.transceivers.push(o),o},S.prototype.addTrack=function(t,n){if(this._isClosed)throw f('InvalidStateError','Attempted to call addTrack on a closed peerconnection.');var s;if(this.transceivers.find(function(n){return n.track===t}))throw f('InvalidAccessError','Track already exists.');for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(s=this.transceivers[o]);return s||(s=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),s.track=t,s.stream=n,s.rtpSender=new u.RTCRtpSender(t,s.dtlsTransport),s.rtpSender},S.prototype.addStream=function(t){var n=this;if(v>=15025)t.getTracks().forEach(function(s){n.addTrack(s,t)});else{var s=t.clone();t.getTracks().forEach(function(t,n){var o=s.getTracks()[n];t.addEventListener('enabled',function(t){o.enabled=t.enabled})}),s.getTracks().forEach(function(t){n.addTrack(t,s)})}},S.prototype.removeTrack=function(t){if(this._isClosed)throw f('InvalidStateError','Attempted to call removeTrack on a closed peerconnection.');if(!(t instanceof u.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(n){return n.rtpSender===t});if(!n)throw f('InvalidAccessError','Sender was not created by this connection.');var s=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(t){return t.stream}).indexOf(s)&&this.localStreams.indexOf(s)>-1&&this.localStreams.splice(this.localStreams.indexOf(s),1),this._maybeFireNegotiationNeeded()},S.prototype.removeStream=function(t){var n=this;t.getTracks().forEach(function(t){var s=n.getSenders().find(function(n){return n.track===t});s&&n.removeTrack(s)})},S.prototype.getSenders=function(){return this.transceivers.filter(function(t){return!!t.rtpSender}).map(function(t){return t.rtpSender})},S.prototype.getReceivers=function(){return this.transceivers.filter(function(t){return!!t.rtpReceiver}).map(function(t){return t.rtpReceiver})},S.prototype._createIceGatherer=function(t,n){var s=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new u.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,'state',{value:'new',writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(n){var c=!n.candidate||0===Object.keys(n.candidate).length;o.state=c?'completed':'gathering',null!==s.transceivers[t].bufferedCandidateEvents&&s.transceivers[t].bufferedCandidateEvents.push(n)},o.addEventListener('localcandidate',this.transceivers[t].bufferCandidates),o},S.prototype._gather=function(s,o){var c=this,p=this.transceivers[o].iceGatherer;if(!p.onlocalcandidate){var l=this.transceivers[o].bufferedCandidateEvents;this.transceivers[o].bufferedCandidateEvents=null,p.removeEventListener('localcandidate',this.transceivers[o].bufferCandidates),p.onlocalcandidate=function(l){if(!(c.usingBundle&&o>0)){var f=new Event('icecandidate');f.candidate={sdpMid:s,sdpMLineIndex:o};var u=l.candidate,v=!u||0===Object.keys(u).length;if(v)'new'!==p.state&&'gathering'!==p.state||(p.state='completed');else{'new'===p.state&&(p.state='gathering'),u.component=1,u.ufrag=p.getLocalParameters().usernameFragment;var h=n.writeCandidate(u);f.candidate=t(f.candidate,n.parseCandidate(h)),f.candidate.candidate=h,f.candidate.toJSON=function(){return{candidate:f.candidate.candidate,sdpMid:f.candidate.sdpMid,sdpMLineIndex:f.candidate.sdpMLineIndex,usernameFragment:f.candidate.usernameFragment}}}var y=n.getMediaSections(c._localDescription.sdp);y[f.candidate.sdpMLineIndex]+=v?'a=end-of-candidates\r\n':'a='+f.candidate.candidate+'\r\n',c._localDescription.sdp=n.getDescription(c._localDescription.sdp)+y.join('');var S=c.transceivers.every(function(t){return t.iceGatherer&&'completed'===t.iceGatherer.state});'gathering'!==c.iceGatheringState&&(c.iceGatheringState='gathering',c._emitGatheringStateChange()),v||c._dispatchEvent('icecandidate',f),S&&(c._dispatchEvent('icecandidate',new Event('icecandidate')),c.iceGatheringState='complete',c._emitGatheringStateChange())}},u.setTimeout(function(){l.forEach(function(t){p.onlocalcandidate(t)})},0)}},S.prototype._createIceAndDtlsTransports=function(){var t=this,n=new u.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var s=new u.RTCDtlsTransport(n);return s.ondtlsstatechange=function(){t._updateConnectionState()},s.onerror=function(){Object.defineProperty(s,'state',{value:'failed',writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:s}},S.prototype._disposeIceAndDtlsTransports=function(t){var n=this.transceivers[t].iceGatherer;n&&(delete n.onlocalcandidate,delete this.transceivers[t].iceGatherer);var s=this.transceivers[t].iceTransport;s&&(delete s.onicestatechange,delete this.transceivers[t].iceTransport);var o=this.transceivers[t].dtlsTransport;o&&(delete o.ondtlsstatechange,delete o.onerror,delete this.transceivers[t].dtlsTransport)},S.prototype._transceive=function(t,s,o){var p=c(t.localCapabilities,t.remoteCapabilities);s&&t.rtpSender&&(p.encodings=t.sendEncodingParameters,p.rtcp={cname:n.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(p.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(p)),o&&t.rtpReceiver&&p.codecs.length>0&&('video'===t.kind&&t.recvEncodingParameters&&v<15019&&t.recvEncodingParameters.forEach(function(t){delete t.rtx}),t.recvEncodingParameters.length?p.encodings=t.recvEncodingParameters:p.encodings=[{}],p.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(p.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(p.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(p))},S.prototype.setLocalDescription=function(t){var s,o,l=this;if(-1===['offer','answer'].indexOf(t.type))return Promise.reject(f('TypeError','Unsupported type "'+t.type+'"'));if(!p('setLocalDescription',t.type,l.signalingState)||l._isClosed)return Promise.reject(f('InvalidStateError','Can not set local '+t.type+' in state '+l.signalingState));if('offer'===t.type)s=n.splitSections(t.sdp),o=s.shift(),s.forEach(function(t,s){var o=n.parseRtpParameters(t);l.transceivers[s].localCapabilities=o}),l.transceivers.forEach(function(t,n){l._gather(t.mid,n)});else if('answer'===t.type){s=n.splitSections(l._remoteDescription.sdp),o=s.shift();var u=n.matchPrefix(o,'a=ice-lite').length>0;s.forEach(function(t,s){var p=l.transceivers[s],f=p.iceGatherer,v=p.iceTransport,h=p.dtlsTransport,y=p.localCapabilities,S=p.remoteCapabilities;if(!(n.isRejected(t)&&0===n.matchPrefix(t,'a=bundle-only').length)&&!p.rejected){var T=n.getIceParameters(t,o),E=n.getDtlsParameters(t,o);u&&(E.role='server'),l.usingBundle&&0!==s||(l._gather(p.mid,s),'new'===v.state&&v.start(f,T,u?'controlling':'controlled'),'new'===h.state&&h.start(E));var C=c(y,S);l._transceive(p,C.codecs.length>0,!1)}})}return l._localDescription={type:t.type,sdp:t.sdp},'offer'===t.type?l._updateSignalingState('have-local-offer'):l._updateSignalingState('stable'),Promise.resolve()},S.prototype.setRemoteDescription=function(t){var s=this;if(-1===['offer','answer'].indexOf(t.type))return Promise.reject(f('TypeError','Unsupported type "'+t.type+'"'));if(!p('setRemoteDescription',t.type,s.signalingState)||s._isClosed)return Promise.reject(f('InvalidStateError','Can not set remote '+t.type+' in state '+s.signalingState));var o={};s.remoteStreams.forEach(function(t){o[t.id]=t});var S=[],T=n.splitSections(t.sdp),E=T.shift(),C=n.matchPrefix(E,'a=ice-lite').length>0,P=n.matchPrefix(E,'a=group:BUNDLE ').length>0;s.usingBundle=P;var w=n.matchPrefix(E,'a=ice-options:')[0];return s.canTrickleIceCandidates=!!w&&w.substr(14).split(' ').indexOf('trickle')>=0,T.forEach(function(p,f){var y=n.splitLines(p),T=n.getKind(p),w=n.isRejected(p)&&0===n.matchPrefix(p,'a=bundle-only').length,R=y[0].substr(2).split(' ')[2],_=n.getDirection(p,E),k=n.parseMsid(p),b=n.getMid(p)||n.generateIdentifier();if(w||'application'===T&&('DTLS/SCTP'===R||'UDP/DTLS/SCTP'===R))s.transceivers[f]={mid:b,kind:T,protocol:R,rejected:!0};else{var x,D,I,L,M,O,G,j,N;!w&&s.transceivers[f]&&s.transceivers[f].rejected&&(s.transceivers[f]=s._createTransceiver(T,!0));var A,F,B=n.parseRtpParameters(p);w||(A=n.getIceParameters(p,E),(F=n.getDtlsParameters(p,E)).role='client'),G=n.parseRtpEncodingParameters(p);var V=n.parseRtcpParameters(p),U=n.matchPrefix(p,'a=end-of-candidates',E).length>0,J=n.matchPrefix(p,'a=candidate:').map(function(t){return n.parseCandidate(t)}).filter(function(t){return 1===t.component});if(('offer'===t.type||'answer'===t.type)&&!w&&P&&f>0&&s.transceivers[f]&&(s._disposeIceAndDtlsTransports(f),s.transceivers[f].iceGatherer=s.transceivers[0].iceGatherer,s.transceivers[f].iceTransport=s.transceivers[0].iceTransport,s.transceivers[f].dtlsTransport=s.transceivers[0].dtlsTransport,s.transceivers[f].rtpSender&&s.transceivers[f].rtpSender.setTransport(s.transceivers[0].dtlsTransport),s.transceivers[f].rtpReceiver&&s.transceivers[f].rtpReceiver.setTransport(s.transceivers[0].dtlsTransport)),'offer'!==t.type||w){if('answer'===t.type&&!w){D=(x=s.transceivers[f]).iceGatherer,I=x.iceTransport,L=x.dtlsTransport,M=x.rtpReceiver,O=x.sendEncodingParameters,j=x.localCapabilities,s.transceivers[f].recvEncodingParameters=G,s.transceivers[f].remoteCapabilities=B,s.transceivers[f].rtcpParameters=V,J.length&&'new'===I.state&&(!C&&!U||P&&0!==f?J.forEach(function(t){l(x.iceTransport,t)}):I.setRemoteCandidates(J)),P&&0!==f||('new'===I.state&&I.start(D,A,'controlling'),'new'===L.state&&L.start(F)),!c(x.localCapabilities,x.remoteCapabilities).codecs.filter(function(t){return'rtx'===t.name.toLowerCase()}).length&&x.sendEncodingParameters[0].rtx&&delete x.sendEncodingParameters[0].rtx,s._transceive(x,'sendrecv'===_||'recvonly'===_,'sendrecv'===_||'sendonly'===_),!M||'sendrecv'!==_&&'sendonly'!==_?delete x.rtpReceiver:(N=M.track,k?(o[k.stream]||(o[k.stream]=new u.MediaStream),h(N,o[k.stream]),S.push([N,M,o[k.stream]])):(o.default||(o.default=new u.MediaStream),h(N,o.default),S.push([N,M,o.default])))}}else{(x=s.transceivers[f]||s._createTransceiver(T)).mid=b,x.iceGatherer||(x.iceGatherer=s._createIceGatherer(f,P)),J.length&&'new'===x.iceTransport.state&&(!U||P&&0!==f?J.forEach(function(t){l(x.iceTransport,t)}):x.iceTransport.setRemoteCandidates(J)),j=u.RTCRtpReceiver.getCapabilities(T),v<15019&&(j.codecs=j.codecs.filter(function(t){return'rtx'!==t.name})),O=x.sendEncodingParameters||[{ssrc:1001*(2*f+2)}];var z,q=!1;if('sendrecv'===_||'sendonly'===_){if(q=!x.rtpReceiver,M=x.rtpReceiver||new u.RTCRtpReceiver(x.dtlsTransport,T),q)N=M.track,k&&'-'===k.stream||(k?(o[k.stream]||(o[k.stream]=new u.MediaStream,Object.defineProperty(o[k.stream],'id',{get:function(){return k.stream}})),Object.defineProperty(N,'id',{get:function(){return k.track}}),z=o[k.stream]):(o.default||(o.default=new u.MediaStream),z=o.default)),z&&(h(N,z),x.associatedRemoteMediaStreams.push(z)),S.push([N,M,z])}else x.rtpReceiver&&x.rtpReceiver.track&&(x.associatedRemoteMediaStreams.forEach(function(t){var n,s,o=t.getTracks().find(function(t){return t.id===x.rtpReceiver.track.id});o&&(n=o,(s=t).removeTrack(n),s.dispatchEvent(new u.MediaStreamTrackEvent('removetrack',{track:n})))}),x.associatedRemoteMediaStreams=[]);x.localCapabilities=j,x.remoteCapabilities=B,x.rtpReceiver=M,x.rtcpParameters=V,x.sendEncodingParameters=O,x.recvEncodingParameters=G,s._transceive(s.transceivers[f],!1,q)}}}),void 0===s._dtlsRole&&(s._dtlsRole='offer'===t.type?'active':'passive'),s._remoteDescription={type:t.type,sdp:t.sdp},'offer'===t.type?s._updateSignalingState('have-remote-offer'):s._updateSignalingState('stable'),Object.keys(o).forEach(function(t){var n=o[t];if(n.getTracks().length){if(-1===s.remoteStreams.indexOf(n)){s.remoteStreams.push(n);var c=new Event('addstream');c.stream=n,u.setTimeout(function(){s._dispatchEvent('addstream',c)})}S.forEach(function(t){var o=t[0],c=t[1];n.id===t[2].id&&y(s,o,c,[n])})}}),S.forEach(function(t){t[2]||y(s,t[0],t[1],[])}),u.setTimeout(function(){s&&s.transceivers&&s.transceivers.forEach(function(t){t.iceTransport&&'new'===t.iceTransport.state&&t.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),t.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},S.prototype.close=function(){this.transceivers.forEach(function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState('closed')},S.prototype._updateSignalingState=function(t){this.signalingState=t;var n=new Event('signalingstatechange');this._dispatchEvent('signalingstatechange',n)},S.prototype._maybeFireNegotiationNeeded=function(){var t=this;'stable'===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,u.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var n=new Event('negotiationneeded');t._dispatchEvent('negotiationneeded',n)}},0))},S.prototype._updateIceConnectionState=function(){var t,n={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){t.iceTransport&&!t.rejected&&n[t.iceTransport.state]++}),t='new',n.failed>0?t='failed':n.checking>0?t='checking':n.disconnected>0?t='disconnected':n.new>0?t='new':n.connected>0?t='connected':n.completed>0&&(t='completed'),t!==this.iceConnectionState){this.iceConnectionState=t;var s=new Event('iceconnectionstatechange');this._dispatchEvent('iceconnectionstatechange',s)}},S.prototype._updateConnectionState=function(){var t,n={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){t.iceTransport&&t.dtlsTransport&&!t.rejected&&(n[t.iceTransport.state]++,n[t.dtlsTransport.state]++)}),n.connected+=n.completed,t='new',n.failed>0?t='failed':n.connecting>0?t='connecting':n.disconnected>0?t='disconnected':n.new>0?t='new':n.connected>0&&(t='connected'),t!==this.connectionState){this.connectionState=t;var s=new Event('connectionstatechange');this._dispatchEvent('connectionstatechange',s)}},S.prototype.createOffer=function(){var t=this;if(t._isClosed)return Promise.reject(f('InvalidStateError','Can not call createOffer after close'));var o=t.transceivers.filter(function(t){return'audio'===t.kind}).length,c=t.transceivers.filter(function(t){return'video'===t.kind}).length,p=arguments[0];if(p){if(p.mandatory||p.optional)throw new TypeError('Legacy mandatory/optional constraints not supported.');void 0!==p.offerToReceiveAudio&&(o=!0===p.offerToReceiveAudio?1:!1===p.offerToReceiveAudio?0:p.offerToReceiveAudio),void 0!==p.offerToReceiveVideo&&(c=!0===p.offerToReceiveVideo?1:!1===p.offerToReceiveVideo?0:p.offerToReceiveVideo)}for(t.transceivers.forEach(function(t){'audio'===t.kind?--o<0&&(t.wantReceive=!1):'video'===t.kind&&--c<0&&(t.wantReceive=!1)});o>0||c>0;)o>0&&(t._createTransceiver('audio'),o--),c>0&&(t._createTransceiver('video'),c--);var l=n.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.transceivers.forEach(function(s,o){var c=s.track,p=s.kind,l=s.mid||n.generateIdentifier();s.mid=l,s.iceGatherer||(s.iceGatherer=t._createIceGatherer(o,t.usingBundle));var f=u.RTCRtpSender.getCapabilities(p);v<15019&&(f.codecs=f.codecs.filter(function(t){return'rtx'!==t.name})),f.codecs.forEach(function(t){'H264'===t.name&&void 0===t.parameters['level-asymmetry-allowed']&&(t.parameters['level-asymmetry-allowed']='1'),s.remoteCapabilities&&s.remoteCapabilities.codecs&&s.remoteCapabilities.codecs.forEach(function(n){t.name.toLowerCase()===n.name.toLowerCase()&&t.clockRate===n.clockRate&&(t.preferredPayloadType=n.payloadType)})}),f.headerExtensions.forEach(function(t){(s.remoteCapabilities&&s.remoteCapabilities.headerExtensions||[]).forEach(function(n){t.uri===n.uri&&(t.id=n.id)})});var h=s.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];c&&v>=15019&&'video'===p&&!h[0].rtx&&(h[0].rtx={ssrc:h[0].ssrc+1}),s.wantReceive&&(s.rtpReceiver=new u.RTCRtpReceiver(s.dtlsTransport,p)),s.localCapabilities=f,s.sendEncodingParameters=h}),'max-compat'!==t._config.bundlePolicy&&(l+='a=group:BUNDLE '+t.transceivers.map(function(t){return t.mid}).join(' ')+'\r\n'),l+='a=ice-options:trickle\r\n',t.transceivers.forEach(function(o,c){l+=s(o,o.localCapabilities,'offer',o.stream,t._dtlsRole),l+='a=rtcp-rsize\r\n',!o.iceGatherer||'new'===t.iceGatheringState||0!==c&&t.usingBundle||(o.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,l+='a='+n.writeCandidate(t)+'\r\n'}),'completed'===o.iceGatherer.state&&(l+='a=end-of-candidates\r\n'))});var h=new u.RTCSessionDescription({type:'offer',sdp:l});return Promise.resolve(h)},S.prototype.createAnswer=function(){var t=this;if(t._isClosed)return Promise.reject(f('InvalidStateError','Can not call createAnswer after close'));if('have-remote-offer'!==t.signalingState&&'have-local-pranswer'!==t.signalingState)return Promise.reject(f('InvalidStateError','Can not call createAnswer in signalingState '+t.signalingState));var o=n.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.usingBundle&&(o+='a=group:BUNDLE '+t.transceivers.map(function(t){return t.mid}).join(' ')+'\r\n'),o+='a=ice-options:trickle\r\n';var p=n.getMediaSections(t._remoteDescription.sdp).length;t.transceivers.forEach(function(n,l){if(!(l+1>p)){if(n.rejected)return'application'===n.kind?'DTLS/SCTP'===n.protocol?o+='m=application 0 DTLS/SCTP 5000\r\n':o+='m=application 0 '+n.protocol+' webrtc-datachannel\r\n':'audio'===n.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":'video'===n.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+n.mid+'\r\n');var f;if(n.stream)'audio'===n.kind?f=n.stream.getAudioTracks()[0]:'video'===n.kind&&(f=n.stream.getVideoTracks()[0]),f&&v>=15019&&'video'===n.kind&&!n.sendEncodingParameters[0].rtx&&(n.sendEncodingParameters[0].rtx={ssrc:n.sendEncodingParameters[0].ssrc+1});var u=c(n.localCapabilities,n.remoteCapabilities);!u.codecs.filter(function(t){return'rtx'===t.name.toLowerCase()}).length&&n.sendEncodingParameters[0].rtx&&delete n.sendEncodingParameters[0].rtx,o+=s(n,u,'answer',n.stream,t._dtlsRole),n.rtcpParameters&&n.rtcpParameters.reducedSize&&(o+='a=rtcp-rsize\r\n')}});var l=new u.RTCSessionDescription({type:'answer',sdp:o});return Promise.resolve(l)},S.prototype.addIceCandidate=function(t){var s,o=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError('sdpMLineIndex or sdpMid required')):new Promise(function(c,p){if(!o._remoteDescription)return p(f('InvalidStateError','Can not add ICE candidate without a remote description'));if(t&&''!==t.candidate){var u=t.sdpMLineIndex;if(t.sdpMid)for(var v=0;v<o.transceivers.length;v++)if(o.transceivers[v].mid===t.sdpMid){u=v;break}var h=o.transceivers[u];if(!h)return p(f('OperationError','Can not add ICE candidate'));if(h.rejected)return c();var y=Object.keys(t.candidate).length>0?n.parseCandidate(t.candidate):{};if('tcp'===y.protocol&&(0===y.port||9===y.port))return c();if(y.component&&1!==y.component)return c();if((0===u||u>0&&h.iceTransport!==o.transceivers[0].iceTransport)&&!l(h.iceTransport,y))return p(f('OperationError','Can not add ICE candidate'));var S=t.candidate.trim();0===S.indexOf('a=')&&(S=S.substr(2)),(s=n.getMediaSections(o._remoteDescription.sdp))[u]+='a='+(y.type?S:'end-of-candidates')+'\r\n',o._remoteDescription.sdp=n.getDescription(o._remoteDescription.sdp)+s.join('')}else for(var T=0;T<o.transceivers.length&&(o.transceivers[T].rejected||(o.transceivers[T].iceTransport.addRemoteCandidate({}),(s=n.getMediaSections(o._remoteDescription.sdp))[T]+='a=end-of-candidates\r\n',o._remoteDescription.sdp=n.getDescription(o._remoteDescription.sdp)+s.join(''),!o.usingBundle));T++);c()})},S.prototype.getStats=function(t){if(t&&t instanceof u.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(s){s.rtpSender&&s.rtpSender.track===t?n=s.rtpSender:s.rtpReceiver&&s.rtpReceiver.track===t&&(n=s.rtpReceiver)}),!n)throw f('InvalidAccessError','Invalid selector.');return n.getStats()}var s=[];return this.transceivers.forEach(function(t){['rtpSender','rtpReceiver','iceGatherer','iceTransport','dtlsTransport'].forEach(function(n){t[n]&&s.push(t[n].getStats())})}),Promise.all(s).then(function(t){var n=new Map;return t.forEach(function(t){t.forEach(function(t){n.set(t.id,t)})}),n})};['RTCRtpSender','RTCRtpReceiver','RTCIceGatherer','RTCIceTransport','RTCDtlsTransport'].forEach(function(t){var n=u[t];if(n&&n.prototype&&n.prototype.getStats){var s=n.prototype.getStats;n.prototype.getStats=function(){return s.apply(this).then(function(t){var n=new Map;return Object.keys(t).forEach(function(s){var o;t[s].type={inboundrtp:'inbound-rtp',outboundrtp:'outbound-rtp',candidatepair:'candidate-pair',localcandidate:'local-candidate',remotecandidate:'remote-candidate'}[(o=t[s]).type]||o.type,n.set(s,t[s])}),n})}}});var T=['createOffer','createAnswer'];return T.forEach(function(t){var n=S.prototype[t];S.prototype[t]=function(){var t=arguments;return'function'==typeof t[0]||'function'==typeof t[1]?n.apply(this,[arguments[2]]).then(function(n){'function'==typeof t[0]&&t[0].apply(null,[n])},function(n){'function'==typeof t[1]&&t[1].apply(null,[n])}):n.apply(this,arguments)}}),(T=['setLocalDescription','setRemoteDescription','addIceCandidate']).forEach(function(t){var n=S.prototype[t];S.prototype[t]=function(){var t=arguments;return'function'==typeof t[1]||'function'==typeof t[2]?n.apply(this,arguments).then(function(){'function'==typeof t[1]&&t[1].apply(null)},function(n){'function'==typeof t[2]&&t[2].apply(null,[n])}):n.apply(this,arguments)}}),['getStats'].forEach(function(t){var n=S.prototype[t];S.prototype[t]=function(){var t=arguments;return'function'==typeof t[1]?n.apply(this,arguments).then(function(){'function'==typeof t[1]&&t[1].apply(null)}):n.apply(this,arguments)}}),S}},646,[16,647]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(t){return t.trim().split('\n').map(function(t){return t.trim()})},t.splitSections=function(t){return t.split('\nm=').map(function(t,n){return(n>0?'m='+t:t).trim()+'\r\n'})},t.getDescription=function(n){var s=t.splitSections(n);return s&&s[0]},t.getMediaSections=function(n){var s=t.splitSections(n);return s.shift(),s},t.matchPrefix=function(n,s){return t.splitLines(n).filter(function(t){return 0===t.indexOf(s)})},t.parseCandidate=function(t){for(var n,s={foundation:(n=0===t.indexOf('a=candidate:')?t.substring(12).split(' '):t.substring(10).split(' '))[0],component:parseInt(n[1],10),protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]},p=8;p<n.length;p+=2)switch(n[p]){case'raddr':s.relatedAddress=n[p+1];break;case'rport':s.relatedPort=parseInt(n[p+1],10);break;case'tcptype':s.tcpType=n[p+1];break;case'ufrag':s.ufrag=n[p+1],s.usernameFragment=n[p+1];break;default:s[n[p]]=n[p+1]}return s},t.writeCandidate=function(t){var n=[];n.push(t.foundation),n.push(t.component),n.push(t.protocol.toUpperCase()),n.push(t.priority),n.push(t.address||t.ip),n.push(t.port);var s=t.type;return n.push('typ'),n.push(s),'host'!==s&&t.relatedAddress&&t.relatedPort&&(n.push('raddr'),n.push(t.relatedAddress),n.push('rport'),n.push(t.relatedPort)),t.tcpType&&'tcp'===t.protocol.toLowerCase()&&(n.push('tcptype'),n.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(n.push('ufrag'),n.push(t.usernameFragment||t.ufrag)),'candidate:'+n.join(' ')},t.parseIceOptions=function(t){return t.substr(14).split(' ')},t.parseRtpMap=function(t){var n=t.substr(9).split(' '),s={payloadType:parseInt(n.shift(),10)};return n=n[0].split('/'),s.name=n[0],s.clockRate=parseInt(n[1],10),s.channels=3===n.length?parseInt(n[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(t){var n=t.payloadType;void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType);var s=t.channels||t.numChannels||1;return'a=rtpmap:'+n+' '+t.name+'/'+t.clockRate+(1!==s?'/'+s:'')+'\r\n'},t.parseExtmap=function(t){var n=t.substr(9).split(' ');return{id:parseInt(n[0],10),direction:n[0].indexOf('/')>0?n[0].split('/')[1]:'sendrecv',uri:n[1]}},t.writeExtmap=function(t){return'a=extmap:'+(t.id||t.preferredId)+(t.direction&&'sendrecv'!==t.direction?'/'+t.direction:'')+' '+t.uri+'\r\n'},t.parseFmtp=function(t){for(var n,s={},p=t.substr(t.indexOf(' ')+1).split(';'),c=0;c<p.length;c++)s[(n=p[c].trim().split('='))[0].trim()]=n[1];return s},t.writeFmtp=function(t){var n='',s=t.payloadType;if(void 0!==t.preferredPayloadType&&(s=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var p=[];Object.keys(t.parameters).forEach(function(n){t.parameters[n]?p.push(n+'='+t.parameters[n]):p.push(n)}),n+='a=fmtp:'+s+' '+p.join(';')+'\r\n'}return n},t.parseRtcpFb=function(t){var n=t.substr(t.indexOf(' ')+1).split(' ');return{type:n.shift(),parameter:n.join(' ')}},t.writeRtcpFb=function(t){var n='',s=t.payloadType;return void 0!==t.preferredPayloadType&&(s=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){n+='a=rtcp-fb:'+s+' '+t.type+(t.parameter&&t.parameter.length?' '+t.parameter:'')+'\r\n'}),n},t.parseSsrcMedia=function(t){var n=t.indexOf(' '),s={ssrc:parseInt(t.substr(7,n-7),10)},p=t.indexOf(':',n);return p>-1?(s.attribute=t.substr(n+1,p-n-1),s.value=t.substr(p+1)):s.attribute=t.substr(n+1),s},t.parseSsrcGroup=function(t){var n=t.substr(13).split(' ');return{semantics:n.shift(),ssrcs:n.map(function(t){return parseInt(t,10)})}},t.getMid=function(n){var s=t.matchPrefix(n,'a=mid:')[0];if(s)return s.substr(6)},t.parseFingerprint=function(t){var n=t.substr(14).split(' ');return{algorithm:n[0].toLowerCase(),value:n[1]}},t.getDtlsParameters=function(n,s){return{role:'auto',fingerprints:t.matchPrefix(n+s,'a=fingerprint:').map(t.parseFingerprint)}},t.writeDtlsParameters=function(t,n){var s='a=setup:'+n+'\r\n';return t.fingerprints.forEach(function(t){s+='a=fingerprint:'+t.algorithm+' '+t.value+'\r\n'}),s},t.parseCryptoLine=function(t){var n=t.substr(9).split(' ');return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(n){return'a=crypto:'+n.tag+' '+n.cryptoSuite+' '+('object'==typeof n.keyParams?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?' '+n.sessionParams.join(' '):'')+'\r\n'},t.parseCryptoKeyParams=function(t){if(0!==t.indexOf('inline:'))return null;var n=t.substr(7).split('|');return{keyMethod:'inline',keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(':')[0]:void 0,mkiLength:n[2]?n[2].split(':')[1]:void 0}},t.writeCryptoKeyParams=function(t){return t.keyMethod+':'+t.keySalt+(t.lifeTime?'|'+t.lifeTime:'')+(t.mkiValue&&t.mkiLength?'|'+t.mkiValue+':'+t.mkiLength:'')},t.getCryptoParameters=function(n,s){return t.matchPrefix(n+s,'a=crypto:').map(t.parseCryptoLine)},t.getIceParameters=function(n,s){var p=t.matchPrefix(n+s,'a=ice-ufrag:')[0],c=t.matchPrefix(n+s,'a=ice-pwd:')[0];return p&&c?{usernameFragment:p.substr(12),password:c.substr(10)}:null},t.writeIceParameters=function(t){return'a=ice-ufrag:'+t.usernameFragment+"\r\na=ice-pwd:"+t.password+'\r\n'},t.parseRtpParameters=function(n){for(var s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},p=t.splitLines(n)[0].split(' '),c=3;c<p.length;c++){var o=p[c],u=t.matchPrefix(n,'a=rtpmap:'+o+' ')[0];if(u){var f=t.parseRtpMap(u),l=t.matchPrefix(n,'a=fmtp:'+o+' ');switch(f.parameters=l.length?t.parseFmtp(l[0]):{},f.rtcpFeedback=t.matchPrefix(n,'a=rtcp-fb:'+o+' ').map(t.parseRtcpFb),s.codecs.push(f),f.name.toUpperCase()){case'RED':case'ULPFEC':s.fecMechanisms.push(f.name.toUpperCase())}}}return t.matchPrefix(n,'a=extmap:').forEach(function(n){s.headerExtensions.push(t.parseExtmap(n))}),s},t.writeRtpDescription=function(n,s){var p='';p+='m='+n+' ',p+=s.codecs.length>0?'9':'0',p+=' UDP/TLS/RTP/SAVPF ',p+=s.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(' ')+'\r\n',p+='c=IN IP4 0.0.0.0\r\n',p+='a=rtcp:9 IN IP4 0.0.0.0\r\n',s.codecs.forEach(function(n){p+=t.writeRtpMap(n),p+=t.writeFmtp(n),p+=t.writeRtcpFb(n)});var c=0;return s.codecs.forEach(function(t){t.maxptime>c&&(c=t.maxptime)}),c>0&&(p+='a=maxptime:'+c+'\r\n'),p+='a=rtcp-mux\r\n',s.headerExtensions&&s.headerExtensions.forEach(function(n){p+=t.writeExtmap(n)}),p},t.parseRtpEncodingParameters=function(n){var s,p=[],c=t.parseRtpParameters(n),o=-1!==c.fecMechanisms.indexOf('RED'),u=-1!==c.fecMechanisms.indexOf('ULPFEC'),f=t.matchPrefix(n,'a=ssrc:').map(function(n){return t.parseSsrcMedia(n)}).filter(function(t){return'cname'===t.attribute}),l=f.length>0&&f[0].ssrc,h=t.matchPrefix(n,'a=ssrc-group:FID').map(function(t){return t.substr(17).split(' ').map(function(t){return parseInt(t,10)})});h.length>0&&h[0].length>1&&h[0][0]===l&&(s=h[0][1]),c.codecs.forEach(function(t){if('RTX'===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:l,codecPayloadType:parseInt(t.parameters.apt,10)};l&&s&&(n.rtx={ssrc:s}),p.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:l,mechanism:u?'red+ulpfec':'red'},p.push(n))}}),0===p.length&&l&&p.push({ssrc:l});var P=t.matchPrefix(n,'b=');return P.length&&(P=0===P[0].indexOf('b=TIAS:')?parseInt(P[0].substr(7),10):0===P[0].indexOf('b=AS:')?1e3*parseInt(P[0].substr(5),10)*.95-16e3:void 0,p.forEach(function(t){t.maxBitrate=P})),p},t.parseRtcpParameters=function(n){var s={},p=t.matchPrefix(n,'a=ssrc:').map(function(n){return t.parseSsrcMedia(n)}).filter(function(t){return'cname'===t.attribute})[0];p&&(s.cname=p.value,s.ssrc=p.ssrc);var c=t.matchPrefix(n,'a=rtcp-rsize');s.reducedSize=c.length>0,s.compound=0===c.length;var o=t.matchPrefix(n,'a=rtcp-mux');return s.mux=o.length>0,s},t.parseMsid=function(n){var s,p=t.matchPrefix(n,'a=msid:');if(1===p.length)return{stream:(s=p[0].substr(7).split(' '))[0],track:s[1]};var c=t.matchPrefix(n,'a=ssrc:').map(function(n){return t.parseSsrcMedia(n)}).filter(function(t){return'msid'===t.attribute});return c.length>0?{stream:(s=c[0].value.split(' '))[0],track:s[1]}:void 0},t.parseSctpDescription=function(n){var s,p=t.parseMLine(n),c=t.matchPrefix(n,'a=max-message-size:');c.length>0&&(s=parseInt(c[0].substr(19),10)),isNaN(s)&&(s=65536);var o=t.matchPrefix(n,'a=sctp-port:');if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:p.fmt,maxMessageSize:s};if(t.matchPrefix(n,'a=sctpmap:').length>0){var u=t.matchPrefix(n,'a=sctpmap:')[0].substr(10).split(' ');return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:s}}},t.writeSctpDescription=function(t,n){var s=[];return s='DTLS/SCTP'!==t.protocol?['m='+t.kind+' 9 '+t.protocol+' '+n.protocol+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctp-port:'+n.port+'\r\n']:['m='+t.kind+' 9 '+t.protocol+' '+n.port+'\r\n','c=IN IP4 0.0.0.0\r\n','a=sctpmap:'+n.port+' '+n.protocol+' 65535\r\n'],void 0!==n.maxMessageSize&&s.push('a=max-message-size:'+n.maxMessageSize+'\r\n'),s.join('')},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(n,s,p){var c,o=void 0!==s?s:2;return c=n||t.generateSessionId(),"v=0\r\no="+(p||'thisisadapterortc')+' '+c+' '+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(n,s,p,c){var o=t.writeRtpDescription(n.kind,s);if(o+=t.writeIceParameters(n.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),'offer'===p?'actpass':'active'),o+='a=mid:'+n.mid+'\r\n',n.direction?o+='a='+n.direction+'\r\n':n.rtpSender&&n.rtpReceiver?o+='a=sendrecv\r\n':n.rtpSender?o+='a=sendonly\r\n':n.rtpReceiver?o+='a=recvonly\r\n':o+='a=inactive\r\n',n.rtpSender){var u='msid:'+c.id+' '+n.rtpSender.track.id+'\r\n';o+='a='+u,o+='a=ssrc:'+n.sendEncodingParameters[0].ssrc+' '+u,n.sendEncodingParameters[0].rtx&&(o+='a=ssrc:'+n.sendEncodingParameters[0].rtx.ssrc+' '+u,o+='a=ssrc-group:FID '+n.sendEncodingParameters[0].ssrc+' '+n.sendEncodingParameters[0].rtx.ssrc+'\r\n')}return o+='a=ssrc:'+n.sendEncodingParameters[0].ssrc+' cname:'+t.localCName+'\r\n',n.rtpSender&&n.sendEncodingParameters[0].rtx&&(o+='a=ssrc:'+n.sendEncodingParameters[0].rtx.ssrc+' cname:'+t.localCName+'\r\n'),o},t.getDirection=function(n,s){for(var p=t.splitLines(n),c=0;c<p.length;c++)switch(p[c]){case'a=sendrecv':case'a=sendonly':case'a=recvonly':case'a=inactive':return p[c].substr(2)}return s?t.getDirection(s):'sendrecv'},t.getKind=function(n){return t.splitLines(n)[0].split(' ')[0].substr(2)},t.isRejected=function(t){return'0'===t.split(' ',2)[1]},t.parseMLine=function(n){var s=t.splitLines(n)[0].substr(2).split(' ');return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(' ')}},t.parseOLine=function(n){var s=t.matchPrefix(n,'o=')[0].substr(2).split(' ');return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if('string'!=typeof n||0===n.length)return!1;for(var s=t.splitLines(n),p=0;p<s.length;p++)if(s[p].length<2||'='!==s[p].charAt(1))return!1;return!0},'object'==typeof m&&(m.exports=t)},647,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=e.shimGetUserMedia=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(d[1]);Object.defineProperty(e,'shimGetUserMedia',{enumerable:!0,get:function(){return o.shimGetUserMedia}});var c=r(d[2]);Object.defineProperty(e,'shimGetDisplayMedia',{enumerable:!0,get:function(){return c.shimGetDisplayMedia}}),e.shimOnTrack=function(t){'object'===(void 0===t?'undefined':n(t))&&t.RTCTrackEvent&&'receiver'in t.RTCTrackEvent.prototype&&!('transceiver'in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,'transceiver',{get:function(){return{receiver:this.receiver}}})},e.shimPeerConnection=function(o){var c=s.detectBrowser(o);if('object'!==(void 0===o?'undefined':n(o))||!o.RTCPeerConnection&&!o.mozRTCPeerConnection)return;!o.RTCPeerConnection&&o.mozRTCPeerConnection&&(o.RTCPeerConnection=o.mozRTCPeerConnection);c.version<53&&['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(t){var n=o.RTCPeerConnection.prototype[t],c=p({},t,function(){return arguments[0]=new('addIceCandidate'===t?o.RTCIceCandidate:o.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});o.RTCPeerConnection.prototype[t]=c[t]});if(c.version<68){var u=o.RTCPeerConnection.prototype.addIceCandidate;o.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&''===arguments[0].candidate?Promise.resolve():u.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var f={inboundrtp:'inbound-rtp',outboundrtp:'outbound-rtp',candidatepair:'candidate-pair',localcandidate:'local-candidate',remotecandidate:'remote-candidate'},C=o.RTCPeerConnection.prototype.getStats;o.RTCPeerConnection.prototype.getStats=function(){var n=Array.prototype.slice.call(arguments),o=n[0],s=n[1],p=n[2];return C.apply(this,[o||null]).then(function(n){if(c.version<53&&!s)try{n.forEach(function(t){t.type=f[t.type]||t.type})}catch(o){if('TypeError'!==o.name)throw o;n.forEach(function(o,c){n.set(c,t({},o,{type:f[o.type]||o.type}))})}return n}).then(s,p)}},e.shimSenderGetStats=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&'getStats'in t.RTCRtpSender.prototype)return;var o=t.RTCPeerConnection.prototype.getSenders;o&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});var c=t.RTCPeerConnection.prototype.addTrack;c&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=c.apply(this,arguments);return t._pc=this,t});t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}},e.shimReceiverGetStats=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&'getStats'in t.RTCRtpReceiver.prototype)return;var o=t.RTCPeerConnection.prototype.getReceivers;o&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=o.apply(this,[]);return n.forEach(function(n){return n._pc=t}),n});s.wrapPeerConnectionEvent(t,'track',function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}},e.shimRemoveStream=function(t){if(!t.RTCPeerConnection||'removeStream'in t.RTCPeerConnection.prototype)return;t.RTCPeerConnection.prototype.removeStream=function(t){var n=this;s.deprecated('removeStream','removeTrack'),this.getSenders().forEach(function(o){o.track&&t.getTracks().includes(o.track)&&n.removeTrack(o)})}},e.shimRTCDataChannel=function(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)},e.shimAddTransceiver=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.addTransceiver;o&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var t=arguments[1],n=t&&'sendEncodings'in t;n&&t.sendEncodings.forEach(function(t){if('rid'in t){if(!/^[a-z0-9]{0,16}$/i.test(t.rid))throw new TypeError('Invalid RID value provided.')}if('scaleResolutionDownBy'in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw new RangeError('scale_resolution_down_by must be >= 1.0');if('maxFramerate'in t&&!(parseFloat(t.maxFramerate)>=0))throw new RangeError('max_framerate must be >= 0.0')});var c=o.apply(this,arguments);if(n){var s=c.sender,p=s.getParameters();'encodings'in p||(p.encodings=t.sendEncodings,this.setParametersPromises.push(s.setParameters(p).catch(function(){})))}return c})},e.shimCreateOffer=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){var t=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return o.apply(t,n)}).finally(function(){t.setParametersPromises=[]}):o.apply(this,arguments)}},e.shimCreateAnswer=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){var t=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return o.apply(t,n)}).finally(function(){t.setParametersPromises=[]}):o.apply(this,arguments)}};var s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[3]));function p(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}},648,[16,649,650,638]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.shimGetUserMedia=function(n){var s=o.detectBrowser(n),p=n&&n.navigator,u=n&&n.MediaStreamTrack;if(p.getUserMedia=function(t,n,s){o.deprecated('navigator.getUserMedia','navigator.mediaDevices.getUserMedia'),p.mediaDevices.getUserMedia(t).then(n,s)},!(s.version>55&&'autoGainControl'in p.mediaDevices.getSupportedConstraints())){var c=function(t,o,n){o in t&&!(n in t)&&(t[n]=t[o],delete t[o])},f=p.mediaDevices.getUserMedia.bind(p.mediaDevices);if(p.mediaDevices.getUserMedia=function(o){return'object'===(void 0===o?'undefined':t(o))&&'object'===t(o.audio)&&(o=JSON.parse(JSON.stringify(o)),c(o.audio,'autoGainControl','mozAutoGainControl'),c(o.audio,'noiseSuppression','mozNoiseSuppression')),f(o)},u&&u.prototype.getSettings){var y=u.prototype.getSettings;u.prototype.getSettings=function(){var t=y.apply(this,arguments);return c(t,'mozAutoGainControl','autoGainControl'),c(t,'mozNoiseSuppression','noiseSuppression'),t}}if(u&&u.prototype.applyConstraints){var l=u.prototype.applyConstraints;u.prototype.applyConstraints=function(o){return'audio'===this.kind&&'object'===(void 0===o?'undefined':t(o))&&(o=JSON.parse(JSON.stringify(o)),c(o,'autoGainControl','mozAutoGainControl'),c(o,'noiseSuppression','mozNoiseSuppression')),l.apply(this,[o])}}}};var o=(function(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o.default=t,o})(r(d[0]))},649,[638]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.shimGetDisplayMedia=function(t,n){if(t.navigator.mediaDevices&&'getDisplayMedia'in t.navigator.mediaDevices)return;if(!t.navigator.mediaDevices)return;t.navigator.mediaDevices.getDisplayMedia=function(o){if(!o||!o.video){var s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name='NotFoundError',s.code=8,Promise.reject(s)}return!0===o.video?o.video={mediaSource:n}:o.video.mediaSource=n,t.navigator.mediaDevices.getUserMedia(o)}}},650,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.shimLocalStreamsAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;'getLocalStreams'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams});if(!('addStream'in t.RTCPeerConnection.prototype)){var o=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(function(c){return o.call(n,c,t)}),t.getVideoTracks().forEach(function(c){return o.call(n,c,t)})},t.RTCPeerConnection.prototype.addTrack=function(t){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),o.apply(this,arguments)}}'removeStream'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var n=this;this._localStreams||(this._localStreams=[]);var o=this._localStreams.indexOf(t);if(-1!==o){this._localStreams.splice(o,1);var c=t.getTracks();this.getSenders().forEach(function(t){c.includes(t.track)&&n.removeTrack(t)})}})},e.shimRemoteStreamsAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;'getRemoteStreams'in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]});if(!('onaddstream'in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,'onaddstream',{get:function(){return this._onaddstream},set:function(t){var n=this;this._onaddstream&&(this.removeEventListener('addstream',this._onaddstream),this.removeEventListener('track',this._onaddstreampoly)),this.addEventListener('addstream',this._onaddstream=t),this.addEventListener('track',this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(n._remoteStreams||(n._remoteStreams=[]),!n._remoteStreams.includes(t)){n._remoteStreams.push(t);var o=new Event('addstream');o.stream=t,n.dispatchEvent(o)}})})}});var o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener('track',this._onaddstreampoly=function(n){n.streams.forEach(function(n){if(t._remoteStreams||(t._remoteStreams=[]),!(t._remoteStreams.indexOf(n)>=0)){t._remoteStreams.push(n);var o=new Event('addstream');o.stream=n,t.dispatchEvent(o)}})}),o.apply(t,arguments)}}},e.shimCallbacksAPI=function(t){if('object'!==(void 0===t?'undefined':n(t))||!t.RTCPeerConnection)return;var o=t.RTCPeerConnection.prototype,c=o.createOffer,s=o.createAnswer,f=o.setLocalDescription,v=o.setRemoteDescription,u=o.addIceCandidate;o.createOffer=function(t,n){var o=arguments.length>=2?arguments[2]:arguments[0],s=c.apply(this,[o]);return n?(s.then(t,n),Promise.resolve()):s},o.createAnswer=function(t,n){var o=arguments.length>=2?arguments[2]:arguments[0],c=s.apply(this,[o]);return n?(c.then(t,n),Promise.resolve()):c};var p=function(t,n,o){var c=f.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c};o.setLocalDescription=p,p=function(t,n,o){var c=v.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c},o.setRemoteDescription=p,p=function(t,n,o){var c=u.apply(this,[t]);return o?(c.then(n,o),Promise.resolve()):c},o.addIceCandidate=p},e.shimGetUserMedia=function(t){var n=t&&t.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){var o=n.mediaDevices,s=o.getUserMedia.bind(o);n.mediaDevices.getUserMedia=function(t){return s(c(t))}}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=function(t,o,c){n.mediaDevices.getUserMedia(t).then(o,c)}.bind(n))},e.shimConstraints=c,e.shimRTCIceServerUrls=function(t){var n=t.RTCPeerConnection;t.RTCPeerConnection=function(t,c){if(t&&t.iceServers){for(var s=[],f=0;f<t.iceServers.length;f++){var v=t.iceServers[f];!v.hasOwnProperty('urls')&&v.hasOwnProperty('url')?(o.deprecated('RTCIceServer.url','RTCIceServer.urls'),(v=JSON.parse(JSON.stringify(v))).urls=v.url,delete v.url,s.push(v)):s.push(t.iceServers[f])}t.iceServers=s}return new n(t,c)},t.RTCPeerConnection.prototype=n.prototype,'generateCertificate'in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,'generateCertificate',{get:function(){return n.generateCertificate}})},e.shimTrackEventTransceiver=function(t){'object'===(void 0===t?'undefined':n(t))&&t.RTCTrackEvent&&'receiver'in t.RTCTrackEvent.prototype&&!('transceiver'in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,'transceiver',{get:function(){return{receiver:this.receiver}}})},e.shimCreateOfferLegacy=function(t){var n=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var o=this.getTransceivers().find(function(t){return'audio'===t.receiver.track.kind});!1===t.offerToReceiveAudio&&o?'sendrecv'===o.direction?o.setDirection?o.setDirection('sendonly'):o.direction='sendonly':'recvonly'===o.direction&&(o.setDirection?o.setDirection('inactive'):o.direction='inactive'):!0!==t.offerToReceiveAudio||o||this.addTransceiver('audio'),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var c=this.getTransceivers().find(function(t){return'video'===t.receiver.track.kind});!1===t.offerToReceiveVideo&&c?'sendrecv'===c.direction?c.setDirection?c.setDirection('sendonly'):c.direction='sendonly':'recvonly'===c.direction&&(c.setDirection?c.setDirection('inactive'):c.direction='inactive'):!0!==t.offerToReceiveVideo||c||this.addTransceiver('video')}return n.apply(this,arguments)}};var o=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n.default=t,n})(r(d[1]));function c(n){return n&&void 0!==n.video?t({},n,{video:o.compactObject(n.video)}):n}},651,[16,638]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.shimRTCIceCandidate=function(o){if(!o.RTCIceCandidate||o.RTCIceCandidate&&'foundation'in o.RTCIceCandidate.prototype)return;var c=o.RTCIceCandidate;o.RTCIceCandidate=function(o){if('object'===(void 0===o?'undefined':t(o))&&o.candidate&&0===o.candidate.indexOf('a=')&&((o=JSON.parse(JSON.stringify(o))).candidate=o.candidate.substr(2)),o.candidate&&o.candidate.length){var p=new c(o),u=s.default.parseCandidate(o.candidate),f=n(p,u);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new c(o)},o.RTCIceCandidate.prototype=c.prototype,p.wrapPeerConnectionEvent(o,'icecandidate',function(n){return n.candidate&&Object.defineProperty(n,'candidate',{value:new o.RTCIceCandidate(n.candidate),writable:'false'}),n})},e.shimMaxMessageSize=function(n){if(!n.RTCPeerConnection)return;var t=p.detectBrowser(n);'sctp'in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,'sctp',{get:function(){return void 0===this._sctp?null:this._sctp}});var o=function(n){if(!n||!n.sdp)return!1;var t=s.default.splitSections(n.sdp);return t.shift(),t.some(function(n){var t=s.default.parseMLine(n);return t&&'application'===t.kind&&-1!==t.protocol.indexOf('SCTP')})},c=function(n){var t=n.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var o=parseInt(t[1],10);return o!=o?-1:o},u=function(n){var o=65536;return'firefox'===t.browser&&(o=t.version<57?-1===n?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),o},f=function(n,o){var c=65536;'firefox'===t.browser&&57===t.version&&(c=65535);var p=s.default.matchPrefix(n.sdp,'a=max-message-size:');return p.length>0?c=parseInt(p[0].substr(19),10):'firefox'===t.browser&&-1!==o&&(c=2147483637),c},l=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,'chrome'===t.browser&&t.version>=76){var n=this.getConfiguration(),s=n.sdpSemantics;'plan-b'===s&&Object.defineProperty(this,'sctp',{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){var p=c(arguments[0]),h=u(p),C=f(arguments[0],p),v=void 0;v=0===h&&0===C?Number.POSITIVE_INFINITY:0===h||0===C?Math.max(h,C):Math.min(h,C);var y={};Object.defineProperty(y,'maxMessageSize',{get:function(){return v}}),this._sctp=y}return l.apply(this,arguments)}},e.shimSendThrowTypeError=function(n){if(!(n.RTCPeerConnection&&'createDataChannel'in n.RTCPeerConnection.prototype))return;function t(n,t){var o=n.send;n.send=function(){var c=arguments[0],s=c.length||c.size||c.byteLength;if('open'===n.readyState&&t.sctp&&s>t.sctp.maxMessageSize)throw new TypeError('Message too large (can send a maximum of '+t.sctp.maxMessageSize+' bytes)');return o.apply(n,arguments)}}var o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){var n=o.apply(this,arguments);return t(n,this),n},p.wrapPeerConnectionEvent(n,'datachannel',function(n){return t(n.channel,n.target),n})},e.shimConnectionState=function(n){if(!n.RTCPeerConnection||'connectionState'in n.RTCPeerConnection.prototype)return;var t=n.RTCPeerConnection.prototype;Object.defineProperty(t,'connectionState',{get:function(){return{completed:'connected',checking:'connecting'}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,'onconnectionstatechange',{get:function(){return this._onconnectionstatechange||null},set:function(n){this._onconnectionstatechange&&(this.removeEventListener('connectionstatechange',this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener('connectionstatechange',this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),['setLocalDescription','setRemoteDescription'].forEach(function(n){var o=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(n){var t=n.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var o=new Event('connectionstatechange',n);t.dispatchEvent(o)}return n},this.addEventListener('iceconnectionstatechange',this._connectionstatechangepoly)),o.apply(this,arguments)}})},e.removeAllowExtmapMixed=function(n){if(!n.RTCPeerConnection)return;var t=p.detectBrowser(n);if('chrome'===t.browser&&t.version>=71)return;var o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(n){return n&&n.sdp&&-1!==n.sdp.indexOf('\na=extmap-allow-mixed')&&(n.sdp=n.sdp.split('\n').filter(function(n){return'a=extmap-allow-mixed'!==n.trim()}).join('\n')),o.apply(this,arguments)}};var o,c=r(d[1]),s=(o=c)&&o.__esModule?o:{default:o},p=(function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t.default=n,t})(r(d[2]))},652,[16,647,638]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=V;var s=n(r(d[2])),o=r(d[3]),c=r(d[4]),u=n(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),p=n(r(d[8])),h=t(r(d[9])),v=t(r(d[10])),S=n(r(d[11])),y=t(r(d[12])),T=n(r(d[13])),R=n(r(d[14])),_=n(r(d[15])),k=n(r(d[16])),C=r(d[17]),D=n(r(d[18])),P=n(r(d[19])),E=n(r(d[20])),O=n(r(d[21])),w=r(d[22]);function A(t,n){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=I(t))||n&&t&&"number"==typeof t.length){s&&(t=s);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=t[Symbol.iterator]()).next.bind(s)}function I(t,n){if(t){if("string"==typeof t)return M(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?M(t,n):void 0}}function M(t,n){(null==n||n>t.length)&&(n=t.length);for(var s=0,o=new Array(n);s<n;s++)o[s]=t[s];return o}var L=(0,c.getLogger)(__filename),U=25e5,b=2e5,B=7e5;function V(t,n,s,c,u,l,f){var p=this;this.audioTransferActive=!(!0===f.startSilent),this._dtmfSender=void 0,this._dtmfTonesQueue=[],this.videoTransferActive=!0,this.rtc=t,this.id=n,this.isP2P=l,this.remoteTracks=new Map,this.localTracks=new Map,this._addedStreams=[],this.localSSRCs=new Map,this.localUfrag=null,this.remoteUfrag=null,this.signalingLayer=s,this._peerVideoTypeChanged=this._peerVideoTypeChanged.bind(this),this.signalingLayer.on(h.PEER_VIDEO_TYPE_CHANGED,this._peerVideoTypeChanged),this._peerMutedChanged=this._peerMutedChanged.bind(this),this.signalingLayer.on(h.PEER_MUTED_CHANGED,this._peerMutedChanged),this.options=f;var v=u||{};v.optional=v.optional||[],Array.isArray(v.optional)?v.optional.push({rtcStatsSFUP2P:this.isP2P}):L.warn('Optional param is not an array, rtcstats p2p data is omitted.'),this.peerconnection=new O.default.RTCPeerConnectionType(c,v);var y={low:b,standard:B,high:U};this.videoBitrates=this.options.videoQuality&&this.options.videoQuality.maxBitratesVideo?this.options.videoQuality.maxBitratesVideo:y,this.tpcUtils=new w.TPCUtils(this,this.videoBitrates),this.updateLog=[],this.stats={},this.statsinterval=null,this.maxstats=f.maxstats,this.interop=new o.Interop;var R=r(d[23]);this.simulcast=new R({numOfLayers:w.SIM_LAYER_RIDS.length,explodeRemoteSimulcast:!1,usesUnifiedPlan:S.default.usesUnifiedPlan()}),this.sdpConsistency=new k.default(this.toString()),this.localSdpMunger=new P.default(this),this.eventEmitter=t.eventEmitter,this.rtxModifier=new T.default,this.senderVideoMaxHeight=null,this.trace=function(t,n){L.debug(t,n),p.updateLog.push({time:new Date,type:t,value:n||''})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(t){p.trace('onicecandidate',JSON.stringify(t.candidate,null,' ')),null!==p.onicecandidate&&p.onicecandidate(t)},S.default.usesPlanB()?(this.peerconnection.onaddstream=function(t){return p._remoteStreamAdded(t.stream)},this.peerconnection.onremovestream=function(t){return p._remoteStreamRemoved(t.stream)}):this.peerconnection.ontrack=function(t){var n=t.streams[0];p._remoteTrackAdded(n,t.track,t.transceiver),n.onremovetrack=function(t){p._remoteTrackRemoved(n,t.track)}},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(t){p.trace('onsignalingstatechange',p.signalingState),null!==p.onsignalingstatechange&&p.onsignalingstatechange(t)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(t){p.trace('oniceconnectionstatechange',p.iceConnectionState),null!==p.oniceconnectionstatechange&&p.oniceconnectionstatechange(t)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(t){p.trace('onnegotiationneeded'),null!==p.onnegotiationneeded&&p.onnegotiationneeded(t)},this.ondatachannel=null,this.peerconnection.ondatachannel=function(t){p.trace('ondatachannel'),null!==p.ondatachannel&&p.ondatachannel(t)},this.maxstats&&(this.statsinterval=window.setInterval(function(){p.getStats(function(t){if(t.result&&'function'==typeof t.result)for(var n=t.result(),s=function(t){var s=n[t];s.names().forEach(function(t){p._processStat(s,t,s.stat(t))})},o=0;o<n.length;++o)s(o);else t.forEach(function(t){return p._processStat(t,'',t)})},function(){})},1e3)),L.info("Create new "+this)}V.prototype._processStat=function(t,n,s){var o=t.id+"-"+n,c=this.stats[o],u=new Date;c||(this.stats[o]=c={startTime:u,endTime:u,values:[],times:[]}),c.values.push(s),c.times.push(u.getTime()),c.values.length>this.maxstats&&(c.values.shift(),c.times.shift()),c.endTime=u};var x=function(t){return void 0===t||null===t?'':"type: "+t.type+"\r\n"+t.sdp};function F(t){var n=new Map,s=new Map;if('object'!=typeof t||null===t||'string'!=typeof t.sdp)return L.warn('An empty description was passed as an argument.'),n;var o=u.default.parse(t.sdp);if(!Array.isArray(o.media))return n;for(var c,l=A(o.media);!(c=l()).done;){var f=c.value;if(Array.isArray(f.ssrcs)){if(Array.isArray(f.ssrcGroups))for(var p,h=A(f.ssrcGroups);!(p=h()).done;){var v=p.value;if(void 0!==v.semantics&&void 0!==v.ssrcs){var S=v.ssrcs.split(' ').map(function(t){return parseInt(t,10)}),y=S[0];v.ssrcs=S,s.has(y)||s.set(y,[]),s.get(y).push(v)}}for(var T,R=A(f.ssrcs);!(T=R()).done;){var _=T.value;if('msid'===_.attribute){var k=_.value,C=n.get(k);C||(C={ssrcs:[],groups:[],msid:k},n.set(k,C));var D=_.id;if(C.ssrcs.push(D),s.has(D))for(var P,E=A(s.get(D));!(P=E()).done;){var O=P.value;C.groups.push(O)}}}}}return n}V.prototype.getConnectionState=function(){var t=this.peerconnection.iceConnectionState;return'completed'===t?'connected':t},V.prototype._getDesiredMediaDirection=function(t){var n=!0;return t===f.AUDIO?n=this.audioTransferActive:t===f.VIDEO&&(n=this.videoTransferActive),n?this.hasAnyTracksOfType(t)?'sendrecv':'recvonly':'inactive'},V.prototype.isSimulcastOn=function(){return!this.options.disableSimulcast},V.prototype._peerVideoTypeChanged=function(t,n){if(t){var s=this.getRemoteTracks(t,f.VIDEO);s.length&&s[0]._setVideoType(n)}else L.error("No endpointID on peerVideoTypeChanged "+this)},V.prototype._peerMutedChanged=function(t,n,s){if(t){var o=this.getRemoteTracks(t,n);o.length&&o[0].setMute(s)}else L.error('On peerMuteChanged - no endpoint ID')},V.prototype.getAudioLevels=function(){var t={};return this.peerconnection.getReceivers().filter(function(t){return t.track&&t.track.kind===f.AUDIO}).forEach(function(n){var s=n.getSynchronizationSources();s&&s.length&&(t[s[0].source]=s[0].audioLevel)}),t},V.prototype.getLocalTracks=function(t){var n=Array.from(this.localTracks.values());return void 0!==t&&(n=n.filter(function(n){return n.getType()===t})),n},V.prototype.getLocalVideoTrack=function(){return this.getLocalTracks(f.VIDEO)[0]},V.prototype.hasAnyTracksOfType=function(t){if(!t)throw new Error('"mediaType" is required');return this.getLocalTracks(t).length>0},V.prototype.getRemoteTracks=function(t,n){for(var s,o=[],c=A(t?[t]:this.remoteTracks.keys());!(s=c()).done;){var u=s.value,l=this.remoteTracks.get(u);if(l)for(var f,p=A(l.keys());!(f=p()).done;){var h=f.value;if(!n||n===h){var v=l.get(h);v&&o.push(v)}}}return o},V.prototype.getTrackBySSRC=function(t){if('number'!=typeof t)throw new Error("SSRC "+t+" is not a number");for(var n,s=A(this.localTracks.values());!(n=s()).done;){var o=n.value;if(this.getLocalSSRC(o)===t)return o}for(var c,u=A(this.getRemoteTracks());!(c=u()).done;){var l=c.value;if(l.getSSRC()===t)return l}return null},V.prototype.getSsrcByTrackId=function(t){var n=function(n){return n.getTrack().id===t},s=this.getLocalTracks().find(n);if(s)return this.getLocalSSRC(s);var o=this.getRemoteTracks().find(n);return o?o.getSSRC():null},V.prototype._remoteStreamAdded=function(t){var n=this,s=E.default.getStreamID(t);if(E.default.isUserStreamById(s)){S.default.isChromiumBased()&&(t.onaddtrack=function(s){n._remoteTrackAdded(t,s.track)},t.onremovetrack=function(s){n._remoteTrackRemoved(t,s.track)});for(var o,c=A(t.getAudioTracks());!(o=c()).done;){var u=o.value;this._remoteTrackAdded(t,u)}for(var l,f=A(t.getVideoTracks());!(l=f()).done;){var p=l.value;this._remoteTrackAdded(t,p)}}else L.info(this+" ignored remote 'stream added' event for non-user streamid: "+s)},V.prototype._remoteTrackAdded=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=E.default.getStreamID(t),c=n.kind;if(this.isP2P||E.default.isUserStreamById(o))if(L.info(this+" remote track added:",o,c),c){var u,l=S.default.usesPlanB()?new R.default(this.remoteDescription.sdp):new R.default(this.peerconnection.remoteDescription.sdp);if(S.default.usesUnifiedPlan())if(s&&s.mid){var f=s.mid;u=l.media.filter(function(t){return _.default.findLine(t,"a=mid:"+f)})}else u=l.media.filter(function(t){var n=_.default.findLine(t,'a=msid:');return void 0!==n&&o===n.substring(7).split(' ')[0]});else u=l.media.filter(function(t){return t.startsWith("m="+c)});if(u.length){var p=_.default.findLines(u[0],'a=ssrc:');if((p=p.filter(function(t){return-1!==t.indexOf("msid:"+o)})).length){var h=p[0].substring(7).split(' ')[0],v=Number(h),T=this.signalingLayer.getSSRCOwner(v);if(isNaN(v)||v<0)y.callErrorHandler(new Error("Invalid SSRC: "+h+" for remote track, msid: "+o+" media type: "+c));else if(T){L.log(this+" associated ssrc",T,v);var k=this.signalingLayer.getPeerMediaInfo(T,c);if(k){var C=k.muted,D=k.videoType;this._createRemoteTrack(T,t,n,c,D,v,C)}else y.callErrorHandler(new Error(this+": no peer media info available for "+T))}else y.callErrorHandler(new Error("No SSRC owner known for: "+v+" for remote track, msid: "+o+" media type: "+c))}else y.callErrorHandler(new Error("No SSRC lines for streamId "+o+" for remote track, media type: "+c))}else y.callErrorHandler(new Error("No media lines for type "+c+" found in remote SDP for remote track: "+o))}else y.callErrorHandler(new Error("MediaType undefined for remote track, stream id: "+o));else L.info(this+" ignored remote 'stream added' event for non-user streamid: "+o)},V.prototype._createRemoteTrack=function(t,n,s,o,c,u,l){var f=this.remoteTracks.get(t);f||(f=new Map,this.remoteTracks.set(t,f));var h=f.get(o);if(h&&S.default.isSafari()&&this._remoteTrackRemoved(h.getOriginalStream(),h.getTrack()),h&&h.getTrack()===s)L.info(this+" ignored duplicated remote track added event for: "+t+", "+o);else{h&&L.error(this+" overwriting remote track for "+t+" "+o);var v=new D.default(this.rtc,this.rtc.conference,t,n,s,o,c,u,l,this.isP2P);f.set(o,v),this.eventEmitter.emit(p.default.REMOTE_TRACK_ADDED,v,this)}},V.prototype._remoteStreamRemoved=function(t){if(E.default.isUserStream(t)){for(var n,s=A(t.getVideoTracks());!(n=s()).done;){var o=n.value;this._remoteTrackRemoved(t,o)}for(var c,u=A(t.getAudioTracks());!(c=u()).done;){var l=c.value;this._remoteTrackRemoved(t,l)}}else{var f=E.default.getStreamID(t);L.info("Ignored remote 'stream removed' event for non-user stream "+f)}},V.prototype._remoteTrackRemoved=function(t,n){var s=E.default.getStreamID(t),o=n&&E.default.getTrackID(n);L.info(this+" - remote track removed: "+s+", "+o),s?o?this._removeRemoteTrackById(s,o)||L.warn(this+" Removed track not found for msid: "+s+",\n             track id: "+o):y.callErrorHandler(new Error(this+" remote track removal failed - no track ID")):y.callErrorHandler(new Error(this+" remote track removal failed - no stream ID"))},V.prototype._getRemoteTrackById=function(t,n){for(var s,o=A(this.remoteTracks.values());!(s=o()).done;)for(var c,u=A(s.value.values());!(c=u()).done;){var l=c.value;if(l.getStreamId()==t&&l.getTrackId()==n)return l}},V.prototype.removeRemoteTracks=function(t){var n=[],s=this.remoteTracks.get(t);if(s){var o=s.get(f.AUDIO),c=s.get(f.VIDEO);o&&n.push(o),c&&n.push(c),this.remoteTracks.delete(t)}return L.debug(this+" removed remote tracks for "+t+" count: "+n.length),n},V.prototype._removeRemoteTrack=function(t){t.dispose();var n=t.getParticipantId(),s=this.remoteTracks.get(n);s?s.delete(t.getType())||L.error("Failed to remove "+t+" - type mapping messed up ?"):L.error("removeRemoteTrack: no remote tracks map for "+n),this.eventEmitter.emit(p.default.REMOTE_TRACK_REMOVED,t)},V.prototype._removeRemoteTrackById=function(t,n){var s=this._getRemoteTrackById(t,n);return s&&this._removeRemoteTrack(s),s};var N=function(t){if('object'!=typeof t||null===t||'string'!=typeof t.sdp)return L.warn('An empty description was passed as an argument.'),t;var n=r(d[5]),s=n.parse(t.sdp);void 0!==s&&void 0!==s.media&&Array.isArray(s.media)&&s.media.forEach(function(t){var n=[],s=[];if(void 0!==t.ssrcGroups&&Array.isArray(t.ssrcGroups)&&t.ssrcGroups.forEach(function(t){void 0!==t.semantics&&'FID'===t.semantics&&void 0!==t.ssrcs&&n.push(Number(t.ssrcs.split(' ')[0]))}),Array.isArray(t.ssrcs)){var o;for(o=0;o<t.ssrcs.length;o++)'object'==typeof t.ssrcs[o]&&void 0!==t.ssrcs[o].id&&n.indexOf(t.ssrcs[o].id)>=0&&(s.push(t.ssrcs[o]),delete t.ssrcs[o]);for(o=0;o<t.ssrcs.length;o++)void 0!==t.ssrcs[o]&&s.push(t.ssrcs[o]);t.ssrcs=G(s)}});var o=n.write(s);return new RTCSessionDescription({type:t.type,sdp:o})};function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!S.default.isChrome()||!S.default.isVersionGreaterThan(70))return t;var n=(0,s.default)(t);return t.filter(function(t){return'mslabel'===t.attribute&&'-'===t.value}).map(function(t){return t.id}).forEach(function(t){var s=n.find(function(n){return n.id===t&&'cname'===n.attribute});s.value="recvonly-"+t,(n=n.filter(function(n){return n.id!==t})).push(s)}),n}var j=function(t,n){if(!t)throw new Error('No local description passed in.');var s=new C.SdpTransformWrap(t.sdp),o=s.selectMedia('audio'),c=!1;o&&'sendrecv'!==o.direction&&(n.startSilent?o.direction='inactive':o.direction='sendrecv',c=!0);var u=s.selectMedia('video');return u&&'sendrecv'!==u.direction&&(u.direction='sendrecv',c=!0),c?new RTCSessionDescription({type:t.type,sdp:s.toRawSDP()}):t};V.prototype.getLocalSSRC=function(t){var n=this._getSSRC(t.rtcId);return n&&n.ssrcs[0]},V.prototype._injectSsrcGroupForUnifiedSimulcast=function(t){var n=u.default.parse(t.sdp),s=n.media.find(function(t){return'video'===t.type});s.ssrcGroups=s.ssrcGroups||[];var o=s.ssrcGroups.filter(function(t){return'FID'===t.semantics});if(s.simulcast||s.simulcast_03){var c=[];if(o&&o.length?o.forEach(function(t){c.push(t.ssrcs.split(' ')[0])}):s.ssrcs.forEach(function(t){'msid'===t.attribute&&c.push(t.id)}),s.ssrcGroups.find(function(t){return'SIM'===t.semantics}))return t;s.ssrcGroups.push({semantics:'SIM',ssrcs:c.join(' ')})}return new RTCSessionDescription({type:t.type,sdp:u.default.write(n)})};var H={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},localDescription:function(){var t=this.peerconnection.localDescription;return t?(this.trace('getLocalDescription::preTransform',x(t)),S.default.usesUnifiedPlan()?(t=this.interop.toPlanB(t),this.trace('getLocalDescription::postTransform (Plan B)',x(t)),t=this._injectSsrcGroupForUnifiedSimulcast(t),this.trace('getLocalDescription::postTransform (inject ssrc group)',x(t))):(S.default.doesVideoMuteByStreamRemove()&&(t=this.localSdpMunger.maybeAddMutedLocalVideoTracksToSDP(t),L.debug('getLocalDescription::postTransform (munge local SDP)',t)),t=j(t,this.options)),t=this.localSdpMunger.transformStreamIdentifiers(t)):(L.debug('getLocalDescription no localDescription found'),{})},remoteDescription:function(){var t=this.peerconnection.remoteDescription;return t?(this.trace('getRemoteDescription::preTransform',x(t)),S.default.usesUnifiedPlan()&&(t=this.interop.toPlanB(t),this.trace('getRemoteDescription::postTransform (Plan B)',x(t))),t):(L.debug('getRemoteDescription no remoteDescription found'),{})}};function K(t){return t.getLocalTracks().some(function(t){return'camera'===t.videoType})}Object.keys(H).forEach(function(t){Object.defineProperty(V.prototype,t,{get:H[t]})}),V.prototype._getSSRC=function(t){return this.localSSRCs.get(t)},V.prototype._mungeCodecOrder=function(t){var n=this;if(!this.codecPreference||S.default.supportsCodecPreferences())return t;var s=u.default.parse(t.sdp),o=s.media.find(function(t){return t.type===n.codecPreference.mediaType});return this.codecPreference.enable?(_.default.preferCodec(o,this.codecPreference.mimeType),this.codecPreference.mimeType===l.H264&&S.default.isReactNative()&&this.isP2P&&_.default.stripCodec(o,this.codecPreference.mimeType,!0)):_.default.stripCodec(o,this.codecPreference.mimeType),new RTCSessionDescription({type:t.type,sdp:u.default.write(s)})},V.prototype.containsTrack=function(t){if(t.isLocal())return this.localTracks.has(t.rtcId);var n=t.getParticipantId(),s=this.remoteTracks.get(n);return Boolean(s&&s.get(t.getType())===t)},V.prototype.addTrack=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t.rtcId;if(L.info("add "+t+" to: "+this),this.localTracks.has(s))return Promise.reject(new Error(t+" is already in "+this));if(this.localTracks.set(s,t),S.default.usesUnifiedPlan()&&this.isP2P)this.tpcUtils.addTrack(t,n);else{var o=t.getOriginalStream();if(o)this._addStream(o);else if(!S.default.doesVideoMuteByStreamRemove()||t.isAudioTrack()||t.isVideoTrack()&&!t.isMuted())return Promise.reject(new Error(this+" no WebRTC stream for: "+t));if(S.default.usesPlanB()&&S.default.doesVideoMuteByStreamRemove()&&t.isVideoTrack()&&t.isMuted()){var c=this.generateNewStreamSSRCInfo(t);this.sdpConsistency.setPrimarySsrc(c.ssrcs[0]);var u=c.groups.find(function(t){return'SIM'===t.semantics});u&&this.simulcast.setSsrcCache(u.ssrcs);var l=c.groups.filter(function(t){return'FID'===t.semantics});if(l){var f=new Map;l.forEach(function(t){var n=t.ssrcs[0],s=t.ssrcs[1];f.set(n,s)}),this.rtxModifier.setSsrcCache(f)}}}var p=Promise.resolve();return S.default.isFirefox()&&(p=this.tpcUtils.setEncodings(t)),p},V.prototype.addTrackUnmute=function(t){if(!this._assertTrackBelongs('addTrackUnmute',t))return Promise.reject('Track not found on the peerconnection');L.info("Adding "+t+" as unmute to "+this);var n=t.getOriginalStream();return n?S.default.usesUnifiedPlan()?this.tpcUtils.addTrackUnmute(t):(this._addStream(n),Promise.resolve(!0)):(L.error("Unable to add "+t+" as unmute to "+this+" - no WebRTC stream"),Promise.reject('Stream not found'))},V.prototype._addStream=function(t){this.peerconnection.addStream(t),this._addedStreams.push(t)},V.prototype._removeStream=function(t){this.peerconnection.removeStream(t),this._addedStreams=this._addedStreams.filter(function(n){return n!==t})},V.prototype._assertTrackBelongs=function(t,n){var s=this.localTracks.has(n.rtcId);return s||L.error(t+": "+n+" does not belong to "+this),s},V.prototype.getConfiguredVideoCodec=function(){var t=this.localDescription.sdp,n=l.VP8;if(!t)return n;var s=u.default.parse(t).media.find(function(t){return t.type===f.VIDEO}).rtp[0].codec;return s?Object.values(l).find(function(t){return t===s.toLowerCase()}):n},V.prototype.setVideoCodecs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=null===n,o=n||t;this.codecPreference&&(t||n)?(this.codecPreference.enable=s,this.codecPreference.mimeType=o):t||n?this.codecPreference={enable:s,mediaType:f.VIDEO,mimeType:o}:L.warn("Invalid codec settings: preferred "+t+", disabled "+n+",\n            atleast one value is needed"),S.default.supportsCodecPreferences()},V.prototype.isMediaStreamInPc=function(t){return this._addedStreams.indexOf(t)>-1},V.prototype.removeTrack=function(t){var n=t.getOriginalStream();this.trace('removeStream',t.rtcId,n?n.id:void 0),this._assertTrackBelongs('removeStream',t)&&(this.localTracks.delete(t.rtcId),this.localSSRCs.delete(t.rtcId),n&&this.peerconnection.removeStream(n))},V.prototype.findSenderByKind=function(t){return this.peerconnection.getSenders().find(function(n){return n.track&&n.track.kind===t})},V.prototype.findReceiverForTrack=function(t){return this.peerconnection.getReceivers().find(function(n){return n.track===t})},V.prototype.findSenderForTrack=function(t){return this.peerconnection.getSenders().find(function(n){return n.track===t})},V.prototype.replaceTrack=function(t,n){var s=this;if(S.default.usesUnifiedPlan())return this.tpcUtils.replaceTrack(t,n).then(function(){return s.isSimulcastOn()&&S.default.usesSdpMungingForSimulcast()});var o=Promise.resolve();return t&&this.removeTrack(t),n&&(o=this.addTrack(n)),o.then(function(){return!0})},V.prototype.removeTrackMute=function(t){var n=t.getOriginalStream();return this.trace('removeStreamMute',t.rtcId,n?n.id:null),this._assertTrackBelongs('removeStreamMute',t)?S.default.usesUnifiedPlan()?this.tpcUtils.removeTrackMute(t):n?(L.info("Removing "+t+" as mute from "+this),this._removeStream(n),Promise.resolve(!0)):(L.error("removeStreamMute - no WebRTC stream for "+t),Promise.reject('Stream not found')):Promise.reject('Track not found in the peerconnection')},V.prototype.createDataChannel=function(t,n){return this.trace('createDataChannel',t,n),this.peerconnection.createDataChannel(t,n)},V.prototype._ensureSimulcastGroupIsLast=function(t){var n=t.sdp,s=n.indexOf('m=video'),o=n.indexOf('a=ssrc-group:SIM',s),c=n.lastIndexOf('a=ssrc-group');if(-1===o||-1===c||c===o)return t;var u=n.indexOf('\r\n',o),l=n.substring(o,u+2);c=(n=n.replace(l,'')).lastIndexOf('a=ssrc-group');var f=n.indexOf('\r\n',c);return n=n.slice(0,f)+"\r\n"+l.trim()+n.slice(f),new RTCSessionDescription({type:t.type,sdp:n})},V.prototype._adjustLocalMediaDirection=function(t){var n=new C.SdpTransformWrap(t.sdp),s=!1,o=n.selectMedia('audio');if(o){var c=this._getDesiredMediaDirection(f.AUDIO);o.direction!==c&&(o.direction=c,L.info("Adjusted local audio direction to "+c),s=!0)}else L.warn('No "audio" media found int the local description');var u=n.selectMedia('video');if(u){var l=this._getDesiredMediaDirection(f.VIDEO);u.direction!==l&&(u.direction=l,L.info("Adjusted local video direction to "+l),s=!0)}else L.warn('No "video" media found in the local description');return s?new RTCSessionDescription({type:t.type,sdp:n.toRawSDP()}):t},V.prototype.setLocalDescription=function(t){var n=this,s=t;return this.trace('setLocalDescription::preTransform',x(s)),s=this._mungeCodecOrder(s),S.default.usesPlanB()?(s=this._adjustLocalMediaDirection(s),s=this._ensureSimulcastGroupIsLast(s)):(s=this.interop.toUnifiedPlan(s),this.trace('setLocalDescription::postTransform (Unified Plan)',x(s))),new Promise(function(t,o){n.peerconnection.setLocalDescription(s).then(function(){n.trace('setLocalDescriptionOnSuccess');var o=_.default.getUfrag(s.sdp);o!==n.localUfrag&&(n.localUfrag=o,n.eventEmitter.emit(p.default.LOCAL_UFRAG_CHANGED,n,o)),t()},function(t){n.trace('setLocalDescriptionOnFailure',t),n.eventEmitter.emit(p.default.SET_LOCAL_DESCRIPTION_FAILED,t,n),o(t)})})},V.prototype.setAudioTransferActive=function(t){L.debug(this+" audio transfer active: "+t);var n=this.audioTransferActive!==t;return this.audioTransferActive=t,S.default.usesUnifiedPlan()?(this.tpcUtils.setAudioTransferActive(t),!1):n},V.prototype.setSenderVideoDegradationPreference=function(){if(!this.peerconnection.getSenders)return L.debug('Browser does not support RTCRtpSender'),Promise.resolve();var t=this.getLocalVideoTrack(),n=this.findSenderByKind(f.VIDEO);if(!n)return Promise.resolve();var s=n.getParameters();if(!s.encodings||!s.encodings.length)return Promise.resolve();for(var o in s.encodings)if(s.encodings.hasOwnProperty(o)){var c=t.videoType===v.CAMERA?"maintain-framerate":"maintain-resolution";L.info("Setting video sender degradation preference on "+this+" to "+c),s.encodings[o].degradationPreference=c}return this.tpcUtils.updateEncodingsResolution(s),n.setParameters(s)},V.prototype.setMaxBitRate=function(){if(!this.peerconnection.getSenders)return L.debug('Browser doesn\'t support RTCRtpSender'),Promise.resolve();var t=this.getLocalVideoTrack();if(!t)return Promise.resolve();var n=t.videoType,s=S.default.usesPlanB()&&n===v.DESKTOP;if(!(this.options.videoQuality&&this.options.videoQuality.maxBitratesVideo||s&&this.options.capScreenshareBitrate||S.default.usesUnifiedPlan()))return Promise.resolve();var o=t._originalStream&&t._originalStream.id!==t.getStreamId(),c=this.findSenderByKind(f.VIDEO);if(!c)return Promise.resolve();var u=c.getParameters();if(!u.encodings||!u.encodings.length)return Promise.resolve();if(this.isSimulcastOn()){for(var l in u.encodings)if(u.encodings.hasOwnProperty(l)){var p=void 0;p=s?this.options.capScreenshareBitrate?o?this.videoBitrates.high:5e5:void 0:this.tpcUtils.localStreamEncodingsConfig[l].maxBitrate,L.info(this+" Setting a max bitrate of "+p+" bps on layer "+this.tpcUtils.localStreamEncodingsConfig[l].rid),u.encodings[l].maxBitrate=p}}else{var h=this.videoBitrates.high;if(n===v.CAMERA){var y=this.senderVideoMaxHeight?Math.floor(t.resolution/this.senderVideoMaxHeight):1,T=this.tpcUtils.localStreamEncodingsConfig.find(function(t){return t.scaleResolutionDownBy===y});T&&(L.info(this+" Setting a max bitrate of "+T.maxBitrate+" bps on local video track"),h=T.maxBitrate)}u.encodings[0].maxBitrate=h}return this.tpcUtils.updateEncodingsResolution(u),c.setParameters(u)},V.prototype.setRemoteDescription=function(t){var n=this;if(this.trace('setRemoteDescription::preTransform',x(t)),t=this._mungeCodecOrder(t),S.default.usesPlanB())this.isSimulcastOn()&&(t=this.simulcast.mungeRemoteDescription(t,!0),this.trace('setRemoteDescription::postTransform (simulcast)',x(t))),t=N(t);else{var s=this.peerconnection.remoteDescription;t=this.interop.toUnifiedPlan(t,s),this.trace('setRemoteDescription::postTransform (Unified)',x(t)),this.isSimulcastOn()&&(t=this.simulcast.mungeRemoteDescription(t),t=this.tpcUtils.insertUnifiedPlanSimulcastReceive(t),this.trace('setRemoteDescription::postTransform (sim receive)',x(t)),t=this.tpcUtils.ensureCorrectOrderOfSsrcs(t))}return new Promise(function(s,o){n.peerconnection.setRemoteDescription(t).then(function(){n.trace('setRemoteDescriptionOnSuccess');var o=_.default.getUfrag(t.sdp);o!==n.remoteUfrag&&(n.remoteUfrag=o,n.eventEmitter.emit(p.default.REMOTE_UFRAG_CHANGED,n,o)),s()},function(t){n.trace('setRemoteDescriptionOnFailure',t),n.eventEmitter.emit(p.default.SET_REMOTE_DESCRIPTION_FAILED,t,n),o(t)})})},V.prototype.setSenderVideoConstraint=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(n<0)throw new Error("Invalid frameHeight: "+n);if(S.default.isReactNative())return Promise.resolve();var s=null===n?this.senderVideoMaxHeight:n;if(this.senderVideoMaxHeight=s,null===s)return Promise.resolve();L.log(this+" senderVideoMaxHeight: "+s);var o=this.getLocalVideoTrack();if(!o||o.isMuted())return Promise.resolve();var c=this.findSenderByKind(f.VIDEO);if(!c)return Promise.resolve();var u=c.getParameters();if(!u||!u.encodings||!u.encodings.length)return Promise.resolve();if(this.isSimulcastOn()){var l=this.tpcUtils.getLocalStreamHeightConstraints(o.track).map(function(t){return t<=s}),h=this.tpcUtils.localStreamEncodingsConfig.findIndex(function(t){return 4===t.scaleResolutionDownBy});for(var y in s>0&&-1!==h&&(l[h]=!0),u.encodings)u.encodings.hasOwnProperty(y)&&(u.encodings[y].active=l[y]);this.tpcUtils.updateEncodingsResolution(u)}else s>0?(u.encodings[0].scaleResolutionDownBy=o.videoType===v.DESKTOP||o.resolution<=s?1:Math.floor(o.resolution/s),u.encodings[0].active=!0):(u.encodings[0].scaleResolutionDownBy=void 0,u.encodings[0].active=!1);return L.info(this+" setting max height of "+s+", encodings: "+JSON.stringify(u.encodings)),c.setParameters(u).then(function(){if(o.maxEnabledResolution=s,t.eventEmitter.emit(p.default.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,o),t.isP2P||!t.isSimulcastOn())return t.setMaxBitRate()})},V.prototype.setVideoTransferActive=function(t){L.debug(this+" video transfer active: "+t);var n=this.videoTransferActive!==t;return this.videoTransferActive=t,S.default.usesUnifiedPlan()?(this.tpcUtils.setVideoTransferActive(t),!1):n},V.prototype.sendTones=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!this._dtmfSender){if(this.peerconnection.getSenders){var o=this.peerconnection.getSenders().find(function(t){return t.dtmf});this._dtmfSender=o&&o.dtmf,this._dtmfSender&&L.info(this+" initialized DTMFSender using getSenders")}if(!this._dtmfSender){var c=Array.from(this.localTracks.values()).find(function(t){return t.isAudioTrack()});this.peerconnection.createDTMFSender&&c&&(this._dtmfSender=this.peerconnection.createDTMFSender(c.getTrack())),this._dtmfSender&&L.info(this+" initialized DTMFSender using deprecated createDTMFSender")}this._dtmfSender&&(this._dtmfSender.ontonechange=this._onToneChange.bind(this))}if(this._dtmfSender){if(this._dtmfSender.toneBuffer)return void this._dtmfTonesQueue.push({tones:t,duration:n,interToneGap:s});this._dtmfSender.insertDTMF(t,n,s)}else L.warn(this+" sendTones - failed to select DTMFSender")},V.prototype._onToneChange=function(t){if(this._dtmfSender&&''===t.tone&&this._dtmfTonesQueue.length){var n=this._dtmfTonesQueue.shift(),s=n.tones,o=n.duration,c=n.interToneGap;this._dtmfSender.insertDTMF(s,o,c)}},V.prototype.generateRecvonlySsrc=function(){var t=_.default.generateSsrc();L.info(this+" generated new recvonly SSRC: "+t),this.sdpConsistency.setPrimarySsrc(t)},V.prototype.clearRecvonlySsrc=function(){L.info('Clearing primary video SSRC!'),this.sdpConsistency.clearVideoSsrcCache()},V.prototype.close=function(){this.trace('stop'),this.signalingLayer.off(h.PEER_MUTED_CHANGED,this._peerMutedChanged),this.signalingLayer.off(h.PEER_VIDEO_TYPE_CHANGED,this._peerVideoTypeChanged);for(var t,n=A(this.remoteTracks.values());!(t=n()).done;)for(var s,o=A(t.value.values());!(s=o()).done;){var c=s.value;this._removeRemoteTrack(c)}this.remoteTracks.clear(),this._addedStreams=[],this._dtmfSender=null,this._dtmfTonesQueue=[],this.rtc._removePeerConnection(this)||L.error('RTC._removePeerConnection returned false'),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),L.info("Closing "+this+"..."),this.peerconnection.close()},V.prototype.createAnswer=function(t){return this._createOfferOrAnswer(!1,t)},V.prototype.createOffer=function(t){return this._createOfferOrAnswer(!0,t)},V.prototype._createOfferOrAnswer=function(t,n){var s=this,o=t?'Offer':'Answer';this.trace("create"+o,JSON.stringify(n,null,' '));var c=function(t,n,c){try{s.trace("create"+o+"OnSuccess::preTransform",x(t)),S.default.usesPlanB()&&(s.hasAnyTracksOfType(f.VIDEO)||s.sdpConsistency.hasPrimarySsrcCached()||s.generateRecvonlySsrc(),t=new RTCSessionDescription({type:t.type,sdp:s.sdpConsistency.makeVideoPrimarySsrcsConsistent(t.sdp)}),s.trace("create"+o+"OnSuccess::postTransform (make primary audio/video ssrcs consistent)",x(t))),s.isSimulcastOn()&&S.default.usesSdpMungingForSimulcast()&&(!s.options.capScreenshareBitrate||s.options.capScreenshareBitrate&&K(s))&&(t=s.simulcast.mungeLocalDescription(t),s.trace("create"+o+'OnSuccess::postTransform (simulcast)',x(t))),!s.options.disableRtx&&S.default.usesSdpMungingForSimulcast()&&(t=new RTCSessionDescription({type:t.type,sdp:s.rtxModifier.modifyRtxSsrcs(t.sdp)}),s.trace("create"+o+'OnSuccess::postTransform (rtx modifier)',x(t)));var u=F(t);L.debug('Got local SSRCs MAP: ',u),s._processLocalSSRCsMap(u),n(t)}catch(n){s.trace("create"+o+"OnError",n),s.trace("create"+o+"OnError",x(t)),L.error("create"+o+"OnError",n,x(t)),c(n)}},u=function(n,c){s.trace("create"+o+"OnFailure",n);var u=t?p.default.CREATE_OFFER_FAILED:p.default.CREATE_ANSWER_FAILED;s.eventEmitter.emit(u,n,s),c(n)};return new Promise(function(o,l){(t?s.peerconnection.createOffer(n):s.peerconnection.createAnswer(n)).then(function(t){return c(t,o,l)},function(t){return u(t,l)})})},V.prototype._extractPrimarySSRC=function(t){return t&&t.groups&&t.groups.length?t.groups[0].ssrcs[0]:t&&t.ssrcs&&t.ssrcs.length?t.ssrcs[0]:null},V.prototype._processLocalSSRCsMap=function(t){for(var n,s=A(this.localTracks.values());!(n=s()).done;){var o=n.value,c=o.storedMSID;if(t.has(c)){var u=t.get(c);if(!u)return void L.error("No SSRC found for: "+c+" in "+this);var l=this.localSSRCs.get(o.rtcId),f=this._extractPrimarySSRC(u),h=this._extractPrimarySSRC(l);f!==h?(null===h?L.info("Storing new local SSRC for "+o+" in "+this,u):L.error("Overwriting SSRC for "+o+" "+c+" in "+this+" with: ",u),this.localSSRCs.set(o.rtcId,u),this.eventEmitter.emit(p.default.LOCAL_TRACK_SSRC_UPDATED,o,f)):L.debug("The local SSRC("+f+") for "+o+" "+c+"is still up to date in "+this)}else o.isVideoTrack()||o.isMuted()||L.warn("No SSRCs found in the local SDP for "+o+" MSID: "+c+" in "+this)}},V.prototype.addIceCandidate=function(t){return this.trace('addIceCandidate',JSON.stringify({candidate:t.candidate,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex,usernameFragment:t.usernameFragment},null,' ')),this.peerconnection.addIceCandidate(t)},V.prototype.getStats=function(t,n){S.default.isSafari()||S.default.isFirefox()||S.default.isReactNative()?this.peerconnection.getStats().then(t).catch(n||function(){}):this.peerconnection.getStats(t)},V.prototype.generateNewStreamSSRCInfo=function(t){var n=t.rtcId,s=this._getSSRC(n);if(s&&L.error("Will overwrite local SSRCs for track ID: "+n),this.isSimulcastOn()&&(!this.options.capScreenshareBitrate||this.options.capScreenshareBitrate&&K(this))){s={ssrcs:[],groups:[]};for(var o=0;o<w.SIM_LAYER_RIDS.length;o++)s.ssrcs.push(_.default.generateSsrc());s.groups.push({ssrcs:s.ssrcs.slice(),semantics:'SIM'})}else s={ssrcs:[_.default.generateSsrc()],groups:[]};if(!this.options.disableRtx)for(var c=s.ssrcs.length,u=0;u<c;++u){var l=s.ssrcs[u],f=_.default.generateSsrc();s.ssrcs.push(f),s.groups.push({ssrcs:[l,f],semantics:'FID'})}return s.msid=t.storedMSID,this.localSSRCs.set(n,s),s},V.prototype.toString=function(){return"TPC["+this.id+",p2p:"+this.isP2P+"]"}},653,[12,1,25,654,432,657,618,557,561,621,562,536,552,661,616,617,663,662,664,665,627,632,666,667]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})},654,[655]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Interop=void 0;var s=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),c=['audio','video','data'],f=function(n){return n.find(function(n){return'SIM'===n.semantics})},p=function(n){return n.find(function(n){return'FID'===n.semantics})};function l(n,s,t,o){if(n&&s){var u=function(n){return o.find(function(s){return s.id.toString()===n})};s.ssrcs.forEach(function(s){n.sources.push(u(s));var o=t[parseInt(s,10)].find(function(n){return'FID'===n.semantics});if(o){var c=o.ssrcs.find(function(n){return n!==s});n.sources.push(u(c)),n.ssrcGroups.push(o)}}),n.ssrcGroups.push(s)}}function v(n,s,t,o){if(n&&s){if(n.sources=[],n.ssrcGroups=[],!t[s.id])return n.sources.push(s),void(n.msid=s.msid);var u=function(n){return o.find(function(s){return s.id.toString()===n})},c=f(t[s.id]),v=p(t[s.id]);if(c)l(n,c,t,o);else if(v){var h=v.ssrcs.find(function(n){return n!==s}),y=f(t[h]);y?l(n,y,t,o):(v.ssrcs.forEach(function(s){n.sources.push(u(s))}),n.ssrcGroups.push(v))}n.msid=n.sources[0].msid}}function h(n,s,t){if(!t.find(function(s){return!!s.sources&&s.sources.some(function(s){return s.id===n.id})})){if(!s[n.id])return!1;var o=f(s[n.id]),u=p(s[n.id]);return o?t.some(function(n){return n.sources&&n.sources.some(function(n){return n.id.toString()===o.ssrcs[0]})}):!(!u||n.id.toString()===u.ssrcs[0])&&h({id:u.ssrcs[0]},s,t)}return!0}function y(n){var s={};return n&&Array.isArray(n)?(n.forEach(function(n){n.ssrcs&&Array.isArray(n.ssrcs)&&n.ssrcs.forEach(function(t){void 0===s[t]&&(s[t]=[]),s[t].push(n)})}),s):s}var E=(function(){function n(){(0,s.default)(this,n)}return(0,t.default)(n,[{key:"toPlanB",value:function(n){if(!n||'string'!=typeof n.sdp)return console.warn('An empty description was passed as an argument.'),n;var s=u.default.parse(n.sdp);if(!s.media||!s.media.length)return console.warn('The description has no media.'),n;if(s.media.every(function(n){return-1!==c.indexOf(n.mid)}))return console.warn('The description does not look like unified plan sdp'),n;var t={},f=s.media;s.media=[],f.forEach(function(n){var s=n.type;if('application'===s)return n.mid='data',void(t[n.mid]=n);if(void 0===t[s]){var u=(0,o.default)(n);u.sources&&Array.isArray(u.sources)&&u.sources.forEach(function(s){n.msid?s.msid=n.msid:delete s.msid}),u.ssrcGroups&&n.msid||(u.ssrcGroups=[]),delete u.msid,u.mid=s,t[s]=u}else n.msid&&(n.sources&&Array.isArray(n.sources)&&(t[s].sources=t[s].sources.concat(n.sources)),void 0!==n.ssrcGroups&&Array.isArray(n.ssrcGroups)&&(t[s].ssrcGroups=t[s].ssrcGroups.concat(n.ssrcGroups)))}),s.media=Object.values(t);var p=[];Object.values(t).forEach(function(n){'inactive'!==n.direction&&p.push(n.mid)}),s.groups.forEach(function(n){'BUNDLE'===n.type&&(n.mids=p.join(' '))}),s.msidSemantic={semantic:'WMS',token:'*'};var l=u.default.write(s);return new RTCSessionDescription({type:n.type,sdp:l})}},{key:"toUnifiedPlan",value:function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n||'string'!=typeof n.sdp)return console.warn('An empty description was passed as an argument.'),n;var t=u.default.parse(n.sdp);if(!t.media||!t.media.length)return console.warn('The description has no media.'),n;if(t.media.length>3||t.media.every(function(n){return-1===c.indexOf(n.mid)}))return console.warn('The description does not look like plan-b'),n;var f=s?u.default.parse(s.sdp):null,p={};t.media.forEach(function(n){var s=n.type;if('application'!==s){var t=y(n.ssrcGroups);n.sources&&n.sources.forEach(function(u,c){if(u.msid){if(!f||!f.media){if(h(u,t,Object.values(p)))return;var l=(0,o.default)(n);return l.mid=Object.keys(p).length.toString(),l.direction=c?'sendonly':'sendonly'===n.direction?'sendonly':'sendrecv',l.bundleOnly=void 0,v(l,u,t,n.sources),void(p[l.mid]=l)}if(!h(u,t,f.media)){var y=f.media.findIndex(function(n){return n.direction&&'inactive'===n.direction&&n.type===s});if(y>-1)f.media[y].direction='sendonly',v(f.media[y],u,t,n.sources);else{var E=(0,o.default)(n);E.mid=f.media.length.toString(),E.direction='sendonly',v(E,u,t,n.sources),f.media.push(E)}}}})}else{if(!f||!f.media){var u=(0,o.default)(n);return u.mid=Object.keys(p).length.toString(),void(p[n.mid]=u)}var c=f.media.findIndex(function(n){return n.type===s});c&&(f.media[c]=n,f.media[c].mid=c)}}),t.media=f?f.media:Object.values(p);var l=[];t.media.forEach(function(n){l.push(n.mid)}),t.groups.forEach(function(n){'BUNDLE'===n.type&&(n.mids=l.join(' '))}),t.msidSemantic={semantic:'WMS',token:'*'},t.origin.sessionVersion++;var E=u.default.write(t);return new RTCSessionDescription({type:n.type,sdp:E})}}]),n})();e.Interop=E},655,[1,29,30,633,656]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=s(r(d[1])),o={write:function(s,o){return void 0!==s&&void 0!==s.media&&Array.isArray(s.media)&&s.media.forEach(function(s){s.sources&&s.sources.length&&(s.ssrcs=[],s.sources.forEach(function(c){Object.keys(c).forEach(function(o){'id'!==o&&s.ssrcs.push({id:c.id,attribute:o,value:c[o]})})}),delete s.sources),s.ssrcGroups&&s.ssrcGroups.length&&s.ssrcGroups.forEach(function(s){void 0!==s.ssrcs&&Array.isArray(s.ssrcs)&&(s.ssrcs=s.ssrcs.join(' '))})}),c.default.write(s,o)},parse:function(s){var o=c.default.parse(s);return void 0!==o&&void 0!==o.media&&Array.isArray(o.media)&&o.media.forEach(function(s){void 0!==s.ssrcs&&Array.isArray(s.ssrcs)&&(s.sources=[],s.ssrcs.forEach(function(c){var o=s.sources.findIndex(function(s){return s.id===c.id});if(o>-1)s.sources[o][c.attribute]=c.value;else{var u={id:c.id};u[c.attribute]=c.value,s.sources.push(u)}}),delete s.ssrcs),void 0!==s.ssrcGroups&&Array.isArray(s.ssrcGroups)&&s.ssrcGroups.forEach(function(s){'string'==typeof s.ssrcs&&(s.ssrcs=s.ssrcs.split(' '))})}),o}};e.default=o},656,[1,657]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]);e.write=t,e.parse=s.parse,e.parseFmtpConfig=s.parseFmtpConfig,e.parseParams=s.parseParams,e.parsePayloads=s.parsePayloads,e.parseRemoteCandidates=s.parseRemoteCandidates,e.parseImageAttributes=s.parseImageAttributes,e.parseSimulcastStreamList=s.parseSimulcastStreamList},657,[658,660]);
__d(function(g,r,i,a,m,e,d){var n=function(n){return String(Number(n))===n?Number(n):n},t=function(t,u,s,p){if(p&&!s)u[p]=n(t[1]);else for(var o=0;o<s.length;o+=1)null!=t[o+1]&&(u[s[o]]=n(t[o+1]))},u=function(n,u,s){var p=n.name&&n.names;n.push&&!u[n.push]?u[n.push]=[]:p&&!u[n.name]&&(u[n.name]={});var o=n.push?{}:p?u[n.name]:u;t(s.match(n.reg),o,n.names,n.name),n.push&&u[n.push].push(o)},s=r(d[0]),p=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(n){var t={},o=[],f=t;return n.split(/(\r\n|\r|\n)/).filter(p).forEach(function(n){var t=n[0],p=n.slice(2);'m'===t&&(o.push({rtp:[],fmtp:[]}),f=o[o.length-1]);for(var c=0;c<(s[t]||[]).length;c+=1){var l=s[t][c];if(l.reg.test(p))return u(l,f,p)}}),t.media=o,t};var o=function(t,u){var s=u.split(/=(.+)/,2);return 2===s.length&&(t[s[0]]=n(s[1])),t};e.parseParams=function(n){return n.split(/\;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(n){return n.split(' ').map(Number)},e.parseRemoteCandidates=function(t){for(var u=[],s=t.split(' ').map(n),p=0;p<s.length;p+=3)u.push({component:s[p],ip:s[p+1],port:s[p+2]});return u},e.parseImageAttributes=function(n){return n.split(' ').map(function(n){return n.substring(1,n.length-1).split(',').reduce(o,{})})},e.parseSimulcastStreamList=function(t){return t.split(';').map(function(t){return t.split(',').map(function(t){var u,s=!1;return'~'!==t[0]?u=n(t):(u=n(t.substring(1,t.length)),s=!0),{scid:u,paused:s}})})}},658,[659]);
__d(function(g,r,i,a,m,e,d){var s=m.exports={v:[{name:'version',reg:/^(\d*)$/}],o:[{name:'origin',reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:['username','sessionId','sessionVersion','netType','ipVer','address'],format:'%s %s %d %s IP%d %s'}],s:[{name:'name'}],i:[{name:'description'}],u:[{name:'uri'}],e:[{name:'email'}],p:[{name:'phone'}],z:[{name:'timezones'}],r:[{name:'repeats'}],t:[{name:'timing',reg:/^(\d*) (\d*)/,names:['start','stop'],format:'%d %d'}],c:[{name:'connection',reg:/^IN IP(\d) (\S*)/,names:['version','ip'],format:'IN IP%d %s'}],b:[{push:'bandwidth',reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:['type','limit'],format:'%s:%s'}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:['type','port','protocol','payloads'],format:'%s %d %s %s'}],a:[{push:'rtp',reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:['payload','codec','rate','encoding'],format:function(s){return s.encoding?'rtpmap:%d %s/%s/%s':s.rate?'rtpmap:%d %s/%s':'rtpmap:%d %s'}},{push:'fmtp',reg:/^fmtp:(\d*) ([\S| ]*)/,names:['payload','config'],format:'fmtp:%d %s'},{name:'control',reg:/^control:(.*)/,format:'control:%s'},{name:'rtcp',reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:['port','netType','ipVer','address'],format:function(s){return null!=s.address?'rtcp:%d %s IP%d %s':'rtcp:%d'}},{push:'rtcpFbTrrInt',reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:['payload','value'],format:'rtcp-fb:%d trr-int %d'},{push:'rtcpFb',reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:['payload','type','subtype'],format:function(s){return null!=s.subtype?'rtcp-fb:%s %s %s':'rtcp-fb:%s %s'}},{push:'ext',reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:['value','direction','uri','config'],format:function(s){return'extmap:%d'+(s.direction?'/%s':'%v')+' %s'+(s.config?' %s':'')}},{push:'crypto',reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:['id','suite','config','sessionConfig'],format:function(s){return null!=s.sessionConfig?'crypto:%d %s %s %s':'crypto:%d %s %s'}},{name:'setup',reg:/^setup:(\w*)/,format:'setup:%s'},{name:'mid',reg:/^mid:([^\s]*)/,format:'mid:%s'},{name:'msid',reg:/^msid:(.*)/,format:'msid:%s'},{name:'ptime',reg:/^ptime:(\d*)/,format:'ptime:%d'},{name:'maxptime',reg:/^maxptime:(\d*)/,format:'maxptime:%d'},{name:'direction',reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:'icelite',reg:/^(ice-lite)/},{name:'iceUfrag',reg:/^ice-ufrag:(\S*)/,format:'ice-ufrag:%s'},{name:'icePwd',reg:/^ice-pwd:(\S*)/,format:'ice-pwd:%s'},{name:'fingerprint',reg:/^fingerprint:(\S*) (\S*)/,names:['type','hash'],format:'fingerprint:%s %s'},{push:'candidates',reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:['foundation','component','transport','priority','ip','port','type','raddr','rport','tcptype','generation','network-id','network-cost'],format:function(s){var t='candidate:%s %d %s %d %s %d typ %s';return t+=null!=s.raddr?' raddr %s rport %d':'%v%v',t+=null!=s.tcptype?' tcptype %s':'%v',null!=s.generation&&(t+=' generation %d'),t+=null!=s['network-id']?' network-id %d':'%v',t+=null!=s['network-cost']?' network-cost %d':'%v'}},{name:'endOfCandidates',reg:/^(end-of-candidates)/},{name:'remoteCandidates',reg:/^remote-candidates:(.*)/,format:'remote-candidates:%s'},{name:'iceOptions',reg:/^ice-options:(\S*)/,format:'ice-options:%s'},{push:'ssrcs',reg:/^ssrc:(\d*) ([\w_]*)(?::(.*))?/,names:['id','attribute','value'],format:function(s){var t='ssrc:%d';return null!=s.attribute&&(t+=' %s',null!=s.value&&(t+=':%s')),t}},{push:'ssrcGroups',reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:['semantics','ssrcs'],format:'ssrc-group:%s %s'},{name:'msidSemantic',reg:/^msid-semantic:\s?(\w*) (\S*)/,names:['semantic','token'],format:'msid-semantic: %s %s'},{push:'groups',reg:/^group:(\w*) (.*)/,names:['type','mids'],format:'group:%s %s'},{name:'rtcpMux',reg:/^(rtcp-mux)/},{name:'rtcpRsize',reg:/^(rtcp-rsize)/},{name:'sctpmap',reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:['sctpmapNumber','app','maxMessageSize'],format:function(s){return null!=s.maxMessageSize?'sctpmap:%s %s %s':'sctpmap:%s %s'}},{name:'xGoogleFlag',reg:/^x-google-flag:([^\s]*)/,format:'x-google-flag:%s'},{push:'rids',reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:['id','direction','params'],format:function(s){return s.params?'rid:%s %s %s':'rid:%s %s'}},{push:'imageattrs',reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:['pt','dir1','attrs1','dir2','attrs2'],format:function(s){return'imageattr:%s %s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast',reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:['dir1','list1','dir2','list2'],format:function(s){return'simulcast:%s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast_03',reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:['value'],format:'simulcast: %s'},{name:'framerate',reg:/^framerate:(\d+(?:$|\.\d+))/,format:'framerate:%s'},{push:'invalid',names:['value']}]};Object.keys(s).forEach(function(t){s[t].forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format='%s')})})},659,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),u=/%[sdv%]/g,o=function(n){var o=1,s=arguments,t=s.length;return n.replace(u,function(n){if(o>=t)return n;var u=s[o];switch(o+=1,n){case'%%':return'%';case'%s':return String(u);case'%d':return Number(u);case'%v':return''}})},s=function(n,u,s){var t=[n+'='+(u.format instanceof Function?u.format(u.push?s:s[u.name]):u.format)];if(u.names)for(var c=0;c<u.names.length;c+=1){var f=u.names[c];u.name?t.push(s[u.name][f]):t.push(s[u.names[c]])}else t.push(s[u.name]);return o.apply(null,t)},t=['v','o','s','i','u','e','p','c','b','t','r','z','a'],c=['i','c','b','a'];m.exports=function(u,o){o=o||{},null==u.version&&(u.version=0),null==u.name&&(u.name=' '),u.media.forEach(function(n){null==n.payloads&&(n.payloads='')});var f=o.outerOrder||t,h=o.innerOrder||c,l=[];return f.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})}),u.media.forEach(function(u){l.push(s('m',n.m[0],u)),h.forEach(function(o){n[o].forEach(function(n){n.name in u&&null!=u[n.name]?l.push(s(o,n,u)):n.push in u&&null!=u[n.push]&&u[n.push].forEach(function(u){l.push(s(o,n,u))})})})}),l.join('\r\n')+'\r\n'}},660,[659]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=t(r(d[4])),c=r(d[5]);function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=l(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function l(t,n){if(t){if("string"==typeof t)return v(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var S=(0,s.getLogger)(__filename);function p(t,n,o){S.debug("Updating mline to associate "+o+"rtx ssrc with primary stream, "+n.id);var s=n.id,u=n.msid,c=n.cname,f=t.getRtxSSRC(s);f!==o?(f&&(S.debug(s+" was previously associated with rtx"+f+", removing all references to it"),t.removeSSRC(f),S.debug("groups before filtering for "+f),S.debug(t.dumpSSRCGroups()),t.removeGroupsWithSSRC(f)),t.addSSRCAttribute({id:o,attribute:'cname',value:c}),t.addSSRCAttribute({id:o,attribute:'msid',value:u}),t.addSSRCGroup({semantics:'FID',ssrcs:s+" "+o})):S.debug(o+" was already associated with "+s)}var y=(function(){function t(){(0,n.default)(this,t),this.correspondingRtxSsrcs=new Map}return(0,o.default)(t,[{key:"clearSsrcCache",value:function(){this.correspondingRtxSsrcs.clear()}},{key:"setSsrcCache",value:function(t){S.debug('Setting ssrc cache to ',t),this.correspondingRtxSsrcs=t}},{key:"modifyRtxSsrcs",value:function(t){var n=new c.SdpTransformWrap(t),o=n.selectMedia('video');return o?this.modifyRtxSsrcs2(o)?n.toRawSDP():t:(S.debug("No 'video' media found in the sdp: "+t),t)}},{key:"modifyRtxSsrcs2",value:function(t){if('recvonly'===t.direction)return S.debug('RtxModifier doing nothing, video m line is recvonly'),!1;if(t.getSSRCCount()<1)return S.debug('RtxModifier doing nothing, no video ssrcs present'),!1;S.debug('Current ssrc mapping: ',this.correspondingRtxSsrcs);var n=t.getPrimaryVideoSSRCs();S.debug('Parsed primary video ssrcs ',n,' making sure all have rtx streams');for(var o,s=f(n);!(o=s()).done;){var c=o.value,l=t.getSSRCAttrValue(c,'msid'),v=t.getSSRCAttrValue(c,'cname'),y=this.correspondingRtxSsrcs.get(c);if(y)S.debug("Already have an associated rtx ssrc forvideo ssrc "+c+": "+y);else{S.debug("No previously associated rtx ssrc for video ssrc "+c);var b=t.getRtxSSRC(c);b?(S.debug("Rtx stream "+b+" already existed in the sdp as an rtx stream for "+c),y=b):(y=u.default.generateSsrc(),S.debug("Generated rtx ssrc "+y+" for ssrc "+c)),S.debug("Caching rtx ssrc "+y+" for video ssrc "+c),this.correspondingRtxSsrcs.set(c,y)}p(t,{id:c,cname:v,msid:l},y)}return!0}},{key:"stripRtx",value:function(t){var n=new c.SdpTransformWrap(t),o=n.selectMedia('video');if(!o)return S.debug("No 'video' media found in the sdp: "+t),t;if('recvonly'===o.direction)return S.debug('RtxModifier doing nothing, video m line is recvonly'),t;if(o.getSSRCCount()<1)return S.debug('RtxModifier doing nothing, no video ssrcs present'),t;if(!o.containsAnySSRCGroups())return S.debug("RtxModifier doing nothing, no video ssrcGroups present"),t;var s=o.findGroups('FID');o.removeGroupsBySemantics('FID');for(var u,l=f(s);!(u=l()).done;){var v=u.value,p=(0,c.parseSecondarySSRC)(v);o.removeSSRC(p)}return n.toRawSDP()}}]),t})();e.default=y},661,[1,29,30,432,617,662]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.parsePrimarySSRC=l,e.parseSecondarySSRC=p,e.SdpTransformWrap=void 0;var s=t(r(d[2])),u=t(r(d[3])),o=n(r(d[4]));function c(n,t){var s;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(s=f(n))||t&&n&&"number"==typeof n.length){s&&(n=s);var u=0;return function(){return u>=n.length?{done:!0}:{done:!1,value:n[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(s=n[Symbol.iterator]()).next.bind(s)}function f(n,t){if(n){if("string"==typeof n)return h(n,t);var s=Object.prototype.toString.call(n).slice(8,-1);return"Object"===s&&n.constructor&&(s=n.constructor.name),"Map"===s||"Set"===s?Array.from(n):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?h(n,t):void 0}}function h(n,t){(null==t||t>n.length)&&(t=n.length);for(var s=0,u=new Array(t);s<t;s++)u[s]=n[s];return u}function l(n){return parseInt(n.ssrcs.split(' ')[0],10)}function p(n){return parseInt(n.ssrcs.split(' ')[1],10)}function S(n){return n.ssrcs?n.ssrcs.map(function(n){return n.id}).filter(function(n,t,s){return s.indexOf(n)===t}).length:0}var y=(function(){function n(t){if((0,s.default)(this,n),!t)throw new Error('mLine is undefined');this.mLine=t}return(0,u.default)(n,[{key:"getSSRCAttrValue",value:function(n,t){var s=this.ssrcs.find(function(s){return s.id===n&&s.attribute===t});return s&&s.value}},{key:"removeSSRC",value:function(n){this.mLine.ssrcs&&this.mLine.ssrcs.length&&(this.mLine.ssrcs=this.mLine.ssrcs.filter(function(t){return t.id!==n}))}},{key:"addSSRCAttribute",value:function(n){this.ssrcs.push(n)}},{key:"findGroup",value:function(n,t){return this.ssrcGroups.find(function(s){return s.semantics===n&&(!t||t===s.ssrcs)})}},{key:"findGroups",value:function(n){return this.ssrcGroups.filter(function(t){return t.semantics===n})}},{key:"findGroupByPrimarySSRC",value:function(n,t){return this.ssrcGroups.find(function(s){return s.semantics===n&&l(s)===t})}},{key:"findSSRCByMSID",value:function(n){return this.ssrcs.find(function(t){return'msid'===t.attribute&&(null===n||t.value===n)})}},{key:"getSSRCCount",value:function(){return S(this.mLine)}},{key:"containsAnySSRCGroups",value:function(){return void 0!==this.mLine.ssrcGroups}},{key:"getPrimaryVideoSsrc",value:function(){var n=this.mLine.type;if('video'!==n)throw new Error("getPrimarySsrc doesn't work with '"+n+"'");if(1===S(this.mLine))return this.mLine.ssrcs[0].id;if(this.mLine.ssrcGroups){var t=this.findGroup('SIM');if(t)return l(t);var s=this.findGroup('FID');if(s)return l(s);var u=this.findGroup('FEC-FR');if(u)return l(u)}}},{key:"getRtxSSRC",value:function(n){var t=this.findGroupByPrimarySSRC('FID',n);return t&&p(t)}},{key:"getSSRCs",value:function(){return this.ssrcs.map(function(n){return n.id}).filter(function(n,t,s){return s.indexOf(n)===t})}},{key:"getPrimaryVideoSSRCs",value:function(){var n=this.mLine.type;if('video'!==n)throw new Error("getPrimaryVideoSSRCs doesn't work with "+n);for(var t,s=this.getSSRCs(),u=c(this.ssrcGroups);!(t=u()).done;){var o=t.value;if('FID'===o.semantics||'FEC-FR'===o.semantics){var f=p(o);s.splice(s.indexOf(f),1)}}return s}},{key:"dumpSSRCGroups",value:function(){return JSON.stringify(this.mLine.ssrcGroups)}},{key:"removeGroupsWithSSRC",value:function(n){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return-1===t.ssrcs.indexOf(""+n)}))}},{key:"removeGroupsBySemantics",value:function(n){this.mLine.ssrcGroups&&(this.mLine.ssrcGroups=this.mLine.ssrcGroups.filter(function(t){return t.semantics!==n}))}},{key:"replaceSSRC",value:function(n,t){this.mLine.ssrcs&&this.mLine.ssrcs.forEach(function(s){s.id===n&&(s.id=t)})}},{key:"addSSRCGroup",value:function(n){this.ssrcGroups.push(n)}},{key:"ssrcs",get:function(){return this.mLine.ssrcs||(this.mLine.ssrcs=[]),this.mLine.ssrcs},set:function(n){this.mLine.ssrcs=n}},{key:"direction",get:function(){return this.mLine.direction},set:function(n){this.mLine.direction=n}},{key:"ssrcGroups",get:function(){return this.mLine.ssrcGroups||(this.mLine.ssrcGroups=[]),this.mLine.ssrcGroups},set:function(n){this.mLine.ssrcGroups=n}}]),n})(),v=(function(){function n(t){(0,s.default)(this,n),this.parsedSDP=o.parse(t)}return(0,u.default)(n,[{key:"selectMedia",value:function(n){var t=this.parsedSDP.media.find(function(t){return t.type===n});return t?new y(t):null}},{key:"toRawSDP",value:function(){return o.write(this.parsedSDP)}}]),n})();e.SdpTransformWrap=v},662,[12,1,29,30,657]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),c=t(r(d[2])),s=r(d[3]),o=r(d[4]);function l(t,n){var c;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(c=u(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(c=t[Symbol.iterator]()).next.bind(c)}function u(t,n){if(t){if("string"==typeof t)return h(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?h(t,n):void 0}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,s=new Array(n);c<n;c++)s[c]=t[c];return s}var y=(0,s.getLogger)(__filename),f=(function(){function t(c){(0,n.default)(this,t),this.clearVideoSsrcCache(),this.logPrefix=c}return(0,c.default)(t,[{key:"clearVideoSsrcCache",value:function(){this.cachedPrimarySsrc=null,this.injectRecvOnly=!1}},{key:"setPrimarySsrc",value:function(t){if('number'!=typeof t)throw new Error('Primary SSRC must be a number!');this.cachedPrimarySsrc=t}},{key:"hasPrimarySsrcCached",value:function(){return Boolean(this.cachedPrimarySsrc)}},{key:"makeVideoPrimarySsrcsConsistent",value:function(t){var n=new o.SdpTransformWrap(t),c=n.selectMedia('video');if(!c)return y.debug(this.logPrefix+" no 'video' media found in the sdp: "+t),t;if('recvonly'===c.direction)this.cachedPrimarySsrc&&this.injectRecvOnly?c.addSSRCAttribute({id:this.cachedPrimarySsrc,attribute:'cname',value:"recvonly-"+this.cachedPrimarySsrc}):y.info(this.logPrefix+" no SSRC found for the recvonly videostream!");else{var s=c.getPrimaryVideoSsrc();if(!s)return y.info(this.logPrefix+" sdp-consistency couldn't parse new primary ssrc"),t;if(this.cachedPrimarySsrc){y.info(this.logPrefix+" sdp-consistency replacing new ssrc"+s+" with cached "+this.cachedPrimarySsrc),c.replaceSSRC(s,this.cachedPrimarySsrc);for(var u,h=l(c.ssrcGroups);!(u=h()).done;){var f=u.value;if('FID'===f.semantics){var S=(0,o.parsePrimarySSRC)(f),v=(0,o.parseSecondarySSRC)(f);S===s&&(f.ssrcs=this.cachedPrimarySsrc+" "+v)}}}else this.cachedPrimarySsrc=s,y.info(this.logPrefix+" sdp-consistency caching primary ssrc"+this.cachedPrimarySsrc);this.injectRecvOnly=!0}return n.toRawSDP()}}]),t})();e.default=f},663,[1,29,30,432,662]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),c=n(r(d[3])),s=n(r(d[4])),u=n(r(d[5])),l=n(r(d[6])),h=n(r(d[7])),f=t(r(d[8])),v=r(d[9]),T=n(r(d[10])),k=n(r(d[11]));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var _=r(d[12]).getLogger(__filename),p=r(d[13]),E=!1,b=!1,w=['abort','canplay','canplaythrough','emptied','ended','error','loadeddata','loadedmetadata','loadstart','pause','play','playing','ratechange','stalled','suspend','waiting'],M=(function(t){(0,u.default)(R,t);var n,k,M=(n=R,k=y(),function(){var t,o=(0,h.default)(n);if(k){var c=(0,h.default)(this).constructor;t=Reflect.construct(o,arguments,c)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function R(t,n,c,u,l,h,f,v,T,k){var y;if((0,o.default)(this,R),(y=M.call(this,n,u,l,function(){},h,f)).rtc=t,'number'!=typeof v)throw new TypeError("SSRC "+v+" is not a number");return y.ssrc=v,y.ownerEndpointId=c,y.muted=T,y.isP2P=k,_.debug("New remote track added: "+(0,s.default)(y)),y.hasBeenMuted=T,y.rtc&&y.track&&y._bindTrackHandlers(),y._containerHandlers={},w.forEach(function(t){y._containerHandlers[t]=y._containerEventHandler.bind((0,s.default)(y),t)}),y}return(0,c.default)(R,[{key:"_bindTrackHandlers",value:function(){var t=this;this.track.addEventListener('mute',function(){return t._onTrackMute()}),this.track.addEventListener('unmute',function(){return t._onTrackUnmute()}),this.track.addEventListener('ended',function(){_.debug("\"onended\" event("+Date.now()+"): "+t)})}},{key:"_onTrackMute",value:function(){_.debug("\"onmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(p.REMOTE_TRACK_MUTE,this)}},{key:"_onTrackUnmute",value:function(){_.debug("\"onunmute\" event("+Date.now()+"): "+this),this.rtc.eventEmitter.emit(p.REMOTE_TRACK_UNMUTE,this)}},{key:"setMute",value:function(t){this.muted!==t&&(t&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=t),this.muted=t,this.emit(f.TRACK_MUTE_CHANGED,this))}},{key:"isMuted",value:function(){return this.muted}},{key:"getParticipantId",value:function(){return this.ownerEndpointId}},{key:"isLocal",value:function(){return!1}},{key:"getSSRC",value:function(){return this.ssrc}},{key:"_setVideoType",value:function(t){this.videoType!==t&&(this.videoType=t,this.emit(f.TRACK_VIDEOTYPE_CHANGED,t))}},{key:"_playCallback",value:function(){var t=this.isVideoTrack()?'video':'audio',n=window.performance.now();console.log("(TIME) Render "+t+":\t",n),this.conference.getConnectionTimes()[t+".render"]=n;var o=window.connectionTimes['obtainPermissions.start'],c=window.connectionTimes['obtainPermissions.end'],s=isNaN(c)||isNaN(o)?0:c-o,u=n-(this.conference.getConnectionTimes()['session.initiate']-this.conference.getConnectionTimes()['muc.joined'])-s;this.conference.getConnectionTimes()[t+".ttfm"]=u,console.log("(TIME) TTFM "+t+":\t",u),T.default.sendAnalytics((0,v.createTtfmEvent)({media_type:t,muted:this.hasBeenMuted,value:u}))}},{key:"_attachTTFMTracker",value:function(t){E&&this.isAudioTrack()||b&&this.isVideoTrack()||(this.isAudioTrack()&&(E=!0),this.isVideoTrack()&&(b=!0),t.addEventListener('canplay',this._playCallback.bind(this)))}},{key:"_onTrackAttach",value:function(t){var n=this;_.debug("Track has been attached to a container: "+this),w.forEach(function(o){t.addEventListener(o,n._containerHandlers[o])})}},{key:"_onTrackDetach",value:function(t){var n=this;_.debug("Track has been detached from a container: "+this),w.forEach(function(o){t.removeEventListener(o,n._containerHandlers[o])})}},{key:"_containerEventHandler",value:function(t){_.debug(t+" handler was called for a container with attached "+this)}},{key:"_getStatus",value:function(){var t=this.track,n=t.enabled,o=t.muted;return"readyState: "+t.readyState+", muted: "+o+", enabled: "+n}},{key:"toString",value:function(){return"RemoteTrack[userID: "+this.getParticipantId()+", type: "+this.getType()+", ssrc: "+this.getSSRC()+", p2p: "+this.isP2P+", status: "+this._getStatus()+"]"}}]),R})(k.default);e.default=M},664,[12,1,29,30,43,40,42,39,567,534,531,631,432,561]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=r(d[4]),u=t(r(d[5])),l=r(d[6]);function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=p(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function p(t,n){if(t){if("string"==typeof t)return v(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var h=(0,c.getLogger)(__filename),S=(function(){function t(n){(0,o.default)(this,t),this.tpc=n}return(0,s.default)(t,[{key:"_addMutedLocalVideoTracksToSDP",value:function(t){var n=this.tpc.getLocalTracks(u.VIDEO);if(!n.length)return!1;1!==n.length&&h.error(this.tpc+" there is more than 1 video track ! Strange things may happen !",n);var o=t.selectMedia('video');if(!o)return h.debug(this.tpc+" unable to hack local video track SDP- no \"video\" media"),!1;for(var s,c=!1,l=f(n);!(s=l()).done;){var p=s.value,v=p.isMuted(),S=p.getOriginalStream(),y=S&&this.tpc.isMediaStreamInPc(S),b=v||!y;if(h.debug(this.tpc+" "+p+" muted: "+v+", is in PeerConnection: "+y+" => should fake sdp ? : "+b),b){var M=this.tpc.isSimulcastOn()?this.tpc.simulcast.ssrcCache:[this.tpc.sdpConsistency.cachedPrimarySsrc];if(M.length){c=!0,o.direction='sendrecv';for(var w,k="injected-"+M[0],I=f(M);!(w=I()).done;){var C=w.value;o.removeSSRC(C),h.debug(this.tpc+" injecting video SSRC: "+C+" for "+p),o.addSSRCAttribute({id:C,attribute:'cname',value:k}),o.addSSRCAttribute({id:C,attribute:'msid',value:p.storedMSID})}if(M.length>1){var R={ssrcs:M.join(' '),semantics:'SIM'};o.findGroup(R.semantics,R.ssrcs)||(h.debug(this.tpc+" injecting SIM group for "+p,R),o.addSSRCGroup(R))}this.tpc.options.disableRtx||this.tpc.rtxModifier.modifyRtxSsrcs2(o)}else h.error("No SSRCs stored for: "+p+" in "+this.tpc)}}return c}},{key:"_transformMediaIdentifiers",value:function(t){for(var n,o=this.tpc.id,s=f(t.ssrcs);!(n=s()).done;){var c=n.value;switch(c.attribute){case'cname':case'label':case'mslabel':c.value=c.value&&c.value+"-"+o;break;case'msid':if(c.value){var u=c.value.split(' ');if(2===u.length){var l=u[0],p=u[1];c.value=l+"-"+o+" "+p+"-"+o}else h.warn("Unable to munge local MSID- weird format detected: "+c.value)}}}}},{key:"maybeAddMutedLocalVideoTracksToSDP",value:function(t){if(!t)throw new Error('No local description passed in.');var n=new l.SdpTransformWrap(t.sdp);return this._addMutedLocalVideoTracksToSDP(n)?new RTCSessionDescription({type:t.type,sdp:n.toRawSDP()}):t}},{key:"transformStreamIdentifiers",value:function(t){if(!t||!t.sdp||!t.type)return t;var n=new l.SdpTransformWrap(t.sdp),o=n.selectMedia('audio');o&&this._transformMediaIdentifiers(o);var s=n.selectMedia('video');return s&&this._transformMediaIdentifiers(s),new RTCSessionDescription({type:t.type,sdp:n.toRawSDP()})}}]),t})();e.default=S},665,[12,1,29,30,432,557,662]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.TPCUtils=e.SIM_LAYER_RIDS=void 0;var c=n(r(d[2])),s=n(r(d[3])),o=r(d[4]),l=n(r(d[5])),u=t(r(d[6])),f=n(r(d[7])),v=n(r(d[8]));function p(t,n){var c;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(c=h(t))||n&&t&&"number"==typeof t.length){c&&(t=c);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(c=t[Symbol.iterator]()).next.bind(c)}function h(t,n){if(t){if("string"==typeof t)return y(t,n);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?y(t,n):void 0}}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var c=0,s=new Array(n);c<n;c++)s[c]=t[c];return s}var S=(0,o.getLogger)(__filename),T='1',k='2',R='3',E=[T,k,R];e.SIM_LAYER_RIDS=E;var I=(function(){function t(n,s){(0,c.default)(this,t),this.pc=n,this.videoBitrates=s,this.localStreamEncodingsConfig=[{active:!0,maxBitrate:v.default.isFirefox()?this.videoBitrates.high:this.videoBitrates.low,rid:T,scaleResolutionDownBy:v.default.isFirefox()?1:4},{active:!0,maxBitrate:this.videoBitrates.standard,rid:k,scaleResolutionDownBy:2},{active:!0,maxBitrate:v.default.isFirefox()?this.videoBitrates.low:this.videoBitrates.high,rid:R,scaleResolutionDownBy:v.default.isFirefox()?4:1}]}return(0,s.default)(t,[{key:"ensureCorrectOrderOfSsrcs",value:function(t){var n=l.default.parse(t.sdp);return n.media.forEach(function(t){if('audio'!==t.type&&t.ssrcGroups&&t.ssrcGroups.length){var n=[];t.ssrcGroups[0].ssrcs.split(' ').forEach(function(c){var s=t.ssrcs.filter(function(t){return t.id.toString()===c});n=n.concat(s)}),t.ssrcs=n}}),new RTCSessionDescription({type:t.type,sdp:l.default.write(n)})}},{key:"_getStreamEncodings",value:function(t){return this.pc.isSimulcastOn()&&t.isVideoTrack()?this.localStreamEncodingsConfig:t.isVideoTrack()?[{active:!0,maxBitrate:this.videoBitrates.high}]:[{active:!0}]}},{key:"insertUnifiedPlanSimulcastReceive",value:function(t){if(v.default.usesSdpMungingForSimulcast())return t;var n=l.default.parse(t.sdp),c=n.media.findIndex(function(t){return'video'===t.type});if(n.media[c].rids&&(n.media[c].simulcast_03||n.media[c].simulcast))return n.media.forEach(function(t,s){'video'===t.type&&s!==c&&(n.media[s].rids=void 0,n.media[s].simulcast=void 0,n.media[s].simulcast_03=void 0)}),new RTCSessionDescription({type:t.type,sdp:l.default.write(n)});n.media[c].rids=[{id:T,direction:'recv'},{id:k,direction:'recv'},{id:R,direction:'recv'}];var s=v.default.isFirefox()&&v.default.isVersionGreaterThan(71)?"recv "+E.join(';'):"recv rid="+E.join(';');return n.media[c].simulcast_03={value:s},new RTCSessionDescription({type:t.type,sdp:l.default.write(n)})}},{key:"addTrack",value:function(t,n){var c=t.getTrack();if(n){var s={direction:'sendrecv',streams:[t.getOriginalStream()],sendEncodings:[]};v.default.isFirefox()||(s.sendEncodings=this._getStreamEncodings(t)),this.pc.peerconnection.addTransceiver(c,s)}else this.pc.peerconnection.addTrack(c)}},{key:"addTrackUnmute",value:function(t){var n=this,c=t.getType(),s=t.getTrack(),o=this.pc.peerconnection.getTransceivers().find(function(t){return t.receiver&&t.receiver.track&&t.receiver.track.kind===c});return o?(S.debug("Adding "+t+" on "+this.pc),'recvonly'===o.direction?t.getOriginalStream()?(this.pc.peerconnection.addStream(t.getOriginalStream()),this.setEncodings(t).then(function(){n.pc.localTracks.set(t.rtcId,t),o.direction='sendrecv'})):Promise.resolve():o.sender.replaceTrack(s)):Promise.reject(new Error("RTCRtpTransceiver for "+c+" not found"))}},{key:"getLocalStreamHeightConstraints",value:function(t){if(v.default.isReactNative())return null;for(var n,c=[],s=t.getSettings().height,o=void 0===s?720:s,l=p(this.localStreamEncodingsConfig);!(n=l()).done;){var u=n.value;c.push(o/u.scaleResolutionDownBy)}return c}},{key:"removeTrackMute",value:function(t){var n=t.getType(),c=this.pc.peerconnection.getTransceivers().find(function(n){return n.sender&&n.sender.track&&n.sender.track.id===t.getTrackId()});return c?(S.debug("Removing "+t+" on "+this.pc),c.sender.replaceTrack(null)):Promise.reject(new Error("RTCRtpTransceiver for "+n+" not found"))}},{key:"replaceTrack",value:function(t,n){var c=this;if(t&&n){var s=n.getType(),o=n.getOriginalStream();if(!o)return this.pc.localTracks.delete(t.rtcId),this.pc.localTracks.set(n.rtcId,n),Promise.resolve();var l=s===u.AUDIO?o.getAudioTracks()[0]:o.getVideoTracks()[0],v=this.pc.peerconnection.getTransceivers().find(function(t){return t.receiver.track.kind===s&&!t.stopped});return v?(S.debug("Replacing "+t+" with "+n+" on "+this.pc),v.sender.replaceTrack(l).then(function(){var s=c.pc.localSSRCs.get(t.rtcId);c.pc.localTracks.delete(t.rtcId),c.pc.localSSRCs.delete(t.rtcId),c.pc._addedStreams=c.pc._addedStreams.filter(function(t){return t!==o}),c.pc.localTracks.set(n.rtcId,n),c.pc._addedStreams.push(o),c.pc.localSSRCs.set(n.rtcId,s),c.pc.eventEmitter.emit(f.default.LOCAL_TRACK_SSRC_UPDATED,n,c.pc._extractPrimarySSRC(s))})):Promise.reject(new Error('replace track failed'))}if(t&&!n)return this.removeTrackMute(t).then(function(){c.pc.localTracks.delete(t.rtcId),c.pc.localSSRCs.delete(t.rtcId)});if(n&&!t){var p=this.pc.localSSRCs.get(n.rtcId);return this.addTrackUnmute(n).then(function(){c.pc.localTracks.set(n.rtcId,n),c.pc.localSSRCs.set(n.rtcId,p)})}}},{key:"setAudioTransferActive",value:function(t){this.setMediaTransferActive(u.AUDIO,t)}},{key:"setEncodings",value:function(t){var n=this.pc.peerconnection.getTransceivers().find(function(n){return n.sender&&n.sender.track&&n.sender.track.kind===t.getType()}),c=n.sender.getParameters();return c.encodings=this._getStreamEncodings(t),n.sender.setParameters(c)}},{key:"setMediaTransferActive",value:function(t,n){var c=this.pc.peerconnection.getTransceivers().filter(function(n){return n.receiver&&n.receiver.track&&n.receiver.track.kind===t}),s=this.pc.getLocalTracks(t);S.info((n?'Enabling':'Suspending')+" "+t+" media transfer on "+this.pc),c.forEach(function(t,c){n?0===c&&s.length?t.direction='sendrecv':t.direction='recvonly':t.direction='inactive'})}},{key:"setVideoTransferActive",value:function(t){this.setMediaTransferActive(u.VIDEO,t)}},{key:"updateEncodingsResolution",value:function(t){var n=this;if(v.default.isSafari()&&t.encodings&&Array.isArray(t.encodings)){var c;(c=t.encodings).every(function(t){return void 0!==t.scaleResolutionDownBy&&t.scaleResolutionDownBy===c[0].scaleResolutionDownBy})&&t.encodings.forEach(function(t,c){t.scaleResolutionDownBy=n.localStreamEncodingsConfig[c].scaleResolutionDownBy})}}}]),t})();e.TPCUtils=I},666,[12,1,29,30,432,657,557,561,536]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]),n=t.parseSsrcs,o=t.writeSsrcs,c=3;function u(s,t,n){return s.ssrcs.filter(function(s){return s.id===t}).filter(function(s){return s.attribute===n}).map(function(s){return s.value})[0]}function p(s){this.options=s||{},this.options.numOfLayers||(this.options.numOfLayers=c),console.log("SdpSimulcast: using "+this.options.numOfLayers+" layers"),this.ssrcCache=[]}function l(s,t){null!=s&&Array.isArray(s.media)&&s.media.forEach(function(s){'video'===s.type&&t(s)})}function f(s){return s&&null!=s&&s.type&&''!=s.type&&s.sdp&&''!=s.sdp}function h(s){if(s&&Array.isArray(s.ssrcGroups))for(var t=n(s),c=[],u=s.ssrcGroups.length;u--;)if('SIM'===s.ssrcGroups[u].semantics){for(var p=s.ssrcGroups[u].ssrcs.split(' '),l=0;l<p.length;l++){var f=p[l];c.push(f);var h=t[f].msid.split(' ');t[f].msid=[h[0],'/',l,' ',h[1],'/',l].join(''),t[f].cname=[t[f].cname,'/',l].join(''),s.ssrcGroups.forEach(function(s){if('SIM'!==s.semantics){var n=s.ssrcs.split(' ');-1!==n.indexOf(f)&&n.forEach(function(s){t[s].msid=t[f].msid,t[s].cname=t[f].cname,s!==f&&c.push(s)})}})}s.ssrcs=o(t,c),s.ssrcGroups.splice(u,1)}}function S(s){if(s&&Array.isArray(s.ssrcGroups)){var t=n(s);s.ssrcGroups.forEach(function(n){if('SIM'===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var o=n.ssrcs.split(' '),c=1;c<o.length;c++){var u=o[c];delete t[u],s.ssrcGroups.forEach(function(s){if('SIM'!==s.semantics){var n=s.ssrcs.split(' ');-1!==n.indexOf(u)&&(n.forEach(function(s){delete t[s]}),s.nuke=!0)}})}}}),s.ssrcs=o(t);for(var c=s.ssrcGroups.length;c--;)s.ssrcGroups[c].nuke&&s.ssrcGroups.splice(c,1)}else console.info("Halt: There are no SSRC groups in the remote description.")}function v(s){s&&void 0!==s.xGoogleFlag&&(s.xGoogleFlag=void 0)}function y(s){s&&(Array.isArray(s.invalid)||(s.invalid=[]),s.invalid.some(function(s){return'x-google-flag:conference'===s.value})||s.invalid.push({value:'x-google-flag:conference'}))}p.prototype.clearSsrcCache=function(){this.ssrcCache=[]},p.prototype.setSsrcCache=function(s){this.ssrcCache=s},p.prototype._parseSimLayers=function(s){var t=s.ssrcGroups&&s.ssrcGroups.find(function(s){return"SIM"===s.semantics});return t?t.ssrcs.split(" ").map(function(s){return parseInt(s)}):[s.ssrcs[0].id]},p.prototype._buildNewToOldSsrcMap=function(s,t){for(var n={},o=0;o<s.length;++o){var c=s[o],u=t[o]||null;n[c]=u}return n},p.prototype._fillInSourceDataFromCache=function(s){console.log("SdpSimulcast restoring from cache: ",this.ssrcCache);var t=this._parseSimLayers(s);console.log("SdpSimulcast Parsed new sim ssrcs: ",t);var n=u(s,t[0],"msid"),o=u(s,t[0],"cname"),c=this._buildNewToOldSsrcMap(t,this.ssrcCache);console.log("SdpSimulcast built replacement map: ",c);var p=this.ssrcCache.filter(function(s){return-1===Object.values(c).indexOf(s)});return console.log("SdpSimulcast built ssrcs to add: ",p),s.ssrcs.forEach(function(s){c[s.id]&&(s.id=c[s.id])}),p.forEach(function(t){s.ssrcs.push({id:t,attribute:"msid",value:n}),s.ssrcs.push({id:t,attribute:"cname",value:o})}),s.ssrcGroups=s.ssrcGroups||[],s.ssrcGroups.push({semantics:"SIM",ssrcs:this.ssrcCache.join(" ")}),s},p.prototype._generateSourceData=function(s,t){var n=function(s,t){s.ssrcs.push({id:t,attribute:"cname",value:c}),s.ssrcs.push({id:t,attribute:"msid",value:o})},o=u(s,t,"msid"),c=u(s,t,"cname");this.options.usesUnifiedPlan&&!o&&(o=s.msid,s.ssrcs.forEach(function(t){s.ssrcs.push({id:t.id,attribute:"msid",value:o})}));for(var p=[],l=0;l<this.options.numOfLayers-1;++l){var f=Math.floor(4294967295*Math.random())+0;n(s,f),p.push(f)}return s.ssrcGroups=s.ssrcGroups||[],s.ssrcGroups.push({semantics:"SIM",ssrcs:t+" "+p.join(" ")}),s},p.prototype._restoreSimulcast=function(s){var t,n=s.ssrcs&&s.ssrcs.map(function(s){return s.id}).filter(function(s,t,n){return n.indexOf(s)===t}).length||0,o=s.ssrcGroups&&s.ssrcGroups.length||0;if(0===n||n>2)return s;if(2==n&&0===o)return s;if(1===n)t=s.ssrcs[0].id;else{var c=s.ssrcGroups.filter(function(s){return"FID"===s.semantics})[0];if(!c)return s;t=parseInt(c.ssrcs.split(" ")[0])}return console.log("SdpSimulcast: current ssrc cache: ",this.ssrcCache),console.log("SdpSimulcast: parsed primary ssrc "+t),-1!==this.ssrcCache.indexOf(t)?(console.log("SdpSimulcast: Have seen primary ssrc before, filling in data from cache"),s=this._fillInSourceDataFromCache(s)):(console.log("SdpSimulcast: Have not seen primary ssrc before, generating source data"),s=this._generateSourceData(s,t)),this.ssrcCache=this._parseSimLayers(s),s},p.prototype.mungeRemoteDescription=function(t,n){if(!f(t))return t;var o=s.parse(t.sdp),c=this;return l(o,function(s){c.options.explodeRemoteSimulcast?h(s):S(s),!c.options.usesUnifiedPlan&&n?y(s):v(s)}),new RTCSessionDescription({type:t.type,sdp:s.write(o)})},p.prototype.mungeLocalDescription=function(t){if(!f(t))return t;var n=s.parse(t.sdp),o=this;return l(n,function(s){'recvonly'!=s.direction&&'inactive'!=s.direction&&o._restoreSimulcast(s)}),new RTCSessionDescription({type:t.type,sdp:s.write(n)})},m.exports=p},667,[657,668]);
__d(function(g,r,i,a,m,e,d){e.writeSsrcs=function(t,s){var c=[];if(void 0!==t&&0!==Object.keys(t).length){Array.isArray(s)||(s=[]);for(var n=0;n<s.length;n++){var u=s[n],f=t[u];Object.keys(f).forEach(function(t){c.push({id:u,attribute:t,value:f[t]})})}Object.keys(t).forEach(function(n){if(n=parseInt(n),!(s.indexOf(n)>=0)){var u=t[n];Object.keys(u).forEach(function(t){c.push({id:n,attribute:t,value:u[t]})})}})}return c},e.parseSsrcs=function(t){var s={};return void 0!==t.ssrcs&&Array.isArray(t.ssrcs)&&t.ssrcs.forEach(function(t){s[t.id]||(s[t.id]={}),s[t.id][t.attribute]=t.value}),s}},668,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=r(d[4]),l=t(r(d[5])),u=t(r(d[6])),h=t(r(d[7])),_=r(d[8]),v=r(d[9]),f=r(d[10]),E=(0,c.getLogger)(__filename),S='stats',T=[{width:1920,height:1080,layers:3,max:5e3,target:4e3,min:800},{width:1280,height:720,layers:3,max:2500,target:2500,min:600},{width:960,height:540,layers:3,max:900,target:900,min:450},{width:640,height:360,layers:2,max:700,target:500,min:150},{width:480,height:270,layers:2,max:450,target:350,min:150},{width:320,height:180,layers:1,max:200,target:150,min:30}],p=800,y=null;function C(t,n,o){if(o<15e3)return 1;var s=0,c=Math.min(n.height,n.width);if(t){var l=T.find(function(t){return t.height<=c});if(l){var u=function(){var t=c;if(!(l=T.find(function(n){return n.height===t})))return"break";s+=l.target};for(c=l.height;c>=180;c/=2){if("break"===u())break}}}else{var h=n.width*n.height;s=h<=76800?600:h<=307200?1700:h<=518400?2e3:2500}return Math.min(s,b(Math.max(0,o-1e3)))}function b(t){return t>6e4?Number.MAX_SAFE_INTEGER:p*Math.pow(1.08,t/1e3)}var R=(function(){function t(n,s,c){var _=this;(0,o.default)(this,t),this.eventEmitter=s,this._conference=n,this._localStats={connectionQuality:100,jvbRTT:void 0},this._lastConnectionQualityUpdate=-1,this._remoteStats={},this._timeIceConnected=-1,this._timeVideoUnmuted=-1,this._timeLastBwCapRemoved=-1,c.config.startBitrate&&c.config.startBitrate>0&&(p=c.config.startBitrate),n.on(l.CONNECTION_INTERRUPTED,function(){_._updateLocalConnectionQuality(0),_.eventEmitter.emit(h.LOCAL_STATS_UPDATED,_._localStats),_._broadcastLocalStats()}),n.room.addListener(f.ICE_CONNECTION_STATE_CHANGED,function(t,n){t.isP2P||'connected'!==n||(_._timeIceConnected=window.performance.now())}),n.on(l.ENDPOINT_MESSAGE_RECEIVED,function(t,n){n.type===S&&_._updateRemoteStats(t.getId(),n.values)}),n.statistics.addConnectionStatsListener(this._updateLocalStats.bind(this)),n.on(l.TRACK_MUTE_CHANGED,function(t){t.isVideoTrack()&&(t.isMuted()?_._timeVideoUnmuted=-1:_._maybeUpdateUnmuteTime())}),n.on(l.TRACK_ADDED,function(t){t.isVideoTrack()&&!t.isMuted()&&_._maybeUpdateUnmuteTime()}),n.rtc.on(u.LOCAL_TRACK_MAX_ENABLED_RESOLUTION_CHANGED,function(t){_._localStats.maxEnabledResolution=t.maxEnabledResolution}),n.on(l.SERVER_REGION_CHANGED,function(t){_._localStats.serverRegion=t}),n.on(l.PROPERTIES_CHANGED,function(t){_._localStats.bridgeCount=Number((t||{})['bridge-count'])})}return(0,s.default)(t,[{key:"_maybeUpdateUnmuteTime",value:function(){this._timeVideoUnmuted<0&&(this._timeVideoUnmuted=window.performance.now())}},{key:"_calculateConnectionQuality",value:function(t,n,o){var s,c=_[o],l=100;if(this._localStats.packetLoss&&(s=this._localStats.packetLoss.upload,n&&(s*=.5)),n||!c||t===v.DESKTOP||this._timeIceConnected<0||this._timeVideoUnmuted<0)void 0===s?(E.error("Cannot calculate connection quality, unknown packet loss."),l=100):l=s<=2?100:s<=4?70:s<=6?50:s<=8?30:s<=12?10:0;else{var u=this._conference.getActivePeerConnection(),h=Boolean(u&&u.isSimulcastOn()),f=u&&u.bandwidthLimiter&&u.bandwidthLimiter.getBandwidthLimit('video');!f&&y&&(this._timeLastBwCapRemoved=window.performance.now(),p=y),y=f;var S=C(h,c,window.performance.now()-Math.max(this._timeVideoUnmuted,this._timeIceConnected,this._timeLastBwCapRemoved));S=Math.min(.9*S,2500),y&&(S=Math.min(S,y)),l=100*this._localStats.bitrate.upload/S,s&&s>=10&&(l=Math.min(l,30))}if(this._lastConnectionQualityUpdate>0){var T=this._localStats.connectionQuality,b=(window.performance.now()-this._lastConnectionQualityUpdate)/1e3;l=Math.min(l,T+2*b)}return Math.min(100,l)}},{key:"_updateLocalConnectionQuality",value:function(t){this._localStats.connectionQuality=t,this._lastConnectionQualityUpdate=window.performance.now()}},{key:"_broadcastLocalStats",value:function(){var t={bitrate:this._localStats.bitrate,packetLoss:this._localStats.packetLoss,connectionQuality:this._localStats.connectionQuality,jvbRTT:this._localStats.jvbRTT,serverRegion:this._localStats.serverRegion,maxEnabledResolution:this._localStats.maxEnabledResolution,avgAudioLevels:this._localStats.localAvgAudioLevels};try{this._conference.broadcastEndpointMessage({type:S,values:t})}catch(t){}}},{key:"_updateLocalStats",value:function(t,n){if(!t.isP2P){var o=n.transport&&n.transport.length&&n.transport[0].rtt;this._localStats.jvbRTT=o||void 0}if(t===this._conference.getActivePeerConnection()){var s,c=!this._conference.isConnectionInterrupted(),l=this._conference.getLocalVideoTrack(),u=l?l.videoType:void 0,_=!l||l.isMuted(),v=l?Math.min(l.resolution,l.maxEnabledResolution):null;for(s in _||this._maybeUpdateUnmuteTime(),n)n.hasOwnProperty(s)&&(this._localStats[s]=n[s]);c&&this._updateLocalConnectionQuality(this._calculateConnectionQuality(u,_,v)),this.eventEmitter.emit(h.LOCAL_STATS_UPDATED,this._localStats),this._broadcastLocalStats()}}},{key:"_updateRemoteStats",value:function(t,n){this._remoteStats[t]={bitrate:n.bitrate,packetLoss:n.packetLoss,connectionQuality:n.connectionQuality,jvbRTT:n.jvbRTT,serverRegion:n.serverRegion,maxEnabledResolution:n.maxEnabledResolution,avgAudioLevels:n.avgAudioLevels},this.eventEmitter.emit(h.REMOTE_STATS_UPDATED,t,this._remoteStats[t])}},{key:"getStats",value:function(){return this._localStats}}]),t})();e.default=R},669,[12,1,29,30,432,524,561,670,634,562,564]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.REMOTE_STATS_UPDATED=e.LOCAL_STATS_UPDATED=void 0;e.LOCAL_STATS_UPDATED='cq.local_stats_updated';e.REMOTE_STATS_UPDATED='cq.remote_stats_updated'},670,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[2])),s=t(r(d[3])),c=r(d[4]),f=n(r(d[5])),l=n(r(d[6])),u=(0,c.getLogger)(__filename),_=(function(){function n(t){(0,o.default)(this,n),this._conference=t}return(0,s.default)(n,[{key:"_actOnIceFailed",value:function(){var n=this._conference.options.config,t=n.enableForcedReload,o=n.enableIceRestart,s=void 0!==o&&!o,c=this._conference.room.supportsRestartByTerminate(),_=c&&!o,I=this._conference.restartInProgress&&t;if(u.info("ICE failed, enableForcedReload: "+t+", enableIceRestart: "+o+", restartInProgress: "+this._conference.restartInProgress+", supports restart by terminate: "+c),s||!o&&!c||I)return u.info('ICE failed, but ICE restarts are disabled'),void this._conference.eventEmitter.emit(l.CONFERENCE_FAILED,f.ICE_FAILED);var v=this._conference.jvbJingleSession,E=v&&v.getIceConnectionState();v?'connected'===E?u.info('ICE connection restored - not sending ICE failed'):(u.info("Sending ICE failed - the connection did not recover, ICE state: "+E+", use 'session-terminate': "+_),_?this._conference.jvbJingleSession.terminate(function(){u.info('session-terminate for ice restart - done')},function(n){u.error("session-terminate for ice restart - error: "+n.message)},{reason:'connectivity-error',reasonDescription:'ICE FAILED',requestRestart:!0,sendSessionTerminate:!0}):this._conference.jvbJingleSession.sendIceFailedNotification()):u.warn('Not sending ICE failed - no JVB connection')}},{key:"start",value:function(){var n=this;this._conference.xmpp.ping(65e3).then(function(){n._canceled||(n._iceFailedTimeout=window.setTimeout(function(){n._iceFailedTimeout=void 0,n._actOnIceFailed()},2e3))},function(n){u.error('PING error/timeout - not sending ICE failed',n)})}},{key:"cancel",value:function(){this._canceled=!0,window.clearTimeout(this._iceFailedTimeout)}}]),n})();e.default=_},671,[12,1,29,30,432,523,524]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.VAD_TALK_WHILE_MUTED=e.VAD_SCORE_PUBLISHED=e.VAD_REPORT_PUBLISHED=e.VAD_NOISY_DEVICE=e.NO_AUDIO_INPUT=e.AUDIO_INPUT_STATE_CHANGE=e.DETECTOR_STATE_CHANGE=void 0;e.DETECTOR_STATE_CHANGE='detector_state_change';e.AUDIO_INPUT_STATE_CHANGE='audio_input_state_changed';e.NO_AUDIO_INPUT='no_audio_input_detected';e.VAD_NOISY_DEVICE='detection.vad_noise_device';e.VAD_REPORT_PUBLISHED='vad-report-published';e.VAD_SCORE_PUBLISHED='detection.vad_score_published';e.VAD_TALK_WHILE_MUTED='detection.vad_talk_while_muted'},672,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),u=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r(d[2])),o=u(r(d[3])),c=u(r(d[4])),l=u(r(d[5])),s=u(r(d[6])),_=u(r(d[7])),f=u(r(d[8])),h=t(r(d[9])),v=t(r(d[10])),A=u(r(d[11])),T=t(r(d[12]));function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var I=(function(t){(0,l.default)(D,t);var u,f,I=(u=D,f=p(),function(){var t,n=(0,_.default)(u);if(f){var o=(0,_.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,s.default)(this,t)});function D(t){var u;return(0,n.default)(this,D),(u=I.call(this))._conference=t,u._timeoutTrigger=null,u._hasAudioInput=null,A.default.supportsReceiverStats()||t.statistics.addAudioLevelListener(u._audioLevel.bind((0,c.default)(u))),t.on(h.TRACK_ADDED,u._trackAdded.bind((0,c.default)(u))),u}return(0,o.default)(D,[{key:"_clearTriggerTimeout",value:function(){clearTimeout(this._timeoutTrigger),this._timeoutTrigger=null}},{key:"_handleAudioInputStateChange",value:function(t){var u=0!==t;null!==this._hasAudioInput&&this._hasAudioInput===u||(this._hasAudioInput=u,this.emit(T.AUDIO_INPUT_STATE_CHANGE,this._hasAudioInput))}},{key:"_handleNoAudioInputDetection",value:function(t){var u=this;this._eventFired||(0!==t||this._timeoutTrigger?0!==t&&this._timeoutTrigger&&this._clearTriggerTimeout():this._timeoutTrigger=setTimeout(function(){u._eventFired=!0,u.emit(T.NO_AUDIO_INPUT)},4e3))}},{key:"_audioLevel",value:function(t,u,n,o){if(o&&this._audioTrack){var c=t.localSSRCs.get(this._audioTrack.rtcId);c&&c.ssrcs.includes(u)&&(this._handleAudioInputStateChange(n),this._handleNoAudioInputDetection(n))}}},{key:"_trackAdded",value:function(t){var u=this;t.isLocalAudioTrack()&&(this._audioTrack=t,this._eventFired=!1,this._clearTriggerTimeout(),A.default.supportsReceiverStats()&&(t.on(v.NO_AUDIO_INPUT,function(t){u._handleNoAudioInputDetection(t)}),t.on(v.TRACK_AUDIO_LEVEL_CHANGED,function(t){u._handleNoAudioInputDetection(t),u._handleAudioInputStateChange(t)})))}}]),D})(f.default);e.default=I},673,[12,1,29,30,43,40,42,39,527,524,567,536,672]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(r(d[2])),s=n(r(d[3])),u=t(r(d[4])),o=n(r(d[5])),f=(function(){function t(n){(0,c.default)(this,t),this.conference=n,n.addEventListener(u.TRACK_AUDIO_LEVEL_CHANGED,this._audioLevel.bind(this)),this.myUserID=this.conference.myUserId()}return(0,s.default)(t,[{key:"_audioLevel",value:function(t,n){!this.conference.isP2PActive()||n<=.6||t===this.myUserID&&this.conference.getLocalAudioTrack().isMuted()||this.conference.rtc.eventEmitter.emit(o.default.DOMINANT_SPEAKER_CHANGED,t)}}]),t})();e.default=f},674,[12,1,29,30,524,561]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),c=n(r(d[3])),u=n(r(d[4])),s=n(r(d[5])),l=n(r(d[6])),f=n(r(d[7])),v=r(d[8]),_=r(d[9]),h=t(r(d[10])),A=r(d[11]),D=n(r(d[12]));function E(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=y(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var c=0;return function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function y(t,n){if(t){if("string"==typeof t)return S(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?S(t,n):void 0}}function S(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var p=(0,_.getLogger)(__filename),V=(function(t){(0,s.default)(y,t);var n,v,_=(n=y,v=k(),function(){var t,o=(0,f.default)(n);if(v){var c=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,c)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function y(t,n){var c;return(0,o.default)(this,y),(c=_.call(this))._createVADProcessor=n,c._vadEmitter=null,c._isVADEmitterRunning=!1,c._detectionServices=[],c._vadInitTracker=Promise.resolve(),c._processVADScore=c._processVADScore.bind((0,u.default)(c)),t.on(h.TRACK_ADDED,c._trackAdded.bind((0,u.default)(c))),t.on(h.TRACK_REMOVED,c._trackRemoved.bind((0,u.default)(c))),t.on(h.TRACK_MUTE_CHANGED,c._trackMuteChanged.bind((0,u.default)(c))),c}return(0,c.default)(y,[{key:"addVADDetectionService",value:function(t){var n=this;this._detectionServices.push(t),t.on(A.DETECTOR_STATE_CHANGE,function(){!n._detectionServices.filter(function(t){return!0===t.isActive()}).length&&n._isVADEmitterRunning?n._stopVADEmitter():n._isVADEmitterRunning||n._startVADEmitter()})}},{key:"_startVADEmitter",value:function(){this._vadEmitter.on(A.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.start(),this._isVADEmitterRunning=!0}},{key:"_stopVADEmitter",value:function(){this._vadEmitter.removeListener(A.VAD_SCORE_PUBLISHED,this._processVADScore),this._vadEmitter.stop(),this._isVADEmitterRunning=!1}},{key:"_processVADScore",value:function(t){for(var n,o=E(this._detectionServices);!(n=o()).done;){n.value.processVADScore(t)}}},{key:"_changeDetectorsMuteState",value:function(t){for(var n,o=E(this._detectionServices);!(n=o()).done;){n.value.changeMuteState(t)}}},{key:"_trackAdded",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){return n._createVADProcessor()}).then(function(n){return D.default.create(t.getDeviceId(),4096,n)}).then(function(o){p.debug('Created VAD emitter for track: ',t.getTrackLabel()),n._vadEmitter=o,n._changeDetectorsMuteState(t.isMuted())}).catch(function(t){p.warn('Failed to start VADAudioAnalyser',t)}))}},{key:"_trackMuteChanged",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){n._changeDetectorsMuteState(t.isMuted())}))}},{key:"_trackRemoved",value:function(t){var n=this;t.isLocalAudioTrack()&&(this._vadInitTracker=this._vadInitTracker.then(function(){p.debug('Removing track from VAD detection - ',t.getTrackLabel()),n._vadEmitter&&(n._stopVADEmitter(),n._vadEmitter.destroy(),n._vadEmitter=null);for(var o,c=E(n._detectionServices);!(o=c()).done;){o.value.reset()}}))}}]),y})(v.EventEmitter);e.default=V},675,[12,1,29,30,43,40,42,39,527,432,524,672,676]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),c=t(r(d[2])),n=t(r(d[3])),u=t(r(d[4])),s=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7])),_=t(r(d[8])),h=t(r(d[9])),v=r(d[10]),p=r(d[11]);function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var S=(function(t){(0,s.default)(A,t);var _,S,k=(_=A,S=y(),function(){var t,o=(0,f.default)(_);if(S){var c=(0,f.default)(this).constructor;t=Reflect.construct(o,arguments,c)}else t=o.apply(this,arguments);return(0,l.default)(this,t)});function A(t,o,n){var s;return(0,c.default)(this,A),(s=k.call(this))._procNodeSampleRate=t,s._vadProcessor=o,s._localTrack=n,s._bufferResidue=new Float32Array([]),s._audioContext=(0,v.createAudioContext)({sampleRate:o.getRequiredPCMFrequency()}),s._vadSampleSize=o.getSampleLength(),s._onAudioProcess=s._onAudioProcess.bind((0,u.default)(s)),s._initializeAudioContext(),s}return(0,n.default)(A,[{key:"_initializeAudioContext",value:function(){this._audioSource=this._audioContext.createMediaStreamSource(this._localTrack.stream),this._audioProcessingNode=this._audioContext.createScriptProcessor(this._procNodeSampleRate,1,1)}},{key:"_onAudioProcess",value:function(t){for(var c=t.inputBuffer.getChannelData(0),n=[].concat((0,o.default)(this._bufferResidue),(0,o.default)(c)),u=Date.now(),s=0;s+this._vadSampleSize<n.length;s+=this._vadSampleSize){var l=n.slice(s,s+this._vadSampleSize),f=this._vadProcessor.calculateAudioFrameVAD(l.slice());this.emit(p.VAD_SCORE_PUBLISHED,{timestamp:u,score:f,pcmData:l,deviceId:this._localTrack.getDeviceId()})}this._bufferResidue=n.slice(s,n.length)}},{key:"_connectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=this._onAudioProcess,this._audioSource.connect(this._audioProcessingNode),this._audioProcessingNode.connect(this._audioContext.destination)}},{key:"_disconnectAudioGraph",value:function(){this._audioProcessingNode.onaudioprocess=function(){},this._audioProcessingNode.disconnect(),this._audioSource.disconnect()}},{key:"_cleanupResources",value:function(){this._disconnectAudioGraph(),this._localTrack.stopStream()}},{key:"getDeviceId",value:function(){return this._localTrack.getDeviceId()}},{key:"getTrackLabel",value:function(){return this._localTrack.getDeviceLabel()}},{key:"start",value:function(){this._connectAudioGraph()}},{key:"stop",value:function(){this._disconnectAudioGraph(),this._bufferResidue=[]}},{key:"destroy",value:function(){this._destroyed||(this._cleanupResources(),this._destroyed=!0)}}],[{key:"create",value:function(t,o,c){return h.default.obtainAudioAndVideoPermissions({devices:['audio'],micDeviceId:t}).then(function(n){if(!n[0])throw new Error("Failed to create jitsi local track for device id: "+t);return new A(o,c,n[0])})}}]),A})(_.default);e.default=S},676,[1,25,29,30,43,40,42,39,527,627,677,672]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createAudioContext=function(t){var n=window.AudioContext||window.webkitAudioContext;if(!n)return;return new n(t)}},677,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),n=t(r(d[6])),f=r(d[7]),v=r(d[8]),_=r(d[9]);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=(function(t){(0,o.default)(p,t);var f,y,A=(f=p,y=h(),function(){var t,c=(0,n.default)(f);if(y){var s=(0,n.default)(this).constructor;t=Reflect.construct(c,arguments,s)}else t=c.apply(this,arguments);return(0,l.default)(this,t)});function p(){var t;return(0,c.default)(this,p),(t=A.call(this))._processing=!1,t._scoreArray=[],t._audioLvlArray=[],t._active=!1,t._calculateNoisyScore=t._calculateNoisyScore.bind((0,u.default)(t)),t}return(0,s.default)(p,[{key:"_calculateNoisyScore",value:function(){var t=(0,v.calculateAverage)(this._scoreArray),c=(0,v.calculateAverage)(this._audioLvlArray);t<.2&&c>.04&&(this.emit(_.VAD_NOISY_DEVICE),this._setActiveState(!1)),this.reset()}},{key:"_recordValues",value:function(t,c){this._scoreArray.push(t),this._audioLvlArray.push(c)}},{key:"_setActiveState",value:function(t){this._active=t,this.emit(_.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(t){this._setActiveState(!t),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],this._audioLvlArray=[],clearTimeout(this._processTimeout)}},{key:"processVADScore",value:function(t){if(this._active)if(this._processing){var c=(0,v.filterPositiveValues)(t.pcmData);this._recordValues(t.score,(0,v.calculateAverage)(c))}else if(t.score<.2){var s=(0,v.filterPositiveValues)(t.pcmData),u=(0,v.calculateAverage)(s);u>.02&&(this._processing=!0,this._recordValues(t.score,u),this._processTimeout=setTimeout(this._calculateNoisyScore,1500))}}}]),p})(f.EventEmitter);e.default=y},678,[1,29,30,43,40,42,39,527,555,672]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=t(r(d[1])),s=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),n=t(r(d[5])),l=t(r(d[6])),f=r(d[7]),_=r(d[8]),h=r(d[9]);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var A=(function(t){(0,o.default)(p,t);var f,A,y=(f=p,A=v(),function(){var t,c=(0,l.default)(f);if(A){var s=(0,l.default)(this).constructor;t=Reflect.construct(c,arguments,s)}else t=c.apply(this,arguments);return(0,n.default)(this,t)});function p(){var t;return(0,c.default)(this,p),(t=y.call(this))._processing=!1,t._scoreArray=[],t._active=!1,t._calculateVADScore=t._calculateVADScore.bind((0,u.default)(t)),t}return(0,s.default)(p,[{key:"_calculateVADScore",value:function(){(0,_.calculateAverage)(this._scoreArray)>.6&&(this.emit(h.VAD_TALK_WHILE_MUTED),this._setActiveState(!1)),this.reset()}},{key:"_setActiveState",value:function(t){this._active=t,this.emit(h.DETECTOR_STATE_CHANGE,this._active)}},{key:"changeMuteState",value:function(t){this._setActiveState(t),this.reset()}},{key:"isActive",value:function(){return this._active}},{key:"processVADScore",value:function(t){this._active&&(this._processing?this._scoreArray.push(t.score):t.score>.9&&(this._processing=!0,this._scoreArray.push(t.score),this._processTimeout=setTimeout(this._calculateVADScore,700)))}},{key:"reset",value:function(){this._processing=!1,this._scoreArray=[],clearTimeout(this._processTimeout)}}]),p})(f.EventEmitter);e.default=A},679,[1,29,30,43,40,42,39,527,555,672]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),h=n(r(d[3])),p=r(d[4]),l=t(r(d[5])),c=t(r(d[6])),o=r(d[7]),v=n(r(d[8])),u=(0,p.getLogger)(__filename),f=(function(){function t(n,h){(0,s.default)(this,t),this.participant=n,this.e2eping=h,this.id=n.getId(),this.requests={},this.lastRequestId=1,this.clearIntervals=this.clearIntervals.bind(this),this.sendRequest=this.sendRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.maybeSendAnalytics=this.maybeSendAnalytics.bind(this),this.sendAnalytics=this.sendAnalytics.bind(this),h.isDataChannelOpen&&this.sendRequest(),this.pingInterval=window.setInterval(this.sendRequest,h.pingIntervalMs),this.analyticsInterval=window.setTimeout(this.maybeSendAnalytics,this.e2eping.analyticsIntervalMs)}return(0,h.default)(t,[{key:"clearIntervals",value:function(){this.pingInterval&&window.clearInterval(this.pingInterval),this.analyticsInterval&&window.clearInterval(this.analyticsInterval)}},{key:"sendRequest",value:function(){var t=this.lastRequestId++,n={type:"e2e-ping-request",id:t};this.e2eping.sendMessage(n,this.id),this.requests[t]={id:t,timeSent:window.performance.now()}}},{key:"handleResponse",value:function(t){var n=this.requests[t.id];n&&(n.rtt=window.performance.now()-n.timeSent,this.e2eping.eventEmitter.emit(c.E2E_RTT_CHANGED,this.participant,n.rtt)),this.maybeSendAnalytics()}},{key:"maybeSendAnalytics",value:function(){var t,n,s=window.performance.now(),h=1/0;for(n in this.requests)this.requests.hasOwnProperty(n)&&((t=this.requests[n]).timeSent<s-this.e2eping.analyticsIntervalMs?delete this.requests[n]:t.rtt&&(h=Math.min(h,t.rtt)));h<1/0&&this.sendAnalytics(h)}},{key:"sendAnalytics",value:function(t){v.default.sendAnalytics((0,o.createE2eRttEvent)(this.id,this.participant.getProperty('region'),t))}}]),t})(),y=(function(){function t(n,h,p){(0,s.default)(this,t),this.conference=n,this.eventEmitter=n.eventEmitter,this.sendMessage=p,this.pingIntervalMs=1e4,this.analyticsIntervalMs=6e4,this.participants={},this.isDataChannelOpen=!1,h&&h.e2eping&&('number'==typeof h.e2eping.pingInterval&&(this.pingIntervalMs=h.e2eping.pingInterval),'number'==typeof h.e2eping.analyticsInterval&&(this.analyticsIntervalMs=h.e2eping.analyticsInterval),this.analyticsIntervalMs>0&&this.analyticsIntervalMs<this.pingIntervalMs&&(this.analyticsIntervalMs=this.pingIntervalMs)),u.info("Initializing e2e ping; pingInterval="+this.pingIntervalMs+", analyticsInterval="+this.analyticsIntervalMs+"."),this.participantJoined=this.participantJoined.bind(this),n.on(l.USER_JOINED,this.participantJoined),this.participantLeft=this.participantLeft.bind(this),n.on(l.USER_LEFT,this.participantLeft),this.messageReceived=this.messageReceived.bind(this),n.on(l.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.dataChannelOpened=this.dataChannelOpened.bind(this),n.on(l.DATA_CHANNEL_OPENED,this.dataChannelOpened)}return(0,h.default)(t,[{key:"dataChannelOpened",value:function(){for(var t in this.isDataChannelOpen=!0,this.participants)if(this.participants.hasOwnProperty(t)){var n=this.participants[t];window.setTimeout(n.sendRequest,200)}}},{key:"messageReceived",value:function(t,n){"e2e-ping-request"===n.type?this.handleRequest(t.getId(),n):"e2e-ping-response"===n.type&&this.handleResponse(t.getId(),n)}},{key:"participantJoined",value:function(t,n){this.pingIntervalMs<=0||(this.participants[t]&&(u.info("Participant wrapper already exists for "+t+". Clearing."),this.participants[t].clearIntervals(),delete this.participants[t]),this.participants[t]=new f(n,this))}},{key:"participantLeft",value:function(t){this.pingIntervalMs<=0||this.participants[t]&&(this.participants[t].clearIntervals(),delete this.participants[t])}},{key:"handleRequest",value:function(t,n){if(n&&n.id){var s={type:"e2e-ping-response",id:n.id};this.sendMessage(s,t)}else u.info("Received an invalid e2e ping request from "+t+".")}},{key:"handleResponse",value:function(t,n){var s=this.participants[t];s&&s.handleResponse(n)}},{key:"stop",value:function(){for(var t in u.info('Stopping e2eping'),this.conference.off(l.USER_JOINED,this.participantJoined),this.conference.off(l.USER_LEFT,this.participantLeft),this.conference.off(l.ENDPOINT_MESSAGE_RECEIVED,this.messageReceived),this.conference.off(l.DATA_CHANNEL_OPENED,this.dataChannelOpened),this.participants)this.participants.hasOwnProperty(t)&&this.participants[t].clearIntervals();this.participants={}}}]),t})();e.default=y},680,[12,1,29,30,432,524,681,534,531]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.E2E_RTT_CHANGED=void 0;e.E2E_RTT_CHANGED='e2eping.e2e_rtt_changed'},681,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(r(d[2])),c=n(r(d[3])),s=r(d[4]),f=t(r(d[5])),_=(0,s.getLogger)(__filename),o=(function(){function t(n){var c=this;(0,u.default)(this,t),this._conference=n,this._jvb121=!0,this._conference.addEventListener(f.USER_JOINED,function(){return c.evaluateStatus()}),this._conference.addEventListener(f.USER_LEFT,function(){return c.evaluateStatus()}),this._conference.addEventListener(f.P2P_STATUS,function(){return c.evaluateStatus()})}return(0,c.default)(t,[{key:"evaluateStatus",value:function(){var t=this._jvb121,n=!this._conference.isP2PActive()&&this._conference.getParticipantCount()<=2;t!==n&&(this._jvb121=n,_.debug("JVB121 status "+t+" => "+n),this._conference.eventEmitter.emit(f.JVB121_STATUS,t,n))}}]),t})();e.default=o},682,[12,1,29,30,432,524]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.QualityController=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=t(r(d[4])),u=n(r(d[5]));function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=h(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function h(t,n){if(t){if("string"==typeof t)return l(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(t,n):void 0}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var v=(function(){function t(n){var s=this;(0,o.default)(this,t),this.conference=n,this.conference.on(c._MEDIA_SESSION_STARTED,function(t){return s._onMediaSessionStarted(t)}),this.conference.on(c._MEDIA_SESSION_ACTIVE_CHANGED,function(){return s._propagateSendMaxFrameHeight()})}return(0,s.default)(t,[{key:"_onMediaSessionStarted",value:function(t){var n=this;t.addListener(u.default.REMOTE_VIDEO_CONSTRAINTS_CHANGED,function(t){t===n.conference._getActiveMediaSession()&&n._propagateSendMaxFrameHeight()}),this.preferredReceiveMaxFrameHeight&&t.setReceiverVideoConstraint(this.preferredReceiveMaxFrameHeight),t.setSenderVideoDegradationPreference(),t.setSenderMaxBitrates()}},{key:"_propagateSendMaxFrameHeight",value:function(){var t=this.selectSendMaxFrameHeight(),n=[];if(t>=0)for(var o,s=f(this.conference._getMediaSessions());!(o=s()).done;){var c=o.value;n.push(c.setSenderVideoConstraint(t))}return Promise.all(n)}},{key:"selectSendMaxFrameHeight",value:function(){var t=this.conference._getActiveMediaSession(),n=t&&t.getRemoteRecvMaxFrameHeight();return this.preferredSendMaxFrameHeight>=0&&n>=0?Math.min(this.preferredSendMaxFrameHeight,n):n>=0?n:this.preferredSendMaxFrameHeight}},{key:"setPreferredReceiveMaxFrameHeight",value:function(t){this.preferredReceiveMaxFrameHeight=t;for(var n,o=f(this.conference._getMediaSessions());!(n=o()).done;){var s=n.value;t&&s.setReceiverVideoConstraint(t)}}},{key:"setPreferredSendMaxFrameHeight",value:function(t){return this.preferredSendMaxFrameHeight=t,this._propagateSendMaxFrameHeight()}}]),t})();e.QualityController=v},683,[12,1,29,30,524,615]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),c=r(d[4]),u=t(r(d[5])),f=t(r(d[6])),h=t(r(d[7]));function l(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,o)}return s}function p(t){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?l(Object(o),!0).forEach(function(s){(0,n.default)(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}var _=(0,c.getLogger)(__filename),v=(function(){function t(n){(0,s.default)(this,t),this._sessions={},this._chatRoom=n,this.onPresence=this.onPresence.bind(this),this._chatRoom.eventEmitter.addListener(u.default.PRESENCE_RECEIVED,this.onPresence)}return(0,o.default)(t,[{key:"getSession",value:function(t){return this._sessions[t]}},{key:"onPresence",value:function(t){var n=t.fromHiddenDomain,s=t.presence;h.default.isFromFocus(s)?this._handleFocusPresence(s):n&&this._handleJibriPresence(s)}},{key:"startRecording",value:function(t){var n=this,s=new f.default(p(p({},t),{},{connection:this._chatRoom.connection}));return s.start({appData:t.appData,broadcastId:t.broadcastId,focusMucJid:this._chatRoom.focusMucJid,streamId:t.streamId}).then(function(){return n.getSession(s.getID())||(n._addSession(s),n._emitSessionUpdate(s)),s}).catch(function(t){return n._emitSessionUpdate(s),Promise.reject(t)})}},{key:"stopRecording",value:function(t){var n=this.getSession(t);return n?n.stop({focusMucJid:this._chatRoom.focusMucJid}):Promise.reject(new Error('Could not find session'))}},{key:"_addSession",value:function(t){this._sessions[t.getID()]=t}},{key:"_createSession",value:function(t,n,s){var o=new f.default({connection:this._chatRoom.connection,focusMucJid:this._chatRoom.focusMucJid,mode:s,sessionID:t,status:n});return this._addSession(o),o}},{key:"_emitSessionUpdate",value:function(t,n){this._chatRoom.eventEmitter.emit(u.default.RECORDER_STATE_CHANGED,t,n)}},{key:"_handleFocusPresence",value:function(t){var n=h.default.getFocusRecordingUpdate(t);if(n){var s=n.error,o=n.initiator,c=n.recordingMode,u=n.sessionID,f=n.status,l=this.getSession(u);l||'off'!==f?l&&l.getStatus()===f&&l.getError()===s?_.warn('Ignoring duplicate presence update: ',JSON.stringify(n)):(l||(l=this._createSession(u,f,c)),l.setStatus(f),s&&l.setError(s),this._emitSessionUpdate(l,o)):_.warn('Ignoring recording presence update','Received a new session with status off.')}}},{key:"_handleJibriPresence",value:function(t){var n=h.default.getHiddenDomainUpdate(t),s=n.liveStreamViewURL,o=n.mode,c=n.sessionID;if(c){var u=this.getSession(c);u||(u=this._createSession(c,'',o)),u.setLiveStreamViewURL(s),this._emitSessionUpdate(u)}else _.warn('Ignoring potential jibri presence due to no session id.')}}]),t})();e.default=v},684,[1,51,29,30,432,564,685,686]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=t(r(d[4])),c=(function(){function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t),this._connection=o.connection,this._mode=o.mode,this._setSessionID(o.sessionID),this.setStatus(o.status)}return(0,o.default)(t,[{key:"getError",value:function(){return this._error}},{key:"getID",value:function(){return this._sessionID}},{key:"getInitiator",value:function(){return this._initiator}},{key:"getLiveStreamViewURL",value:function(){return this._liveStreamViewURL}},{key:"getStatus",value:function(){return this._status}},{key:"getTerminator",value:function(){return this._terminator}},{key:"getMode",value:function(){return this._mode}},{key:"setError",value:function(t){this._error=t}},{key:"setLiveStreamViewURL",value:function(t){this._liveStreamViewURL=t}},{key:"setStatus",value:function(t){this._status=t}},{key:"setInitiator",value:function(t){this._initiator=t}},{key:"setTerminator",value:function(t){this._terminator=t}},{key:"start",value:function(t){var n=this,o=t.appData,s=t.broadcastId,c=t.focusMucJid,f=t.streamId;return new Promise(function(t,_){n._connection.sendIQ(n._createIQ({action:'start',appData:o,focusMucJid:c,broadcastId:s,streamId:f}),function(o){n.setStatus('pending'),n._setSessionID(u.default.getSessionIdFromIq(o)),t()},function(t){n._setErrorFromIq(t),_(t)})})}},{key:"stop",value:function(t){var n=this,o=t.focusMucJid;return new Promise(function(t,s){n._connection.sendIQ(n._createIQ({action:'stop',focusMucJid:o}),t,s)})}},{key:"_createIQ",value:function(t){var n=t.action,o=t.appData,u=t.broadcastId,c=t.focusMucJid,f=t.streamId;return(0,s.$iq)({to:c,type:'set'}).c('jibri',{xmlns:'http://jitsi.org/protocol/jibri',action:n,app_data:o,recording_mode:this._mode,streamid:f,you_tube_broadcast_id:u}).up()}},{key:"_setErrorFromIq",value:function(t){var n=t.getElementsByTagName('error')[0];this.setError(n.children[0].tagName)}},{key:"_setSessionID",value:function(t){this._sessionID=t}}]),t})();e.default=c},685,[1,29,30,529,686]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={getFocusRecordingUpdate:function(t){var n=t&&t.getElementsByTagName('jibri-recording-status')[0];if(n)return{error:n.getAttribute('failure_reason'),initiator:n.getAttribute('initiator'),recordingMode:n.getAttribute('recording_mode'),sessionID:n.getAttribute('session_id'),status:n.getAttribute('status')}},getHiddenDomainUpdate:function(t){var n=t.getElementsByTagName('live-stream-view-url')[0],o=n&&n.textContent,s=t.getElementsByTagName('mode')[0],u=s&&s.textContent&&s.textContent.toLowerCase(),c=t.getElementsByTagName('session_id')[0];return{liveStreamViewURL:o,mode:u,sessionID:c&&c.textContent}},getSessionIdFromIq:function(t){var n=t&&t.getElementsByTagName('jibri')[0];return n&&n.getAttribute('session_id')},getSessionId:function(t){var n=t.getElementsByTagName('session_id')[0];return n&&n.textContent},isFromFocus:function(t){return t.getAttribute('from').includes('focus')}}},686,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(r(d[2])),n=o(r(d[3])),c=r(d[4]),l=t(r(d[5])),u=t(r(d[6])),v=t(r(d[7])),h=r(d[8]),_=o(r(d[9])),f=(0,c.getLogger)(__filename),A=(function(){function t(o){(0,s.default)(this,t),this._conference=o,this._localAudioLevelCache={},this._reportedParticipants=[],this._audioProblemCandidates={},this._numberOfRemoteAudioLevelsReceived={},this._onLocalAudioLevelsReport=this._onLocalAudioLevelsReport.bind(this),this._onRemoteAudioLevelReceived=this._onRemoteAudioLevelReceived.bind(this),this._clearUserData=this._clearUserData.bind(this),this._conference.on(v.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.statistics.addConnectionStatsListener(this._onLocalAudioLevelsReport),this._conference.on(l.USER_LEFT,this._clearUserData)}return(0,n.default)(t,[{key:"_onRemoteAudioLevelReceived",value:function(t,o){var s=o.avgAudioLevels,n=this._numberOfRemoteAudioLevelsReceived[t]+1||0;if(this._numberOfRemoteAudioLevelsReceived[t]=n,!(-1!==this._reportedParticipants.indexOf(t)||t in this._audioProblemCandidates||s<=0||n<3)){var c=this._conference.getParticipantById(t);if(c)if(c.getTracksByMediaType(u.AUDIO).length>0&&c.isAudioMuted())return;var l=this._localAudioLevelCache[t];Array.isArray(l)&&!l.every(function(t){return 0===t})||(this._audioProblemCandidates[t]={remoteAudioLevels:s,localAudioLevels:[]})}}},{key:"_onLocalAudioLevelsReport",value:function(t,o){var s=this,n=o.avgAudioLevels;t===this._conference.getActivePeerConnection()&&(Object.keys(n).forEach(function(t){if(-1===s._reportedParticipants.indexOf(t)){var o=s._localAudioLevelCache[t];Array.isArray(o)?o.length>=2&&o.shift():s._localAudioLevelCache[t]=[],s._localAudioLevelCache[t].push(n[t])}}),Object.keys(this._audioProblemCandidates).forEach(function(t){var o=s._audioProblemCandidates[t],c=o.localAudioLevels,l=o.remoteAudioLevels;if(c.push(n[t]),2===c.length){if(c.every(function(t){return void 0===t||0===t})){var u=JSON.stringify(c);_.default.sendAnalytics((0,h.createAudioOutputProblemEvent)(t,u,l)),f.warn("A potential problem is detected with the audio output for participant "+t+", local audio levels: "+u+", remote audio levels: "+l),s._reportedParticipants.push(t),s._clearUserData(t)}delete s._audioProblemCandidates[t]}}))}},{key:"_clearUserData",value:function(t){delete this._localAudioLevelCache[t]}},{key:"dispose",value:function(){this._conference.off(v.REMOTE_STATS_UPDATED,this._onRemoteAudioLevelReceived),this._conference.off(l.USER_LEFT,this._clearUserData),this._conference.statistics.removeConnectionStatsListener(this._onLocalAudioLevelsReport),this._localAudioLevelCache=void 0,this._audioProblemCandidates=void 0,this._reportedParticipants=void 0,this._numberOfRemoteAudioLevelsReceived=void 0,this._conference=void 0}}]),t})();e.default=A},687,[12,1,29,30,432,524,557,670,534,531]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(d[2])),o=s(r(d[3])),c=s(r(d[4])),l=r(d[5]),_=s(r(d[6])),p=t(r(d[7])),h=t(r(d[8])),v=t(r(d[9])),u=t(r(d[10])),f=r(d[11]),S=s(r(d[12])),T=s(r(d[13]));function R(t,s){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=P(t))||s&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function P(t,s){if(t){if("string"==typeof t)return y(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,s):void 0}}function y(t,s){(null==s||s>t.length)&&(s=t.length);for(var n=0,o=new Array(s);n<s;n++)o[n]=t[n];return o}var A=(0,l.getLogger)(__filename),w=(function(){function t(s){(0,o.default)(this,t),this.name=s,this.count=0,this.sum=0,this.samples=[]}return(0,c.default)(t,[{key:"addNext",value:function(t){'number'!=typeof t?A.error(this.name+" - invalid value for idx: "+this.count,t):isNaN(t)||(this.sum+=t,this.samples.push(t),this.count+=1)}},{key:"calculate",value:function(){return this.sum/this.count}},{key:"appendReport",value:function(t){t[this.name+"_avg"]=this.calculate(),t[this.name+"_samples"]=JSON.stringify(this.samples)}},{key:"reset",value:function(){this.samples=[],this.sum=0,this.count=0}}]),t})(),x=(function(){function t(s,n,c){var l=this;(0,o.default)(this,t),this.isP2P=n,this._n=c,this._sampleIdx=0,this._avgRTT=new w('rtt'),this._avgRemoteRTTMap=new Map,this._avgRtpStatsReporter=s,this._avgEnd2EndRTT=void 0,this._onConnectionStats=function(t,s){l.isP2P===t.isP2P&&l._calculateAvgStats(s)};var _=s._conference;_.statistics.addConnectionStatsListener(this._onConnectionStats),this.isP2P||(this._onUserLeft=function(t){return l._avgRemoteRTTMap.delete(t)},_.on(p.USER_LEFT,this._onUserLeft),this._onRemoteStatsUpdated=function(t,s){return l._processRemoteStats(t,s)},_.on(u.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated))}return(0,c.default)(t,[{key:"_calculateAvgStats",value:function(t){if(t){if(S.default.supportsRTTStatistics()&&t.transport&&t.transport.length&&this._avgRTT.addNext(t.transport[0].rtt),this._sampleIdx+=1,this._sampleIdx>=this._n){if(S.default.supportsRTTStatistics()){var s=this._avgRtpStatsReporter._conference,o={p2p:this.isP2P,conference_size:s.getParticipantCount()};if(t.transport&&t.transport.length&&(0,n.default)(o,{local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type}),this._avgRTT.appendReport(o),this.isP2P){var c=this._avgRtpStatsReporter.jvbStatsMonitor._avgEnd2EndRTT;isNaN(c)||(o.rtt_diff=this._avgRTT.calculate()-c)}else{var l=this._calculateAvgRemoteRTT(),_=this._avgRTT.calculate();this._avgEnd2EndRTT=_+l,isNaN(_)||isNaN(l)||(o.end2end_rtt_avg=this._avgEnd2EndRTT)}T.default.sendAnalytics((0,f.createRtpStatsEvent)(o))}this._resetAvgStats()}}else A.error('No stats')}},{key:"_calculateAvgRemoteRTT",value:function(){for(var t,s=0,n=0,o=R(this._avgRemoteRTTMap.values());!(t=o()).done;){var c=t.value,l=c.calculate();isNaN(l)||(n+=l,s+=1,c.reset())}return n/s}},{key:"_processRemoteStats",value:function(t,s){var n='number'==typeof s.jvbRTT,o=this._avgRemoteRTTMap.get(t);!o&&n&&(o=new w(t+"_stat_rtt"),this._avgRemoteRTTMap.set(t,o)),n?o.addNext(s.jvbRTT):o&&this._avgRemoteRTTMap.delete(t)}},{key:"_resetAvgStats",value:function(){this._avgRTT.reset(),this._avgRemoteRTTMap&&this._avgRemoteRTTMap.clear(),this._sampleIdx=0}},{key:"dispose",value:function(){var t=this._avgRtpStatsReporter._conference;t.statistics.removeConnectionStatsListener(this._onConnectionStats),this.isP2P||(t.off(u.REMOTE_STATS_UPDATED,this._onRemoteStatsUpdated),t.off(p.USER_LEFT,this._onUserLeft))}}]),t})(),N=(function(){function t(s,n){var c=this;(0,o.default)(this,t),this._n=n,n>0?(A.info("Avg RTP stats will be calculated every "+n+" samples"),this._sampleIdx=0,this._conference=s,this._avgAudioBitrateUp=new w('bitrate_audio_upload'),this._avgAudioBitrateDown=new w('bitrate_audio_download'),this._avgVideoBitrateUp=new w('bitrate_video_upload'),this._avgVideoBitrateDown=new w('bitrate_video_download'),this._avgBandwidthUp=new w('bandwidth_upload'),this._avgBandwidthDown=new w('bandwidth_download'),this._avgPacketLossTotal=new w('packet_loss_total'),this._avgPacketLossUp=new w('packet_loss_upload'),this._avgPacketLossDown=new w('packet_loss_download'),this._avgRemoteFPS=new w('framerate_remote'),this._avgRemoteScreenFPS=new w('framerate_screen_remote'),this._avgLocalFPS=new w('framerate_local'),this._avgLocalScreenFPS=new w('framerate_screen_local'),this._avgRemoteCameraPixels=new w('pixels_remote'),this._avgRemoteScreenPixels=new w('pixels_screen_remote'),this._avgLocalCameraPixels=new w('pixels_local'),this._avgLocalScreenPixels=new w('pixels_screen_local'),this._avgCQ=new w('connection_quality'),this._cachedTransportStats=void 0,this._onLocalStatsUpdated=function(t){c._calculateAvgStats(t),c._maybeSendTransportAnalyticsEvent(t)},s.on(u.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._onP2PStatusChanged=function(){A.debug('Resetting average stats calculation'),c._resetAvgStats(),c.jvbStatsMonitor._resetAvgStats(),c.p2pStatsMonitor._resetAvgStats()},s.on(p.P2P_STATUS,this._onP2PStatusChanged),this._onJvb121StatusChanged=function(t,s){!0===s&&(A.info('Resetting JVB avg RTP stats'),c._resetAvgJvbStats())},s.on(p.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor=new x(this,!1,n),this.p2pStatsMonitor=new x(this,!0,n)):A.info('Avg RTP stats reports are disabled.')}return(0,c.default)(t,[{key:"_calculateAvgStats",value:function(t){if(t){var s=this._conference.isP2PActive(),o=this._conference.getParticipantCount();if(s||!(o<2)){var c=t.bitrate,l=t.bandwidth,_=t.packetLoss,p=t.framerate,h=t.resolution;if(c)if(l)if(_)if(p)if(h){if(this._avgAudioBitrateUp.addNext(c.audio.upload),this._avgAudioBitrateDown.addNext(c.audio.download),this._avgVideoBitrateUp.addNext(c.video.upload),this._avgVideoBitrateDown.addNext(c.video.download),S.default.supportsBandwidthStatistics()&&(this._avgBandwidthUp.addNext(l.upload),this._avgBandwidthDown.addNext(l.download)),this._avgPacketLossUp.addNext(_.upload),this._avgPacketLossDown.addNext(_.download),this._avgPacketLossTotal.addNext(_.total),this._avgCQ.addNext(t.connectionQuality),p&&(this._avgRemoteFPS.addNext(this._calculateAvgVideoFps(p,!1,v.CAMERA)),this._avgRemoteScreenFPS.addNext(this._calculateAvgVideoFps(p,!1,v.DESKTOP)),this._avgLocalFPS.addNext(this._calculateAvgVideoFps(p,!0,v.CAMERA)),this._avgLocalScreenFPS.addNext(this._calculateAvgVideoFps(p,!0,v.DESKTOP))),h&&(this._avgRemoteCameraPixels.addNext(this._calculateAvgVideoPixels(h,!1,v.CAMERA)),this._avgRemoteScreenPixels.addNext(this._calculateAvgVideoPixels(h,!1,v.DESKTOP)),this._avgLocalCameraPixels.addNext(this._calculateAvgVideoPixels(h,!0,v.CAMERA)),this._avgLocalScreenPixels.addNext(this._calculateAvgVideoPixels(h,!0,v.DESKTOP))),this._sampleIdx+=1,this._sampleIdx>=this._n){var u={p2p:s,conference_size:o};t.transport&&t.transport.length&&(0,n.default)(u,{local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type}),this._avgAudioBitrateUp.appendReport(u),this._avgAudioBitrateDown.appendReport(u),this._avgVideoBitrateUp.appendReport(u),this._avgVideoBitrateDown.appendReport(u),S.default.supportsBandwidthStatistics()&&(this._avgBandwidthUp.appendReport(u),this._avgBandwidthDown.appendReport(u)),this._avgPacketLossUp.appendReport(u),this._avgPacketLossDown.appendReport(u),this._avgPacketLossTotal.appendReport(u),this._avgRemoteFPS.appendReport(u),isNaN(this._avgRemoteScreenFPS.calculate())||this._avgRemoteScreenFPS.appendReport(u),this._avgLocalFPS.appendReport(u),isNaN(this._avgLocalScreenFPS.calculate())||this._avgLocalScreenFPS.appendReport(u),this._avgRemoteCameraPixels.appendReport(u),isNaN(this._avgRemoteScreenPixels.calculate())||this._avgRemoteScreenPixels.appendReport(u),this._avgLocalCameraPixels.appendReport(u),isNaN(this._avgLocalScreenPixels.calculate())||this._avgLocalScreenPixels.appendReport(u),this._avgCQ.appendReport(u),T.default.sendAnalytics((0,f.createRtpStatsEvent)(u)),this._resetAvgStats()}}else A.error('No resolution');else A.error('No "framerate"');else A.error('No "packetloss"');else A.error('No "bandwidth"');else A.error('No "bitrate"')}}else A.error('No stats')}},{key:"_calculateAvgVideoPixels",value:function(t,s,n){for(var o=0,c=0,l=this._conference.myUserId(),_=0,p=Object.keys(t);_<p.length;_++){var h=p[_];if(s?h===l:h!==l){var v=s?null:this._conference.getParticipantById(h),u=t[h];if((s||v)&&u){var f=this._calculatePeerAvgVideoPixels(u,v,n);isNaN(f)||(o+=f,c+=1)}}}return o/c}},{key:"_calculatePeerAvgVideoPixels",value:function(t,s,n){var o=Object.keys(t).map(function(t){return Number(t)}),c=null,l=this._conference.getActivePeerConnection();s?(c=s.getTracksByMediaType(h.VIDEO))&&(o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&s.getSSRC()===t&&s.videoType===n})})):(c=this._conference.getLocalTracks(h.VIDEO),o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&l.getLocalSSRC(s)===t&&s.videoType===n})}));for(var _,p=0,v=0,u=R(o);!(_=u()).done;){var f=_.value,S=Number(t[f].height)*Number(t[f].width);!isNaN(S)&&S>0&&(p+=S,v+=1)}return p/v}},{key:"_calculateAvgVideoFps",value:function(t,s,n){for(var o=0,c=0,l=this._conference.myUserId(),_=0,p=Object.keys(t);_<p.length;_++){var h=p[_];if(s?h===l:h!==l){var v=s?null:this._conference.getParticipantById(h),u=t[h];if((s||v)&&u){var f=this._calculatePeerAvgVideoFps(u,v,n);isNaN(f)||(o+=f,c+=1)}}}return o/c}},{key:"_calculatePeerAvgVideoFps",value:function(t,s,n){var o=Object.keys(t).map(function(t){return Number(t)}),c=null,l=this._conference.getActivePeerConnection();s?(c=s.getTracksByMediaType(h.VIDEO))&&(o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&s.getSSRC()===t&&s.videoType===n})})):(c=this._conference.getLocalTracks(h.VIDEO),o=o.filter(function(t){return c.find(function(s){return!s.isMuted()&&l.getLocalSSRC(s)===t&&s.videoType===n})}));for(var _,p=0,v=0,u=R(o);!(_=u()).done;){var f=_.value,S=Number(t[f]);!isNaN(S)&&S>0&&(p+=S,v+=1)}return p/v}},{key:"_maybeSendTransportAnalyticsEvent",value:function(t){if(t&&t.transport&&t.transport.length){var s={p2p:t.transport[0].p2p,local_candidate_type:t.transport[0].localCandidateType,remote_candidate_type:t.transport[0].remoteCandidateType,transport_type:t.transport[0].type};this._cachedTransportStats&&(0,_.default)(s,this._cachedTransportStats)||(this._cachedTransportStats=s,T.default.sendAnalytics((0,f.createTransportStatsEvent)(s)))}}},{key:"_resetAvgJvbStats",value:function(){this._resetAvgStats(),this.jvbStatsMonitor._resetAvgStats()}},{key:"_resetAvgStats",value:function(){this._avgAudioBitrateUp.reset(),this._avgAudioBitrateDown.reset(),this._avgVideoBitrateUp.reset(),this._avgVideoBitrateDown.reset(),this._avgBandwidthUp.reset(),this._avgBandwidthDown.reset(),this._avgPacketLossUp.reset(),this._avgPacketLossDown.reset(),this._avgPacketLossTotal.reset(),this._avgRemoteFPS.reset(),this._avgRemoteScreenFPS.reset(),this._avgLocalFPS.reset(),this._avgLocalScreenFPS.reset(),this._avgRemoteCameraPixels.reset(),this._avgRemoteScreenPixels.reset(),this._avgLocalCameraPixels.reset(),this._avgLocalScreenPixels.reset(),this._avgCQ.reset(),this._sampleIdx=0}},{key:"dispose",value:function(){this._conference.off(p.P2P_STATUS,this._onP2PStatusChanged),this._conference.off(u.LOCAL_STATS_UPDATED,this._onLocalStatsUpdated),this._conference.off(p.JVB121_STATUS,this._onJvb121StatusChanged),this.jvbStatsMonitor.dispose(),this.p2pStatsMonitor.dispose()}}]),t})();e.default=N},688,[12,1,16,29,30,432,528,524,557,562,670,534,536,531]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(d[2])),u=s(r(d[3])),o=t(r(d[4])),l=s(r(d[5])),h=s(r(d[6])),p=(function(){function t(s){(0,n.default)(this,t),this.stats={users:{},dominantSpeakerId:null};var u=s.myUserId();this.stats.users[u]=new h.default(u,null,!0),this.conference=s,s.addEventListener(o.DOMINANT_SPEAKER_CHANGED,this._onDominantSpeaker.bind(this)),s.addEventListener(o.USER_JOINED,this._onUserJoin.bind(this)),s.addEventListener(o.USER_LEFT,this._onUserLeave.bind(this)),s.addEventListener(o.DISPLAY_NAME_CHANGED,this._onDisplayNameChange.bind(this)),s.xmpp&&s.xmpp.addListener(l.default.SPEAKER_STATS_RECEIVED,this._updateStats.bind(this))}return(0,u.default)(t,[{key:"_onDominantSpeaker",value:function(t){var s=this.stats.users[this.stats.dominantSpeakerId],n=this.stats.users[t];s&&s.setDominantSpeaker(!1),n&&n.setDominantSpeaker(!0),this.stats.dominantSpeakerId=t}},{key:"_onUserJoin",value:function(t,s){s.isHidden()||this.stats.users[t]||(this.stats.users[t]=new h.default(t,s.getDisplayName()))}},{key:"_onUserLeave",value:function(t){var s=this.stats.users[t];s&&s.markAsHasLeft()}},{key:"_onDisplayNameChange",value:function(t,s){var n=this.stats.users[t];n&&n.setDisplayName(s)}},{key:"getStats",value:function(){return this.stats.users}},{key:"_updateStats",value:function(t){for(var s in t){var n=void 0,u=this.conference.getParticipantById(s);u&&u.isHidden()||(this.stats.users[s]?(n=this.stats.users[s]).getDisplayName()||n.setDisplayName(t[s].displayName):(n=new h.default(s,t[s].displayName),this.stats.users[s]=n,n.markAsHasLeft())),n.totalDominantSpeakerTime=t[s].totalDominantSpeakerTime}}}]),t})();e.default=p},689,[12,1,29,30,524,564,690]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s=(function(){"use strict";function s(n,o,u){t(this,s),this._userId=n,this.setDisplayName(o),this._isLocalStats=u||!1,this.setDominantSpeaker(!1),this.totalDominantSpeakerTime=0,this._dominantSpeakerStart=0,this._hasLeft=!1}return n(s,[{key:"getUserId",value:function(){return this._userId}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"setDisplayName",value:function(t){this.displayName=t}},{key:"isLocalStats",value:function(){return this._isLocalStats}},{key:"isDominantSpeaker",value:function(){return this._dominantSpeakerStart>0}},{key:"setDominantSpeaker",value:function(t){if(!this.isDominantSpeaker()&&t)this._dominantSpeakerStart=Date.now();else if(this.isDominantSpeaker()&&!t){var n=Date.now()-this._dominantSpeakerStart;this.totalDominantSpeakerTime+=n,this._dominantSpeakerStart=0}}},{key:"getTotalDominantSpeakerTime",value:function(){var t=this.totalDominantSpeakerTime;return this.isDominantSpeaker()&&(t+=Date.now()-this._dominantSpeakerStart),t}},{key:"hasLeft",value:function(){return this._hasLeft}},{key:"markAsHasLeft",value:function(){this._hasLeft=!0,this.setDominantSpeaker(!1)}}]),s})();m.exports=s},690,[29,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),s='before';function o(){this.audioRecorder=new t,this.transcriptionService=new n,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=s,this.lineLength=0}function h(t,n){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+n.wordArray.length),n.wordArray.length>0){var s=n.startTime.getUTCMilliseconds()-t.startTime.getUTCMilliseconds();s<0&&(s=0);var o='[';n.wordArray.forEach(function(t){t.begin+=s,t.end+=s,o+=t.word+","}),o+=']',console.log(o),n.wordArray.name=n.name}t.results.push(n.wordArray),t.counter--,console.log("current counter: "+t.counter),t.maybeMerge()}function c(t){for(var n=0;n<t.length;n++)0===t[n].length&&t.splice(n,1);return t.length>0}function l(t,n){if(0===t.length)t.push(n);else{if(t[t.length-1].begin<=n.begin)return void t.push(n);for(var s=0;s<t.length;s++)if(n.begin<t[s].begin)return void t.splice(s,0,n);t.push(n)}}o.prototype.start=function(){if(this.state!==s)throw new Error("The transcription can only start when it's in the \"before\" state. It's currently in the \""+this.state+"\" state");this.state="recording",this.audioRecorder.start(),this.startTime=new Date},o.prototype.stop=function(t){var n=this;if("recording"!==this.state)throw new Error("The transcription can only stop when it's in the \"recording\" state. It's currently in the \""+this.state+"\" state");console.log('stopping recording and sending audio files'),this.audioRecorder.stop();var s=h.bind(null,this);this.audioRecorder.getRecordingResults().forEach(function(t){n.transcriptionService.send(t,s),n.counter++}),this.state="transcribing",this.callback=t},o.prototype.maybeMerge=function(){"transcribing"===this.state&&0===this.counter&&this.merge()},o.prototype.merge=function(){var t=this;console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription='';var n=this.results,s=[];c(n),n.forEach(function(t){return l(s,t)});for(var o=function(){var s=n[0];n.forEach(function(t){t[0].begin<s[0].begin&&(s=t)});var o=s.shift();t.updateTranscription(o,s.name);for(var h=function(){var h=!1,c=s[0].begin;if(n.forEach(function(t){t[0].begin<c&&(h=!0)}),h)return"break";o=s.shift(),t.updateTranscription(o,null)};s.length>0;){if("break"===h())break}};c(n);)o();this.state="finished",this.callback&&this.callback(this.transcription)},o.prototype.updateTranscription=function(t,n){void 0!==n&&null!==n&&(this.transcription+="\n"+n+":",this.lineLength=n.length+1),this.lineLength+t.word.length>80&&(this.transcription+='\n    ',this.lineLength=4),this.transcription+=" "+t.word,this.lineLength+=t.word.length+1},o.prototype.addTrack=function(t){this.audioRecorder.addTrack(t)},o.prototype.removeTrack=function(t){this.audioRecorder.removeTrack(t)},o.prototype.getTranscription=function(){if("finished"!==this.state)throw new Error("The transcription can only be retrieved when it's in the \"finished\" state. It's currently in the \""+this.state+"\" state");return this.transcription},o.prototype.getState=function(){return this.state},o.prototype.reset=function(){this.state=s,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0},m.exports=o},691,[692,694]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o='audio/webm',n='audio/ogg',c=function(t){this.track=t,this.recorder=null,this.data=null,this.name=null,this.startTime=null};function s(t){if(void 0===t.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");t.recorder.start(),t.startTime=new Date}function h(t){if(void 0===t.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");t.recorder.stop()}function p(){if(MediaRecorder.isTypeSupported(o))return o;if(MediaRecorder.isTypeSupported(n))return n;throw new Error('unable to create a MediaRecorder with the right mimetype!')}function u(t){this.recorders=[],this.fileType=p(),this.isRecording=!1,this.jitsiConference=t}u.determineCorrectFileType=p,u.prototype.addTrack=function(t){if(t.isAudioTrack()){var o=this.instantiateTrackRecorder(t);this.recorders.push(o),this.updateNames(),this.isRecording&&s(o)}},u.prototype.instantiateTrackRecorder=function(t){var o=new c(t),n=o.track.getOriginalStream(),s=new MediaStream;return n.getAudioTracks().forEach(function(t){return s.addTrack(t)}),o.recorder=new MediaRecorder(s,{mimeType:this.fileType}),o.data=[],o.recorder.ondataavailable=function(t){t.data.size>0&&o.data.push(t.data)},o},u.prototype.removeTrack=function(t){if(!t.isVideoTrack()){var o,n=this.recorders;for(o=0;o<n.length;o++)if(n[o].track.getParticipantId()===t.getParticipantId()){var c=n[o];this.isRecording?h(c):n.splice(o,1)}this.updateNames()}},u.prototype.updateNames=function(){var t=this.jitsiConference;this.recorders.forEach(function(o){if(o.track.isLocal())o.name='the transcriber';else{var n=o.track.getParticipantId(),c=t.getParticipantById(n).getDisplayName();'undefined'!==c&&(o.name=c)}})},u.prototype.start=function(){if(this.isRecording)throw new Error('audiorecorder is already recording');this.isRecording=!0,this.recorders.forEach(function(t){return s(t)}),console.log("Started the recording of the audio. There are currently "+this.recorders.length+" recorders active.")},u.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(t){return h(t)}),console.log('stopped recording')},u.prototype.download=function(){var t=this;this.recorders.forEach(function(o){var n=new Blob(o.data,{type:t.fileType}),c=URL.createObjectURL(n),s=document.createElement('a');document.body.appendChild(s),s.style='display: none',s.href=c,s.download="test."+t.fileType.split('/')[1],s.click(),window.URL.revokeObjectURL(c)})},u.prototype.getRecordingResults=function(){var o=this;if(this.isRecording)throw new Error('cannot get blobs because the AudioRecorder is still recording!');this.updateNames();var n=[];return this.recorders.forEach(function(c){return n.push(new t(new Blob(c.data,{type:o.fileType}),c.name,c.startTime))}),n},u.prototype.getFileType=function(){return this.fileType},m.exports=u},692,[693]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,s,n,o){this.blob=t,this.name=s,this.startTime=n,this.wordArray=o}},693,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=function(){this.url=c()};function c(){var t='config does not contain an url to a Sphinx4 https server';if(void 0===config.sphinxURL)console.log(t);else{var o=config.sphinxURL;if(void 0!==o.includes&&o.includes('https://'))return o;console.log(t)}}s.prototype=Object.create(n.prototype),s.constructor=s,s.prototype.sendRequest=function(t,n){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+t);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE&&200===s.status)n(s.responseText);else if(s.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server. status: "+s.status)},s.open('POST',this.url),s.setRequestHeader('Content-Type',o.determineCorrectFileType()),s.send(t),console.log("send "+t)},s.prototype.formatResponse=function(o){var n=JSON.parse(o).objects;n.shift();var s=[];return n.forEach(function(o){return o.filler||s.push(new t(o.word,o.start,o.end))}),s},s.prototype.verify=function(t){if(console.log("response from server:"+t.toString()),'string'!=typeof t)return!1;var o;try{o=JSON.parse(t)}catch(t){return console.log(t),!1}if(void 0===o.objects)return!1;var n=o.objects;return!(!n[0]||!n[0]['session-id'])},m.exports=s},694,[695,692,696]);
__d(function(g,r,i,a,m,e,d){var t=function(t,n,o){this.word=t,this.begin=n,this.end=o};t.prototype.getWord=function(){return this.word},t.prototype.getBeginTime=function(){return this.begin},t.prototype.getEndTime=function(){return this.end},m.exports=t},695,[]);
__d(function(g,r,i,a,m,e,d){var t=function(){throw new Error("TranscriptionService is abstract and cannot becreated")};t.prototype.send=function(t,o){var n=this;this.sendRequest(t.blob,function(s){n.verify(s)?t.wordArray=n.formatResponse(s):(console.log('the retrieved response from the server is not valid!'),t.wordArray=[]),o(t)})},t.prototype.sendRequest=function(t,o){throw new Error('TranscriptionService.sendRequest is abstract')},t.prototype.formatResponse=function(t){throw new Error('TranscriptionService.format is abstract')},t.prototype.verify=function(t){throw new Error('TranscriptionService.verify is abstract')},m.exports=t},696,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;var o=n(r(d[1])),s=r(d[2]).getLogger(__filename);function t(n){this.versions={},this.conference=n,this.conference.addCommandListener('versions',this.processVersions.bind(this))}t.prototype.processVersions=function(n,t,c){var f=this;if(this.conference._isFocus(c)){var v=[];n.children.forEach(function(n){var o=n.attributes.name,t=n.value;f.versions[o]!==t&&(f.versions[o]=t,s.info("Got "+o+" version: "+t),v.push({id:'component_version',component:o,version:t}))}),v.length>0&&o.default.sendLog(JSON.stringify(v))}else s.warn("Received versions not from the focus user: "+n,c)},t.prototype.getComponentVersion=function(n){return this.versions[n]}},697,[1,531,432]);
__d(function(g,r,i,a,m,e,d){var s=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[2])),o=t(r(d[3])),S=r(d[4]),h=t(r(d[5])),u=t(r(d[6])),f=s(r(d[7])),E=(0,S.getLogger)(__filename),_=(function(){function s(t){(0,n.default)(this,s),this.chatRoom=t,this.eventEmitter=t.eventEmitter,E.debug('creating VideoSIPGW'),this.sessions={},this.sessionStateChangeListener=this.sessionStateChanged.bind(this),t.addPresenceListener('jibri-sip-call-state',this.handleJibriSIPState.bind(this))}return(0,o.default)(s,[{key:"handleJibriSIPState",value:function(s){var t=s.attributes;if(t){E.debug('Handle video sip gw state : ',t);var n=t.state;if(n!==this.state)switch(n){case f.STATE_ON:case f.STATE_OFF:case f.STATE_PENDING:case f.STATE_RETRYING:case f.STATE_FAILED:var o=t.sipaddress;if(!o)return;var S=this.sessions[o];S?S.setState(n,t.failure_reason):E.warn('Video SIP GW session not found:',o)}}}},{key:"createVideoSIPGWSession",value:function(s,t){if(this.sessions[s])return E.warn('There was already a Video SIP GW session for address',s),new Error(f.ERROR_SESSION_EXISTS);var n=new u.default(s,t,this.chatRoom);return n.addStateListener(this.sessionStateChangeListener),this.sessions[s]=n,n}},{key:"sessionStateChanged",value:function(s){var t=s.address;if(s.newState===f.STATE_OFF||s.newState===f.STATE_FAILED){var n=this.sessions[t];if(!n)return void E.error('Missing Video SIP GW session with address:',t);n.removeStateListener(this.sessionStateChangeListener),delete this.sessions[t]}this.eventEmitter.emit(h.default.VIDEO_SIP_GW_SESSION_STATE_CHANGED,s)}}]),s})();e.default=_},698,[12,1,29,30,432,564,699,700]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(d[2])),o=s(r(d[3])),u=s(r(d[4])),c=s(r(d[5])),f=s(r(d[6])),l=r(d[7]),h=r(d[8]),p=s(r(d[9])),v=t(r(d[10]));function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var y=(0,l.getLogger)(__filename),S=(function(t){(0,u.default)(S,t);var s,l,p=(s=S,l=T(),function(){var t,n=(0,f.default)(s);if(l){var o=(0,f.default)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,c.default)(this,t)});function S(t,s,o){var u;return(0,n.default)(this,S),(u=p.call(this)).sipAddress=t,u.displayName=s,u.chatRoom=o,u.state=void 0,u}return(0,o.default)(S,[{key:"stop",value:function(){this.state!==v.STATE_OFF&&this.state!==v.STATE_FAILED?this._sendJibriIQ('stop'):y.warn('Video SIP GW session already stopped or failed!')}},{key:"start",value:function(){this.state!==v.STATE_ON&&this.state!==v.STATE_OFF&&this.state!==v.STATE_PENDING&&this.state!==v.STATE_RETRYING?this._sendJibriIQ('start'):y.warn('Video SIP GW session already started!')}},{key:"setState",value:function(t,s){if(t!==this.state){var n=this.state;this.state=t,this.eventEmitter.emit("STATE_CHANGED",{address:this.sipAddress,failureReason:s,oldState:n,newState:this.state,displayName:this.displayName})}}},{key:"addStateListener",value:function(t){this.addListener("STATE_CHANGED",t)}},{key:"removeStateListener",value:function(t){this.removeListener("STATE_CHANGED",t)}},{key:"_sendJibriIQ",value:function(t){var s=this,n={xmlns:'http://jitsi.org/protocol/jibri',action:t,sipaddress:this.sipAddress};n.displayname=this.displayName;var o=(0,h.$iq)({to:this.chatRoom.focusMucJid,type:'set'}).c('jibri',n).up();y.debug(t+" video SIP GW session",o.nodeTree),this.chatRoom.connection.sendIQ(o,function(){},function(n){y.error("Failed to "+t+" video SIP GW session, error: ",n),s.setState(v.STATE_FAILED)})}}]),S})(p.default);e.default=S},699,[12,1,29,30,40,42,39,432,529,569,700]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_SESSION_EXISTS=e.ERROR_NO_CONNECTION=e.STATE_FAILED=e.STATE_RETRYING=e.STATE_PENDING=e.STATE_OFF=e.STATE_ON=e.STATUS_BUSY=e.STATUS_UNDEFINED=e.STATUS_AVAILABLE=void 0;e.STATUS_AVAILABLE='available';e.STATUS_UNDEFINED='undefined';e.STATUS_BUSY='busy';e.STATE_ON='on';e.STATE_OFF='off';e.STATE_PENDING='pending';e.STATE_RETRYING='retrying';e.STATE_FAILED='failed';e.ERROR_NO_CONNECTION='error_no_connection';e.ERROR_SESSION_EXISTS='error_session_already_exists'},700,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(r(d[2])),s=n(r(d[3])),o=n(r(d[4])),c=n(r(d[5])),v=t(r(d[6])),l=n(r(d[7])),f=n(r(d[8])),p=n(r(d[9])),y=t(r(d[10])),h=n(r(d[11]));function D(t,n){var u=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),u.push.apply(u,s)}return u}function O(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?D(Object(s),!0).forEach(function(n){(0,u.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var _='camera',A=new((function(){function t(){var n=this;(0,s.default)(this,t),this._eventEmitter=new c.default,this._grantedPermissions={},l.default.addListener(h.default.DEVICE_LIST_CHANGED,function(t){return n._eventEmitter.emit(v.DEVICE_LIST_CHANGED,t)}),l.default.addListener(h.default.DEVICE_LIST_AVAILABLE,function(t){return n._logOutputDevice(n.getAudioOutputDevice(),t)}),l.default.addListener(h.default.GRANTED_PERMISSIONS,function(t){return n._handleGrantedPermissions(t)}),this._permissionsApiSupported=new Promise(function(t){navigator.permissions?navigator.permissions.query({name:_}).then(function(){return t(!0)},function(){return t(!1)}):t(!1)})}return(0,o.default)(t,[{key:"_handleGrantedPermissions",value:function(t){this._grantedPermissions=O(O({},this._grantedPermissions),t)}},{key:"_logOutputDevice",value:function(t,n){var u=n.find(function(n){return'audiooutput'===n.kind&&n.deviceId===t});u&&p.default.sendActiveDeviceListEvent(l.default.getEventDataForActiveDevice(u))}},{key:"enumerateDevices",value:function(t){l.default.enumerateDevices(t)}},{key:"isDeviceListAvailable",value:function(){return l.default.isDeviceListAvailable()}},{key:"isDeviceChangeAvailable",value:function(t){return l.default.isDeviceChangeAvailable(t)}},{key:"isDevicePermissionGranted",value:function(t){var n=this;return new Promise(function(u){t in n._grantedPermissions?u(n._grantedPermissions[t]):n._permissionsApiSupported.then(function(n){if(!n)return f.default.isSafari()?void u(!0):void u(!1);var s=[];switch(t){case y.VIDEO:s.push(navigator.permissions.query({name:_}));break;case y.AUDIO:s.push(navigator.permissions.query({name:"microphone"}));break;default:s.push(navigator.permissions.query({name:_})),s.push(navigator.permissions.query({name:"microphone"}))}Promise.all(s).then(function(t){return u(t.every(function(t){return"granted"===(t.state||t.status)}))},function(){return u(!1)})})})}},{key:"isMultipleAudioInputSupported",value:function(){return!f.default.isFirefox()}},{key:"getAudioOutputDevice",value:function(){return l.default.getAudioOutputDevice()}},{key:"setAudioOutputDevice",value:function(t){return l.default.getCurrentlyAvailableMediaDevices().length>0&&this._logOutputDevice(t,l.default.getCurrentlyAvailableMediaDevices()),l.default.setAudioOutputDevice(t)}},{key:"addEventListener",value:function(t,n){this._eventEmitter.addListener(t,n)}},{key:"removeEventListener",value:function(t,n){this._eventEmitter.removeListener(t,n)}},{key:"emitEvent",value:function(t){for(var n,u=arguments.length,s=new Array(u>1?u-1:0),o=1;o<u;o++)s[o-1]=arguments[o];(n=this._eventEmitter).emit.apply(n,[t].concat(s))}}]),t})());e.default=A},701,[12,1,51,29,30,527,702,627,536,531,557,561]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.PERMISSION_PROMPT_IS_SHOWN=e.DEVICE_LIST_CHANGED=void 0;e.DEVICE_LIST_CHANGED='mediaDevices.devicechange';e.PERMISSION_PROMPT_IS_SHOWN='mediaDevices.permissionPromptIsShown'},702,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(function(t){l.default.enumerateDevices(function(n){for(var o,v=n.filter(function(t){return'audioinput'===t.kind}),s=[],A=f(v);!(o=A()).done;){var S=o.value,h=l.default.obtainAudioAndVideoPermissions({devices:['audio'],micDeviceId:S.deviceId}).then(function(t){var n=t[0],o=n.getOriginalStream();return c.default.startLocalStats(o,n.setAudioLevel.bind(n)),n.addEventListener(u.LOCAL_TRACK_STOPPED,function(){c.default.stopLocalStats(o)}),n});s.push(h)}Promise.allSettled(s).then(function(n){for(var o,l=n.filter(function(t){return'fulfilled'===t.status}),c=n.filter(function(t){return'rejected'===t.status}),v=l.map(function(t){return t.value}),s=c.map(function(t){return t.value}),A=f(s);!(o=A()).done;){var S=o.value;b.error('Failed to acquire audio device with error: ',S)}for(var h,L=function(n){n.on(u.TRACK_AUDIO_LEVEL_CHANGED,function(o){o>.008&&(y(v),t({deviceId:n.deviceId,deviceLabel:n.track.label}))})},_=f(v);!(h=_()).done;){var I=h.value;L(I)}setTimeout(function(){y(v),t({deviceId:'',deviceLabel:''})},p)})})})};var o=r(d[2]),u=n(r(d[3])),l=t(r(d[4])),c=t(r(d[5]));function f(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=v(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var u=0;return function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function v(t,n){if(t){if("string"==typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,n):void 0}}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,u=new Array(n);o<n;o++)u[o]=t[o];return u}var b=(0,o.getLogger)(__filename),p=3e3;function y(t){for(var n,o=f(t);!(n=o()).done;){n.value.stopStream()}}},703,[1,12,432,567,627,531]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[2])),s=n(r(d[3])),c=n(r(d[4])),l=n(r(d[5])),p=r(d[6]),h=r(d[7]),u=t(r(d[8])),_=n(r(d[9])),f=n(r(d[10])),C=n(r(d[11])),v=r(d[12]);function O(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function y(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?O(Object(s),!0).forEach(function(n){(0,o.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var S=(0,p.getLogger)(__filename),T=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,t);var o=n.jitsiConnection,l=(0,s.default)(n,["jitsiConnection"]);this._options=y({iceConfig:o&&o.xmpp.connection.jingle.p2pIceConfig},l),this._peerConnection=null,this._onFatalError=this._onFatalError.bind(this),this._onSendMessage=this._onSendMessage.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this)}return(0,l.default)(t,[{key:"processMessage",value:function(t){var n=t.from;if(n)if(this._peerConnection&&this._peerConnection.getPeerJid()!==n)this._onFatalError(n,v.ACTIONS.CONNECTION_ERROR,'rejected');else{var o=this._convertStringToXML(t.data.iq),s=o&&o.find('jingle'),c=s&&s.attr('action');c===v.ACTIONS.INITIATE&&(this._peerConnection=this._createPeerConnection(n,{isInitiator:!1,receiveVideo:!0})),this._peerConnection&&this._peerConnection.processMessage(s),c!==v.ACTIONS.CONNECTION_ERROR&&c!==v.ACTIONS.UNAVAILABLE&&c!==v.ACTIONS.TERMINATE||this._selfCloseConnection()}}},{key:"start",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._peerConnection=this._createPeerConnection(t,{isInitiator:!0,receiveVideo:!1}),this._peerConnection.start(n)}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.stop(),this._peerConnection=null}},{key:"_convertStringToXML",value:function(t){try{var n=(new DOMParser).parseFromString(t,'text/xml');return $(n)}catch(t){return S.error('Attempted to convert incorrectly formatted xml'),null}}},{key:"_createPeerConnection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error('Cannot create ProxyConnectionPC without a peer.');var o=y({iceConfig:this._options.iceConfig,onError:this._onFatalError,onRemoteStream:this._onRemoteStream,onSendMessage:this._onSendMessage,peerJid:t},n);return new C.default(o)}},{key:"_onFatalError",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'';S.error('Received a proxy connection error',t,n,o);var s=(0,h.$iq)({to:t,type:'set'}).c('jingle',{xmlns:'urn:xmpp:jingle:1',action:n}).c('details').t(o).up();this._onSendMessage(t,s),this._peerConnection&&this._peerConnection.getPeerJid()===t&&this._selfCloseConnection()}},{key:"_onRemoteStream",value:function(t){if(!this._options.onRemoteStream)return S.error('Remote track received without callback.'),void t.dispose();var n,o=t.isVideoTrack();o&&(n=this._options.convertVideoToDesktop?_.default.DESKTOP:_.default.CAMERA);var s=t.getOriginalStream(),c=f.default.newCreateLocalTracks([{deviceId:"proxy:"+this._peerConnection.getPeerJid(),mediaType:o?u.VIDEO:u.AUDIO,sourceType:'proxy',stream:s,track:s.getVideoTracks()[0],videoType:n}]);this._options.onRemoteStream(c[0])}},{key:"_onSendMessage",value:function(t,n){if(this._options.onSendMessage)try{var o=(new XMLSerializer).serializeToString(n.nodeTree||n);this._options.onSendMessage(t,{iq:o})}catch(t){S.error('Attempted to send an incorrectly formatted iq.')}}},{key:"_selfCloseConnection",value:function(){this.stop(),this._options.onConnectionClosed&&this._options.onConnectionClosed()}}]),t})();e.default=T},704,[12,1,51,57,29,30,432,529,557,562,627,705,706]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=r(d[4]),_=t(r(d[5])),h=t(r(d[6])),u=t(r(d[7])),f=t(r(d[8])),p=r(d[9]),v=r(d[10]);function l(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function C(t){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?l(Object(s),!0).forEach(function(o){(0,n.default)(t,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}var O=(0,c.getLogger)(__filename),E=(function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t),this._options=C({iceConfig:{},isInitiator:!1,receiveAudio:!1,receiveVideo:!1},n),this._tracks=[],this._peerConnection=null,this._onError=this._onError.bind(this),this._onRemoteStream=this._onRemoteStream.bind(this),this._onSendMessage=this._onSendMessage.bind(this)}return(0,s.default)(t,[{key:"getPeerJid",value:function(){return this._options.peerJid}},{key:"processMessage",value:function(t){switch(t.attr('action')){case v.ACTIONS.ACCEPT:this._onSessionAccept(t);break;case v.ACTIONS.INITIATE:this._onSessionInitiate(t);break;case v.ACTIONS.TERMINATE:this._onSessionTerminate(t);break;case v.ACTIONS.TRANSPORT_INFO:this._onTransportInfo(t)}}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._peerConnection||(this._tracks=this._tracks.concat(t),this._peerConnection=this._createPeerConnection(),this._peerConnection.invite(t))}},{key:"stop",value:function(){this._peerConnection&&this._peerConnection.terminate(),this._onSessionTerminate()}},{key:"_createPeerConnection",value:function(){var t=this,n={connected:!0,jingle:{terminate:function(){}},sendIQ:this._onSendMessage,addEventListener:function(){return function(){}}},o=C({iceServers:p.DEFAULT_STUN_SERVERS},this._options.iceConfig),s={addPresenceListener:function(){},connectionTimes:[],eventEmitter:{emit:function(n){switch(n){case h.default.CONNECTION_ICE_FAILED:case h.default.CONNECTION_FAILED:t._onError(v.ACTIONS.CONNECTION_ERROR,n)}}},getMediaPresenceInfo:function(){return{}},removePresenceListener:function(){}};this._rtc=new u.default({},{}),this._rtc.addListener(_.default.REMOTE_TRACK_ADDED,this._onRemoteStream);var c=new f.default(void 0,void 0,this._options.peerJid,n,{offerToReceiveAudio:this._options.receiveAudio,offerToReceiveVideo:this._options.receiveVideo},o,!0,this._options.isInitiator);return c.initialize(s,this._rtc,{}),c}},{key:"_onError",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'';this._options.onError(this._options.peerJid,t,n)}},{key:"_onRemoteStream",value:function(t){this._tracks.push(t),this._options.onRemoteStream(t)}},{key:"_onSendMessage",value:function(t){this._options.onSendMessage(this._options.peerJid,t)}},{key:"_onSessionAccept",value:function(t){this._peerConnection?this._peerConnection.setAnswer(t):O.error('Received an answer when no peer connection exists.')}},{key:"_onSessionInitiate",value:function(t){var n=this;this._peerConnection?O.error('Received an offer when an offer was already sent.'):(this._peerConnection=this._createPeerConnection(),this._peerConnection.acceptOffer(t,function(){},function(){return n._onError(n._options.peerJid,v.ACTIONS.CONNECTION_ERROR,'session initiate error')}))}},{key:"_onSessionTerminate",value:function(){this._tracks.forEach(function(t){return t.dispose()}),this._tracks=[],this._peerConnection&&this._peerConnection.onTerminated(),this._rtc&&(this._rtc.removeListener(_.default.REMOTE_TRACK_ADDED,this._onRemoteStream),this._rtc.destroy())}},{key:"_onTransportInfo",value:function(t){this._peerConnection.addIceCandidates(t)}}]),t})();e.default=E},705,[1,51,29,30,432,561,564,627,609,572,706]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ACTIONS=void 0;e.ACTIONS={ACCEPT:'session-accept',CONNECTION_ERROR:'connection-error-encountered',INITIATE:'session-initiate',TERMINATE:'session-terminate',TRANSPORT_INFO:'transport-info',UNAVAILABLE:'unavailable'}},706,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={error:{BUSY:'busy',ERROR:'error',RESOURCE_CONSTRAINT:'resource-constraint',SERVICE_UNAVAILABLE:'service-unavailable'},mode:{FILE:'file',STREAM:'stream'},status:{OFF:'off',ON:'on',PENDING:'pending'}}},707,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.init=y,e.execute=b,e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=t(r(d[3])),c=t(r(d[4])),u=t(r(d[5])),o=r(d[6]),f='preCallTestResults',w=new s.default,p=!1,v=null;function P(){if(!l.default.isReactNative())return new Promise(function(t){u.default.loadScript(o.CALLSTATS_SCRIPT_URL,!0,!0,void 0,t)})}function S(t){return new Promise(function(n,s){var l=t.callStatsID,u=t.callStatsSecret,o=t.statisticsId||t.statisticsDisplayName||c.default.callStatsUserName;v.initialize(l,u,o,function(t,l){'success'===t?(v.on(f,function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];w.emit.apply(w,[f].concat(n))}),p=!0,n()):s({status:t,message:l})},null,{disablePrecalltest:!0})})}function y(t){var s,l,c;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!p){u.next=2;break}throw new Error('Precall Test already initialized');case 2:if(s=t.callStatsID,l=t.callStatsSecret,c=t.disableThirdPartyRequests,s&&l&&!c){u.next=5;break}throw new Error('Callstats is disabled');case 5:return u.next=7,n.default.awrap(P());case 7:return v=new window.callstats,u.abrupt("return",S(t));case 9:case"end":return u.stop()}},null,null,null,Promise)}function b(){return p?new Promise(function(t,n){w.on(f,function(s,l){'success'===s?t(l):n({status:s,payload:l})}),v.makePrecallTest()}):Promise.reject('uninitialized')}var T={init:y,execute:b};e.default=T},708,[1,106,527,536,606,548,558]);
__d(function(g,r,i,a,m,e,d){m.exports={getTokenAuthUrl:function(n,o,t){return'string'!=typeof n?null:n.replace('{room}',o).replace('{roleUpgrade}',!0===t)}}},709,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]),u=r(d[4]);function l(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=h(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function h(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var f=(0,s.getLogger)(__filename),_=(function(){function t(){(0,n.default)(this,t),this._started=!1,this._streamsToMix=[],this._streamMSSArray=[]}return(0,o.default)(t,[{key:"addMediaStream",value:function(t){t.getAudioTracks()||f.warn('Added MediaStream doesn\'t contain audio tracks.'),this._streamsToMix.push(t)}},{key:"start",value:function(){if(this._started)return this._mixedMSD.stream;if(this._audioContext=(0,u.createAudioContext)(),!this._streamsToMix.length)return f.warn('No MediaStream\'s added to AudioMixer, nothing will happen.'),null;this._started=!0,this._mixedMSD=this._audioContext.createMediaStreamDestination();for(var t,n=l(this._streamsToMix);!(t=n()).done;){var o=t.value,s=this._audioContext.createMediaStreamSource(o);s.connect(this._mixedMSD),this._streamMSSArray.push(s)}return this._mixedMSD.stream}},{key:"reset",value:function(){this._started=!1,this._streamsToMix=[];for(var t,n=l(this._streamMSSArray);!(t=n()).done;){t.value.disconnect()}this._streamMSSArray=[],this._audioContext&&(this._audioContext=void 0)}}]),t})();e.default=_},710,[1,29,30,432,677]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.GENERATE_TOKEN_URL=e.conferenceConfig=e.connectionConfig=e.initSDKConfig=void 0;e.initSDKConfig={disableAudioLevels:!0};e.connectionConfig={hosts:{domain:'sariska.io',muc:'muc.sariska.io'},serviceUrl:'wss://api.sariska.io/api/v1/media/websocket',clientNode:'https://www.sariska.io'};e.conferenceConfig={openBridgeChannel:'websocket',e2eping:{pingInterval:-1},p2p:{enabled:!1}};e.GENERATE_TOKEN_URL="https://api.sariska.io/api/v1/misc/generate-token"},711,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getToken=void 0;var n=t(r(d[1])),o=r(d[2]);e.getToken=function(){var t,s,c;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t={method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:"tes6767766701",apiKey:"24fd6f92d6d017492e3e98e334ebafc76dd350bb93a0729d38"})},u.prev=1,u.next=4,n.default.awrap(fetch(o.GENERATE_TOKEN_URL,t));case 4:if(!(s=u.sent).ok){u.next=12;break}return u.next=8,n.default.awrap(s.json());case 8:return c=u.sent,u.abrupt("return",c.token);case 12:console.log(s.status);case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(1),console.log('error',u.t0);case 18:case"end":return u.stop()}},null,null,[[1,15]],Promise)}},712,[1,106,711]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0});var o={configure:!0,fetch:!0,addEventListener:!0,useNetInfo:!0};e.configure=P,e.fetch=h,e.addEventListener=w,e.useNetInfo=E,e.default=void 0;var u=n(r(d[2])),c=n(r(d[3])),f=r(d[4]),l=n(r(d[5])),s=n(r(d[6])),p=t(r(d[7]));function O(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function b(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?O(Object(o),!0).forEach(function(n){(0,c.default)(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))});var y=l.default,v=null,j=function(){return new s.default(y)};function P(t){y=b(b({},l.default),t),v&&(v.tearDown(),v=j())}function h(t){return v||(v=j()),v.latest(t)}function w(t){return v||(v=j()),v.add(t),function(){v&&v.remove(t)}}function E(t){t&&P(t);var n=(0,f.useState)({type:p.NetInfoStateType.unknown,isConnected:!1,isInternetReachable:!1,details:null}),o=(0,u.default)(n,2),c=o[0],l=o[1];return(0,f.useEffect)(function(){return w(l)},[]),c}var _={configure:P,fetch:h,addEventListener:w,useNetInfo:E};e.default=_},713,[12,1,17,51,59,714,715,720]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={reachabilityUrl:'https://clients3.google.com/generate_204',reachabilityTest:function(t){return Promise.resolve(204===t.status)},reachabilityShortTimeout:5e3,reachabilityLongTimeout:6e4,reachabilityRequestTimeout:15e3};e.default=t},714,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),c=n(r(d[3])),u=n(r(d[4])),o=n(r(d[5])),l=n(r(d[6])),h=t(r(d[7]));function f(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,c)}return s}function _(t){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?f(Object(s),!0).forEach(function(n){(0,c.default)(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}e.default=function t(n){var c=this;(0,u.default)(this,t),this._nativeEventSubscription=null,this._subscriptions=new Set,this._latestState=null,this._handleNativeStateUpdate=function(t){c._internetReachability.update(t);var n=c._convertState(t);c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})},this._handleInternetReachabilityUpdate=function(t){if(c._latestState){var n=_(_({},c._latestState),{},{isInternetReachable:t});c._latestState=n,c._subscriptions.forEach(function(t){return t(n)})}},this._fetchCurrentState=function(t){var n,u;return s.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.default.awrap(o.default.getCurrentState(t));case 2:return n=l.sent,c._internetReachability.update(n),u=c._convertState(n),t||(c._latestState=u),l.abrupt("return",u);case 7:case"end":return l.stop()}},null,null,null,Promise)},this._convertState=function(t){return'boolean'==typeof t.isInternetReachable?t:_(_({},t),{},{isInternetReachable:c._internetReachability.currentState()})},this.latest=function(t){return t?c._fetchCurrentState(t):c._latestState?Promise.resolve(c._latestState):c._fetchCurrentState()},this.add=function(t){c._subscriptions.add(t),c._latestState?t(c._latestState):c.latest().then(t)},this.remove=function(t){c._subscriptions.delete(t)},this.tearDown=function(){c._internetReachability&&c._internetReachability.tearDown(),c._nativeEventSubscription&&c._nativeEventSubscription.remove(),c._subscriptions.clear()},this._internetReachability=new l.default(n,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=o.default.eventEmitter.addListener(h.DEVICE_CONNECTIVITY_EVENT,this._handleNativeStateUpdate),this._fetchCurrentState()}},715,[12,1,106,51,29,716,718,719]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=r(d[2]),u=t(r(d[3]));function c(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);n&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function s(t){for(var o=1;o<arguments.length;o++){var u=null!=arguments[o]?arguments[o]:{};o%2?c(Object(u),!0).forEach(function(o){(0,n.default)(t,o,u[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):c(Object(u)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(u,n))})}return t}if(!u.default)throw new Error("@react-native-community/netinfo: NativeModule.RNCNetInfo is null. To fix this issue try these steps:\n\n\u2022 Run `react-native link @react-native-community/netinfo` in the project root.\n\u2022 Rebuild and re-run the app.\n\u2022 If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n\u2022 Check that the library was linked correctly when you used the link command by running through the manual installation instructions in the README.\n* If you are getting this error while unit testing you need to mock the native module. Follow the guide in the README.\n\nIf none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-community/react-native-netinfo");var l=null,h=s(s({},u.default),{},{get eventEmitter(){return l||(l=new o.NativeEventEmitter(u.default)),l}});e.default=h},716,[1,51,5,717]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).NativeModules.RNCNetInfo;e.default=t},717,[5]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));e.default=function t(c,l){var u=this;(0,n.default)(this,t),this._isInternetReachable=void 0,this._currentInternetReachabilityCheckHandler=null,this._currentTimeoutHandle=null,this._setIsInternetReachable=function(t){u._isInternetReachable!==t&&(u._isInternetReachable=t,u._listener(u._isInternetReachable))},this._setExpectsConnection=function(t){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null),t?(u._isInternetReachable||u._setIsInternetReachable(null),u._currentInternetReachabilityCheckHandler=u._checkInternetReachability()):u._setIsInternetReachable(!1)},this._checkInternetReachability=function(){var t,n=fetch(u._configuration.reachabilityUrl,{method:'HEAD',cache:'no-cache'}),c=new Promise(function(n,c){t=setTimeout(function(){return c('timedout')},u._configuration.reachabilityRequestTimeout)}),l=function(){},o=new Promise(function(t,n){l=function(){return n('canceled')}});return{promise:Promise.race([n,c,o]).then(function(t){return u._configuration.reachabilityTest(t)}).then(function(t){u._setIsInternetReachable(t);var n=u._isInternetReachable?u._configuration.reachabilityLongTimeout:u._configuration.reachabilityShortTimeout;u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,n)}).catch(function(t){'canceled'!==t&&(u._setIsInternetReachable(!1),u._currentTimeoutHandle=setTimeout(u._checkInternetReachability,u._configuration.reachabilityShortTimeout))}).then(function(){clearTimeout(t)},function(n){throw clearTimeout(t),n}),cancel:l}},this.update=function(t){'boolean'==typeof t.isInternetReachable?u._setIsInternetReachable(t.isInternetReachable):u._setExpectsConnection(t.isConnected)},this.currentState=function(){return u._isInternetReachable},this.tearDown=function(){null!==u._currentInternetReachabilityCheckHandler&&(u._currentInternetReachabilityCheckHandler.cancel(),u._currentInternetReachabilityCheckHandler=null),null!==u._currentTimeoutHandle&&(clearTimeout(u._currentTimeoutHandle),u._currentTimeoutHandle=null)},this._configuration=c,this._listener=l}},718,[1,29]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DEVICE_CONNECTIVITY_EVENT=void 0;e.DEVICE_CONNECTIVITY_EVENT='netInfo.networkStatusDidChange'},719,[]);
__d(function(g,r,i,a,m,e,d){var n,t;Object.defineProperty(e,"__esModule",{value:!0}),e.NetInfoCellularGeneration=e.NetInfoStateType=void 0,e.NetInfoStateType=n,(function(n){n.unknown="unknown",n.none="none",n.cellular="cellular",n.wifi="wifi",n.bluetooth="bluetooth",n.ethernet="ethernet",n.wimax="wimax",n.vpn="vpn",n.other="other"})(n||(e.NetInfoStateType=n={})),e.NetInfoCellularGeneration=t,(function(n){n["2g"]="2g",n["3g"]="3g",n["4g"]="4g"})(t||(e.NetInfoCellularGeneration=t={}))},720,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=t(r(d[2])),o=t(r(d[3])),u=n(r(d[4])),f=t(r(d[5])),l=r(d[6]),s=t(r(d[7])),v=t(r(d[8])),E=function(n){var t=n.connection,E=(0,u.useState)(null),h=(0,o.default)(E,2),k=h[0],T=h[1],_=(0,u.useState)([]),C=(0,o.default)(_,2),D=C[0],J=C[1],O=(0,u.useState)([]),R=(0,o.default)(O,2),y=R[0],A=R[1];return(0,u.useEffect)(function(){if(k&&D.length)return D.forEach(function(n){return k.addTrack(n).then(function(){return console.log("added")}).catch(function(n){return console.log("track is already added")})});f.default.createLocalTracks({devices:["video"],resolution:"180"}).then(function(n){J(n),null!=k&&k.isJoined()&&n.forEach(function(n){return k.addTrack(n).catch(function(n){return console.log("track is already added")})})}).catch(function(n){return console.log(n,"failed to fetch tracks")})},[k]),(0,u.useEffect)(function(){var t=n.connection;if(t){var o=t.initJitsiConference(l.conferenceConfig);return o.join(),o.on(f.default.events.conference.CONFERENCE_JOINED,function(){T(o)}),o.on(f.default.events.conference.TRACK_ADDED,function(n){n&&!n.isLocal()&&A(function(t){return[].concat((0,c.default)(t),[n])})}),o.on(f.default.events.conference.TRACK_REMOVED,function(n){A(y.filter(function(t){return t.track.id!==n.track.id}))}),function(){var n;console.log("unloading....."),null!=o&&o.isJoined()&&o.leave().then(function(){return t.disconnect(n)})}}},[t]),u.default.createElement(u.default.Fragment,null,u.default.createElement(s.default,{remoteTracks:y}),u.default.createElement(v.default,{localTracks:D}))};e.default=E},721,[12,1,25,17,59,521,711,722,726]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=r(d[2]),c=t(r(d[3])),f=t(r(d[4])),l=function(t){var l=t.remoteTracks,o=function(t){t.index;var u=t.item;return"video"===u.type?n.default.createElement(c.default,{track:u}):n.default.createElement(f.default,{track:u})};return n.default.createElement(u.FlatList,{data:l,renderItem:function(t){return o(t)},keyExtractor:function(t){return t.track.id}})};e.default=l},722,[1,59,5,723,724]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),o=r(d[2]),n=r(d[3]),u=o.StyleSheet.create({video:{flex:1,display:'flex',flexDirection:'row',height:180,width:120,backgroundColor:'red'}}),f=function(t){var o;return l.default.createElement(n.RTCView,{streamURL:null==(o=t.track.stream)?void 0:o.toURL(),style:u.video})};e.default=f},723,[1,59,5,437]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(r(d[2])),u(r(d[3]));var t=function(u){return null};e.default=t},724,[1,12,59,725]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t.NativeModules.RNSound,o=n.IsAndroid,s=n.IsWindows,u=r(d[1]),h=new t.NativeEventEmitter(n),p=0;function l(t,l,y,_){var c=this,f=u(t);f?(this._filename=f.uri,y=l):(this._filename=l?l+'/'+t:t,!o||l||/^(\/|http(s?)|asset)/.test(t)||(this._filename=t.toLowerCase().replace(/\.[^.]+$/,''))),this.registerOnPlay=function(){var t=this;null==this.onPlaySubscription?s||(this.onPlaySubscription=h.addListener('onPlayChange',function(n){var o=n.isPlaying;n.playerKey===t._key&&(t._playing=!!o)})):console.warn('On Play change event listener is already registered')},this._loaded=!1,this._key=p++,this._playing=!1,this._duration=-1,this._numberOfChannels=-1,this._volume=1,this._pan=0,this._numberOfLoops=0,this._speed=1,n.prepare(this._filename,this._key,_||{},function(t,n){n&&('number'==typeof n.duration&&(c._duration=n.duration),'number'==typeof n.numberOfChannels&&(c._numberOfChannels=n.numberOfChannels)),null===t&&(c._loaded=!0,c.registerOnPlay()),y&&y(t,n)})}l.prototype.isLoaded=function(){return this._loaded},l.prototype.play=function(t){return this._loaded?n.play(this._key,function(n){return t&&t(n)}):t&&t(!1),this},l.prototype.pause=function(t){var o=this;return this._loaded&&n.pause(this._key,function(){o._playing=!1,t&&t()}),this},l.prototype.stop=function(t){var o=this;return this._loaded&&n.stop(this._key,function(){o._playing=!1,t&&t()}),this},l.prototype.reset=function(){return this._loaded&&o&&(n.reset(this._key),this._playing=!1),this},l.prototype.release=function(){return this._loaded&&(n.release(this._key),this._loaded=!1,s||null!=this.onPlaySubscription&&(this.onPlaySubscription.remove(),this.onPlaySubscription=null)),this},l.prototype.getDuration=function(){return this._duration},l.prototype.getNumberOfChannels=function(){return this._numberOfChannels},l.prototype.getVolume=function(){return this._volume},l.prototype.setVolume=function(t){return this._volume=t,this._loaded&&(o||s?n.setVolume(this._key,t,t):n.setVolume(this._key,t)),this},l.prototype.getSystemVolume=function(t){return s||n.getSystemVolume(t),this},l.prototype.setSystemVolume=function(t){return o&&n.setSystemVolume(t),this},l.prototype.getPan=function(){return this._pan},l.prototype.setPan=function(t){return this._loaded&&n.setPan(this._key,this._pan=t),this},l.prototype.getNumberOfLoops=function(){return this._numberOfLoops},l.prototype.setNumberOfLoops=function(t){return this._numberOfLoops=t,this._loaded&&(o||s?n.setLooping(this._key,!!t):n.setNumberOfLoops(this._key,t)),this},l.prototype.setSpeed=function(t){return this._speed=t,this._loaded&&(s||n.setSpeed(this._key,t)),this},l.prototype.getCurrentTime=function(t){this._loaded&&n.getCurrentTime(this._key,t)},l.prototype.setCurrentTime=function(t){return this._loaded&&n.setCurrentTime(this._key,t),this},l.prototype.setSpeakerphoneOn=function(t){o&&n.setSpeakerphoneOn(this._key,t)},l.prototype.setCategory=function(t){l.setCategory(t,!1)},l.prototype.isPlaying=function(){return this._playing},l.enable=function(t){n.enable(t)},l.enableInSilenceMode=function(t){o||s||n.enableInSilenceMode(t)},l.setActive=function(t){o||s||n.setActive(t)},l.setCategory=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s||n.setCategory(t,o)},l.setMode=function(t){o||s||n.setMode(t)},l.setSpeakerPhone=function(t){o||s||n.setSpeakerPhone(t)},l.MAIN_BUNDLE=n.MainBundlePath,l.DOCUMENT=n.NSDocumentDirectory,l.LIBRARY=n.NSLibraryDirectory,l.CACHES=n.NSCachesDirectory,m.exports=l},725,[5,187]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=(t(r(d[3])),r(d[4])),c=function(t){var c=t.localTracks,f=function(t){t.index;var l=t.item;return"video"===l.type?n.default.createElement(u.default,{track:l}):null};return n.default.createElement(l.FlatList,{data:c,renderItem:function(t){return f(t)},keyExtractor:function(t){return t.track.id}})};e.default=c},726,[1,59,723,724,5]);
__d(function(a,e,i,t,d,s,c){d.exports={name:"SariskaMediaReactNative",displayName:"SariskaMediaReactNative"}},727,[]);
__r(92);
__r(0);